/*! For license information please see main.js.LICENSE.txt */
var e={3955:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(9704)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},9704:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,s,a=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";a++;const s=t.formatters[i];if("function"==typeof s){const t=e[a];n=s.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(4175),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},7400:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(5286)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},5286:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,s,a=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";a++;const s=t.formatters[i];if("function"==typeof s){const t=e[a];n=s.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(4175),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},4002:(e,t,n)=>{const r=Object.freeze({});function i(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._operations=[],this._written=!1}i.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},i.prototype.put=function(e,t,n){this._checkWritten();const i=this.db._checkKey(e)||this.db._checkValue(t);if(i)throw i;return e=this.db._serializeKey(e),t=this.db._serializeValue(t),this._put(e,t,null!=n?n:r),this},i.prototype._put=function(e,t,n){this._operations.push({...n,type:"put",key:e,value:t})},i.prototype.del=function(e,t){this._checkWritten();const n=this.db._checkKey(e);if(n)throw n;return e=this.db._serializeKey(e),this._del(e,null!=t?t:r),this},i.prototype._del=function(e,t){this._operations.push({...t,type:"del",key:e})},i.prototype.clear=function(){return this._checkWritten(),this._clear(),this},i.prototype._clear=function(){this._operations=[]},i.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");"object"==typeof e&&null!==e||(e={}),this._written=!0,this._write(e,t)},i.prototype._write=function(e,t){this.db._batch(this._operations,e,t)},i.prototype._nextTick=n(7532),e.exports=i},4494:(e,t,n)=>{function r(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){let t=this;if(void 0===e)t=new Promise((function(t,n){e=function(e,r,i){e?n(e):void 0===r&&void 0===i?t():t([r,i])}}));else if("function"!=typeof e)throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(e,new Error("cannot call next() after end()")),t):this._nexting?(this._nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(this._nexting=!0,this._next(((t,...n)=>{this._nexting=!1,e(t,...n)})),t)},r.prototype._next=function(e){this._nextTick(e)},r.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},r.prototype._seek=function(e){},r.prototype.end=function(e){let t;if(void 0===e)t=new Promise((function(t,n){e=function(e){e?n(e):t()}}));else if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(e,new Error("end() already called on iterator")),t):(this._ended=!0,this._end(e),t)},r.prototype._end=function(e){this._nextTick(e)},r.prototype[Symbol.asyncIterator]=async function*(){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this._ended||await this.end()}},r.prototype._nextTick=n(7532),e.exports=r},7134:(e,t,n)=>{const r=n(9827),i=n(1723),s=n(1386),a=n(4494),o=n(4002),l=n(4574).R,c=n(4574).F,d=Object.prototype.hasOwnProperty,u=["lt","lte","gt","gte"];function p(e){this.status="new",this.supports=r(e,{status:!0})}function f(e,t){const n={};for(const r in t){if(!d.call(t,r))continue;if("start"===r||"end"===r)throw new Error('Legacy range options ("start" and "end") have been removed');let i=t[r];y(r)&&(i=e._serializeKey(i)),n[r]=i}return n}function y(e){return-1!==u.indexOf(e)}p.prototype.open=function(e,t){const n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"==typeof e&&null!==e||(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,(e=>{if(e)return this.status=n,t(e);this.status="open",t()}))},p.prototype._open=function(e,t){this._nextTick(t)},p.prototype.close=function(e){const t=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close((n=>{if(n)return this.status=t,e(n);this.status="closed",e()}))},p.prototype._close=function(e){this._nextTick(e)},p.prototype.get=function(e,t,n){if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");const r=this._checkKey(e);if(r)return this._nextTick(n,r);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),t.asBuffer=!1!==t.asBuffer,this._get(e,t,n)},p.prototype._get=function(e,t,n){this._nextTick((function(){n(new Error("NotFound"))}))},p.prototype.getMany=function(e,t,n){if(n=l(t,n),n=s.fromCallback(n),t=c(t),function(e,t){return!e.isOperational()&&(e._nextTick(t,new Error("Database is not open")),!0)}(this,n))return n.promise;if(!Array.isArray(e))return this._nextTick(n,new Error("getMany() requires an array argument")),n.promise;if(0===e.length)return this._nextTick(n,null,[]),n.promise;"boolean"!=typeof t.asBuffer&&(t={...t,asBuffer:!0});const r=new Array(e.length);for(let t=0;t<e.length;t++){const i=e[t],s=this._checkKey(i);if(s)return this._nextTick(n,s),n.promise;r[t]=this._serializeKey(i)}return this._getMany(r,t,n),n.promise},p.prototype._getMany=function(e,t,n){this._nextTick(n,null,new Array(e.length).fill(void 0))},p.prototype.put=function(e,t,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("put() requires a callback argument");const i=this._checkKey(e)||this._checkValue(t);if(i)return this._nextTick(r,i);e=this._serializeKey(e),t=this._serializeValue(t),"object"==typeof n&&null!==n||(n={}),this._put(e,t,n,r)},p.prototype._put=function(e,t,n,r){this._nextTick(r)},p.prototype.del=function(e,t,n){if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");const r=this._checkKey(e);if(r)return this._nextTick(n,r);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),this._del(e,t,n)},p.prototype._del=function(e,t,n){this._nextTick(n)},p.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"==typeof e&&(n=e),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return this._nextTick(n,new Error("batch(array) requires an array argument"));if(0===e.length)return this._nextTick(n);"object"==typeof t&&null!==t||(t={});const r=new Array(e.length);for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this._nextTick(n,new Error("batch(array) element must be an object and not `null`"));const i=Object.assign({},e[t]);if("put"!==i.type&&"del"!==i.type)return this._nextTick(n,new Error("`type` must be 'put' or 'del'"));const s=this._checkKey(i.key);if(s)return this._nextTick(n,s);if(i.key=this._serializeKey(i.key),"put"===i.type){const e=this._checkValue(i.value);if(e)return this._nextTick(n,e);i.value=this._serializeValue(i.value)}r[t]=i}this._batch(r,t,n)},p.prototype._batch=function(e,t,n){this._nextTick(n)},p.prototype.clear=function(e,t){if("function"==typeof e)t=e;else if("function"!=typeof t)throw new Error("clear() requires a callback argument");(e=f(this,e)).reverse=!!e.reverse,e.limit="limit"in e?e.limit:-1,this._clear(e,t)},p.prototype._clear=function(e,t){e.keys=!0,e.values=!1,e.keyAsBuffer=!0,e.valueAsBuffer=!0;const n=this._iterator(e),r={},i=e=>{if(e)return n.end((function(){t(e)}));n.next(((e,s)=>e?i(e):void 0===s?n.end(t):void this._del(s,r,i)))};i()},p.prototype._setupIteratorOptions=function(e){return(e=f(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},p.prototype.iterator=function(e){return"object"==typeof e&&null!==e||(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},p.prototype._iterator=function(e){return new a(this)},p.prototype._chainedBatch=function(){return new o(this)},p.prototype._serializeKey=function(e){return e},p.prototype._serializeValue=function(e){return e},p.prototype._checkKey=function(e){return null==e?new Error("key cannot be `null` or `undefined`"):i(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},p.prototype._checkValue=function(e){if(null==e)return new Error("value cannot be `null` or `undefined`")},p.prototype.isOperational=function(){return"open"===this.status||this._isOperational()},p.prototype._isOperational=function(){return!1},p.prototype._nextTick=n(7532),e.exports=p},6627:(e,t,n)=>{t.AbstractLevelDOWN=n(7134),t.AbstractIterator=n(4494),t.AbstractChainedBatch=n(4002)},4574:(e,t)=>{t.R=function(e,t){return"function"==typeof e?e:t},t.F=function(e){return"object"==typeof e&&null!==e?e:{}}},7532:(e,t,n)=>{const r=n(9431);e.exports=function(e,...t){0===t.length?r(e):r((()=>e(...t)))}},5880:function(e){!function(t){function n(e){return parseInt(e)===e}function r(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!r(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&r(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function a(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}var o,l={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return i(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},c=(o="0123456789abcdef",{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(o[(240&r)>>4]+o[15&r])}return t.join("")}}),d={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],y=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],h=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],b=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],_=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],I=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],v=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],D=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],w=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function E(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var A=function(e){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};A.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),i=this.key.length/4,s=E(this.key);for(t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=s[t],this._Kd[e-n][t%4]=s[t];for(var a,o=0,l=i;l<r;){if(a=s[i-1],s[0]^=p[a>>16&255]<<24^p[a>>8&255]<<16^p[255&a]<<8^p[a>>24&255]^u[o]<<24,o+=1,8!=i)for(t=1;t<i;t++)s[t]^=s[t-1];else{for(t=1;t<i/2;t++)s[t]^=s[t-1];for(a=s[i/2-1],s[i/2]^=p[255&a]^p[a>>8&255]<<8^p[a>>16&255]<<16^p[a>>24&255]<<24,t=i/2+1;t<i;t++)s[t]^=s[t-1]}for(t=0;t<i&&l<r;)c=l>>2,f=l%4,this._Ke[c][f]=s[t],this._Kd[e-c][f]=s[t++],l++}for(var c=1;c<e;c++)for(var f=0;f<4;f++)a=this._Kd[c][f],this._Kd[c][f]=v[a>>24&255]^S[a>>16&255]^D[a>>8&255]^w[255&a]},A.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=E(e),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)n[i]=y[r[i]>>24&255]^m[r[(i+1)%4]>>16&255]^h[r[(i+2)%4]>>8&255]^b[255&r[(i+3)%4]]^this._Ke[a][i];r=n.slice()}var o,l=s(16);for(i=0;i<4;i++)o=this._Ke[t][i],l[4*i]=255&(p[r[i]>>24&255]^o>>24),l[4*i+1]=255&(p[r[(i+1)%4]>>16&255]^o>>16),l[4*i+2]=255&(p[r[(i+2)%4]>>8&255]^o>>8),l[4*i+3]=255&(p[255&r[(i+3)%4]]^o);return l},A.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=E(e),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)n[i]=g[r[i]>>24&255]^_[r[(i+3)%4]>>16&255]^T[r[(i+2)%4]>>8&255]^I[255&r[(i+1)%4]]^this._Kd[a][i];r=n.slice()}var o,l=s(16);for(i=0;i<4;i++)o=this._Kd[t][i],l[4*i]=255&(f[r[i]>>24&255]^o>>24),l[4*i+1]=255&(f[r[(i+3)%4]>>16&255]^o>>16),l[4*i+2]=255&(f[r[(i+2)%4]>>8&255]^o>>8),l[4*i+3]=255&(f[255&r[(i+1)%4]]^o);return l};var P=function(e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new A(e)};P.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),n=s(16),r=0;r<e.length;r+=16)a(e,n,0,r,r+16),a(n=this._aes.encrypt(n),t,r);return t},P.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),n=s(16),r=0;r<e.length;r+=16)a(e,n,0,r,r+16),a(n=this._aes.decrypt(n),t,r);return t};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastCipherblock=i(t,!0),this._aes=new A(e)};C.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),n=s(16),r=0;r<e.length;r+=16){a(e,n,0,r,r+16);for(var o=0;o<16;o++)n[o]^=this._lastCipherblock[o];this._lastCipherblock=this._aes.encrypt(n),a(this._lastCipherblock,t,r)}return t},C.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),n=s(16),r=0;r<e.length;r+=16){a(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var o=0;o<16;o++)t[r+o]=n[o]^this._lastCipherblock[o];a(e,this._lastCipherblock,0,r,r+16)}return t};var x=function(e,t,n){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=s(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(t,!0),this._aes=new A(e)};x.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)n[r+s]^=t[s];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},x.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)n[r+s]^=t[s];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new A(e)};N.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=s(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var L=function(e,t){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new A(e)};L.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},L.prototype.decrypt=L.prototype.encrypt;var V={AES:A,Counter:R,ModeOfOperation:{ecb:P,cbc:C,cfb:x,ofb:N,ctr:L},utils:{hex:c,utf8:l},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,n=s(e.length+t);a(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var o=s(n);return a(e,o,0,0,n),o}}},_arrayTest:{coerceArray:i,createArray:s,copyArray:a}};e.exports=V}()},9170:(e,t)=>{t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=l(e),a=s[0],o=s[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,o)),d=0,u=o>0?a-4:a;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=16383,o=0,l=r-i;o<l;o+=a)s.push(c(e,o,o+a>l?l:o+a));return 1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,s,a=[],o=t;o<r;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5388:e=>{for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={},r=0;r<t.length;r++){var i=t.charAt(r);if(void 0!==n[i])throw new TypeError(i+" is ambiguous");n[i]=r}function s(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function a(e){for(var t=1,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=s(t)^r>>5}for(t=s(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);t=s(t)^31&i}return t}function o(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),i=e.toUpperCase();if(e!==r&&e!==i)return"Mixed-case string "+e;var o=(e=r).lastIndexOf("1");if(-1===o)return"No separator character for "+e;if(0===o)return"Missing prefix for "+e;var l=e.slice(0,o),c=e.slice(o+1);if(c.length<6)return"Data too short";var d=a(l);if("string"==typeof d)return d;for(var u=[],p=0;p<c.length;++p){var f=c.charAt(p),y=n[f];if(void 0===y)return"Unknown character "+f;d=s(d)^y,p+6>=c.length||u.push(y)}return 1!==d?"Invalid checksum for "+e:{prefix:l,words:u}}function l(e,t,n,r){for(var i=0,s=0,a=(1<<n)-1,o=[],l=0;l<e.length;++l)for(i=i<<t|e[l],s+=t;s>=n;)s-=n,o.push(i>>s&a);if(r)s>0&&o.push(i<<n-s&a);else{if(s>=t)return"Excess padding";if(i<<n-s&a)return"Non-zero padding"}return o}e.exports={decodeUnsafe:function(){var e=o.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=o.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,n,r){if(r=r||90,e.length+7+n.length>r)throw new TypeError("Exceeds length limit");var i=a(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var o=e+"1",l=0;l<n.length;++l){var c=n[l];if(c>>5!=0)throw new Error("Non 5-bit word");i=s(i)^c,o+=t.charAt(c)}for(l=0;l<6;++l)i=s(i);for(i^=1,l=0;l<6;++l)o+=t.charAt(i>>5*(5-l)&31);return o},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},9521:function(e,t,n){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(9359).Buffer}catch(e){}function o(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function l(e,t,n){var r=o(e,n);return n-1>=t&&(r|=o(e,n-1)<<4),r}function c(e,t,n,i){for(var s=0,a=0,o=Math.min(e.length,n),l=t;l<o;l++){var c=e.charCodeAt(l)-48;s*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),s+=a}return s}function d(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,a,o=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=l(e,t,r)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=l(e,t,r)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,a=s%r,o=Math.min(s,s-a)+n,l=0,d=n;d<o;d+=r)l=c(e,d,d+r,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var u=1;for(l=c(e,d,e.length,t),d=0;d<a;d++)u*=t;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){d(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(e){s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=67108863&a,l=a/67108864|0;n.words[0]=o;for(var c=1;c<r;c++){for(var d=l>>>26,u=67108863&l,p=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=p;f++){var y=c-f|0;d+=(a=(i=0|e.words[y])*(s=0|t.words[f])+u)/67108864|0,u=67108863&a}n.words[c]=0|u,l=0|d}return 0!==l?n.words[c]=0|l:n.length--,n._strip()}s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],l=(16777215&(o<<i|s)).toString(16);s=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==s||a!==this.length-1?p[6-l.length]+l+n:l+n}for(0!==s&&(n=s.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=f[e],d=y[e];n="";var u=this.clone();for(u.negative=0;!u.isZero();){var m=u.modrn(d).toString(e);n=(u=u.idivn(d)).isZero()?m+n:p[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},s.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===s?(n<e.length&&(e[n++]=a>>24&255),r=0,s=0):(r=a>>>24,s+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===s?(n>=0&&(e[n--]=a>>24&255),r=0,s=0):(r=a>>>24,s+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,a=0;a<r.length;a++)s=(t=(0|n.words[a])-(0|r.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<n.length;a++)s=(t=(0|n.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,s,a=e.words,o=t.words,l=n.words,c=0,d=0|a[0],u=8191&d,p=d>>>13,f=0|a[1],y=8191&f,m=f>>>13,h=0|a[2],b=8191&h,g=h>>>13,_=0|a[3],T=8191&_,I=_>>>13,v=0|a[4],S=8191&v,D=v>>>13,w=0|a[5],E=8191&w,A=w>>>13,P=0|a[6],C=8191&P,x=P>>>13,N=0|a[7],R=8191&N,L=N>>>13,V=0|a[8],k=8191&V,B=V>>>13,O=0|a[9],$=8191&O,F=O>>>13,M=0|o[0],Y=8191&M,z=M>>>13,U=0|o[1],q=8191&U,H=U>>>13,K=0|o[2],G=8191&K,j=K>>>13,W=0|o[3],Z=8191&W,J=W>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,te=0|o[5],ne=8191&te,re=te>>>13,ie=0|o[6],se=8191&ie,ae=ie>>>13,oe=0|o[7],le=8191&oe,ce=oe>>>13,de=0|o[8],ue=8191&de,pe=de>>>13,fe=0|o[9],ye=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var he=(c+(r=Math.imul(u,Y))|0)+((8191&(i=(i=Math.imul(u,z))+Math.imul(p,Y)|0))<<13)|0;c=((s=Math.imul(p,z))+(i>>>13)|0)+(he>>>26)|0,he&=67108863,r=Math.imul(y,Y),i=(i=Math.imul(y,z))+Math.imul(m,Y)|0,s=Math.imul(m,z);var be=(c+(r=r+Math.imul(u,q)|0)|0)+((8191&(i=(i=i+Math.imul(u,H)|0)+Math.imul(p,q)|0))<<13)|0;c=((s=s+Math.imul(p,H)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,Y),i=(i=Math.imul(b,z))+Math.imul(g,Y)|0,s=Math.imul(g,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,H)|0;var ge=(c+(r=r+Math.imul(u,G)|0)|0)+((8191&(i=(i=i+Math.imul(u,j)|0)+Math.imul(p,G)|0))<<13)|0;c=((s=s+Math.imul(p,j)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(T,Y),i=(i=Math.imul(T,z))+Math.imul(I,Y)|0,s=Math.imul(I,z),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,H)|0,r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,j)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,j)|0;var _e=(c+(r=r+Math.imul(u,Z)|0)|0)+((8191&(i=(i=i+Math.imul(u,J)|0)+Math.imul(p,Z)|0))<<13)|0;c=((s=s+Math.imul(p,J)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(S,Y),i=(i=Math.imul(S,z))+Math.imul(D,Y)|0,s=Math.imul(D,z),r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,H)|0,r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,j)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,j)|0,r=r+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,J)|0;var Te=(c+(r=r+Math.imul(u,Q)|0)|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(p,Q)|0))<<13)|0;c=((s=s+Math.imul(p,ee)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(E,Y),i=(i=Math.imul(E,z))+Math.imul(A,Y)|0,s=Math.imul(A,z),r=r+Math.imul(S,q)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(D,q)|0,s=s+Math.imul(D,H)|0,r=r+Math.imul(T,G)|0,i=(i=i+Math.imul(T,j)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,j)|0,r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(g,Z)|0,s=s+Math.imul(g,J)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0;var Ie=(c+(r=r+Math.imul(u,ne)|0)|0)+((8191&(i=(i=i+Math.imul(u,re)|0)+Math.imul(p,ne)|0))<<13)|0;c=((s=s+Math.imul(p,re)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(C,Y),i=(i=Math.imul(C,z))+Math.imul(x,Y)|0,s=Math.imul(x,z),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,H)|0)+Math.imul(A,q)|0,s=s+Math.imul(A,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,j)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,j)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(I,Z)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(m,ne)|0,s=s+Math.imul(m,re)|0;var ve=(c+(r=r+Math.imul(u,se)|0)|0)+((8191&(i=(i=i+Math.imul(u,ae)|0)+Math.imul(p,se)|0))<<13)|0;c=((s=s+Math.imul(p,ae)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(R,Y),i=(i=Math.imul(R,z))+Math.imul(L,Y)|0,s=Math.imul(L,z),r=r+Math.imul(C,q)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,H)|0,r=r+Math.imul(E,G)|0,i=(i=i+Math.imul(E,j)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,j)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(D,Z)|0,s=s+Math.imul(D,J)|0,r=r+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(g,ne)|0,s=s+Math.imul(g,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,ae)|0;var Se=(c+(r=r+Math.imul(u,le)|0)|0)+((8191&(i=(i=i+Math.imul(u,ce)|0)+Math.imul(p,le)|0))<<13)|0;c=((s=s+Math.imul(p,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(k,Y),i=(i=Math.imul(k,z))+Math.imul(B,Y)|0,s=Math.imul(B,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,H)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,j)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,j)|0,r=r+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,J)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(D,Q)|0,s=s+Math.imul(D,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(I,ne)|0,s=s+Math.imul(I,re)|0,r=r+Math.imul(b,se)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,ae)|0,r=r+Math.imul(y,le)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,ce)|0;var De=(c+(r=r+Math.imul(u,ue)|0)|0)+((8191&(i=(i=i+Math.imul(u,pe)|0)+Math.imul(p,ue)|0))<<13)|0;c=((s=s+Math.imul(p,pe)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul($,Y),i=(i=Math.imul($,z))+Math.imul(F,Y)|0,s=Math.imul(F,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,H)|0,r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,j)|0)+Math.imul(L,G)|0,s=s+Math.imul(L,j)|0,r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(D,ne)|0,s=s+Math.imul(D,re)|0,r=r+Math.imul(T,se)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,ae)|0,r=r+Math.imul(b,le)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(g,le)|0,s=s+Math.imul(g,ce)|0,r=r+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,pe)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,pe)|0;var we=(c+(r=r+Math.imul(u,ye)|0)|0)+((8191&(i=(i=i+Math.imul(u,me)|0)+Math.imul(p,ye)|0))<<13)|0;c=((s=s+Math.imul(p,me)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul($,q),i=(i=Math.imul($,H))+Math.imul(F,q)|0,s=Math.imul(F,H),r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,j)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,j)|0,r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(L,Z)|0,s=s+Math.imul(L,J)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,ee)|0,r=r+Math.imul(E,ne)|0,i=(i=i+Math.imul(E,re)|0)+Math.imul(A,ne)|0,s=s+Math.imul(A,re)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(D,se)|0,s=s+Math.imul(D,ae)|0,r=r+Math.imul(T,le)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(I,le)|0,s=s+Math.imul(I,ce)|0,r=r+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,pe)|0)+Math.imul(g,ue)|0,s=s+Math.imul(g,pe)|0;var Ee=(c+(r=r+Math.imul(y,ye)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(m,ye)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul($,G),i=(i=Math.imul($,j))+Math.imul(F,G)|0,s=Math.imul(F,j),r=r+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(x,ne)|0,s=s+Math.imul(x,re)|0,r=r+Math.imul(E,se)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,ae)|0,r=r+Math.imul(S,le)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(D,le)|0,s=s+Math.imul(D,ce)|0,r=r+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,pe)|0)+Math.imul(I,ue)|0,s=s+Math.imul(I,pe)|0;var Ae=(c+(r=r+Math.imul(b,ye)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(g,ye)|0))<<13)|0;c=((s=s+Math.imul(g,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul($,Z),i=(i=Math.imul($,J))+Math.imul(F,Z)|0,s=Math.imul(F,J),r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,s=s+Math.imul(L,re)|0,r=r+Math.imul(C,se)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,ae)|0,r=r+Math.imul(E,le)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,ce)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,pe)|0)+Math.imul(D,ue)|0,s=s+Math.imul(D,pe)|0;var Pe=(c+(r=r+Math.imul(T,ye)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(I,ye)|0))<<13)|0;c=((s=s+Math.imul(I,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul($,Q),i=(i=Math.imul($,ee))+Math.imul(F,Q)|0,s=Math.imul(F,ee),r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(B,ne)|0,s=s+Math.imul(B,re)|0,r=r+Math.imul(R,se)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,se)|0,s=s+Math.imul(L,ae)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(x,le)|0,s=s+Math.imul(x,ce)|0,r=r+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,pe)|0)+Math.imul(A,ue)|0,s=s+Math.imul(A,pe)|0;var Ce=(c+(r=r+Math.imul(S,ye)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(D,ye)|0))<<13)|0;c=((s=s+Math.imul(D,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul($,ne),i=(i=Math.imul($,re))+Math.imul(F,ne)|0,s=Math.imul(F,re),r=r+Math.imul(k,se)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,ae)|0,r=r+Math.imul(R,le)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(L,le)|0,s=s+Math.imul(L,ce)|0,r=r+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,pe)|0)+Math.imul(x,ue)|0,s=s+Math.imul(x,pe)|0;var xe=(c+(r=r+Math.imul(E,ye)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(A,ye)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul($,se),i=(i=Math.imul($,ae))+Math.imul(F,se)|0,s=Math.imul(F,ae),r=r+Math.imul(k,le)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(B,le)|0,s=s+Math.imul(B,ce)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,pe)|0)+Math.imul(L,ue)|0,s=s+Math.imul(L,pe)|0;var Ne=(c+(r=r+Math.imul(C,ye)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(x,ye)|0))<<13)|0;c=((s=s+Math.imul(x,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul($,le),i=(i=Math.imul($,ce))+Math.imul(F,le)|0,s=Math.imul(F,ce),r=r+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,pe)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,pe)|0;var Re=(c+(r=r+Math.imul(R,ye)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(L,ye)|0))<<13)|0;c=((s=s+Math.imul(L,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul($,ue),i=(i=Math.imul($,pe))+Math.imul(F,ue)|0,s=Math.imul(F,pe);var Le=(c+(r=r+Math.imul(k,ye)|0)|0)+((8191&(i=(i=i+Math.imul(k,me)|0)+Math.imul(B,ye)|0))<<13)|0;c=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ve=(c+(r=Math.imul($,ye))|0)+((8191&(i=(i=Math.imul($,me))+Math.imul(F,ye)|0))<<13)|0;return c=((s=Math.imul(F,me))+(i>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,l[0]=he,l[1]=be,l[2]=ge,l[3]=_e,l[4]=Te,l[5]=Ie,l[6]=ve,l[7]=Se,l[8]=De,l[9]=we,l[10]=Ee,l[11]=Ae,l[12]=Pe,l[13]=Ce,l[14]=xe,l[15]=Ne,l[16]=Re,l[17]=Le,l[18]=Ve,0!==c&&(l[19]=c,n.length++),n};function b(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var a=i;i=0;for(var o=67108863&r,l=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=l;c++){var d=s-c,u=(0|e.words[d])*(0|t.words[c]),p=67108863&u;o=67108863&(p=p+o|0),i+=(a=(a=a+(u/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}n.words[s]=o,r=a,a=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function g(e,t,n){return b(e,t,n)}function _(e,t){this.x=e,this.y=t}Math.imul||(h=m),s.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?m(this,e,t):n<1024?b(this,e,t):g(this,e,t)},_.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},_.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},_.prototype.permute=function(e,t,n,r,i,s){for(var a=0;a<s;a++)r[a]=t[e[a]],i[a]=n[e[a]]},_.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var o=a<<1,l=Math.cos(2*Math.PI/o),c=Math.sin(2*Math.PI/o),d=0;d<i;d+=o)for(var u=l,p=c,f=0;f<a;f++){var y=n[d+f],m=r[d+f],h=n[d+f+a],b=r[d+f+a],g=u*h-p*b;b=u*b+p*h,h=g,n[d+f]=y+h,r[d+f]=m+b,n[d+f+a]=y-h,r[d+f+a]=m-b,f!==o&&(g=l*u-c*p,p=l*p+c*u,u=g)}},_.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},_.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},_.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},_.prototype.convert13b=function(e,t,n,i){for(var s=0,a=0;a<t;a++)s+=0|e[a],n[2*a]=8191&s,s>>>=13,n[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===s),r(0==(-8192&s))},_.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},_.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),a=new Array(r),o=new Array(r),l=new Array(r),c=new Array(r),d=new Array(r),u=new Array(r),p=n.words;p.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,s,o,l,r,i),this.transform(c,s,d,u,r,i);for(var f=0;f<r;f++){var y=o[f]*d[f]-l[f]*u[f];l[f]=o[f]*u[f]+l[f]*d[f],o[f]=y}return this.conjugate(o,l,r),this.transform(o,l,p,s,r,i),this.conjugate(p,s,r),this.normalize13b(p,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,l=(0|this.words[t])-o<<n;this.words[t]=l|a,a=o>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,l=n;if(i-=a,i=Math.max(0,i),l){for(var c=0;c<a;c++)l.words[c]=this.words[c];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var d=0;for(c=this.length-1;c>=0&&(0!==d||c>=i);c--){var u=0|this.words[c];this.words[c]=d<<26-s|u>>>s,d=u&o}return l&&0!==d&&(l.words[l.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},s.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,a=e.length+n;this._expand(a);var o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+o;var l=(0|e.words[i])*t;o=((s-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)o=(s=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&s;if(0===o)return this._strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!=(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var o,l=r.length-i.length;if("mod"!==t){(o=new s(null)).length=l+1,o.words=new Array(o.length);for(var c=0;c<o.length;c++)o.words[c]=0}var d=r.clone()._ishlnsubmul(i,1,l);0===d.negative&&(r=d,o&&(o.words[l]=1));for(var u=l-1;u>=0;u--){var p=67108864*(0|r.words[i.length+u])+(0|r.words[i.length+u-1]);for(p=Math.min(p/a|0,67108863),r._ishlnsubmul(i,p,u);0!==r.negative;)p--,r.negative=0,r._ishlnsubmul(i,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=p)}return o&&o._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),a=new s(0),o=new s(0),l=new s(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var d=n.clone(),u=t.clone();!t.isZero();){for(var p=0,f=1;0==(t.words[0]&f)&&p<26;++p,f<<=1);if(p>0)for(t.iushrn(p);p-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(d),a.isub(u)),i.iushrn(1),a.iushrn(1);for(var y=0,m=1;0==(n.words[0]&m)&&y<26;++y,m<<=1);if(y>0)for(n.iushrn(y);y-- >0;)(o.isOdd()||l.isOdd())&&(o.iadd(d),l.isub(u)),o.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(o),a.isub(l)):(n.isub(t),o.isub(i),l.isub(a))}return{a:o,b:l,gcd:n.iushln(c)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new s(1),o=new s(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,d=1;0==(t.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var u=0,p=1;0==(n.words[0]&p)&&u<26;++u,p<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o)):(n.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,a=n;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var T={k256:null,p224:null,p192:null,p25519:null};function I(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},I.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},I.prototype.split=function(e,t){e.iushrn(this.n,0,t)},I.prototype.imulK=function(e){return e.imul(this.k)},i(v,I),v.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|s>>>22,s=a}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,I),i(D,I),i(w,I),w.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(T[e])return T[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new S;else if("p192"===e)t=new D;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return T[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(d(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var o=new s(1).toRed(this),l=o.redNeg(),c=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);0!==this.pow(d,c).cmp(l);)d.redIAdd(l);for(var u=this.pow(d,i),p=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),y=a;0!==f.cmp(o);){for(var m=f,h=0;0!==m.cmp(o);h++)m=m.redSqr();r(h<y);var b=this.pow(u,new s(1).iushln(y-h-1));p=p.redMul(b),u=b.redSqr(),f=f.redMul(u),y=h}return p},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,o=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],d=l-1;d>=0;d--){var u=c>>d&1;i!==n[0]&&(i=this.sqr(i)),0!==u||0!==a?(a<<=1,a|=u,(4==++o||0===r&&0===d)&&(i=this.mul(i,n[a]),o=0,a=0)):o=0}l=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new A(e)},i(A,E),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},6947:(e,t,n)=>{var r=n(4630).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function s(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var s,a,o,l,c=n[0],d=n[1],u=n[2],p=n[3],f=e[0]^t[0],y=e[1]^t[1],m=e[2]^t[2],h=e[3]^t[3],b=4,g=1;g<i;g++)s=c[f>>>24]^d[y>>>16&255]^u[m>>>8&255]^p[255&h]^t[b++],a=c[y>>>24]^d[m>>>16&255]^u[h>>>8&255]^p[255&f]^t[b++],o=c[m>>>24]^d[h>>>16&255]^u[f>>>8&255]^p[255&y]^t[b++],l=c[h>>>24]^d[f>>>16&255]^u[y>>>8&255]^p[255&m]^t[b++],f=s,y=a,m=o,h=l;return s=(r[f>>>24]<<24|r[y>>>16&255]<<16|r[m>>>8&255]<<8|r[255&h])^t[b++],a=(r[y>>>24]<<24|r[m>>>16&255]<<16|r[h>>>8&255]<<8|r[255&f])^t[b++],o=(r[m>>>24]<<24|r[h>>>16&255]<<16|r[f>>>8&255]<<8|r[255&y])^t[b++],l=(r[h>>>24]<<24|r[f>>>16&255]<<16|r[y>>>8&255]<<8|r[255&m])^t[b++],[s>>>=0,a>>>=0,o>>>=0,l>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,o=0,l=0;l<256;++l){var c=o^o<<1^o<<2^o<<3^o<<4;c=c>>>8^255&c^99,n[a]=c,r[c]=a;var d=e[a],u=e[d],p=e[u],f=257*e[c]^16843008*c;i[0][a]=f<<24|f>>>8,i[1][a]=f<<16|f>>>16,i[2][a]=f<<8|f>>>24,i[3][a]=f,f=16843009*p^65537*u^257*d^16843008*a,s[0][c]=f<<24|f>>>8,s[1][c]=f<<16|f>>>16,s[2][c]=f<<8|f>>>24,s[3][c]=f,0===a?a=o=1:(a=d^e[e[e[p^d]]],o^=e[e[o]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:s}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<r;s++){var a=i[s-1];s%t==0?(a=a<<8|a>>>24,a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=o[s/t|0]<<24):t>6&&s%t==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),i[s]=i[s-t]^a}for(var c=[],d=0;d<r;d++){var u=r-d,p=i[u-(d%4?0:4)];c[d]=d<4||u<=4?p:l.INV_SUB_MIX[0][l.SBOX[p>>>24]]^l.INV_SUB_MIX[1][l.SBOX[p>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[p>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&p]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),s=r.allocUnsafe(16);return s.writeUInt32BE(n[0],0),s.writeUInt32BE(n[3],4),s.writeUInt32BE(n[2],8),s.writeUInt32BE(n[1],12),s},c.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},e.exports.AES=c},5994:(e,t,n)=>{var r=n(6947),i=n(4630).Buffer,s=n(5507),a=n(8888),o=n(9348),l=n(5558),c=n(5938);function d(e,t,n,a){s.call(this);var l=i.alloc(4,0);this._cipher=new r.AES(t);var d=this._cipher.encryptBlock(l);this._ghash=new o(d),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new o(n),s=t.length,a=s%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var l=8*s,d=i.alloc(8);d.writeUIntBE(l,0,8),r.update(d),e._finID=r.state;var u=i.from(e._finID);return c(u),u}(this,n,d),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(d,s),d.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},d.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=d},5229:(e,t,n)=>{var r=n(6704),i=n(3940),s=n(1459);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(s)}},3940:(e,t,n)=>{var r=n(5994),i=n(4630).Buffer,s=n(7222),a=n(5553),o=n(5507),l=n(6947),c=n(8178);function d(e,t,n){o.call(this),this._cache=new u,this._last=void 0,this._cipher=new l.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function u(){this.cache=i.allocUnsafe(0)}function p(e,t,n){var o=s[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==o.mode&&n.length!==o.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=i.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new a(o.module,t,n,!0):"auth"===o.type?new r(o.module,t,n,!0):new d(o.module,t,n)}n(8888)(d,o),d.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=i.concat([this.cache,e])},u.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=s[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return p(e,r.key,r.iv)},t.createDecipheriv=p},6704:(e,t,n)=>{var r=n(7222),i=n(5994),s=n(4630).Buffer,a=n(5553),o=n(5507),l=n(6947),c=n(8178);function d(e,t,n){o.call(this),this._cache=new p,this._cipher=new l.AES(t),this._prev=s.from(n),this._mode=e,this._autopadding=!0}n(8888)(d,o),d.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return s.concat(r)};var u=s.alloc(16,16);function p(){this.cache=s.allocUnsafe(0)}function f(e,t,n){var o=r[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=s.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=s.from(n)),"GCM"!==o.mode&&n.length!==o.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===o.type?new a(o.module,t,n):"auth"===o.type?new i(o.module,t,n):new d(o.module,t,n)}d.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},p.prototype.add=function(e){this.cache=s.concat([this.cache,e])},p.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},p.prototype.flush=function(){for(var e=16-this.cache.length,t=s.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return s.concat([this.cache,t])},t.createCipheriv=f,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return f(e,i.key,i.iv)}},9348:(e,t,n)=>{var r=n(4630).Buffer,i=r.alloc(16,0);function s(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=s(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(s([0,e,0,t])),this.state},e.exports=a},5938:e=>{e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},6800:(e,t,n)=>{var r=n(5558);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},5087:(e,t,n)=>{var r=n(4630).Buffer,i=n(5558);function s(e,t,n){var s=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(s),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,s(e,t,n)]);break}i=e._cache.length,a=r.concat([a,s(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},7780:(e,t,n)=>{var r=n(4630).Buffer;function i(e,t,n){for(var r,i,a=-1,o=0;++a<8;)r=t&1<<7-a?128:0,o+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=s(e._prev,n?r:i);return o}function s(e,t){var n=e.length,i=-1,s=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)s[i]=e[i]<<1|e[i+1]>>7;return s}t.encrypt=function(e,t,n){for(var s=t.length,a=r.allocUnsafe(s),o=-1;++o<s;)a[o]=i(e,t[o],n);return a}},2650:(e,t,n)=>{var r=n(4630).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var s=t.length,a=r.allocUnsafe(s),o=-1;++o<s;)a[o]=i(e,t[o],n);return a}},7483:(e,t,n)=>{var r=n(5558),i=n(4630).Buffer,s=n(5938);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),s=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var o=0;o<n;o++){var l=a(e),c=s+16*o;e._cache.writeUInt32BE(l[0],c+0),e._cache.writeUInt32BE(l[1],c+4),e._cache.writeUInt32BE(l[2],c+8),e._cache.writeUInt32BE(l[3],c+12)}var d=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,d)}},1848:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},7222:(e,t,n)=>{var r={ECB:n(1848),CBC:n(6800),CFB:n(5087),CFB8:n(2650),CFB1:n(7780),OFB:n(121),CTR:n(7483),GCM:n(7483)},i=n(1459);for(var s in i)i[s].module=r[i[s].mode];e.exports=i},121:(e,t,n)=>{var r=n(8842).Buffer,i=n(5558);function s(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=r.concat([e._cache,s(e)]);var n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,n)}},5553:(e,t,n)=>{var r=n(6947),i=n(4630).Buffer,s=n(5507);function a(e,t,n,a){s.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(8888)(a,s),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},6322:(e,t,n)=>{var r=n(5780),i=n(5229),s=n(7222),a=n(2195);n(8178);t.CW=function(e,t,n){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}},5780:(e,t,n)=>{var r=n(5507),i=n(252),s=n(8888),a=n(4630).Buffer,o={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function l(e){r.call(this);var t,n=e.mode.toLowerCase(),i=o[n];t=e.decrypt?"decrypt":"encrypt";var s=e.key;a.isBuffer(s)||(s=a.from(s)),"des-ede"!==n&&"des-ede-cbc"!==n||(s=a.concat([s,s.slice(0,8)]));var l=e.iv;a.isBuffer(l)||(l=a.from(l)),this._des=i.create({key:s,iv:l,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=l,s(l,r),l.prototype._update=function(e){return a.from(this._des.update(e))},l.prototype._final=function(){return a.from(this._des.final())}},2195:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},8842:(e,t,n)=>{const r=n(9170),i=n(7261),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function o(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=o(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|y(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?o(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),o(e<0?0:0|y(e))}function p(e){const t=e.length<0?0:0|y(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function y(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){let s,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(s=n;s<o;s++)if(c(e,s)===c(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*a}else-1!==r&&(s-=s-r),r=-1}else for(n+l>o&&(n=o-l),s=n;s>=0;s--){let n=!0;for(let r=0;r<l;r++)if(c(e,s+r)!==c(t,r)){n=!1;break}if(n)return s}return-1}function T(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let a;for(r>s/2&&(r=s/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function I(e,t,n,r){return j(K(t,e.length-n),e,n,r)}function v(e,t,n,r){return j(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return j(G(t),e,n,r)}function D(e,t,n,r){return j(function(e,t){let n,r,i;const s=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,o,l;switch(a){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(s=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:n=e[i+1],r=e[i+2],o=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&o)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},l.allocUnsafe=function(e){return u(e)},l.allocUnsafeSlow=function(e){return u(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(W(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):h.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(W(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const o=Math.min(s,a),c=this.slice(r,i),d=e.slice(t,n);for(let e=0;e<o;++e)if(c[e]!==d[e]){s=c[e],a=d[e];break}return s<a?-1:a<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return I(this,e,t,n);case"ascii":case"latin1":case"binary":return v(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function N(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function V(e,t,n,r,i){z(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function k(e,t,n,r,i){z(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function B(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,s){return t=+t,n>>>=0,s||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function $(e,t,n,r,s){return t=+t,n>>>=0,s||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=X((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X((function(e,t=0){return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X((function(e,t=0){return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return $(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return $(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=l.isBuffer(e)?e:l.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};const F={};function M(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Y(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function z(e,t,n,r,i,s){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){U(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,s)}function U(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw U(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=Y(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=Y(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},5558:(e,t,n)=>{var r=n(8842).Buffer;e.exports=function(e,t){for(var n=Math.min(e.length,t.length),i=new r(n),s=0;s<n;++s)i[s]=e[s]^t[s];return i}},3214:(e,t,n)=>{var r=n(554),i=n(1807),s=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&s(e,".prototype.")>-1?i(n):n}},1807:(e,t,n)=>{var r=n(7339),i=n(554),s=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),o=i("%Reflect.apply%",!0)||r.call(a,s),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),d=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=o(r,a,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(r,s,arguments)};c?c(e.exports,"apply",{value:u}):e.exports.apply=u},1386:(e,t,n)=>{var r=n(7001);t.fromCallback=function(e,t){if(void 0===e){var n=new Promise((function(t,n){e=function(e,r){e?n(e):t(r)}}));e[void 0!==t?t:"promise"]=n}else if("function"!=typeof e)throw new TypeError("Callback must be a function");return e},t.fromPromise=function(e,t){if(void 0===t)return e;e.then((function(e){r((()=>t(null,e)))})).catch((function(e){r((()=>t(e)))}))}},7001:e=>{e.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)},5507:(e,t,n)=>{var r=n(4630).Buffer,i=n(6743).Transform,s=n(8885).s;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(8888)(a,i),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},5236:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=y(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),u(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),u(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n,r,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),g.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function T(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function I(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},I.error=function(){var e=new I(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];I.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new I(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,s){var a=new _(e,n);if(a.signal&&a.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function l(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;r(new I(i,n))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&i&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",l)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=p,e.Request=_,e.Response=I),t.Headers=p,t.Request=_,t.Response=I,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},3426:(e,t,n)=>{const{AbstractChainedBatch:r}=n(6627),i=Symbol("operations");e.exports=class extends r{constructor(e){super(e),this[i]=[]}_put(e,t,n){this[i].push({...n,type:"put",key:e,value:t})}_del(e,t){this[i].push({...t,type:"del",key:e})}_clear(){this[i]=[]}_write(e,t){this.db.batch(this[i],e,t)}}},1398:(e,t,n)=>{const{AbstractIterator:r}=n(6627),i=n(8888),s=n(6886).R,a=Symbol("options"),o=Symbol("iterator"),l=Symbol("operations"),c=Symbol("promise");function d(e,t){r.call(this,e),this[a]=t,this[o]=null,this[l]=[]}i(d,r),d.prototype.setDb=function(e){this[o]=e.iterator(this[a]);for(const e of this[l].splice(0,this[l].length))this[o][e.method](...e.args)},d.prototype.next=function(...e){if("open"===this.db.status)return this[o].next(...e);const t=s(e,c,(function(e,t){return void 0===e&&void 0===t?void 0:[e,t]}));return"opening"===this.db.status?this[l].push({method:"next",args:e}):this._nextTick(t,new Error("Database is not open")),t[c]||this},d.prototype.seek=function(...e){if("open"===this.db.status)this[o].seek(...e);else{if("opening"!==this.db.status)throw new Error("Database is not open");this[l].push({method:"seek",args:e})}},d.prototype.end=function(...e){if("open"===this.db.status)return this[o].end(...e);const t=s(e,c);return"opening"===this.db.status?this[l].push({method:"end",args:e}):this._nextTick(t,new Error("Database is not open")),t[c]||this};for(const e of["next","seek","end"])d.prototype["_"+e]=function(){throw new Error("Did not expect private method to be called: "+e)};e.exports=d},2619:(e,t,n)=>{const{AbstractLevelDOWN:r}=n(6627),i=n(8888),s=n(1398),a=n(3426),o=n(6886).R,l=["put","get","getMany","del","batch","clear"],c=["approximateSize","compactRange"],d=Symbol("innerDb"),u=Symbol("operations"),p=Symbol("promise");function f(e){r.call(this,e.supports||{});for(const t of c)"function"!=typeof e[t]||this.supports.additionalMethods[t]||(this.supports.additionalMethods[t]=!0);this[d]=e,this[u]=[],function(e){const t=Object.keys(e.supports.additionalMethods);for(const n of l.concat(t))e[n]=function(...e){if("batch"===n&&0===e.length)return new a(this);if("open"===this.status)return this[d][n](...e);const t=o(e,p);return"opening"===this.status?this[u].push({method:n,args:e}):this._nextTick(t,new Error("Database is not open")),t[p]};e.iterator=function(e){if("open"===this.status)return this[d].iterator(e);if("opening"===this.status){const t=new s(this,e);return this[u].push({iterator:t}),t}throw new Error("Database is not open")};for(const t of l.concat(["iterator"]))e["_"+t]=function(){throw new Error("Did not expect private method to be called: "+t)}}(this)}i(f,r),f.prototype.type="deferred-leveldown",Object.defineProperty(f.prototype,"_db",{enumerable:!0,get(){return this[d]}}),f.prototype._open=function(e,t){const n=e=>{if(e||"open"!==this[d].status)return t(e||new Error("Database is not open"));const n=this[u];this[u]=[];for(const e of n)e.iterator?e.iterator.setDb(this[d]):this[d][e.method](...e.args);if(this[u].length>0)throw new Error("Did not expect further operations");t()};"new"===this[d].status||"closed"===this[d].status?this[d].open(e,n):this._nextTick(n)},f.prototype._close=function(e){this[d].close(e)},f.prototype._isOperational=function(){return"opening"===this.status},e.exports=f,e.exports.DeferredIterator=s},6886:(e,t)=>{t.R=function(e,t,n){let r=e[e.length-1];if("function"!=typeof r){const i=new Promise(((t,i)=>{e.push(r=function(e,...r){e?i(e):t(n?n(...r):r[0])})}));r[t]=i}return r}},252:(e,t,n)=>{t.utils=n(8481),t.Cipher=n(4227),t.DES=n(8591),t.CBC=n(2558),t.EDE=n(3553)},2558:(e,t,n)=>{var r=n(9414),i=n(8888),s={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(s),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=s[a]}return t.create=function(e){return new t(e)},t},s._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},s._update=function(e,t,n,r){var i=this._cbcState,s=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)a[o]^=e[t+o];for(s._update.call(this,a,0,n,r),o=0;o<this.blockSize;o++)a[o]=n[r+o]}else{for(s._update.call(this,e,t,n,r),o=0;o<this.blockSize;o++)n[r+o]^=a[o];for(o=0;o<this.blockSize;o++)a[o]=e[t+o]}}},4227:(e,t,n)=>{var r=n(9414);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},8591:(e,t,n)=>{var r=n(9414),i=n(8888),s=n(8481),a=n(4227);function o(){this.tmp=new Array(2),this.keys=null}function l(e){a.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}i(l,a),e.exports=l,l.create=function(e){return new l(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=s.readUInt32BE(t,0),i=s.readUInt32BE(t,4);s.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var o=c[a>>>1];n=s.r28shl(n,o),i=s.r28shl(i,o),s.pc2(n,i,e.keys,a)}},l.prototype._update=function(e,t,n,r){var i=this._desState,a=s.readUInt32BE(e,t),o=s.readUInt32BE(e,t+4);s.ip(a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,o,i.tmp,0):this._decrypt(i,a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],s.writeUInt32BE(n,a,r),s.writeUInt32BE(n,o,r+4)},l.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},l.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},l.prototype._encrypt=function(e,t,n,r,i){for(var a=t,o=n,l=0;l<e.keys.length;l+=2){var c=e.keys[l],d=e.keys[l+1];s.expand(o,e.tmp,0),c^=e.tmp[0],d^=e.tmp[1];var u=s.substitute(c,d),p=o;o=(a^s.permute(u))>>>0,a=p}s.rip(o,a,r,i)},l.prototype._decrypt=function(e,t,n,r,i){for(var a=n,o=t,l=e.keys.length-2;l>=0;l-=2){var c=e.keys[l],d=e.keys[l+1];s.expand(a,e.tmp,0),c^=e.tmp[0],d^=e.tmp[1];var u=s.substitute(c,d),p=a;a=(o^s.permute(u))>>>0,o=p}s.rip(a,o,r,i)}},3553:(e,t,n)=>{var r=n(9414),i=n(8888),s=n(4227),a=n(8591);function o(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),s=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:s})]:[a.create({type:"decrypt",key:s}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function l(e){s.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}i(l,s),e.exports=l,l.create=function(e){return new l(e)},l.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},l.prototype._pad=a.prototype._pad,l.prototype._unpad=a.prototype._unpad},8481:(e,t)=>{t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,s=0,a=6;a>=0;a-=2){for(var o=0;o<=24;o+=8)i<<=1,i|=t>>>o+a&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>>o+a&1}for(a=6;a>=0;a-=2){for(o=1;o<=25;o+=8)s<<=1,s|=t>>>o+a&1;for(o=1;o<=25;o+=8)s<<=1,s|=e>>>o+a&1}n[r+0]=i>>>0,n[r+1]=s>>>0},t.rip=function(e,t,n,r){for(var i=0,s=0,a=0;a<4;a++)for(var o=24;o>=0;o-=8)i<<=1,i|=t>>>o+a&1,i<<=1,i|=e>>>o+a&1;for(a=4;a<8;a++)for(o=24;o>=0;o-=8)s<<=1,s|=t>>>o+a&1,s<<=1,s|=e>>>o+a&1;n[r+0]=i>>>0,n[r+1]=s>>>0},t.pc1=function(e,t,n,r){for(var i=0,s=0,a=7;a>=5;a--){for(var o=0;o<=24;o+=8)i<<=1,i|=t>>o+a&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+a&1}for(o=0;o<=24;o+=8)i<<=1,i|=t>>o+a&1;for(a=1;a<=3;a++){for(o=0;o<=24;o+=8)s<<=1,s|=t>>o+a&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+a&1}for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+a&1;n[r+0]=i>>>0,n[r+1]=s>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,i){for(var s=0,a=0,o=n.length>>>1,l=0;l<o;l++)s<<=1,s|=e>>>n[l]&1;for(l=o;l<n.length;l++)a<<=1,a|=t>>>n[l]&1;r[i+0]=s>>>0,r[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var s=23;s>=15;s-=4)r<<=6,r|=e>>>s&63;for(s=11;s>=3;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,i=0;i<4;i++)n<<=4,n|=r[64*i+(e>>>18-6*i&63)];for(i=0;i<4;i++)n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)];return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<i.length;n++)t<<=1,t|=e>>>i[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],s=0;s<t;s+=n)i.push(r.slice(s,s+n));return i.join(" ")}},5488:e=>{e.exports=!1},8638:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,s,a,c;if(o(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"==typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=a.length,c=d,console&&console.warn&&console.warn(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,d=y(l,c);for(n=0;n<c;++n)r(d[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,a;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8178:(e,t,n)=>{var r=n(4630).Buffer,i=n(7878);e.exports=function(e,t,n,s){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,o=r.alloc(a),l=r.alloc(s||0),c=r.alloc(0);a>0||s>0;){var d=new i;d.update(c),d.update(e),t&&d.update(t),c=d.digest();var u=0;if(a>0){var p=o.length-a;u=Math.min(a,c.length),c.copy(o,p,0,u),a-=u}if(u<c.length&&s>0){var f=l.length-s,y=Math.min(s,c.length-u);c.copy(l,f,u,u+y),s-=y}}return c.fill(0),{key:o,iv:l}}},6951:(e,t,n)=>{var r=n(5028),i=Object.prototype.toString,s=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var r=0,i=e.length;r<i;r++)s.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},o=function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},l=function(e,t,n){for(var r in e)s.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))};e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),"[object Array]"===i.call(e)?a(e,t,s):"string"==typeof e?o(e,t,s):l(e,t,s)}},818:e=>{var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var s=this;if("function"!=typeof s||r.call(s)!==i)throw new TypeError(t+s);for(var a,o=n.call(arguments,1),l=function(){if(this instanceof a){var t=s.apply(this,o.concat(n.call(arguments)));return Object(t)===t?t:this}return s.apply(e,o.concat(n.call(arguments)))},c=Math.max(0,s.length-o.length),d=[],u=0;u<c;u++)d.push("$"+u);if(a=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(l),s.prototype){var p=function(){};p.prototype=s.prototype,a.prototype=new p,p.prototype=null}return a}},7339:(e,t,n)=>{var r=n(818);e.exports=Function.prototype.bind||r},4462:e=>{function t(e,t,n,r,i,s){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=s}function n(e){return new t(e._color,e.key,e.value,e.left,e.right,e._count)}function r(e,n){return new t(e,n.key,n.value,n.left,n.right,n._count)}function i(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function s(e,t){this._compare=e,this.root=t}e.exports=function(e){return new s(e||f,null)};var a=s.prototype;function o(e,t){var n;return t.left&&(n=o(e,t.left))?n:(n=e(t.key,t.value))||(t.right?o(e,t.right):void 0)}function l(e,t,n,r){if(t(e,r.key)<=0){var i;if(r.left&&(i=l(e,t,n,r.left)))return i;if(i=n(r.key,r.value))return i}if(r.right)return l(e,t,n,r.right)}function c(e,t,n,r,i){var s,a=n(e,i.key),o=n(t,i.key);if(a<=0){if(i.left&&(s=c(e,t,n,r,i.left)))return s;if(o>0&&(s=r(i.key,i.value)))return s}if(o>0&&i.right)return c(e,t,n,r,i.right)}function d(e,t){this.tree=e,this._stack=t}Object.defineProperty(a,"keys",{get:function(){var e=[];return this.forEach((function(t,n){e.push(t)})),e}}),Object.defineProperty(a,"values",{get:function(){var e=[];return this.forEach((function(t,n){e.push(n)})),e}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(e,n){for(var a=this._compare,o=this.root,l=[],c=[];o;){var d=a(e,o.key);l.push(o),c.push(d),o=d<=0?o.left:o.right}l.push(new t(0,e,n,null,null,1));for(var u=l.length-2;u>=0;--u)o=l[u],c[u]<=0?l[u]=new t(o._color,o.key,o.value,l[u+1],o.right,o._count+1):l[u]=new t(o._color,o.key,o.value,o.left,l[u+1],o._count+1);for(u=l.length-1;u>1;--u){var p=l[u-1];if(o=l[u],1===p._color||1===o._color)break;var f=l[u-2];if(f.left===p)if(p.left===o){if(!(y=f.right)||0!==y._color){f._color=0,f.left=p.right,p._color=1,p.right=f,l[u-2]=p,l[u-1]=o,i(f),i(p),u>=3&&((m=l[u-3]).left===f?m.left=p:m.right=p);break}p._color=1,f.right=r(1,y),f._color=0,u-=1}else{if(!(y=f.right)||0!==y._color){p.right=o.left,f._color=0,f.left=o.right,o._color=1,o.left=p,o.right=f,l[u-2]=o,l[u-1]=p,i(f),i(p),i(o),u>=3&&((m=l[u-3]).left===f?m.left=o:m.right=o);break}p._color=1,f.right=r(1,y),f._color=0,u-=1}else if(p.right===o){if(!(y=f.left)||0!==y._color){f._color=0,f.right=p.left,p._color=1,p.left=f,l[u-2]=p,l[u-1]=o,i(f),i(p),u>=3&&((m=l[u-3]).right===f?m.right=p:m.left=p);break}p._color=1,f.left=r(1,y),f._color=0,u-=1}else{var y;if(!(y=f.left)||0!==y._color){var m;p.left=o.right,f._color=0,f.right=o.left,o._color=1,o.right=p,o.left=f,l[u-2]=o,l[u-1]=p,i(f),i(p),i(o),u>=3&&((m=l[u-3]).right===f?m.right=o:m.left=o);break}p._color=1,f.left=r(1,y),f._color=0,u-=1}}return l[0]._color=1,new s(a,l[0])},a.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return o(e,this.root);case 2:return l(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return c(t,n,this._compare,e,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new d(this,e)}}),Object.defineProperty(a,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new d(this,e)}}),a.at=function(e){if(e<0)return new d(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new d(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new d(this,[])},a.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var s=t(e,n.key);r.push(n),s<=0&&(i=r.length),n=s<=0?n.left:n.right}return r.length=i,new d(this,r)},a.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var s=t(e,n.key);r.push(n),s<0&&(i=r.length),n=s<0?n.left:n.right}return r.length=i,new d(this,r)},a.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var s=t(e,n.key);r.push(n),s>0&&(i=r.length),n=s<=0?n.left:n.right}return r.length=i,new d(this,r)},a.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var s=t(e,n.key);r.push(n),s>=0&&(i=r.length),n=s<0?n.left:n.right}return r.length=i,new d(this,r)},a.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new d(this,r);n=i<=0?n.left:n.right}return new d(this,[])},a.remove=function(e){var t=this.find(e);return t?t.remove():this},a.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var u=d.prototype;function p(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function f(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(u,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(u,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),u.clone=function(){return new d(this.tree,this._stack.slice())},u.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var a=new Array(e.length),o=e[e.length-1];a[a.length-1]=new t(o._color,o.key,o.value,o.left,o.right,o._count);for(var l=e.length-2;l>=0;--l)(o=e[l]).left===e[l+1]?a[l]=new t(o._color,o.key,o.value,a[l+1],o.right,o._count):a[l]=new t(o._color,o.key,o.value,o.left,a[l+1],o._count);if((o=a[a.length-1]).left&&o.right){var c=a.length;for(o=o.left;o.right;)a.push(o),o=o.right;var d=a[c-1];for(a.push(new t(o._color,d.key,d.value,o.left,o.right,o._count)),a[c-1].key=o.key,a[c-1].value=o.value,l=a.length-2;l>=c;--l)o=a[l],a[l]=new t(o._color,o.key,o.value,o.left,a[l+1],o._count);a[c-1].left=a[c]}if(0===(o=a[a.length-1])._color){var u=a[a.length-2];for(u.left===o?u.left=null:u.right===o&&(u.right=null),a.pop(),l=0;l<a.length;++l)a[l]._count--;return new s(this.tree._compare,a[0])}if(o.left||o.right){for(o.left?p(o,o.left):o.right&&p(o,o.right),o._color=1,l=0;l<a.length-1;++l)a[l]._count--;return new s(this.tree._compare,a[0])}if(1===a.length)return new s(this.tree._compare,null);for(l=0;l<a.length;++l)a[l]._count--;var f=a[a.length-2];return function(e){for(var t,s,a,o,l=e.length-1;l>=0;--l){if(t=e[l],0===l)return void(t._color=1);if((s=e[l-1]).left===t){if((a=s.right).right&&0===a.right._color)return o=(a=s.right=n(a)).right=n(a.right),s.right=a.left,a.left=s,a.right=o,a._color=s._color,t._color=1,s._color=1,o._color=1,i(s),i(a),l>1&&((c=e[l-2]).left===s?c.left=a:c.right=a),void(e[l-1]=a);if(a.left&&0===a.left._color)return o=(a=s.right=n(a)).left=n(a.left),s.right=o.left,a.left=o.right,o.left=s,o.right=a,o._color=s._color,s._color=1,a._color=1,t._color=1,i(s),i(a),i(o),l>1&&((c=e[l-2]).left===s?c.left=o:c.right=o),void(e[l-1]=o);if(1===a._color){if(0===s._color)return s._color=1,void(s.right=r(0,a));s.right=r(0,a);continue}a=n(a),s.right=a.left,a.left=s,a._color=s._color,s._color=0,i(s),i(a),l>1&&((c=e[l-2]).left===s?c.left=a:c.right=a),e[l-1]=a,e[l]=s,l+1<e.length?e[l+1]=t:e.push(t),l+=2}else{if((a=s.left).left&&0===a.left._color)return o=(a=s.left=n(a)).left=n(a.left),s.left=a.right,a.right=s,a.left=o,a._color=s._color,t._color=1,s._color=1,o._color=1,i(s),i(a),l>1&&((c=e[l-2]).right===s?c.right=a:c.left=a),void(e[l-1]=a);if(a.right&&0===a.right._color)return o=(a=s.left=n(a)).right=n(a.right),s.left=o.right,a.right=o.left,o.right=s,o.left=a,o._color=s._color,s._color=1,a._color=1,t._color=1,i(s),i(a),i(o),l>1&&((c=e[l-2]).right===s?c.right=o:c.left=o),void(e[l-1]=o);if(1===a._color){if(0===s._color)return s._color=1,void(s.left=r(0,a));s.left=r(0,a);continue}var c;a=n(a),s.left=a.right,a.right=s,a._color=s._color,s._color=0,i(s),i(a),l>1&&((c=e[l-2]).right===s?c.right=a:c.left=a),e[l-1]=a,e[l]=s,l+1<e.length?e[l+1]=t:e.push(t),l+=2}}}(a),f.left===o?f.left=null:f.right=null,new s(this.tree._compare,a[0])},Object.defineProperty(u,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(u,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(u,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),u.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(u,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),u.update=function(e){var n=this._stack;if(0===n.length)throw new Error("Can't update empty node!");var r=new Array(n.length),i=n[n.length-1];r[r.length-1]=new t(i._color,i.key,e,i.left,i.right,i._count);for(var a=n.length-2;a>=0;--a)(i=n[a]).left===n[a+1]?r[a]=new t(i._color,i.key,i.value,r[a+1],i.right,i._count):r[a]=new t(i._color,i.key,i.value,i.left,r[a+1],i._count);return new s(this.tree._compare,r[0])},u.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(u,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},554:(e,t,n)=>{var r,i=SyntaxError,s=Function,a=TypeError,o=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},d=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,u=n(8679)(),p=Object.getPrototypeOf||function(e){return e.__proto__},f={},y="undefined"==typeof Uint8Array?r:p(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":u?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?p(""[Symbol.iterator]()):r,"%Symbol%":u?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":d,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},h=function e(t){var n;if("%AsyncFunction%"===t)n=o("async function () {}");else if("%GeneratorFunction%"===t)n=o("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=o("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=p(i.prototype))}return m[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n(7339),_=n(2503),T=g.call(Function.call,Array.prototype.concat),I=g.call(Function.apply,Array.prototype.splice),v=g.call(Function.call,String.prototype.replace),S=g.call(Function.call,String.prototype.slice),D=g.call(Function.call,RegExp.prototype.exec),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,A=function(e){var t=S(e,0,1),n=S(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return v(e,w,(function(e,t,n,i){r[r.length]=n?v(i,E,"$1"):t||e})),r},P=function(e,t){var n,r=e;if(_(b,r)&&(r="%"+(n=b[r])[0]+"%"),_(m,r)){var s=m[r];if(s===f&&(s=h(r)),void 0===s&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:s}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===D(/^%?[^%]*%?$/g,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A(e),r=n.length>0?n[0]:"",s=P("%"+r+"%",t),o=s.name,c=s.value,d=!1,u=s.alias;u&&(r=u[0],I(n,T([0,1],u)));for(var p=1,f=!0;p<n.length;p+=1){var y=n[p],h=S(y,0,1),b=S(y,-1);if(('"'===h||"'"===h||"`"===h||'"'===b||"'"===b||"`"===b)&&h!==b)throw new i("property names with quotes must have matching quotes");if("constructor"!==y&&f||(d=!0),_(m,o="%"+(r+="."+y)+"%"))c=m[o];else if(null!=c){if(!(y in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=n.length){var g=l(c,y);c=(f=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[y]}else f=_(c,y),c=c[y];f&&!d&&(m[o]=c)}}return c}},2503:(e,t,n)=>{var r=n(7339);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},8679:(e,t,n)=>{var r="undefined"!=typeof Symbol&&Symbol,i=n(5555);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},5555:e=>{e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},5822:(e,t,n)=>{var r=n(5555);e.exports=function(){return r()&&!!Symbol.toStringTag}},9466:(e,t,n)=>{var r=n(4630).Buffer,i=n(1748).Transform;function s(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(8888)(s,i),s.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},s.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)n[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,o=8*e.length;o>0;++a)this._length[a]+=o,(o=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*o);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},4277:(e,t,n)=>{var r=t;r.utils=n(2053),r.common=n(9893),r.sha=n(9772),r.ripemd=n(8831),r.hmac=n(8836),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},9893:(e,t,n)=>{var r=n(2053),i=n(9414);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,s=8;s<this.padLength;s++)r[i++]=0;return r}},8836:(e,t,n)=>{var r=n(2053),i=n(9414);function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},8831:(e,t,n)=>{var r=n(2053),i=n(9893),s=r.rotl32,a=r.sum32,o=r.sum32_3,l=r.sum32_4,c=i.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function p(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(d,c),t.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],d=this.h[4],g=n,_=r,T=i,I=c,v=d,S=0;S<80;S++){var D=a(s(l(n,u(S,r,i,c),e[y[S]+t],p(S)),h[S]),d);n=d,d=c,c=s(i,10),i=r,r=D,D=a(s(l(g,u(79-S,_,T,I),e[m[S]+t],f(S)),b[S]),v),g=v,v=I,I=s(T,10),T=_,_=D}D=o(this.h[1],i,I),this.h[1]=o(this.h[2],c,v),this.h[2]=o(this.h[3],d,g),this.h[3]=o(this.h[4],n,_),this.h[4]=o(this.h[0],r,T),this.h[0]=D},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9772:(e,t,n)=>{t.sha1=n(5604),t.sha224=n(1873),t.sha256=n(6177),t.sha384=n(7321),t.sha512=n(9424)},5604:(e,t,n)=>{var r=n(2053),i=n(9893),s=n(2990),a=r.rotl32,o=r.sum32,l=r.sum32_5,c=s.ft_1,d=i.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(p,d),e.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],s=this.h[1],d=this.h[2],p=this.h[3],f=this.h[4];for(r=0;r<n.length;r++){var y=~~(r/20),m=l(a(i,5),c(y,s,d,p),f,n[r],u[y]);f=p,p=d,d=a(s,30),s=i,i=m}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],d),this.h[3]=o(this.h[3],p),this.h[4]=o(this.h[4],f)},p.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},1873:(e,t,n)=>{var r=n(2053),i=n(6177);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},6177:(e,t,n)=>{var r=n(2053),i=n(9893),s=n(2990),a=n(9414),o=r.sum32,l=r.sum32_4,c=r.sum32_5,d=s.ch32,u=s.maj32,p=s.s0_256,f=s.s1_256,y=s.g0_256,m=s.g1_256,h=i.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}r.inherits(g,h),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=l(m(n[r-2]),n[r-7],y(n[r-15]),n[r-16]);var i=this.h[0],s=this.h[1],h=this.h[2],b=this.h[3],g=this.h[4],_=this.h[5],T=this.h[6],I=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var v=c(I,f(g),d(g,_,T),this.k[r],n[r]),S=o(p(i),u(i,s,h));I=T,T=_,_=g,g=o(b,v),b=h,h=s,s=i,i=o(v,S)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],h),this.h[3]=o(this.h[3],b),this.h[4]=o(this.h[4],g),this.h[5]=o(this.h[5],_),this.h[6]=o(this.h[6],T),this.h[7]=o(this.h[7],I)},g.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},7321:(e,t,n)=>{var r=n(2053),i=n(9424);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},9424:(e,t,n)=>{var r=n(2053),i=n(9893),s=n(9414),a=r.rotr64_hi,o=r.rotr64_lo,l=r.shr64_hi,c=r.shr64_lo,d=r.sum64,u=r.sum64_hi,p=r.sum64_lo,f=r.sum64_4_hi,y=r.sum64_4_lo,m=r.sum64_5_hi,h=r.sum64_5_lo,b=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function T(e,t,n,r,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function I(e,t,n,r,i,s){var a=t&r^~t&s;return a<0&&(a+=4294967296),a}function v(e,t,n,r,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function S(e,t,n,r,i,s){var a=t&r^t&s^r&s;return a<0&&(a+=4294967296),a}function D(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function w(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function E(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,1)^a(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function P(e,t){var n=o(e,t,1)^o(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=o(e,t,19)^o(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(_,b),e.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=(h=n[r-4],b=n[r-3],g=void 0,(g=a(h,b,19)^a(b,h,29)^l(h,b,6))<0&&(g+=4294967296),g),s=C(n[r-4],n[r-3]),o=n[r-14],c=n[r-13],d=A(n[r-30],n[r-29]),u=P(n[r-30],n[r-29]),p=n[r-32],m=n[r-31];n[r]=f(i,s,o,c,d,u,p,m),n[r+1]=y(i,s,o,c,d,u,p,m)}var h,b,g},_.prototype._update=function(e,t){this._prepareBlock(e,t);var n,r,i,o=this.W,l=this.h[0],c=this.h[1],f=this.h[2],y=this.h[3],b=this.h[4],g=this.h[5],_=this.h[6],A=this.h[7],P=this.h[8],C=this.h[9],x=this.h[10],N=this.h[11],R=this.h[12],L=this.h[13],V=this.h[14],k=this.h[15];s(this.k.length===o.length);for(var B=0;B<o.length;B+=2){var O=V,$=k,F=(i=void 0,(i=a(n=P,r=C,14)^a(n,r,18)^a(r,n,9))<0&&(i+=4294967296),i),M=E(P,C),Y=T(P,0,x,0,R),z=I(0,C,0,N,0,L),U=this.k[B],q=this.k[B+1],H=o[B],K=o[B+1],G=m(O,$,F,M,Y,z,U,q,H,K),j=h(O,$,F,M,Y,z,U,q,H,K);O=D(l,c),$=w(l,c),F=v(l,0,f,0,b),M=S(0,c,0,y,0,g);var W=u(O,$,F,M),Z=p(O,$,F,M);V=R,k=L,R=x,L=N,x=P,N=C,P=u(_,A,G,j),C=p(A,A,G,j),_=b,A=g,b=f,g=y,f=l,y=c,l=u(G,j,W,Z),c=p(G,j,W,Z)}d(this.h,0,l,c),d(this.h,2,f,y),d(this.h,4,b,g),d(this.h,6,_,A),d(this.h,8,P,C),d(this.h,10,x,N),d(this.h,12,R,L),d(this.h,14,V,k)},_.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},2990:(e,t,n)=>{var r=n(2053).rotr32;function i(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?s(t,n,r):void 0},t.ch32=i,t.maj32=s,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},2053:(e,t,n)=>{var r=n(9414),i=n(8888);function s(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):s(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=l(i.toString(16))}return n},t.zero2=o,t.zero8=l,t.join32=function(e,t,n,i){var s=n-t;r(s%4==0);for(var a=new Array(s/4),o=0,l=t;o<a.length;o++,l+=4){var c;c="big"===i?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],a[o]=c>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var s=e[r];"big"===t?(n[i]=s>>>24,n[i+1]=s>>>16&255,n[i+2]=s>>>8&255,n[i+3]=255&s):(n[i+3]=s>>>24,n[i+2]=s>>>16&255,n[i+1]=s>>>8&255,n[i]=255&s)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],s=r+e[t+1]>>>0,a=(s<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=s},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,s,a,o){var l=0,c=t;return l+=(c=c+r>>>0)<t?1:0,l+=(c=c+s>>>0)<s?1:0,e+n+i+a+(l+=(c=c+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,s,a,o){return t+r+s+o>>>0},t.sum64_5_hi=function(e,t,n,r,i,s,a,o,l,c){var d=0,u=t;return d+=(u=u+r>>>0)<t?1:0,d+=(u=u+s>>>0)<s?1:0,d+=(u=u+o>>>0)<o?1:0,e+n+i+a+l+(d+=(u=u+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,s,a,o,l,c){return t+r+s+o+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},7261:(e,t)=>{t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,l=(1<<o)-1,c=l>>1,d=-7,u=n?i-1:0,p=n?-1:1,f=e[t+u];for(u+=p,s=f&(1<<-d)-1,f>>=-d,d+=o;d>0;s=256*s+e[t+u],u+=p,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=p,d-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),s-=c}return(f?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,l,c=8*s-i-1,d=(1<<c)-1,u=d>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,y=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+u>=1?p/l:p*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(o=0,a=d):a+u>=1?(o=(t*l-1)*Math.pow(2,i),a+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&o,f+=y,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[n+f]=255&a,f+=y,a/=256,c-=8);e[n+f-y]|=128*m}},8888:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},3177:(e,t,n)=>{var r=n(5822)(),i=n(3214)("Object.prototype.toString"),s=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},o=function(){return s(arguments)}();s.isLegacyArguments=a,e.exports=o?s:a},1723:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},5028:e=>{var t,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,t)}catch(e){e!==n&&(i=null)}else i=null;var s=/^\s*class\b/,a=function(e){try{var t=r.call(e);return s.test(t)}catch(e){return!1}},o=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,c="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=i?function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{i(e,null,t)}catch(e){if(e!==n)return!1}return!a(e)}:function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=o.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},879:(e,t,n)=>{var r,i=Object.prototype.toString,s=Function.prototype.toString,a=/^\s*(?:function)?\*/,o=n(5822)(),l=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(s.call(e)))return!0;if(!o)return"[object GeneratorFunction]"===i.call(e);if(!l)return!1;if(void 0===r){var t=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&l(t)}return l(e)===r}},4948:(e,t,n)=>{var r=n(6951),i=n(1566),s=n(3214),a=s("Object.prototype.toString"),o=n(5822)(),l="undefined"==typeof globalThis?n.g:globalThis,c=i(),d=s("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},u=s("String.prototype.slice"),p={},f=n(6182),y=Object.getPrototypeOf;o&&f&&y&&r(c,(function(e){var t=new l[e];if(Symbol.toStringTag in t){var n=y(t),r=f(n,Symbol.toStringTag);if(!r){var i=y(n);r=f(i,Symbol.toStringTag)}p[e]=r.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!o||!(Symbol.toStringTag in e)){var t=u(a(e),8,-1);return d(c,t)>-1}return!!f&&function(e){var t=!1;return r(p,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}},8886:(e,t,n)=>{var r;!function(){var i="input is invalid type",s="object"==typeof window,a=s?window:{};a.JS_SHA3_NO_WINDOW&&(s=!1);var o=!s&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?a=n.g:o&&(a=self);var l=!a.JS_SHA3_NO_COMMON_JS&&e.exports,c=n.amdO,d=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),p=[4,1024,262144,67108864],f=[0,8,16,24],y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],h=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],g={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!d||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var _=function(e,t,n){return function(r){return new V(e,t,e).update(r)[n]()}},T=function(e,t,n){return function(r,i){return new V(e,t,i).update(r)[n]()}},I=function(e,t,n){return function(t,r,i,s){return E["cshake"+e].update(t,r,i,s)[n]()}},v=function(e,t,n){return function(t,r,i,s){return E["kmac"+e].update(t,r,i,s)[n]()}},S=function(e,t,n,r){for(var i=0;i<b.length;++i){var s=b[i];e[s]=t(n,r,s)}return e},D=function(e,t){var n=_(e,t,"hex");return n.create=function(){return new V(e,t,e)},n.update=function(e){return n.create().update(e)},S(n,_,e,t)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:D},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:D},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var n=T(e,t,"hex");return n.create=function(n){return new V(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},S(n,T,e,t)}},{name:"cshake",padding:p,bits:h,createMethod:function(e,t){var n=g[e],r=I(e,0,"hex");return r.create=function(r,i,s){return i||s?new V(e,t,r).bytepad([i,s],n):E["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},S(r,I,e,t)}},{name:"kmac",padding:p,bits:h,createMethod:function(e,t){var n=g[e],r=v(e,0,"hex");return r.create=function(r,i,s){return new k(e,t,i).bytepad(["KMAC",s],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},S(r,v,e,t)}}],E={},A=[],P=0;P<w.length;++P)for(var C=w[P],x=C.bits,N=0;N<x.length;++N){var R=C.name+"_"+x[N];if(A.push(R),E[R]=C.createMethod(x[N],C.padding),"sha3"!==C.name){var L=C.name+x[N];A.push(L),E[L]=E[R]}}function V(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function k(e,t,n){V.call(this,e,t,n)}V.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(d&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||d&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var r,s,a=this.blocks,o=this.byteCount,l=e.length,c=this.blockCount,u=0,p=this.s;u<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,r=1;r<c+1;++r)a[r]=0;if(t)for(r=this.start;u<l&&r<o;++u)a[r>>2]|=e[u]<<f[3&r++];else for(r=this.start;u<l&&r<o;++u)(s=e.charCodeAt(u))<128?a[r>>2]|=s<<f[3&r++]:s<2048?(a[r>>2]|=(192|s>>6)<<f[3&r++],a[r>>2]|=(128|63&s)<<f[3&r++]):s<55296||s>=57344?(a[r>>2]|=(224|s>>12)<<f[3&r++],a[r>>2]|=(128|s>>6&63)<<f[3&r++],a[r>>2]|=(128|63&s)<<f[3&r++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++u)),a[r>>2]|=(240|s>>18)<<f[3&r++],a[r>>2]|=(128|s>>12&63)<<f[3&r++],a[r>>2]|=(128|s>>6&63)<<f[3&r++],a[r>>2]|=(128|63&s)<<f[3&r++]);if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=a[c],r=0;r<c;++r)p[r]^=a[r];B(p),this.reset=!0}else this.start=r}return this},V.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},V.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(d&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||d&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}var r=0,s=e.length;if(t)r=s;else for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);o<128?r+=1:o<2048?r+=2:o<55296||o>=57344?r+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++a)),r+=4)}return r+=this.encode(8*r),this.update(e),r},V.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,s=[];return s.length=i,this.update(s),this},V.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];B(r)}},V.prototype.toString=V.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,s=0,a=0,o="";a<r;){for(s=0;s<t&&a<r;++s,++a)e=n[s],o+=u[e>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15];a%t==0&&(B(n),s=0)}return i&&(e=n[s],o+=u[e>>4&15]+u[15&e],i>1&&(o+=u[e>>12&15]+u[e>>8&15]),i>2&&(o+=u[e>>20&15]+u[e>>16&15])),o},V.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,s=0,a=0,o=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var l=new Uint32Array(e);a<r;){for(s=0;s<t&&a<r;++s,++a)l[a]=n[s];a%t==0&&B(n)}return i&&(l[s]=n[s],e=e.slice(0,o)),e},V.prototype.buffer=V.prototype.arrayBuffer,V.prototype.digest=V.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,s=this.extraBytes,a=0,o=0,l=[];o<i;){for(a=0;a<n&&o<i;++a,++o)e=o<<2,t=r[a],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;o%n==0&&B(r)}return s&&(e=o<<2,t=r[a],l[e]=255&t,s>1&&(l[e+1]=t>>8&255),s>2&&(l[e+2]=t>>16&255)),l},k.prototype=new V,k.prototype.finalize=function(){return this.encode(this.outputBits,!0),V.prototype.finalize.call(this)};var B=function(e){var t,n,r,i,s,a,o,l,c,d,u,p,f,m,h,b,g,_,T,I,v,S,D,w,E,A,P,C,x,N,R,L,V,k,B,O,$,F,M,Y,z,U,q,H,K,G,j,W,Z,J,X,Q,ee,te,ne,re,ie,se,ae,oe,le,ce,de;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],t=(p=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|o>>>31),n=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|a>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(l<<1|c>>>31),n=s^(c<<1|l>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=a^(d<<1|u>>>31),n=o^(u<<1|d>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=l^(p<<1|f>>>31),n=c^(f<<1|p>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=d^(i<<1|s>>>31),n=u^(s<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],h=e[1],G=e[11]<<4|e[10]>>>28,j=e[10]<<4|e[11]>>>28,C=e[20]<<3|e[21]>>>29,x=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,U=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,k=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,O=e[14]<<6|e[15]>>>26,$=e[15]<<6|e[14]>>>26,_=e[25]<<11|e[24]>>>21,T=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,L=e[45]<<29|e[44]>>>3,V=e[44]<<29|e[45]>>>3,w=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,M=e[27]<<25|e[26]>>>7,I=e[36]<<21|e[37]>>>11,v=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,P=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,Y=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,D=e[49]<<14|e[48]>>>18,e[0]=m^~b&_,e[1]=h^~g&T,e[10]=w^~A&C,e[11]=E^~P&x,e[20]=k^~O&F,e[21]=B^~$&M,e[30]=H^~G&W,e[31]=K^~j&Z,e[40]=te^~re&se,e[41]=ne^~ie&ae,e[2]=b^~_&I,e[3]=g^~T&v,e[12]=A^~C&N,e[13]=P^~x&R,e[22]=O^~F&Y,e[23]=$^~M&z,e[32]=G^~W&J,e[33]=j^~Z&X,e[42]=re^~se&oe,e[43]=ie^~ae&le,e[4]=_^~I&S,e[5]=T^~v&D,e[14]=C^~N&L,e[15]=x^~R&V,e[24]=F^~Y&U,e[25]=M^~z&q,e[34]=W^~J&Q,e[35]=Z^~X&ee,e[44]=se^~oe&ce,e[45]=ae^~le&de,e[6]=I^~S&m,e[7]=v^~D&h,e[16]=N^~L&w,e[17]=R^~V&E,e[26]=Y^~U&k,e[27]=z^~q&B,e[36]=J^~Q&H,e[37]=X^~ee&K,e[46]=oe^~ce&te,e[47]=le^~de&ne,e[8]=S^~m&b,e[9]=D^~h&g,e[18]=L^~w&A,e[19]=V^~E&P,e[28]=U^~k&O,e[29]=q^~B&$,e[38]=Q^~H&G,e[39]=ee^~K&j,e[48]=ce^~te&re,e[49]=de^~ne&ie,e[0]^=y[r],e[1]^=y[r+1]};if(l)e.exports=E;else{for(P=0;P<A.length;++P)a[A[P]]=E[A[P]];c&&(void 0===(r=function(){return E}.call(t,n,t,e))||(e.exports=r))}}()},8701:e=>{function t(e,t){const n=function(t,r){if("object"==typeof t&&null!==t&&(r=r||t,t=t.message||t.name),t=t||"","object"==typeof(r=r||void 0)&&r.type===e&&r.message===t)return r;Object.defineProperty(this,"type",{value:e,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"name",{value:e,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"cause",{value:r,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"message",{value:t,enumerable:!1,writable:!0,configurable:!0}),Error.call(this),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=new t,n}const n=t("LevelUPError",Error);e.exports={LevelUPError:n,InitializationError:t("InitializationError",n),OpenError:t("OpenError",n),ReadError:t("ReadError",n),WriteError:t("WriteError",n),NotFoundError:t("NotFoundError",n),EncodingError:t("EncodingError",n)},e.exports.NotFoundError.prototype.notFound=!0,e.exports.NotFoundError.prototype.status=404},8603:(e,t,n)=>{const r=n(8888),{Readable:i}=n(1748);function s(e,t){if(!(this instanceof s))return new s(e,t);t=t||{},i.call(this,Object.assign({},t,{objectMode:!0})),this._iterator=e,this._options=t,this.on("end",this.destroy.bind(this,null,null))}e.exports=s,r(s,i),s.prototype._read=function(){this.destroyed||this._iterator.next(((e,t,n)=>{if(!this.destroyed)return e?this.destroy(e):void(void 0===t&&void 0===n?this.push(null):!1!==this._options.keys&&!1===this._options.values?this.push(t):!1===this._options.keys&&!1!==this._options.values?this.push(n):this.push({key:t,value:n}))}))},s.prototype._destroy=function(e,t){this._iterator.end((function(n){t(e||n)}))}},7108:(e,t,n)=>{e.exports=f;const r=n(6627).AbstractLevelDOWN,i=n(8888),s=n(8407),a=n(6225),o=n(3747),l=n(2632),c=n(9378),d=n(1730),u=n(3915),p="level-js-";function f(e,t){if(!(this instanceof f))return new f(e,t);if(r.call(this,{bufferKeys:c.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),t=t||{},"string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.prefix=null==t.prefix?p:t.prefix,this.version=parseInt(t.version||1,10)}i(f,r),f.prototype.type="level-js",f.prototype._open=function(e,t){const n=indexedDB.open(this.prefix+this.location,this.version);n.onerror=function(){t(n.error||new Error("unknown error"))},n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this.location)||t.createObjectStore(this.location)}},f.prototype.store=function(e){return this.db.transaction([this.location],e).objectStore(this.location)},f.prototype.await=function(e,t){const n=e.transaction;n.onabort=function(){t(n.error||new Error("aborted by user"))},n.oncomplete=function(){t(null,e.result)}},f.prototype._get=function(e,t,n){const r=this.store("readonly");let i;try{i=r.get(e)}catch(e){return this._nextTick(n,e)}this.await(i,(function(e,r){return e?n(e):void 0===r?n(new Error("NotFound")):void n(null,l(r,t.asBuffer))}))},f.prototype._getMany=function(e,t,n){const r=t.asBuffer,i=this.store("readonly"),a=e.map((e=>t=>{let n;try{n=i.get(e)}catch(e){return t(e)}n.onsuccess=()=>{const e=n.result;t(null,void 0===e?e:l(e,r))},n.onerror=e=>{e.stopPropagation(),t(n.error)}}));s(a,16,n)},f.prototype._del=function(e,t,n){const r=this.store("readwrite");let i;try{i=r.delete(e)}catch(e){return this._nextTick(n,e)}this.await(i,n)},f.prototype._put=function(e,t,n,r){const i=this.store("readwrite");let s;try{s=i.put(t,e)}catch(e){return this._nextTick(r,e)}this.await(s,r)},f.prototype._serializeKey=function(e){return o(e,this.supports.bufferKeys)},f.prototype._serializeValue=function(e){return o(e,!0)},f.prototype._iterator=function(e){return new a(this,this.location,e)},f.prototype._batch=function(e,t,n){if(0===e.length)return this._nextTick(n);const r=this.store("readwrite"),i=r.transaction;let s,a=0;i.onabort=function(){n(s||i.error||new Error("aborted by user"))},i.oncomplete=function(){n()},function t(){const n=e[a++],o=n.key;let l;try{l="del"===n.type?r.delete(o):r.put(n.value,o)}catch(e){return s=e,void i.abort()}a<e.length&&(l.onsuccess=t)}()},f.prototype._clear=function(e,t){let n,r;try{n=u(e)}catch(e){return this._nextTick(t)}if(e.limit>=0)return d(this,this.location,n,e,t);try{const e=this.store("readwrite");r=n?e.delete(n):e.clear()}catch(e){return this._nextTick(t,e)}this.await(r,t)},f.prototype._close=function(e){this.db.close(),this._nextTick(e)},f.prototype.upgrade=function(e){if("open"!==this.status)return this._nextTick(e,new Error("cannot upgrade() before open()"));const t=this.iterator(),n={},r=this;function i(e){if(e)return a(e);t.next(s)}function s(e,t,s){if(e||void 0===t)return a(e);const o=r._serializeKey(l(t,!0)),c=r._serializeValue(l(s,!0));r._batch([{type:"del",key:t},{type:"put",key:o,value:c}],n,i)}function a(n){t.end((function(t){e(n||t)}))}t._deserializeKey=t._deserializeValue=function(e){return e},i()},f.destroy=function(e,t,n){"function"==typeof t&&(n=t,t=p);const r=indexedDB.deleteDatabase(t+e);r.onsuccess=function(){n()},r.onerror=function(e){n(e)}}},6225:(e,t,n)=>{const r=n(8888),i=n(6627).AbstractIterator,s=n(3915),a=n(2632),o=function(){};function l(e,t,n){if(i.call(this,e),this._limit=n.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=n.keys,this._values=n.values,this._keyAsBuffer=n.keyAsBuffer,this._valueAsBuffer=n.valueAsBuffer,0===this._limit)return void(this._completed=!0);let r;try{r=s(n)}catch(e){return void(this._completed=!0)}this.createIterator(t,r,n.reverse)}e.exports=l,r(l,i),l.prototype.createIterator=function(e,t,n){const r=this.db.db.transaction([e],"readonly");r.objectStore(e).openCursor(t,n?"prev":"next").onsuccess=e=>{const t=e.target.result;t&&this.onItem(t)},this._transaction=r,r.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},r.oncomplete=()=>{this.onComplete()}},l.prototype.onItem=function(e){this._cache.push(e.key,e.value),(this._limit<=0||++this._count<this._limit)&&e.continue(),this.maybeNext()},l.prototype.onAbort=function(e){this._aborted=!0,this._error=e,this.maybeNext()},l.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},l.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},l.prototype._next=function(e){if(this._aborted){const t=this._error;this._error=null,this._nextTick(e,t)}else if(this._cache.length>0){let t=this._cache.shift(),n=this._cache.shift();t=this._keys&&void 0!==t?this._deserializeKey(t,this._keyAsBuffer):void 0,n=this._values&&void 0!==n?this._deserializeValue(n,this._valueAsBuffer):void 0,this._nextTick(e,null,t,n)}else this._completed?this._nextTick(e):this._callback=e},l.prototype._deserializeKey=a,l.prototype._deserializeValue=a,l.prototype._end=function(e){if(this._aborted||this._completed)return this._nextTick(e,this._error);this.onItem=o,this.onAbort=e,this.onComplete=e}},1730:e=>{e.exports=function(e,t,n,r,i){if(0===r.limit)return e._nextTick(i);const s=e.db.transaction([t],"readwrite"),a=s.objectStore(t);let o=0;s.oncomplete=function(){i()},s.onabort=function(){i(s.error||new Error("aborted by user"))};const l=a.openKeyCursor?"openKeyCursor":"openCursor",c=r.reverse?"prev":"next";a[l](n,c).onsuccess=function(e){const t=e.target.result;t&&(a.delete(t.key).onsuccess=function(){(r.limit<=0||++o<r.limit)&&t.continue()})}}},2632:(e,t,n)=>{const r=n(8842).Buffer,i=function(){if(n.g.TextDecoder){const e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return a(e).toString()}}(),s=function(){if(n.g.TextDecoder){const e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return r.from(e).toString()}}();function a(e){const t=r.from(e.buffer);return e.byteLength===e.buffer.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.byteLength)}e.exports=function(e,t){return e instanceof Uint8Array?t?a(e):i(e):e instanceof ArrayBuffer?t?r.from(e):s(e):t?r.from(String(e)):String(e)}},3915:(e,t,n)=>{const r=n(7399),i=Symbol("none");e.exports=function(e){const t=r.lowerBound(e,i),n=r.upperBound(e,i),s=r.lowerBoundExclusive(e,i),a=r.upperBoundExclusive(e,i);return t!==i&&n!==i?IDBKeyRange.bound(t,n,s,a):t!==i?IDBKeyRange.lowerBound(t,s):n!==i?IDBKeyRange.upperBound(n,a):null}},3747:(e,t,n)=>{const r=n(8842).Buffer,i=function(){if(n.g.TextEncoder){const e=new TextEncoder("utf-8");return e.encode.bind(e)}return r.from}();e.exports=function(e,t){return t?r.isBuffer(e)?e:i(String(e)):String(e)}},9378:(e,t,n)=>{const r=n(8842).Buffer;t.test=function(e){return function(t){try{return t.cmp(e,0),!0}catch(e){return!1}}},t.bufferKeys=t.test(r.alloc(0))},9827:e=>{function t(e){return!!e&&Object.assign({},e)}e.exports=function(...e){const n=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(n,{bufferKeys:n.bufferKeys||!1,snapshots:n.snapshots||!1,permanence:n.permanence||!1,seek:n.seek||!1,clear:n.clear||!1,getMany:n.getMany||!1,keyIterator:n.keyIterator||!1,valueIterator:n.valueIterator||!1,iteratorNextv:n.iteratorNextv||!1,iteratorAll:n.iteratorAll||!1,status:n.status||!1,idempotentOpen:n.idempotentOpen||!1,passiveOpen:n.passiveOpen||!1,serialize:n.serialize||!1,createIfMissing:n.createIfMissing||!1,errorIfExists:n.errorIfExists||!1,deferredOpen:n.deferredOpen||!1,openCallback:n.openCallback||!1,promises:n.promises||!1,streams:n.streams||!1,encodings:t(n.encodings),events:t(n.events),additionalMethods:Object.assign({},n.additionalMethods)})}},9197:(e,t,n)=>{const r=n(8701).WriteError,i=n(1386),s=n(6656).R,a=n(6656).F;function o(e){this.db=e,this.batch=e.db.batch(),this.ops=[],this.length=0}o.prototype.put=function(e,t,n){try{this.batch.put(e,t,n)}catch(e){throw new r(e)}return this.ops.push({...n,type:"put",key:e,value:t}),this.length++,this},o.prototype.del=function(e,t){try{this.batch.del(e,t)}catch(e){throw new r(e)}return this.ops.push({...t,type:"del",key:e}),this.length++,this},o.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new r(e)}return this.ops=[],this.length=0,this},o.prototype.write=function(e,t){const n=this.db,o=this.ops;t=s(e,t),t=i.fromCallback(t),e=a(e);try{this.batch.write(e,(function(e){if(e)return t(new r(e));n.emit("batch",o),t()}))}catch(e){throw new r(e)}return t.promise},e.exports=o},6656:(e,t)=>{t.R=function(e,t){return"function"==typeof e?e:t},t.F=function(e){return"object"==typeof e&&null!==e?e:{}}},6390:(e,t,n)=>{const r=n(8638).EventEmitter,i=n(4966).inherits,s=n(2619),a=n(8603),o=n(9197),l=n(8701),c=n(9827),d=n(1386),u=n(6656).R,p=n(6656).F,f=n(8723),y=l.WriteError,m=l.ReadError,h=l.NotFoundError,b=l.OpenError,g=l.InitializationError;function _(e,t,n){if(!(this instanceof _))return new _(e,t,n);let i;if(r.call(this),this.setMaxListeners(1/0),"function"==typeof t&&(n=t,t={}),t=t||{},!e||"object"!=typeof e){if(i=new g("First argument must be an abstract-leveldown compliant store"),"function"==typeof n)return f(n,i);throw i}if("string"!=typeof e.status)throw new Error(".status required, old abstract-leveldown");this.options=p(t),this._db=e,this.db=null,this.open(n||(e=>{e&&this.emit("error",e)})),this.supports=c(this.db.supports,{status:!0,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(const e of Object.keys(this.supports.additionalMethods))null==this[e]&&(this[e]=function(...t){return this.db[e](...t)})}function T(e,t){return!e.isOperational()&&(f(t,new m("Database is not open")),!0)}_.prototype.emit=r.prototype.emit,_.prototype.once=r.prototype.once,i(_,r),Object.defineProperty(_.prototype,"status",{enumerable:!0,get(){return this.db.status}}),_.prototype.isOperational=function(){return"open"===this.db.status||"opening"===this.db.status},_.prototype.open=function(e,t){return"function"==typeof e&&(t=e,e=null),t=d.fromCallback(t),e||(e=this.options),this.db&&this.isOpen()?(f(t,null,this),t.promise):this.db&&this._isOpening()?(this.once("open",(()=>{t(null,this)})),t.promise):(this.db=new s(this._db),this.emit("opening"),this.db.open(e,(e=>{if(e)return t(new b(e));this.db=this._db,t(null,this),this.emit("open"),this.emit("ready")})),t.promise)},_.prototype.close=function(e){return e=d.fromCallback(e),this.isOpen()?(this.db.close(((t,...n)=>{this.emit("closed"),e(t,...n)})),this.emit("closing")):this.isClosed()?f(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",(()=>{this.close(e)})),e.promise},_.prototype.isOpen=function(){return"open"===this.db.status},_.prototype._isOpening=function(){return"opening"===this.db.status},_.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},_.prototype.get=function(e,t,n){return n=u(t,n),T(this,n=d.fromCallback(n))||(t=p(t),this.db.get(e,t,(function(t,r){if(t)return t=/notfound/i.test(t)||t.notFound?new h("Key not found in database ["+e+"]",t):new m(t),n(t);n(null,r)}))),n.promise},_.prototype.getMany=function(e,t,n){return this.db.getMany(e,t,n)},_.prototype.put=function(e,t,n,r){return r=u(n,r),T(this,r=d.fromCallback(r))||(n=p(n),this.db.put(e,t,n,(n=>{if(n)return r(new y(n));this.emit("put",e,t),r()}))),r.promise},_.prototype.del=function(e,t,n){return n=u(t,n),T(this,n=d.fromCallback(n))||(t=p(t),this.db.del(e,t,(t=>{if(t)return n(new y(t));this.emit("del",e),n()}))),n.promise},_.prototype.batch=function(e,t,n){return arguments.length?(n="function"==typeof e?e:u(t,n),T(this,n=d.fromCallback(n))||(t=p(t),this.db.batch(e,t,(t=>{if(t)return n(new y(t));this.emit("batch",e),n()}))),n.promise):new o(this)},_.prototype.iterator=function(e){return this.db.iterator(e)},_.prototype.clear=function(e,t){return t=u(e,t),e=p(e),T(this,t=d.fromCallback(t))||this.db.clear(e,(n=>{if(n)return t(new y(n));this.emit("clear",e),t()})),t.promise},_.prototype.readStream=_.prototype.createReadStream=function(e){return"number"!=typeof(e=Object.assign({keys:!0,values:!0},e)).limit&&(e.limit=-1),new a(this.db.iterator(e),e)},_.prototype.keyStream=_.prototype.createKeyStream=function(e){return this.createReadStream(Object.assign({},e,{keys:!0,values:!1}))},_.prototype.valueStream=_.prototype.createValueStream=function(e){return this.createReadStream(Object.assign({},e,{keys:!1,values:!0}))},_.prototype.toString=function(){return"LevelUP"},_.prototype.type="levelup",_.prototype._nextTick=f,_.errors=l,e.exports=_},8723:(e,t,n)=>{const r=n(9431);e.exports=function(e,...t){0===t.length?r(e):r((()=>e(...t)))}},7399:(e,t,n)=>{var r=n(8842).Buffer;function i(e){return void 0!==e&&""!==e}function s(e,t){return Object.hasOwnProperty.call(e,t)}function a(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(e,t){if(r.isBuffer(e)){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var s=e[i]-t[i];if(s)return s}return e.length-t.length}return e<t?-1:e>t?1:0};var o=t.lowerBoundKey=function(e){return a(e,"gt")||a(e,"gte")||a(e,"min")||(e.reverse?a(e,"end"):a(e,"start"))||void 0},l=t.lowerBound=function(e,t){var n=o(e);return n?e[n]:t},c=t.lowerBoundInclusive=function(e){return!s(e,"gt")},d=t.upperBoundInclusive=function(e){return!s(e,"lt")},u=t.lowerBoundExclusive=function(e){return!c(e)},p=t.upperBoundExclusive=function(e){return!d(e)},f=t.upperBoundKey=function(e){return a(e,"lt")||a(e,"lte")||a(e,"max")||(e.reverse?a(e,"start"):a(e,"end"))||void 0},y=t.upperBound=function(e,t){var n=f(e);return n?e[n]:t};function m(e){return e}t.start=function(e,t){return e.reverse?y(e,t):l(e,t)},t.end=function(e,t){return e.reverse?l(e,t):y(e,t)},t.startInclusive=function(e){return e.reverse?d(e):c(e)},t.endInclusive=function(e){return e.reverse?c(e):d(e)},t.toLtgt=function(e,n,r,i,a){n=n||{},r=r||m;var o=arguments.length>3,l=t.lowerBoundKey(e),c=t.upperBoundKey(e);return l?"gt"===l?n.gt=r(e.gt,!1):n.gte=r(e[l],!1):o&&(n.gte=r(i,!1)),c?"lt"===c?n.lt=r(e.lt,!0):n.lte=r(e[c],!0):o&&(n.lte=r(a,!0)),null!=e.reverse&&(n.reverse=!!e.reverse),s(n,"max")&&delete n.max,s(n,"min")&&delete n.min,s(n,"start")&&delete n.start,s(n,"end")&&delete n.end,n},t.contains=function(e,n,r){r=r||t.compare;var s=l(e);if(i(s)&&((a=r(n,s))<0||0===a&&u(e)))return!1;var a,o=y(e);return!i(o)||!((a=r(n,o))>0||0===a&&p(e))},t.filter=function(e,n){return function(r){return t.contains(e,r,n)}}},7878:(e,t,n)=>{var r=n(8888),i=n(9466),s=n(4630).Buffer,a=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,s,a){return l(e+(t&n|~t&r)+i+s|0,a)+t|0}function d(e,t,n,r,i,s,a){return l(e+(t&r|n&~r)+i+s|0,a)+t|0}function u(e,t,n,r,i,s,a){return l(e+(t^n^r)+i+s|0,a)+t|0}function p(e,t,n,r,i,s,a){return l(e+(n^(t|~r))+i+s|0,a)+t|0}r(o,i),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,s=this._d;n=c(n,r,i,s,e[0],3614090360,7),s=c(s,n,r,i,e[1],3905402710,12),i=c(i,s,n,r,e[2],606105819,17),r=c(r,i,s,n,e[3],3250441966,22),n=c(n,r,i,s,e[4],4118548399,7),s=c(s,n,r,i,e[5],1200080426,12),i=c(i,s,n,r,e[6],2821735955,17),r=c(r,i,s,n,e[7],4249261313,22),n=c(n,r,i,s,e[8],1770035416,7),s=c(s,n,r,i,e[9],2336552879,12),i=c(i,s,n,r,e[10],4294925233,17),r=c(r,i,s,n,e[11],2304563134,22),n=c(n,r,i,s,e[12],1804603682,7),s=c(s,n,r,i,e[13],4254626195,12),i=c(i,s,n,r,e[14],2792965006,17),n=d(n,r=c(r,i,s,n,e[15],1236535329,22),i,s,e[1],4129170786,5),s=d(s,n,r,i,e[6],3225465664,9),i=d(i,s,n,r,e[11],643717713,14),r=d(r,i,s,n,e[0],3921069994,20),n=d(n,r,i,s,e[5],3593408605,5),s=d(s,n,r,i,e[10],38016083,9),i=d(i,s,n,r,e[15],3634488961,14),r=d(r,i,s,n,e[4],3889429448,20),n=d(n,r,i,s,e[9],568446438,5),s=d(s,n,r,i,e[14],3275163606,9),i=d(i,s,n,r,e[3],4107603335,14),r=d(r,i,s,n,e[8],1163531501,20),n=d(n,r,i,s,e[13],2850285829,5),s=d(s,n,r,i,e[2],4243563512,9),i=d(i,s,n,r,e[7],1735328473,14),n=u(n,r=d(r,i,s,n,e[12],2368359562,20),i,s,e[5],4294588738,4),s=u(s,n,r,i,e[8],2272392833,11),i=u(i,s,n,r,e[11],1839030562,16),r=u(r,i,s,n,e[14],4259657740,23),n=u(n,r,i,s,e[1],2763975236,4),s=u(s,n,r,i,e[4],1272893353,11),i=u(i,s,n,r,e[7],4139469664,16),r=u(r,i,s,n,e[10],3200236656,23),n=u(n,r,i,s,e[13],681279174,4),s=u(s,n,r,i,e[0],3936430074,11),i=u(i,s,n,r,e[3],3572445317,16),r=u(r,i,s,n,e[6],76029189,23),n=u(n,r,i,s,e[9],3654602809,4),s=u(s,n,r,i,e[12],3873151461,11),i=u(i,s,n,r,e[15],530742520,16),n=p(n,r=u(r,i,s,n,e[2],3299628645,23),i,s,e[0],4096336452,6),s=p(s,n,r,i,e[7],1126891415,10),i=p(i,s,n,r,e[14],2878612391,15),r=p(r,i,s,n,e[5],4237533241,21),n=p(n,r,i,s,e[12],1700485571,6),s=p(s,n,r,i,e[3],2399980690,10),i=p(i,s,n,r,e[10],4293915773,15),r=p(r,i,s,n,e[1],2240044497,21),n=p(n,r,i,s,e[8],1873313359,6),s=p(s,n,r,i,e[15],4264355552,10),i=p(i,s,n,r,e[6],2734768916,15),r=p(r,i,s,n,e[13],1309151649,21),n=p(n,r,i,s,e[4],4149444226,6),s=p(s,n,r,i,e[11],3174756917,10),i=p(i,s,n,r,e[2],718787259,15),r=p(r,i,s,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+s|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},7456:(e,t,n)=>{const r=n(8888),{AbstractLevelDOWN:i,AbstractIterator:s}=n(6627),a=n(7399),o=n(4462),{Buffer:l}=n(8842),c=["gt","gte","lt","lte"],d=Symbol("none"),u=Symbol("keys"),p=Symbol("values"),f=Symbol("increment");function y(e){return a.compare(e,this._upperBound)>0}function m(e){return a.compare(e,this._upperBound)>=0}function h(e){return a.compare(e,this._upperBound)<0}function b(e){return a.compare(e,this._upperBound)<=0}function g(e,t){s.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);const n=e._store;this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this[u]=t.keys,this[p]=t.values,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._lowerBound=a.upperBound(t,d),this._upperBound=a.lowerBound(t,d),this._lowerBound===d?this._tree=n.end:a.upperBoundInclusive(t)?this._tree=n.le(this._lowerBound):this._tree=n.lt(this._lowerBound),this._upperBound!==d&&(a.lowerBoundInclusive(t)?this._test=m:this._test=y)):(this._incr="next",this._lowerBound=a.lowerBound(t,d),this._upperBound=a.upperBound(t,d),this._lowerBound===d?this._tree=n.begin:a.lowerBoundInclusive(t)?this._tree=n.ge(this._lowerBound):this._tree=n.gt(this._lowerBound),this._upperBound!==d&&(a.upperBoundInclusive(t)?this._test=b:this._test=h))}function _(){if(!(this instanceof _))return new _;i.call(this,{bufferKeys:!0,snapshots:!0,permanence:!1,seek:!0,clear:!0,getMany:!0}),this._store=o(a.compare)}if(r(g,s),g.prototype._next=function(e){if(!this[f]())return this._nextTick(e);if(!this._tree.valid)return this._nextTick(e);let t=this._tree.key,n=this._tree.value;if(!this._test(t))return this._nextTick(e);t=this[u]?this.keyAsBuffer?t:t.toString():void 0,n=this[p]?this.valueAsBuffer?n:n.toString():void 0,this._tree[this._incr](),this._nextTick(e,null,t,n)},g.prototype[f]=function(){return this._done++<this._limit},g.prototype._test=function(){return!0},g.prototype._outOfRange=function(e){return!this._test(e)||this._lowerBound!==d&&(this._reverse?a.upperBoundInclusive(this._options)?a.compare(e,this._lowerBound)>0:a.compare(e,this._lowerBound)>=0:a.lowerBoundInclusive(this._options)?a.compare(e,this._lowerBound)<0:a.compare(e,this._lowerBound)<=0)},g.prototype._seek=function(e){if(0===e.length)throw new Error("cannot seek() to an empty target");this._outOfRange(e)?(this._tree=this.db._store.end,this._tree.next()):this._reverse?this._tree=this.db._store.le(e):this._tree=this.db._store.ge(e)},r(_,i),_.prototype._open=function(e,t){this._nextTick(t)},_.prototype._serializeKey=function(e){return l.isBuffer(e)?e:l.from(String(e))},_.prototype._serializeValue=function(e){return l.isBuffer(e)?e:l.from(String(e))},_.prototype._put=function(e,t,n,r){const i=this._store.find(e);i.valid?this._store=i.update(t):this._store=this._store.insert(e,t),this._nextTick(r)},_.prototype._get=function(e,t,n){let r=this._store.get(e);if(void 0===r)return this._nextTick((function(){n(new Error("NotFound"))}));t.asBuffer||(r=r.toString()),this._nextTick(n,null,r)},_.prototype._getMany=function(e,t,n){this._nextTick(n,null,e.map((e=>{const n=this._store.get(e);return void 0===n||t.asBuffer?n:n.toString()})))},_.prototype._del=function(e,t,n){this._store=this._store.remove(e),this._nextTick(n)},_.prototype._batch=function(e,t,n){let r,i,s,a=-1;const o=e.length;let l=this._store;for(;++a<o;)r=e[a].key,s=l.find(r),"put"===e[a].type?(i=e[a].value,l=s.valid?s.update(i):l.insert(r,i)):l=s.remove();this._store=l,this._nextTick(n)},_.prototype._clear=function(e,t){if(!function(e){return null!=e.limit&&e.limit>=0&&e.limit<1/0}(e)&&!Object.keys(e).some(T))return this._store=o(a.compare),this._nextTick(t);const n=this._iterator({...e,keys:!0,values:!1,keyAsBuffer:!0}),r=()=>{for(let e=0;e<500;e++){if(!n[f]())return t();if(!n._tree.valid)return t();if(!n._test(n._tree.key))return t();this._store=this._store.remove(n._tree.key),n._tree[n._incr]()}this._nextTick(r)};this._nextTick(r)},_.prototype._iterator=function(e){return new g(this,e)},e.exports=_,e.exports.MemIterator=g,"undefined"!=typeof process&&!process.browser&&void 0!==n.g&&"function"==typeof n.g.setImmediate){const e=n.g.setImmediate;_.prototype._nextTick=g.prototype._nextTick=function(t,...n){0===n.length?e(t):e((()=>t(...n)))}}function T(e){return c.includes(e)}},9414:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},4175:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,a){a=a||{};var o,l,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&isFinite(e))return a.long?(o=e,(l=Math.abs(o))>=i?s(o,l,i,"day"):l>=r?s(o,l,r,"hour"):l>=n?s(o,l,n,"minute"):l>=t?s(o,l,t,"second"):o+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=r?Math.round(e/r)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9431:(e,t,n)=>{let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},1307:e=>{var t={};function n(e,n,r){r||(r=Error);var i=function(e){var t,r;function i(t,r,i){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,i))||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,s,a,o,l;if("string"==typeof t&&(s="not ",t.substr(0,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(o=e).length||-1===o.indexOf(".",l)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(r(t,"type"))}return a+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},9877:(e,t,n)=>{var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(8750),s=n(46);n(8888)(c,i);for(var a=r(s.prototype),o=0;o<a.length;o++){var l=a[o];c.prototype[l]||(c.prototype[l]=s.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},3745:(e,t,n)=>{e.exports=i;var r=n(7445);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(8888)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},8750:(e,t,n)=>{var r;e.exports=D,D.ReadableState=S,n(8638).EventEmitter;var i,s=function(e,t){return e.listeners(t).length},a=n(4151),o=n(8842).Buffer,l=n.g.Uint8Array||function(){},c=n(7439);i=c&&c.debuglog?c.debuglog("stream"):function(){};var d,u,p,f=n(3406),y=n(2732),m=n(9487).getHighWaterMark,h=n(1307).q,b=h.ERR_INVALID_ARG_TYPE,g=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,T=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(8888)(D,a);var I=y.errorOrDestroy,v=["error","close","destroy","pause","resume"];function S(e,t,i){r=r||n(9877),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(8885).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function D(e){if(r=r||n(9877),!(this instanceof D))return new D(e);var t=this instanceof r;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function w(e,t,n,r,s){i("readableAddChunk",t);var a,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,x(e)))}}(e,c);else if(s||(a=function(e,t){var n,r;return r=t,o.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t)),n}(c,t)),a)I(e,a);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r)c.endEmitted?I(e,new T):E(e,c,t,!0);else if(c.ended)I(e,new g);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!n?(t=c.decoder.write(t),c.objectMode||0!==t.length?E(e,c,t,!1):N(e,c)):E(e,c,t,!1)}else r||(c.reading=!1,N(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),N(e,t)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),D.prototype.destroy=y.destroy,D.prototype._undestroy=y.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},D.prototype.unshift=function(e){return w(this,e,null,!0,!1)},D.prototype.isPaused=function(){return!1===this._readableState.flowing},D.prototype.setEncoding=function(e){d||(d=n(8885).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(x,e))}function x(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function N(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(i("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function V(e){i("readable nexttick read 0"),e.read(0)}function k(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function $(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}D.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):C(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&$(this),null;var r,s=t.needReadable;return i("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",s=!0),t.ended||t.reading?i("reading or ended",s=!1):s&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&$(this)),null!==r&&this.emit("data",r),r},D.prototype._read=function(e){I(this,new _("_read()"))},D.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,i("pipe count=%d opts=%j",r.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?y:o;function o(){i("onend"),e.end()}r.endEmitted?process.nextTick(a):n.once("end",a),e.on("unpipe",(function t(s,a){i("onunpipe"),s===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",l),e.removeListener("error",u),e.removeListener("unpipe",t),n.removeListener("end",o),n.removeListener("end",y),n.removeListener("data",d),c=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",l);var c=!1;function d(t){i("ondata");var s=e.write(t);i("dest.write",s),!1===s&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==M(r.pipes,e))&&!c&&(i("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function u(t){i("onerror",t),y(),e.removeListener("error",u),0===s(e,"error")&&I(e,t)}function p(){e.removeListener("finish",f),y()}function f(){i("onfinish"),e.removeListener("close",p),y()}function y(){i("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",u),e.once("close",p),e.once("finish",f),e.emit("pipe",n),r.flowing||(i("pipe resume"),n.resume()),e},D.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=M(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},D.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,i("on readable",r.length,r.reading),r.length?C(this):r.reading||process.nextTick(V,this))),n},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),n},D.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},D.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(k,e,t))}(this,e)),e.paused=!1,this},D.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},D.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var s in e.on("end",(function(){if(i("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(s){i("wrapped data"),n.decoder&&(s=n.decoder.write(s)),n.objectMode&&null==s||(n.objectMode||s&&s.length)&&(t.push(s)||(r=!0,e.pause()))})),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){i("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(D.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=n(2761)),u(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),D._fromList=O,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(D.from=function(e,t){return void 0===p&&(p=n(1524)),p(D,e,t)})},7445:(e,t,n)=>{e.exports=d;var r=n(1307).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(9877);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new s);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,n){p(e,t,n)}))}function p(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}n(8888)(d,l),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,n){n(new i("_transform()"))},d.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},46:(e,t,n)=>{function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=D,D.WritableState=S;var s,a={deprecate:n(8504)},o=n(4151),l=n(8842).Buffer,c=n.g.Uint8Array||function(){},d=n(2732),u=n(9487).getHighWaterMark,p=n(1307).q,f=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,h=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,g=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,I=d.errorOrDestroy;function v(){}function S(e,t,s){i=i||n(9877),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(x,e,t),e._writableState.errorEmitted=!0,I(e,r)):(i(r),e._writableState.errorEmitted=!0,I(e,r),x(e,t))}(e,n,r,t,i);else{var s=P(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?process.nextTick(E,e,n,s,i):E(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function D(e){var t=this instanceof(i=i||n(9877));if(!t&&!s.call(D,this))return new D(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function w(e,t,n,r,i,s,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),x(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),a=t.corkedRequestsFree;a.entry=n;for(var o=0,l=!0;n;)s[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;s.allBuffers=l,w(e,t,!0,t.length,s,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,d=n.encoding,u=n.callback;if(w(e,t,!1,t.objectMode?1:c.length,c,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(n){t.pendingcb--,n&&I(e,n),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var n=P(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(8888)(D,o),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===D&&e&&e._writableState instanceof S}})):s=function(e){return e instanceof this},D.prototype.pipe=function(){I(this,new h)},D.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,l.isBuffer(r)||r instanceof c);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ending?function(e,t){var n=new _;I(e,n),process.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i;return null===n?i=new g:"string"==typeof n||t.objectMode||(i=new f("chunk",["string","Buffer"],n)),!i||(I(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,i,s){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var o=t.objectMode?1:r.length;t.length+=o;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,o,r,i,s);return c}(this,i,a,e,t,n)),s},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},D.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new T(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(e,t,n){n(new y("_write()"))},D.prototype._writev=null,D.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),D.prototype.destroy=d.destroy,D.prototype._undestroy=d.undestroy,D.prototype._destroy=function(e,t){t(e)}},2761:(e,t,n)=>{var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(9966),a=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),p=Symbol("stream");function f(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var n=e[p].read();null!==n&&(e[d]=null,e[a]=null,e[o]=null,t(f(n,!1)))}}function m(e){process.nextTick(y,e)}var h=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[l]?n(e[l]):t(f(void 0,!0))}))}));var n,r=this[d];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(f(void 0,!0)):t[u](n,r)}),r)}}(r,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(f(i,!1));n=new Promise(this[u])}return this[d]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[p].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),h);e.exports=function(e){var t,n=Object.create(b,(i(t={},p,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,u,{value:function(e,t){var r=n[p].read();r?(n[d]=null,n[a]=null,n[o]=null,e(f(r,!1))):(n[a]=e,n[o]=t)},writable:!0}),t));return n[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[o];return null!==t&&(n[d]=null,n[a]=null,n[o]=null,t(e)),void(n[l]=e)}var r=n[a];null!==r&&(n[d]=null,n[a]=null,n[o]=null,r(f(void 0,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}},3406:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(8842).Buffer,o=n(8534).inspect,l=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,n=i,r=o,a.prototype.copy.call(t,n,r),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?r+=i:r+=i.slice(0,e),0==(e-=s)){s===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(s));break}++r}return this.length-=r,t}},{key:l,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],n&&s(t.prototype,n),e}()},2732:e=>{function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var s=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?s._writableState?s._writableState.errorEmitted?process.nextTick(n,s):(s._writableState.errorEmitted=!0,process.nextTick(t,s,e)):process.nextTick(t,s,e):i?(process.nextTick(n,s),i(e)):process.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},9966:(e,t,n)=>{var r=n(1307).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,s){if("function"==typeof n)return e(t,null,n);n||(n={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(s||i);var a=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||d()},c=t._writableState&&t._writableState.finished,d=function(){o=!1,c=!0,a||s.call(t)},u=t._readableState&&t._readableState.endEmitted,p=function(){a=!1,u=!0,o||s.call(t)},f=function(e){s.call(t,e)},y=function(){var e;return a&&!u?(t._readableState&&t._readableState.ended||(e=new r),s.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new r),s.call(t,e)):void 0},m=function(){t.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",d),t.on("abort",y),t.req?m():t.on("request",m)):o&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",p),t.on("finish",d),!1!==n.error&&t.on("error",f),t.on("close",y),function(){t.removeListener("complete",d),t.removeListener("abort",y),t.removeListener("request",m),t.req&&t.req.removeListener("finish",d),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("end",p),t.removeListener("error",f),t.removeListener("close",y)}}},1524:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},1705:(e,t,n)=>{var r,i=n(1307).q,s=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var o=!1;e.on("close",(function(){o=!0})),void 0===r&&(r=n(9966)),r(e,{readable:t,writable:i},(function(e){if(e)return s(e);o=!0,s()}));var l=!1;return function(t){if(!o&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new a("pipe"))}}function c(e){e()}function d(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var a=t.map((function(e,n){var s=n<t.length-1;return l(e,s,n>0,(function(e){r||(r=e),e&&a.forEach(c),s||(a.forEach(c),i(r))}))}));return t.reduce(d)}},9487:(e,t,n)=>{var r=n(1307).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var s=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new r(i?n:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},4151:(e,t,n)=>{e.exports=n(8638).EventEmitter},1748:(e,t,n)=>{(t=e.exports=n(8750)).Stream=t,t.Readable=t,t.Writable=n(46),t.Duplex=n(9877),t.Transform=n(7445),t.PassThrough=n(3745),t.finished=n(9966),t.pipeline=n(1705)},8407:(e,t,n)=>{e.exports=function(e,t,n){if("number"!=typeof t)throw new Error("second argument must be a Number");let i,s,a,o,l,c,d=!0;function u(e){function t(){n&&n(e,i),n=null}d?r(t):t()}function p(t,n,r){if(i[t]=r,n&&(l=!0),0==--a||n)u(n);else if(!l&&c<s){let t;o?(t=o[c],c+=1,e[t]((function(e,n){p(t,e,n)}))):(t=c,c+=1,e[t]((function(e,n){p(t,e,n)})))}}Array.isArray(e)?(i=[],a=s=e.length):(o=Object.keys(e),i={},a=s=o.length),c=t,a?o?o.some((function(n,r){return e[n]((function(e,t){p(n,e,t)})),r===t-1})):e.some((function(e,n){return e((function(e,t){p(n,e,t)})),n===t-1})):u(null),d=!1};const r=n(9431)},4630:(e,t,n)=>{var r=n(8842),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},7978:function(e){!function(t){const n=2147483647;function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let n=1779033703,r=3144134277,i=1013904242,s=2773480762,a=1359893119,o=2600822924,l=528734635,c=1541459225;const d=new Uint32Array(64);function u(e){let u=0,p=e.length;for(;p>=64;){let f,y,m,h,b,g=n,_=r,T=i,I=s,v=a,S=o,D=l,w=c;for(y=0;y<16;y++)m=u+4*y,d[y]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(y=16;y<64;y++)f=d[y-2],h=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,f=d[y-15],b=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,d[y]=(h+d[y-7]|0)+(b+d[y-16]|0)|0;for(y=0;y<64;y++)h=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&S^~v&D)|0)+(w+(t[y]+d[y]|0)|0)|0,b=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&_^g&T^_&T)|0,w=D,D=S,S=v,v=I+h|0,I=T,T=_,_=g,g=h+b|0;n=n+g|0,r=r+_|0,i=i+T|0,s=s+I|0,a=a+v|0,o=o+S|0,l=l+D|0,c=c+w|0,u+=64,p-=64}}u(e);let p,f=e.length%64,y=e.length/536870912|0,m=e.length<<3,h=f<56?56:120,b=e.slice(e.length-f,e.length);for(b.push(128),p=f+1;p<h;p++)b.push(0);return b.push(y>>>24&255),b.push(y>>>16&255),b.push(y>>>8&255),b.push(y>>>0&255),b.push(m>>>24&255),b.push(m>>>16&255),b.push(m>>>8&255),b.push(m>>>0&255),u(b),[n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,n){e=e.length<=64?e:r(e);const i=64+t.length+4,s=new Array(i),a=new Array(64);let o,l=[];for(o=0;o<64;o++)s[o]=54;for(o=0;o<e.length;o++)s[o]^=e[o];for(o=0;o<t.length;o++)s[64+o]=t[o];for(o=i-4;o<i;o++)s[o]=0;for(o=0;o<64;o++)a[o]=92;for(o=0;o<e.length;o++)a[o]^=e[o];function c(){for(let e=i-1;e>=i-4;e--){if(s[e]++,s[e]<=255)return;s[e]=0}}for(;n>=32;)c(),l=l.concat(r(a.concat(r(s)))),n-=32;return n>0&&(c(),l=l.concat(r(a.concat(r(s))).slice(0,n))),l}function s(e,t,n,r,i){let s;for(c(e,16*(2*n-1),i,0,16),s=0;s<2*n;s++)l(e,16*s,i,16),o(i,r),c(i,0,e,t+16*s,16);for(s=0;s<n;s++)c(e,t+2*s*16,e,16*s,16);for(s=0;s<n;s++)c(e,t+16*(2*s+1),e,16*(s+n),16)}function a(e,t){return e<<t|e>>>32-t}function o(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=a(t[0]+t[12],7),t[8]^=a(t[4]+t[0],9),t[12]^=a(t[8]+t[4],13),t[0]^=a(t[12]+t[8],18),t[9]^=a(t[5]+t[1],7),t[13]^=a(t[9]+t[5],9),t[1]^=a(t[13]+t[9],13),t[5]^=a(t[1]+t[13],18),t[14]^=a(t[10]+t[6],7),t[2]^=a(t[14]+t[10],9),t[6]^=a(t[2]+t[14],13),t[10]^=a(t[6]+t[2],18),t[3]^=a(t[15]+t[11],7),t[7]^=a(t[3]+t[15],9),t[11]^=a(t[7]+t[3],13),t[15]^=a(t[11]+t[7],18),t[1]^=a(t[0]+t[3],7),t[2]^=a(t[1]+t[0],9),t[3]^=a(t[2]+t[1],13),t[0]^=a(t[3]+t[2],18),t[6]^=a(t[5]+t[4],7),t[7]^=a(t[6]+t[5],9),t[4]^=a(t[7]+t[6],13),t[5]^=a(t[4]+t[7],18),t[11]^=a(t[10]+t[9],7),t[8]^=a(t[11]+t[10],9),t[9]^=a(t[8]+t[11],13),t[10]^=a(t[9]+t[8],18),t[12]^=a(t[15]+t[14],7),t[13]^=a(t[12]+t[15],9),t[14]^=a(t[13]+t[12],13),t[15]^=a(t[14]+t[13],18);for(let n=0;n<16;++n)e[n]+=t[n]}function l(e,t,n,r){for(let i=0;i<r;i++)n[i]^=e[t+i]}function c(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}function d(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t];if("number"!=typeof n||n%1||n<0||n>=256)return!1}return!0}function u(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function p(e,t,r,a,o,p,f){if(r=u(r,"N"),a=u(a,"r"),o=u(o,"p"),p=u(p,"dkLen"),0===r||0!=(r&r-1))throw new Error("N must be power of 2");if(r>n/128/a)throw new Error("N too large");if(a>n/128/o)throw new Error("r too large");if(!d(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!d(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let y=i(e,t,128*o*a);const m=new Uint32Array(32*o*a);for(let e=0;e<m.length;e++){const t=4*e;m[e]=(255&y[t+3])<<24|(255&y[t+2])<<16|(255&y[t+1])<<8|(255&y[t+0])<<0}const h=new Uint32Array(64*a),b=new Uint32Array(32*a*r),g=32*a,_=new Uint32Array(16),T=new Uint32Array(16),I=o*r*2;let v,S,D=0,w=null,E=!1,A=0,P=0;const C=f?parseInt(1e3/a):4294967295,x="undefined"!=typeof setImmediate?setImmediate:setTimeout,N=function(){if(E)return f(new Error("cancelled"),D/I);let t;switch(A){case 0:S=32*P*a,c(m,S,h,0,g),A=1,v=0;case 1:t=r-v,t>C&&(t=C);for(let e=0;e<t;e++)c(h,0,b,(v+e)*g,g),s(h,g,a,_,T);if(v+=t,D+=t,f){const e=parseInt(1e3*D/I);if(e!==w){if(E=f(null,D/I),E)break;w=e}}if(v<r)break;v=0,A=2;case 2:t=r-v,t>C&&(t=C);for(let e=0;e<t;e++){const e=h[16*(2*a-1)]&r-1;l(b,e*g,h,g),s(h,g,a,_,T)}if(v+=t,D+=t,f){const e=parseInt(1e3*D/I);if(e!==w){if(E=f(null,D/I),E)break;w=e}}if(v<r)break;if(c(h,0,m,S,g),P++,P<o){A=0;break}y=[];for(let e=0;e<m.length;e++)y.push(m[e]>>0&255),y.push(m[e]>>8&255),y.push(m[e]>>16&255),y.push(m[e]>>24&255);const n=i(e,y,p);return f&&f(null,1,n),n}f&&x(N)};if(!f)for(;;){const e=N();if(null!=e)return e}N()}const f={scrypt:function(e,t,n,r,i,s,a){return new Promise((function(o,l){let c=0;a&&a(0),p(e,t,n,r,i,s,(function(e,t,n){if(e)l(e);else if(n)a&&1!==c&&a(1),o(new Uint8Array(n));else if(a&&t!==c)return c=t,a(t)}))}))},syncScrypt:function(e,t,n,r,i,s){return new Uint8Array(p(e,t,n,r,i,s))}};e.exports=f}()},2747:(e,t,n)=>{t.C4=void 0;var r,i=n(8842),s=(r=n(8604))&&r.__esModule?r:{default:r},a=function(e){var t=e.allowedSizes,n=e.defaultSize,r=e.padding;return function e(){var a=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if(!this||this.constructor!==e)return new e(o);if(t&&!t.includes(o))throw new Error("Unsupported hash length");var l=new s.default({capacity:o});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(i.Buffer.isBuffer(e))return l.absorb(e),a;if("string"==typeof e)return a.update(i.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,n=l.squeeze({buffer:t.buffer,padding:t.padding||r});return t.format&&"binary"!==t.format?n.toString(t.format):n},this.reset=function(){return l.reset(),a},this}},o=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});t.C4=o;var l=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});a({allowedSizes:[128,256],defaultSize:256,padding:31});var c=o;l.SHA3Hash=c},8604:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(8842),s=(r=n(9750))&&r.__esModule?r:{default:r},a=function(e,t){for(var n=0;n<e.length;n+=8){var r=n/4;t[r]^=e[n+7]<<24|e[n+6]<<16|e[n+5]<<8|e[n+4],t[r+1]^=e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]}return t},o=function(e,t){for(var n=0;n<t.length;n+=8){var r=n/4;t[n]=e[r+1],t[n+1]=e[r+1]>>>8,t[n+2]=e[r+1]>>>16,t[n+3]=e[r+1]>>>24,t[n+4]=e[r],t[n+5]=e[r]>>>8,t[n+6]=e[r]>>>16,t[n+7]=e[r]>>>24}return t};t.default=function(e){var t=this,n=e.capacity,r=e.padding,l=(0,s.default)(),c=n/8,d=200-n/4,u=0,p=new Uint32Array(50),f=i.Buffer.allocUnsafe(d);return this.absorb=function(e){for(var n=0;n<e.length;n++)f[u]=e[n],(u+=1)>=d&&(a(f,p),l(p),u=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||i.Buffer.allocUnsafe(c),padding:e.padding||r,queue:i.Buffer.allocUnsafe(f.length),state:new Uint32Array(p.length)};f.copy(t.queue);for(var n=0;n<p.length;n++)t.state[n]=p[n];t.queue.fill(0,u),t.queue[u]|=t.padding,t.queue[d-1]|=128,a(t.queue,t.state);for(var s=0;s<t.buffer.length;s+=d)l(t.state),o(t.state,t.buffer.slice(s,s+d));return t.buffer},this.reset=function(){return f.fill(0),p.fill(0),u=0,t},this}},2559:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(7932))&&r.__esModule?r:{default:r};t.default=function(e){for(var t=e.A,n=e.C,r=0;r<25;r+=5){for(var s=0;s<5;s++)(0,i.default)(t,r+s)(n,s);for(var a=0;a<5;a++){var o=2*(r+a),l=(a+1)%5*2,c=(a+2)%5*2;t[o]^=~n[l]&n[c],t[o+1]^=~n[l+1]&n[c+1]}}}},7932:e=>{e.exports=function(e,t){return function(n,r){var i=2*r,s=2*t;n[i]=e[s],n[i+1]=e[s+1]}}},9750:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2559)),i=o(n(9985)),s=o(n(1042)),a=o(n(1546));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=new Uint32Array(10),t=new Uint32Array(10),n=new Uint32Array(2);return function(o){for(var l=0;l<24;l++)(0,a.default)({A:o,C:e,D:t,W:n}),(0,s.default)({A:o,C:e,W:n}),(0,r.default)({A:o,C:e}),(0,i.default)({A:o,roundIndex:l});e.fill(0),t.fill(0),n.fill(0)}}},9985:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(5945))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.A,n=2*e.roundIndex;t[0]^=i.default[n],t[1]^=i.default[n+1]}},5945:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=n},1042:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1797)),i=a(n(2773)),s=a(n(7932));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.A,n=e.C,a=e.W;(0,s.default)(t,1)(a,0);for(var o=0,l=0,c=0,d=32,u=0;u<24;u++){var p=r.default[u],f=i.default[u];(0,s.default)(t,p)(n,0),o=a[0],l=a[1],d=32-f,a[c=f<32?0:1]=o<<f|l>>>d,a[(c+1)%2]=l<<f|o>>>d,(0,s.default)(a,0)(t,p),(0,s.default)(n,0)(a,0)}}},1797:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1]},2773:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44]},1546:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(7932))&&r.__esModule?r:{default:r};t.default=function(e){for(var t=e.A,n=e.C,r=e.D,s=e.W,a=0,o=0,l=0;l<5;l++){var c=2*l,d=2*(l+5),u=2*(l+10),p=2*(l+15),f=2*(l+20);n[c]=t[c]^t[d]^t[u]^t[p]^t[f],n[c+1]=t[c+1]^t[d+1]^t[u+1]^t[p+1]^t[f+1]}for(var y=0;y<5;y++){(0,i.default)(n,(y+1)%5)(s,0),a=s[0],o=s[1],s[0]=a<<1|o>>>31,s[1]=o<<1|a>>>31,r[2*y]=n[(y+4)%5*2]^s[0],r[2*y+1]=n[(y+4)%5*2+1]^s[1];for(var m=0;m<25;m+=5)t[2*(m+y)]^=r[2*y],t[2*(m+y)+1]^=r[2*y+1]}}},6743:(e,t,n)=>{e.exports=i;var r=n(8638).EventEmitter;function i(){r.call(this)}n(8888)(i,r),i.Readable=n(8750),i.Writable=n(46),i.Duplex=n(9877),i.Transform=n(7445),i.PassThrough=n(3745),i.finished=n(9966),i.pipeline=n(1705),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(n.on("end",o),n.on("close",l));var a=!1;function o(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(d(),0===r.listenerCount(this,"error"))throw e}function d(){n.removeListener("data",i),e.removeListener("drain",s),n.removeListener("end",o),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return n.on("error",c),e.on("error",c),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e}},8885:(e,t,n)=>{var r=n(4630).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8504:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},8280:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},9096:(e,t,n)=>{var r=n(3177),i=n(879),s=n(3492),a=n(4948);function o(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,d=o(Object.prototype.toString),u=o(Number.prototype.valueOf),p=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(l)var y=o(BigInt.prototype.valueOf);if(c)var m=o(Symbol.prototype.valueOf);function h(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===d(e)}function g(e){return"[object Set]"===d(e)}function _(e){return"[object WeakMap]"===d(e)}function T(e){return"[object WeakSet]"===d(e)}function I(e){return"[object ArrayBuffer]"===d(e)}function v(e){return"undefined"!=typeof ArrayBuffer&&(I.working?I(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===d(e)}function D(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||D(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},b.working="undefined"!=typeof Map&&b(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(g.working?g(e):e instanceof Set)},_.working="undefined"!=typeof WeakMap&&_(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(_.working?_(e):e instanceof WeakMap)},T.working="undefined"!=typeof WeakSet&&T(new WeakSet),t.isWeakSet=function(e){return T(e)},I.working="undefined"!=typeof ArrayBuffer&&I(new ArrayBuffer),t.isArrayBuffer=v,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=D;var w="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(e){return"[object SharedArrayBuffer]"===d(e)}function A(e){return void 0!==w&&(void 0===E.working&&(E.working=E(new w)),E.working?E(e):e instanceof w)}function P(e){return h(e,u)}function C(e){return h(e,p)}function x(e){return h(e,f)}function N(e){return l&&h(e,y)}function R(e){return c&&h(e,m)}t.isSharedArrayBuffer=A,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===d(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===d(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===d(e)},t.isGeneratorObject=function(e){return"[object Generator]"===d(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===d(e)},t.isNumberObject=P,t.isStringObject=C,t.isBooleanObject=x,t.isBigIntObject=N,t.isSymbolObject=R,t.isBoxedPrimitive=function(e){return P(e)||C(e)||x(e)||N(e)||R(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(v(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},4966:(e,t,n)=>{var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,s=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<s;l=r[++n])m(l)||!T(l)?a+=" "+l:a+=" "+o(l);return a},t.deprecate=function(e,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}};var s={},a=/^$/;function o(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),d(r,e,r.depth)}function l(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function c(e,t){return e}function d(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=d(e,i,r)),i}var s=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return h(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(s)return s;var a=Object.keys(n),o=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),v(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(n);if(0===a.length){if(S(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(I(n))return e.stylize(Date.prototype.toString.call(n),"date");if(v(n))return u(n)}var c,T="",D=!1,w=["{","}"];return f(n)&&(D=!0,w=["[","]"]),S(n)&&(T=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(T=" "+RegExp.prototype.toString.call(n)),I(n)&&(T=" "+Date.prototype.toUTCString.call(n)),v(n)&&(T=" "+u(n)),0!==a.length||D&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=D?function(e,t,n,r,i){for(var s=[],a=0,o=t.length;a<o;++a)P(t,String(a))?s.push(p(e,t,n,r,String(a),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(p(e,t,n,r,i,!0))})),s}(e,n,r,o,a):a.map((function(t){return p(e,n,r,o,t,D)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,T,w)):w[0]+T+w[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,s){var a,o,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),o||(e.seen.indexOf(l.value)<0?(o=m(n)?d(e,l.value,null):d(e,l.value,n-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),g(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function f(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function m(e){return null===e}function h(e){return"number"==typeof e}function b(e){return"string"==typeof e}function g(e){return void 0===e}function _(e){return T(e)&&"[object RegExp]"===D(e)}function T(e){return"object"==typeof e&&null!==e}function I(e){return T(e)&&"[object Date]"===D(e)}function v(e){return T(e)&&("[object Error]"===D(e)||e instanceof Error)}function S(e){return"function"==typeof e}function D(e){return Object.prototype.toString.call(e)}function w(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(a.test(e)){var n=process.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(9096),t.isArray=f,t.isBoolean=y,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=_,t.types.isRegExp=_,t.isObject=T,t.isDate=I,t.types.isDate=I,t.isError=v,t.types.isNativeError=v,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(8280);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[w(e.getHours()),w(e.getMinutes()),w(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=n(8888),t._extend=function(e,t){if(!t||!T(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return r.apply(i,arguments)};e.apply(this,t).then((function(e){process.nextTick(s.bind(null,null,e))}),(function(e){process.nextTick(x.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}},3492:(e,t,n)=>{var r=n(6951),i=n(1566),s=n(3214),a=s("Object.prototype.toString"),o=n(5822)(),l="undefined"==typeof globalThis?n.g:globalThis,c=i(),d=s("String.prototype.slice"),u={},p=n(6182),f=Object.getPrototypeOf;o&&p&&f&&r(c,(function(e){if("function"==typeof l[e]){var t=new l[e];if(Symbol.toStringTag in t){var n=f(t),r=p(n,Symbol.toStringTag);if(!r){var i=f(n);r=p(i,Symbol.toStringTag)}u[e]=r.get}}}));var y=n(4948);e.exports=function(e){return!!y(e)&&(o&&Symbol.toStringTag in e?function(e){var t=!1;return r(u,(function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}})),t}(e):d(a(e),8,-1))}},9359:()=>{},8534:()=>{},7439:()=>{},7696:()=>{},4116:()=>{},6915:()=>{},2633:()=>{},1572:()=>{},4195:()=>{},1734:()=>{},9658:()=>{},9489:()=>{},1642:()=>{},4834:()=>{},6298:()=>{},8735:()=>{},8966:()=>{},5905:()=>{},4855:()=>{},1566:(e,t,n)=>{var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof i[r[t]]&&(e[e.length]=r[t]);return e}},6182:(e,t,n)=>{var r=n(554)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},1459:e=>{e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{n.d(r,{zt:()=>Et,$R:()=>et,hX:()=>Ze,Yu:()=>df,f9:()=>Bf,wC:()=>V,W6:()=>Xe,Nz:()=>F_,Ub:()=>I_,y6:()=>me,Fr:()=>Pt,Kr:()=>B,pS:()=>Py,vv:()=>Vt,H9:()=>Fr,mt:()=>Nr,_l:()=>Of,J2:()=>Tf,rI:()=>Sn,ZN:()=>Ff,jF:()=>qe,yP:()=>Rc,mr:()=>qn,w6:()=>mi,Ob:()=>Kf,jE:()=>kp,Jy:()=>je,Vh:()=>dr,r6:()=>wc,_C:()=>v,NT:()=>ce,Kv:()=>Mf,jC:()=>pf,O$:()=>ou,xQ:()=>cu,Dp:()=>fu,FM:()=>bu,pF:()=>vf,jX:()=>Ee,Yg:()=>Xt,kb:()=>Hn,lT:()=>Yf,zj:()=>U_,kG:()=>__,Y$:()=>T_,KY:()=>Uf,ti:()=>pr,Fx:()=>yr,$Y:()=>hr,SQ:()=>gr,vz:()=>Rp,uY:()=>xr,b8:()=>Er,_V:()=>Ar,Rx:()=>vr,IN:()=>Dr,Jn:()=>e,uC:()=>Ve,PV:()=>Re,t3:()=>zf,Xk:()=>Ug,gr:()=>Y_,L3:()=>Cp,$M:()=>Ay,UJ:()=>Yr,fN:()=>$e,ry:()=>we,_Q:()=>a,B7:()=>st,vY:()=>qf,f1:()=>Gn,Fh:()=>In,CO:()=>vn,UL:()=>Ln,oo:()=>D_,C0:()=>A_,mG:()=>w_,rR:()=>E_,yU:()=>P_,nS:()=>vc,oe:()=>Sc,L8:()=>Pc,xJ:()=>Hf,NZ:()=>wf,yu:()=>Df,VJ:()=>i,DL:()=>t,x:()=>Fn,yT:()=>$n,bO:()=>Yn,Fp:()=>Mn,I6:()=>Un,gf:()=>zn,Vn:()=>kr,JJ:()=>Br,$c:()=>Vr,zU:()=>Or,f6:()=>Zn,tv:()=>Wn,wN:()=>z_,g$:()=>b,hu:()=>f,oZ:()=>kf,hv:()=>Rn,hz:()=>Nn,hC:()=>T,Xo:()=>o,dN:()=>Cc,LV:()=>Qn,fm:()=>gu,NO:()=>Mr,o7:()=>xn,_H:()=>Cn,Jr:()=>On,rj:()=>Bn,cN:()=>I,nJ:()=>s,aL:()=>Af,Fl:()=>Ef,tk:()=>Pf,AN:()=>Cf,wn:()=>Me,jh:()=>S,fh:()=>yf,hx:()=>ff,DC:()=>kn,ey:()=>nr,Ov:()=>Pn,f0:()=>An,V4:()=>Xn,MZ:()=>Jn,Cy:()=>Lf,VQ:()=>Nf,ks:()=>Vf,O6:()=>xe,J1:()=>mf,xX:()=>ir,Wv:()=>rr,UU:()=>tr,cm:()=>er,KX:()=>_,MX:()=>g,JQ:()=>Fe,Pg:()=>_u,Dh:()=>xc,Q5:()=>F,oU:()=>$,zP:()=>Y,k$:()=>M,dL:()=>hf,$I:()=>En,LI:()=>wn,xD:()=>kt,aK:()=>Ct,j_:()=>xt});const e="2.1.6",t=e=>({...e,value:e.value.toString()}),i=e=>({...e,value:BigInt(e.value)}),s=e=>e>=1<<29;class a{constructor(e,t=0,n=""){this.fn=e,this.timeout=t,this.interrupt=()=>{},this.totalTime=0,this.interruptPromise=new Promise(((e,r)=>{this.interrupt=()=>r(new Error(`Timeout${n?` running ${n}`:""} after ${t}ms.`))}))}async exec(){const e=this.timeout?setTimeout(this.interrupt,this.timeout):0;try{const t=Date.now(),n=await Promise.race([this.fn(),this.interruptPromise]);return this.totalTime=Date.now()-t,n}finally{clearTimeout(e)}}getInterruptPromise(){return this.interruptPromise}getTime(){return this.totalTime}}const o=async(e,t=0,n="")=>{const r=new a(e,t,n);return await r.exec()};var l=n(8638);const c=Symbol("thread.transferable");function d(e){return e&&"object"==typeof e&&e[c]}function u(e,t){if(!t){if(!(n=e)||"object"!=typeof n)throw Error();t=[e]}var n;return{[c]:!0,send:e,transferables:t}}class p{constructor(e,t=console.log){this.prefix=e,this.logger=t}log(...e){this.logger(`${this.prefix}:`,...e)}}function f(e){if(e){const t=new p(e,console.log);return(...e)=>t.log(...e)}return console.log}var y=n(3955);let m,h;function b(e){const t=y(e);return(...e)=>function(e,...t){y.enabled(e.namespace)&&(m&&m(e.namespace,...t),e(...t),h&&h(e.namespace,...t))}(t,...e)}function g(e){m=e}function _(e){h=e}function T(e){y.enable(e)}function I(e){return y.enabled(e)}class v{constructor(){this.logs=[]}enable(){g(((...e)=>{this.logs.push([(new Date).toISOString(),...e])}))}getLogs(e=0){return e?this.logs.slice(-e):this.logs}clear(e=this.logs.length){this.logs=this.logs.slice(e)}}const S=new v,D=b("aztec:transport_client");class w extends l{constructor(e){super(),this.transportConnect=e,this.msgId=0,this.pendingRequests=[]}async open(){this.socket=await this.transportConnect.createSocket(),this.socket.registerHandler((e=>this.handleSocketMessage(e)))}close(){this.socket?.close(),this.socket=void 0,this.removeAllListeners()}request(e,t){if(!this.socket)throw new Error("Socket not open.");const n=this.msgId++,r={msgId:n,payload:e};return D("->",r),new Promise(((e,i)=>{this.pendingRequests.push({resolve:e,reject:i,msgId:n}),this.socket.send(r,t).catch(i)}))}handleSocketMessage(e){if(void 0===e)return void this.close();if(D("<-",e),function(e){return void 0===e.msgId}(e))return void this.emit("event_msg",e.payload);const t=this.pendingRequests.findIndex((t=>t.msgId===e.msgId));if(-1===t)return;const[n]=this.pendingRequests.splice(t,1);e.error?n.reject(new Error(e.error)):n.resolve(e.payload)}}class E{constructor(e){this.port=e}send(e,t=[]){return this.port.postMessage(e,t),Promise.resolve()}registerHandler(e){this.port.onmessage=t=>e(t.data)}close(){this.send(void 0),this.port.onmessage=null,this.port.close()}}class A{constructor(e){this.worker=e}createSocket(){const e=new MessageChannel;return this.worker.postMessage("",[e.port2]),Promise.resolve(new E(e.port1))}}n(1734);var P=n(8842).Buffer;async function C(e,t){return await t.transferToHeap(e.toBuffer(),0),await t.call("account__compute_signing_data",0,0),P.from(await t.sliceMemory(0,32))}var x=n(8842).Buffer;class N{constructor(e,t=!1){this.prover=e,this.mock=t}static getCircuitSize(e=!1){return e?512:32768}async computeKey(e){const t=this.prover.getWorker();await o((async()=>await t.asyncCall("account__init_proving_key",this.mock)),e,"AccountProver.computeKey")}async releaseKey(){const e=this.prover.getWorker();await e.call("account__release_key")}async loadKey(e){const t=this.prover.getWorker(),n=await t.call("bbmalloc",e.length);await t.transferToHeap(u(e,[e.buffer]),n),await t.call("account__init_proving_key_from_buffer",n),await t.call("bbfree",n)}async getKey(){const e=this.prover.getWorker();await e.acquire();try{const t=await e.call("account__get_new_proving_key_data",0),n=x.from(await e.sliceMemory(0,4)).readUInt32LE(0),r=x.from(await e.sliceMemory(n,n+t));return await e.call("bbfree",n),r}finally{await e.release()}}async computeSigningData(e){const t=this.prover.getWorker();return await C(e,t)}async createAccountProof(e,t,n){const r=this.prover.getWorker(),i=x.concat([e.toBuffer(),t.toBuffer()]),s=await r.call("bbmalloc",i.length);await r.transferToHeap(i,s);const a=await r.asyncCall("account__new_prover",s,this.mock);await r.call("bbfree",s);const o=await this.prover.createProof(a,n);return await r.call("account__delete_prover",a),o}getProver(){return this.prover}}var R=n(2747),L=n(8842).Buffer;class V{constructor(e){this.wasm=e}encryptBufferCBC(e,t,n){const r=e.length,i=r%16!=0?16-r%16:0,s=L.alloc(i);0!=i&&s.fill(i);const a=L.concat([e,s]),o=this.wasm.call("bbmalloc",a.length+n.length+t.length+a.length);this.wasm.transferToHeap(a,o),this.wasm.transferToHeap(t,o+a.length),this.wasm.transferToHeap(n,o+a.length+t.length),this.wasm.call("aes__encrypt_buffer_cbc",o,o+a.length,o+a.length+t.length,a.length,o+a.length+t.length+n.length);const l=L.from(this.wasm.sliceMemory(o+a.length+n.length+t.length,o+a.length+n.length+t.length+a.length));return this.wasm.call("bbfree",o),l}decryptBufferCBC(e,t,n){const r=this.wasm.call("bbmalloc",e.length+n.length+t.length+e.length);this.wasm.transferToHeap(e,r),this.wasm.transferToHeap(t,r+e.length),this.wasm.transferToHeap(n,r+e.length+t.length),this.wasm.call("aes__decrypt_buffer_cbc",r,r+e.length,r+e.length+t.length,e.length,r+e.length+t.length+n.length);const i=L.from(this.wasm.sliceMemory(r+e.length+n.length+t.length,r+e.length+n.length+t.length+e.length));return this.wasm.call("bbfree",r),i}}var k=n(8842).Buffer;class B{constructor(e){this.wasm=e}hashToField(e){const t=this.wasm.call("bbmalloc",e.length);return this.wasm.transferToHeap(e,t),this.wasm.call("blake2s_to_field",t,e.length,0),this.wasm.call("bbfree",t),k.from(this.wasm.sliceMemory(0,32))}}var O=n(8842).Buffer;function $(e){const t=O.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}function F(e){const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}function M(e,t){const n=e.toString(16),r=O.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}function Y(e,t){const n=e.toString(16);return O.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}var z=n(8842).Buffer;function U(e,t=4){const n=z.alloc(t);return n.writeUInt32LE(e,t-4),n}function q(e,t=4){const n=z.alloc(t);return n.writeUInt32BE(e,t-4),n}function H(e){const t=z.alloc(1);return t.writeUInt8(e,0),t}function K(e){const t=z.alloc(4);return t.writeUInt32BE(e.length,0),z.concat([t,e])}function G(e,t=32){return Y(e,t)}function j(e){return G(BigInt(e.getTime()),8)}function W(e,t=0){const n=4+e.readUInt32BE(t);return{elem:e.slice(t+4,t+n),adv:n}}function Z(e,t=0){return{elem:e.readUInt8(t),adv:1}}function J(e,t=0){return{elem:e.readUInt32BE(t),adv:4}}function X(e,t=0){return{elem:e.readInt32BE(t),adv:4}}function Q(e,t=0){return{elem:e.slice(t,t+32),adv:32}}function ee(e){const t=z.alloc(4);return t.writeUInt32BE(e.length,0),z.concat([t,...e])}function te(e,t,n=0){let r=n;const i=t.readUInt32BE(r);r+=4;const s=new Array(i);for(let n=0;n<i;++n){const{elem:i,adv:a}=e(t,r);r+=a,s[n]=i}return{elem:s,adv:r-n}}class ne{constructor(e,t=0){this.buf=e,this.offset=t}bool(){return!!this.exec(Z)}uInt32(){return this.exec(J)}int32(){return this.exec(X)}bigInt(e=32){return this.exec(((t,n)=>function(e,t=0,n=32){return{elem:F(e.slice(t,t+n)),adv:n}}(t,n,e)))}vector(){return this.exec(W)}buffer(e){const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}string(){return this.vector().toString()}date(){return new Date(Number(this.bigInt(8)))}deserializeArray(e){return this.exec(((t,n)=>te(e,t,n)))}exec(e){const{elem:t,adv:n}=e(this.buf,this.offset);return this.offset+=n,t}getOffset(){return this.offset}}var re=n(8842).Buffer;class ie{constructor(){this.buf=[]}bool(e){this.buf.push(function(e){const t=z.alloc(1);return t.writeUInt8(e?1:0),t}(e))}uInt32(e){this.buf.push(q(e))}int32(e){this.buf.push(function(e,t=4){const n=z.alloc(t);return n.writeInt32BE(e,t-4),n}(e))}bigInt(e){this.buf.push(G(e))}vector(e){this.buf.push(K(e))}buffer(e){this.buf.push(e)}string(e){this.vector(re.from(e))}date(e){this.buf.push(j(e))}getBuffer(){return re.concat(this.buf)}serializeArray(e){this.buf.push(ee(e.map((e=>e.toBuffer()))))}}var se=n(9658),ae=n(9489),oe=n(5488),le=n.n(oe);class ce{constructor(){this.waiting=[],this.items=[],this.flushing=!1}length(){return this.items.length}get(e){return this.items.length?Promise.resolve(this.items.shift()):0===this.items.length&&this.flushing?Promise.resolve(null):new Promise(((t,n)=>{this.waiting.push(t),e&&setTimeout((()=>{const e=this.waiting.findIndex((e=>e===t));if(e>-1){this.waiting.splice(e,1);const t=new Error("Timeout getting item from queue.");n(t)}}),1e3*e)}))}put(e){this.flushing||(this.waiting.length?this.waiting.shift()(e):this.items.push(e))}end(){this.flushing=!0,this.waiting.forEach((e=>e(null)))}cancel(){this.flushing=!0,this.items=[],this.waiting.forEach((e=>e(null)))}async process(e){try{for(;;){const t=await this.get();if(null===t)break;await e(t)}}catch(e){console.error("Queue handler exception:",e)}}}var de=n(5236),ue=n(1642),pe=n(4834);class fe{constructor(){this.ASYNCIFY_DATA_SIZE=16384,this.debug=console.log}init(e,t,n=console.log){this.memory=e,this.debug=n,this.callExport=t,this.asyncifyDataAddr=this.callExport("bbmalloc",this.ASYNCIFY_DATA_SIZE);const r=new Uint32Array(this.memory.buffer);r[this.asyncifyDataAddr>>2]=this.asyncifyDataAddr+8,r[this.asyncifyDataAddr+4>>2]=this.asyncifyDataAddr+this.ASYNCIFY_DATA_SIZE}destroy(){this.callExport("bbfree",this.asyncifyDataAddr)}async call(e,...t){this.state={continuation:!1};let n=this.callExport(e,...t);for(;this.asyncPromise;)this.callExport("asyncify_stop_unwind"),this.debug("stack unwound."),this.state.result=await this.asyncPromise,this.state.continuation=!0,this.debug("result set starting rewind."),this.callExport("asyncify_start_rewind",this.asyncifyDataAddr),n=this.callExport(e,...t);return this.state=void 0,n}wrapImportFn(e){return(...t)=>{if(this.asyncPromise){this.callExport("asyncify_stop_rewind");const n=e(this.state,...t);return this.asyncPromise=void 0,this.state={continuation:!1},n}this.asyncPromise=e(this.state,...t),this.callExport("asyncify_start_unwind",this.asyncifyDataAddr)}}}var ye=n(8842).Buffer;l.EventEmitter.defaultMaxListeners=30;class me extends l.EventEmitter{constructor(){super(),this.store=oe?new se.NodeDataStore:new Te,this.mutexQ=new ce,this.asyncCallState=new fe,this.mutexQ.put(!0)}static async new(e,t){const n=new me;return n.on("log",b(e?`bb:wasm:${e}`:"bb:wasm")),await n.init(void 0,t),n}async init(e,t=20,n=8192){this.debug(`initial mem: ${t} pages, ${65536*t/1048576}mb. max mem: ${n} pages, ${65536*n/1048576}mb`),this.memory=new WebAssembly.Memory({initial:t,maximum:n}),this.heap=new Uint8Array(this.memory.buffer);const r={wasi_snapshot_preview1:{clock_time_get:()=>{this.debug("clock_time_get")},environ_get:()=>{this.debug("environ_get")},environ_sizes_get:()=>{this.debug("environ_sizes_get")},fd_close:()=>{this.debug("fd_close")},fd_read:()=>{this.debug("fd_read")},fd_write:()=>{this.debug("fd_write")},fd_seek:()=>{this.debug("fd_seek")},fd_fdstat_get:()=>{this.debug("fd_fdstat_get")},fd_fdstat_set_flags:()=>{this.debug("fd_fdstat_set_flags")},fd_prestat_get:()=>(this.debug("fd_prestat_get"),8),fd_prestat_dir_name:()=>(this.debug("fd_prestat_dir_name"),28),path_open:()=>{this.debug("path_open")},path_filestat_get:()=>{this.debug("path_filestat_get")},proc_exit:()=>(this.debug("proc_exit"),52),random_get:(e,t)=>{e>>>=0;const n=this.getMemory(),r=xe(t);for(let i=e;i<e+t;++i)n[i]=r[i-e]}},env:{logstr:e=>{const t=`${this.stringFromAddress(e)} (mem: ${(this.getMemory().length/1048576).toFixed(2)}MB)`;this.debug(t)},get_data:this.asyncCallState.wrapImportFn(((e,t,n)=>{const r=this.stringFromAddress(t);if(e.continuation){const t=e.result;if(!t)return this.transferToHeap(U(0),n),this.debug(`get_data: no data found for ${r}`),0;const i=this.call("bbmalloc",t.length);return this.transferToHeap(U(t.length),n),this.transferToHeap(t,i),this.debug(`get_data: data at ${i} is ${t.length} bytes.`),i}return this.debug(`get_data: key: ${r}`),this.store.get(r)})),set_data:this.asyncCallState.wrapImportFn(((e,t,n,r)=>{if(!e.continuation){const e=this.stringFromAddress(t);return this.debug(`set_data: key: ${e} addr: ${n} length: ${r}`),this.store.set(e,ye.from(this.sliceMemory(n,n+r)))}})),memory:this.memory}};if(e)this.instance=await WebAssembly.instantiate(e,r),this.module=e;else{const{instance:e,module:t}=await WebAssembly.instantiate(await async function(){if(oe){const e=(0,ue.dirname)((0,pe.fileURLToPath)("file:///usr/src/yarn-project/barretenberg.js/dest/wasm/barretenberg_wasm.js"));return await(0,ae.readFile)(e+"/aztec-connect.wasm")}{const e=await(0,de.fetch)("/aztec-connect.wasm");return ye.from(await e.arrayBuffer())}}(),r);this.instance=e,this.module=t}this.asyncCallState.init(this.memory,this.call.bind(this),this.debug.bind(this))}exports(){return this.instance.exports}call(e,...t){if(!this.exports()[e])throw new Error(`WASM function ${e} not found.`);try{return this.exports()[e](...t)>>>0}catch(t){const n=`WASM function ${e} aborted, error: ${t}`;throw this.debug(n),this.debug(t.stack),new Error(n)}}async asyncCall(e,...t){if(this.asyncCallState.state)throw new Error(`Can only handle one async call at a time: ${e}(${t})`);return await this.asyncCallState.call(e,...t)}getMemory(){return 0===this.heap.length&&(this.heap=new Uint8Array(this.memory.buffer)),this.heap}memSize(){return this.getMemory().length}sliceMemory(e,t){return this.getMemory().slice(e,t)}transferToHeap(e,t){const n=this.getMemory();for(let r=0;r<e.length;r++)n[r+t]=e[r]}async acquire(){await this.mutexQ.get()}release(){if(0!==this.mutexQ.length())throw new Error("Release called but not acquired.");this.mutexQ.put(!0)}stringFromAddress(e){e>>>=0;const t=this.getMemory();let n=e;for(;0!==t[n];++n);return ye.from(t.slice(e,n)).toString("ascii")}debug(e){this.emit("log",e)}}var he=n(6390),be=n.n(he),ge=n(7456),_e=n.n(ge);class Te{constructor(){this.db=he(ge())}async get(e){return await this.db.get(e).catch((()=>{}))}async set(e,t){await this.db.put(e,t)}}async function Ie(e,t,n,r){const i=await(oe?(0,se.createNodeWorker)():async function(){const e=new Worker("/web_worker.js"),t=new A(e),n=new w(t);await n.open();const r=function(e,t){const n=function(e,t){const n=e.prototype instanceof l.EventEmitter?new l.EventEmitter:{};for(const r of Object.getOwnPropertyNames(e.prototype))"constructor"!==r&&(n[r]=t(r));return n}(e,(e=>(...n)=>{const r=n.reduce(((e,t)=>d(t)?[...e,...t.transferables]:e),[]);return n=n.map((e=>d(e)?e.send:e)),t.request({fn:e,args:n},r)}));return n instanceof l.EventEmitter&&t.on("event_msg",(({fn:e,args:t})=>{if("emit"===e){const[e,...r]=t;n.emit(e,...r)}})),n}(me,n);return r.destroyWorker=async()=>{await n.request({fn:"__destroyWorker__",args:[]}),n.close()},r}()),s=b(e?`bb:wasm:${e}`:"bb:wasm");i.on("log",(e=>s(e)));try{await i.init(t,n,r)}catch(e){await i.init(void 0,n,r)}return i}const ve=b("bb:worker_pool");class Se{constructor(){this.workers=[]}static async new(e,t){const n=new Se;return await n.init(e.module,t),n}async init(e,t,n=Se.MAX_PAGES){ve(`creating ${t} workers...`);const r=(new Date).getTime();this.workers=await Promise.all(Array(t).fill(0).map(((t,r)=>Ie(`${r}`,e,0===r?Math.min(Se.MAX_PAGES,n):768,n)))),ve(`created workers: ${(new Date).getTime()-r}ms`)}async destroy(){await Promise.all(this.workers.map((e=>e.destroyWorker())))}}Se.MAX_PAGES=8192;var De=n(8842).Buffer;class we{constructor(e,t=e){this.wasm=e,this.worker=t}async init(){this.wasm.call("pedersen__init"),await this.worker.call("pedersen__init")}compress(e,t){return this.wasm.transferToHeap(e,0),this.wasm.transferToHeap(t,32),this.wasm.call("pedersen__compress_fields",0,32,64),De.from(this.wasm.sliceMemory(64,96))}compressInputs(e){const t=ee(e);return this.wasm.transferToHeap(t,0),this.wasm.call("pedersen__compress",0,0),De.from(this.wasm.sliceMemory(0,32))}compressWithHashIndex(e,t){const n=ee(e);return this.wasm.transferToHeap(n,0),this.wasm.call("pedersen__compress_with_hash_index",0,0,t),De.from(this.wasm.sliceMemory(0,32))}hashToField(e){const t=this.wasm.call("bbmalloc",e.length);return this.wasm.transferToHeap(e,t),this.wasm.call("pedersen__buffer_to_field",t,e.length,0),this.wasm.call("bbfree",t),De.from(this.wasm.sliceMemory(0,32))}async hashToTree(e){const t=ee(e),n=await this.worker.call("bbmalloc",t.length);await this.worker.transferToHeap(this.worker instanceof me?t:u(t,[t.buffer]),n);const r=await this.worker.call("pedersen__hash_to_tree",n),i=De.from(await this.worker.sliceMemory(r,r+4)).readUInt32BE(0),s=De.from(await this.worker.sliceMemory(r,r+4+32*i));return await this.worker.call("bbfree",n),await this.worker.call("bbfree",r),te(Q,s).elem}}class Ee extends we{constructor(e,t){super(e),this.pool=[],this.pool=t.workers.map((t=>new we(e,t)))}async init(){await Promise.all(this.pool.map((e=>e.init())))}async hashToTree(e){if(!(t=e.length)||t&t-1)throw new Error("PooledPedersen::hashValuesToTree can only handle powers of 2.");var t;const n=Math.min(e.length/2,this.pool.length),r=this.pool.slice(0,Math.max(n,1)),i=e.length/r.length,s=(await Promise.all(r.map(((t,n)=>t.hashToTree(e.slice(n*i,(n+1)*i)))))).map((e=>{const t=[];for(let n=i,r=0;n>=1;r+=n,n/=2)t.push(e.slice(r,r+n));return t})),a=s[0];for(let e=1;e<s.length;++e)for(let t=0;t<s[e].length;++t)a[t]=[...a[t],...s[e][t]];for(;a[a.length-1].length>1;){const e=a[a.length-1],t=[];for(let n=0;n<e.length;n+=2)t[n/2]=this.pool[0].compress(e[n],e[n+1]);a.push(t)}return a.flat()}}var Ae=n(6915),Pe=n(8842).Buffer;const Ce=65536,xe=e=>{if(oe)return Ae.randomBytes(e);const t="undefined"!=typeof window&&window.crypto?window.crypto:"undefined"!=typeof self&&self.crypto?self.crypto:void 0;if(!t)throw new Error("randomBytes UnsupportedEnvironment");const n=Pe.allocUnsafe(e);if(e>Ce)for(let r=0;r<e;r+=Ce)t.getRandomValues(n.slice(r,r+Ce));else t.getRandomValues(n);return n};var Ne=n(8842).Buffer;class Re{constructor(e){if(this.buffer=e,e.length!==Re.SIZE)throw new Error(`Invalid signature buffer of length ${e.length}.`)}static isSignature(e){return/^(0x)?[0-9a-f]{128}$/i.test(e)}static fromString(e){if(!Re.isSignature(e))throw new Error(`Invalid signature string: ${e}`);return new Re(Ne.from(e.replace(/^0x/i,""),"hex"))}static randomSignature(){return new Re(xe(64))}s(){return this.buffer.slice(0,32)}e(){return this.buffer.slice(32)}toBuffer(){return this.buffer}toString(){return`0x${this.buffer.toString("hex")}`}}Re.SIZE=64,Re.EMPTY=new Re(Ne.alloc(64));var Le=n(8842).Buffer;class Ve{constructor(e){this.wasm=e}computePublicKey(e){return this.wasm.transferToHeap(e,0),this.wasm.call("compute_public_key",0,32),Le.from(this.wasm.sliceMemory(32,96))}negatePublicKey(e){const t=e.toBuffer();this.wasm.transferToHeap(t,0),this.wasm.call("negate_public_key",0,0);const n=Le.from(this.wasm.sliceMemory(0,t.length));return new je(n)}constructSignature(e,t){return this.wasm.transferToHeap(t,64),this.wasm.transferToHeap(e,96),this.wasm.call("construct_signature",96,e.length,64,0,32),new Re(Le.from(this.wasm.sliceMemory(0,64)))}verifySignature(e,t,n){return this.wasm.transferToHeap(t,0),this.wasm.transferToHeap(n.s(),64),this.wasm.transferToHeap(n.e(),96),this.wasm.transferToHeap(e,128),!!this.wasm.call("verify_signature",128,e.length,0,64,96)}multiSigComputePublicKey(e){return this.wasm.transferToHeap(e,128),this.wasm.call("multisig_create_multisig_public_key",128,0),Le.from(this.wasm.sliceMemory(0,128))}multiSigValidateAndCombinePublicKeys(e){const t=ee(e);return this.wasm.transferToHeap(t,64),this.wasm.call("multisig_validate_and_combine_signer_pubkeys",64,0)?Le.from(this.wasm.sliceMemory(0,64)):Le.alloc(64)}multiSigRoundOne(){return this.wasm.call("multisig_construct_signature_round_1",0,128),{publicOutput:Le.from(this.wasm.sliceMemory(0,128)),privateOutput:Le.from(this.wasm.sliceMemory(128,192))}}multiSigRoundTwo(e,t,n,r,i){const s=ee(r),a=ee(i);this.wasm.transferToHeap(e,32);const o=32+e.length;this.wasm.transferToHeap(t,o);const l=o+32;this.wasm.transferToHeap(n,l);const c=l+64;this.wasm.transferToHeap(s,c);const d=c+s.length;return this.wasm.transferToHeap(a,d),this.wasm.call("multisig_construct_signature_round_2",32,e.length,o,l,c,d,0)?Le.from(this.wasm.sliceMemory(0,32)):Le.alloc(32)}multiSigCombineSignatures(e,t,n,r){const i=ee(t),s=ee(n),a=ee(r);this.wasm.transferToHeap(e,64);const o=64+e.length;this.wasm.transferToHeap(i,o);const l=o+i.length;this.wasm.transferToHeap(s,l);const c=l+s.length;return this.wasm.transferToHeap(a,c),this.wasm.call("multisig_combine_signatures",64,e.length,o,l,c,0,32)?new Re(Le.from(this.wasm.sliceMemory(0,64))):void 0}}var ke=n(4277),Be=n.n(ke),Oe=n(8842).Buffer;class $e{constructor(e){this.wasm=e}hash(e){const t=this.wasm.call("bbmalloc",e.length+32);this.wasm.transferToHeap(e,t),this.wasm.call("sha256__hash",t,e.length,t+e.length);const n=Oe.from(this.wasm.sliceMemory(t+e.length,t+e.length+32));return this.wasm.call("bbfree",t),n}}const Fe=e=>Oe.from(ke.sha256().update(e).digest());function Me(e){return new R.C4(256).update(e).digest()}var Ye=n(8842).Buffer;const ze=new R.C4(256);function Ue(e){return ze.reset(),ze.update(e),ze.digest("hex")}class qe{constructor(e){if(this.buffer=e,32===e.length){if(!e.slice(0,12).equals(Ye.alloc(12)))throw new Error("Invalid address buffer.");this.buffer=e.slice(12)}else if(20!==e.length)throw new Error("Invalid address buffer.")}static fromString(e){if(!qe.isAddress(e))throw new Error(`Invalid address string: ${e}`);return new qe(Ye.from(e.replace(/^0x/i,""),"hex"))}static random(){return new qe(xe(20))}static isAddress(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(e)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(e))||qe.checkAddressChecksum(e))}isZero(){return this.equals(qe.ZERO)}static checkAddressChecksum(e){const t=Ue((e=e.replace(/^0x/i,"")).toLowerCase());for(let n=0;n<40;n++)if(parseInt(t[n],16)>7&&e[n].toUpperCase()!==e[n]||parseInt(t[n],16)<=7&&e[n].toLowerCase()!==e[n])return!1;return!0}static toChecksumAddress(e){if(!qe.isAddress(e))throw new Error("Invalid address string.");const t=Ue(e=e.toLowerCase().replace(/^0x/i,""));let n="0x";for(let r=0;r<e.length;r++)parseInt(t[r],16)>7?n+=e[r].toUpperCase():n+=e[r];return n}equals(e){return this.buffer.equals(e.toBuffer())}toString(){return qe.toChecksumAddress(this.buffer.toString("hex"))}toLowerCaseAddress(){return"0x"+this.buffer.toString("hex").toLowerCase()}toBuffer(){return this.buffer}toBuffer32(){const e=Ye.alloc(32);return this.buffer.copy(e,12),e}}qe.ZERO=new qe(Ye.alloc(20));var He=n(8842).Buffer;class Ke{constructor(e){this.wasm=e}mul(e,t){return this.wasm.transferToHeap(e,0),this.wasm.transferToHeap(t,64),this.wasm.call("ecc_grumpkin__mul",0,64,96),He.from(this.wasm.sliceMemory(96,160))}batchMul(e,t,n){const r=this.wasm.call("bbmalloc",2*e.length);this.wasm.transferToHeap(e,r),this.wasm.transferToHeap(t,0),this.wasm.call("ecc_grumpkin__batch_mul",r,0,n,r+e.length);const i=He.from(this.wasm.sliceMemory(r+e.length,r+e.length+e.length));return this.wasm.call("bbfree",r),i}getRandomFr(){return this.wasm.call("ecc_grumpkin__get_random_scalar_mod_circuit_modulus",0),He.from(this.wasm.sliceMemory(0,32))}reduce512BufferToFr(e){return this.wasm.transferToHeap(e,0),this.wasm.call("ecc_grumpkin__reduce512_buffer_mod_circuit_modulus",0,64),He.from(this.wasm.sliceMemory(64,96))}}Ke.generator=He.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,2,207,19,94,117,6,164,93,99,45,39,13,69,241,24,18,148,131,63,196,141,130,63,39,44]);var Ge=n(8842).Buffer;class je{constructor(e){if(this.buffer=e,e.length!==je.SIZE)throw new Error("Invalid address buffer.")}static isAddress(e){return/^(0x|0X)?[0-9a-fA-F]{128}$/.test(e)}static fromString(e){if(!je.isAddress(e))throw new Error(`Invalid address string: ${e}`);return new je(Ge.from(e.replace(/^0x/i,""),"hex"))}static fromPrivateKey(e,t){return new je(t.mul(Ke.generator,e))}static random(){return new je(xe(64))}static generator(){return new je(Ke.generator)}equals(e){return this.buffer.equals(e.toBuffer())}toBuffer(){return this.buffer}x(){return this.buffer.slice(0,32)}y(){return this.buffer.slice(32)}toString(){return`0x${this.buffer.toString("hex")}`}toShortString(){const e=this.toString();return`${e.slice(0,10)}...${e.slice(-4)}`}}je.SIZE=64,je.ZERO=new je(Ge.alloc(je.SIZE));var We=n(8842).Buffer;class Ze{constructor(e,t){this.publicKey=e,this.accountNonce=t}static fromBuffer(e){if(68!==e.length)throw new Error("Invalid id buffer.");const t=new je(e.slice(0,64)),n=e.readUInt32BE(64);return new Ze(t,n)}static fromString(e){const[t,n,r]=e.match(/^0x([0-9a-f]{128}) \(([0-9]+)\)$/i)||[];if(!t)throw new Error("Invalid id string.");const i=je.fromString(n);return new Ze(i,+r)}static random(){const e=Math.floor(Math.random()*2**32);return new Ze(je.random(),e)}equals(e){return this.toBuffer().equals(e.toBuffer())}toBuffer(){const e=We.alloc(4);return e.writeUInt32BE(this.accountNonce),We.concat([this.publicKey.toBuffer(),e])}toString(){return`${this.publicKey.toString()} (${this.accountNonce})`}toShortString(){return`${this.publicKey.toString().slice(0,10)}/${this.accountNonce}`}}var Je=n(8842).Buffer;class Xe{constructor(e){if(this.buffer=e,e.length!==Xe.SIZE)throw new Error("Invalid alias hash buffer.")}static random(){return new Xe(xe(28))}static fromAlias(e,t){return new Xe(t.hashToField(Je.from(e)).subarray(0,28))}static fromString(e){return new Xe(Je.from(e.replace(/^0x/i,""),"hex"))}toBuffer(){return this.buffer}toBuffer32(){const e=Je.alloc(32);return this.buffer.copy(e,4),e}toString(){return`0x${this.toBuffer().toString("hex")}`}equals(e){return this.toBuffer().equals(e.toBuffer())}}Xe.SIZE=28,Xe.ZERO=new Xe(Je.alloc(Xe.SIZE));var Qe=n(8842).Buffer;class et{constructor(e,t){this.aliasHash=e,this.accountNonce=t}static fromAlias(e,t,n){return new et(Xe.fromAlias(e,n),t)}static random(){return new et(Xe.random(),0)}static fromBuffer(e){if(32!==e.length)throw new Error("Invalid id buffer.");const t=new Xe(e.slice(4,32)),n=e.readUInt32BE(0);return new et(t,n)}toBuffer(){const e=Qe.alloc(4);return e.writeUInt32BE(this.accountNonce),Qe.concat([e,this.aliasHash.toBuffer()])}toString(){return`0x${this.toBuffer().toString("hex")}`}equals(e){return this.aliasHash.equals(e.aliasHash)&&this.accountNonce===e.accountNonce}}et.ZERO=et.fromBuffer(Qe.alloc(32));var tt=n(8842).Buffer;class nt{constructor(e=[]){this.data=e}static ZERO(e,t,n){const r=[];let i=t;for(let t=0;t<e;++t)r.push([i,i]),i=n.compress(i,i);return new nt(r)}toBuffer(){return ee(this.data.map((e=>tt.concat([e[0],e[1]]))))}static fromBuffer(e,t=0){const{elem:n}=nt.deserialize(e,t);return n}static deserialize(e,t=0){const{elem:n,adv:r}=te(((e,t)=>({elem:[e.slice(t,t+32),e.slice(t+32,t+64)],adv:64})),e,t);return{elem:new nt(n),adv:r}}toString(){return this.toBuffer().toString("hex")}static fromString(e){return nt.fromBuffer(tt.from(e,"hex"))}}var rt=n(8842).Buffer;class it{constructor(e,t){if(this.notes=e,this.hasher=t,this.hashes=[],!(n=e.length)||n&n-1)throw new Error("MemoryMerkleTree can only handle powers of 2.");var n}getHashPath(e){if(e<0||e>=this.notes.length)throw new Error("Index out of bounds");if(!Number.isInteger(e))throw new Error("Index invalid");const t=[];let n=this.notes.length,r=0;for(;n>1;){const i=e+r;r+=n;const s=e%2?[this.hashes[i-1],this.hashes[i]]:[this.hashes[i],this.hashes[i+1]];t.push(s),e>>=1,n>>=1}return new nt(t)}getRoot(){return this.hashes[this.hashes.length-1]}getSize(){return this.notes.length}static async new(e,t){const n=new it(e,t);return await n.buildTree(),n}async buildTree(){this.hashes=await this.hasher.hashToTree(this.notes)}}it.ZERO_ELEMENT=rt.from("0000000000000000000000000000000000000000000000000000000000000000","hex");class st{constructor(){this.start=(new Date).getTime()}ms(){return(new Date).getTime()-this.start}s(){return((new Date).getTime()-this.start)/1e3}}var at=n(8842).Buffer;const ot=b("bb:merkle_tree");function lt(e,t){return t>=32?e:e&(1<<t)-1}class ct{constructor(e,t,n,r,i=0,s,a=ct.ZERO_ELEMENT){if(this.db=e,this.hasher=t,this.name=n,this.depth=r,this.size=i,this.initialLeafValue=a,this.zeroHashes=[],!(r>=1&&r<=32))throw Error("Bad depth");let o=a;for(let e=0;e<r;++e)this.zeroHashes[e]=o,o=t.compress(o,o);this.root=s||o}static async new(e,t,n,r,i=ct.ZERO_ELEMENT){const s=new ct(e,t,n,r,0,void 0,i);return await s.writeMeta(),s}static async fromName(e,t,n,r=ct.ZERO_ELEMENT){const i=await e.get(at.from(n)),s=i.slice(0,32),a=i.readUInt32LE(32),o=i.readUInt32LE(36);return new ct(e,t,n,a,o,s,r)}async syncFromDb(){const e=await this.db.get(at.from(this.name));this.root=e.slice(0,32),this.depth=e.readUInt32LE(32),this.size=e.readUInt32LE(36)}async writeMeta(e){const t=at.alloc(40);this.root.copy(t),t.writeUInt32LE(this.depth,32),t.writeUInt32LE(this.size,36),e?e.put(this.name,t):await this.db.put(this.name,t)}getRoot(){return this.root}getSize(){return this.size}async getHashPath(e){const t=new nt;let n=await this.dbGet(this.root);for(let r=this.depth-1;r>=0;--r){if(!n){t.data[r]=[this.zeroHashes[r],this.zeroHashes[r]];continue}if(n.length>64){const i=r+1;let s=2**i,a=0;e=lt(e,i);for(let r=0;r<i;++r){const i=a+32*(e-=1&e);t.data[r]=[n.slice(i,i+32),n.slice(i+32,i+64)],a+=32*s,s>>=1,e>>=1}break}const i=n.slice(0,32),s=n.slice(32,64);t.data[r]=[i,s];const a=e>>r&1;n=await this.dbGet(a?s:i)}return t}async updateElement(e,t){return await this.updateLeafHash(e,t.equals(at.alloc(32,0))?this.initialLeafValue:t)}async updateLeafHash(e,t){const n=this.db.batch();this.root=await this.updateElementInternal(this.root,t,e,this.depth,n),this.size=Math.max(this.size,e+1),await this.writeMeta(n),await n.write()}async updateElementInternal(e,t,n,r,i){if(0===r)return t;const s=await this.dbGet(e),a=n>>r-1&1;let o=s?s.slice(0,32):this.zeroHashes[r-1],l=s?s.slice(32,64):this.zeroHashes[r-1];const c=a?l:o,d=await this.updateElementInternal(c,t,lt(n,r-1),r-1,i);a?l=d:o=d;const u=this.hasher.compress(o,l);return i.put(u,at.concat([o,l])),e.equals(u)||i.del(e),u}async updateElements(e,t){const n=at.alloc(32,0);return await this.updateLeafHashes(e,t.map((e=>e.equals(n)?this.initialLeafValue:e)))}async updateLeafHashes(e,t){for(;t.length;){const n=this.db.batch();let r=Math.ceil(Math.log2(t.length)),i=2**r;for(;t.length<i||e%i!=0;)i>>=1,r--;const s=t.slice(0,i),a=await this.hasher.hashToTree(s);ot(`updateLeafHashes calculating batch update to insert ${s.length} leaves at ${e}...`),this.root=await this.updateElementsInternal(this.root,a,e,this.depth,r,n),t=t.slice(i),e+=i,this.size=e,await this.writeMeta(n);const o=new st;ot(`updateLeafHashes writing ${s.length} leaves...`),await n.write(),ot(`updateLeafHashes write complete in ${o.ms()}ms.`)}}async updateElementsInternal(e,t,n,r,i,s){if(r===i){const e=t.pop();return s.put(e,at.concat(t)),e}if(t[t.length-1].equals(this.zeroHashes[r-1]))return e;const a=await this.dbGet(e),o=n>>r-1&1;if(a&&a.length>64){if(!e.equals(t[t.length-1]))throw new Error("Attempting to update pre-existing subtree.");return e}let l=a?a.slice(0,32):this.zeroHashes[r-1],c=a?a.slice(32,64):this.zeroHashes[r-1];const d=o?c:l,u=await this.updateElementsInternal(d,t,lt(n,r-1),r-1,i,s);o?c=u:l=u;const p=this.hasher.compress(l,c);return s.put(p,at.concat([l,c])),e.equals(p)||s.del(e),p}async dbGet(e){return await this.db.get(e).catch((()=>{}))}}ct.ZERO_ELEMENT=at.from("0000000000000000000000000000000000000000000000000000000000000000","hex");var dt=n(8842).Buffer;class ut{constructor(e,t,n,r,i,s,a,o,l,c,d){this.merkleRoot=e,this.accountPublicKey=t,this.newAccountPublicKey=n,this.newSpendingPublicKey1=r,this.newSpendingPublicKey2=i,this.aliasHash=s,this.create=a,this.migrate=o,this.accountIndex=l,this.accountPath=c,this.spendingPublicKey=d}toBuffer(){return dt.concat([this.merkleRoot,this.accountPublicKey.toBuffer(),this.newAccountPublicKey.toBuffer(),this.newSpendingPublicKey1.toBuffer(),this.newSpendingPublicKey2.toBuffer(),this.aliasHash.toBuffer32(),dt.from([this.create?1:0]),dt.from([this.migrate?1:0]),q(this.accountIndex),this.accountPath.toBuffer(),this.spendingPublicKey.toBuffer()])}static fromBuffer(e){let t=0;const n=e.slice(t,t+32);t+=32;const r=new je(e.slice(t,t+64));t+=64;const i=new je(e.slice(t,t+64));t+=64;const s=new je(e.slice(t,t+64));t+=64;const a=new je(e.slice(t,t+64));t+=64;const o=new Xe(e.slice(t+4,t+32));t+=32;const l=!!e[t];t+=1;const c=!!e[t];t+=1;const d=e.readUInt32BE(t);t+=4;const{elem:u,adv:p}=nt.deserialize(e,t);t+=p;const f=new je(e.slice(t,t+64));return new ut(n,r,i,s,a,o,l,c,d,u,f)}}n(8842).Buffer;var pt=n(8842).Buffer;async function ft(e,t){return await t.transferToHeap(e.toBuffer(),0),await t.call("join_split__compute_signing_data",0,0),pt.from(await t.sliceMemory(0,32))}var yt=n(8842).Buffer;class mt{constructor(e,t=!1){this.prover=e,this.mock=t}static getCircuitSize(e=!1){return e?512:65536}async computeKey(e){const t=this.prover.getWorker();await o((async()=>await t.asyncCall("join_split__init_proving_key",this.mock)),e,"JoinSplitProver.computeKey")}async releaseKey(){const e=this.prover.getWorker();await e.call("join_split__release_key")}async loadKey(e){const t=this.prover.getWorker(),n=await t.call("bbmalloc",e.length);await t.transferToHeap(u(e,[e.buffer]),n),await t.call("join_split__init_proving_key_from_buffer",n),await t.call("bbfree",n)}async getKey(){const e=this.prover.getWorker();await e.acquire();try{const t=await e.call("join_split__get_new_proving_key_data",0),n=yt.from(await e.sliceMemory(0,4)).readUInt32LE(0),r=yt.from(await e.sliceMemory(n,n+t));return await e.call("bbfree",n),r}finally{await e.release()}}async computeSigningData(e){const t=this.prover.getWorker();return await ft(e,t)}async createProof(e,t){const n=e.toBuffer(),r=this.prover.getWorker(),i=await r.call("bbmalloc",n.length);await r.transferToHeap(n,i);const s=await r.asyncCall("join_split__new_prover",i,this.mock);await r.call("bbfree",i);const a=await this.prover.createProof(s,t);return await r.call("join_split__delete_prover",s),a}getProver(){return this.prover}}n(8842).Buffer;var ht=n(6322),bt=n(8842).Buffer;class gt{constructor(e,t,n,r){if(this.value=e,this.assetId=t,this.accountRequired=n,this.creatorPubKey=r,32!==r.length)throw new Error("Invalid note secret buffer.")}static fromBuffer(e){if(e.length!==gt.SIZE)throw new Error("Invalid data buffer.");const t=F(e.slice(0,32)),n=e.readUInt32BE(32),r=!!e.readUInt32BE(36),i=e.slice(40,72);return new gt(t,n,r,i)}static random(){return gt.fromBuffer(xe(gt.SIZE))}toBuffer(){return bt.concat([Y(this.value,32),q(this.assetId),q(+this.accountRequired),this.creatorPubKey])}}gt.SIZE=72,gt.DECRYPTED_SIZE=73;var _t=n(8842).Buffer;class Tt{constructor(e){if(e&&e.length>0){if(e.length!==Tt.SIZE)throw new Error("Invalid hash buffer.");this.buffer=e}else this.buffer=_t.alloc(0)}static fromString(e){return new Tt(_t.from(e,"hex"))}static random(){return new Tt(xe(Tt.SIZE))}static createFromEphPriv(e,t,n,r){const i=r.mul(Ke.generator,n),s=function(e,t,n){const r=n.mul(e.toBuffer(),t),i=_t.concat([r,H(1)]);return Fe(i)}(t,n,r),a=s.slice(0,16),o=s.slice(16,32),l=(0,ht.CW)("aes-128-cbc",a,o);l.setAutoPadding(!1);const c=_t.concat([o.slice(0,8),e.toBuffer()]);return new Tt(_t.concat([l.update(c),l.final(),i]))}isEmpty(){return 0===this.buffer.length}equals(e){return this.buffer.equals(e.buffer)}toBuffer(){return this.buffer}toString(){return this.toBuffer().toString("hex")}}Tt.SIZE=144,Tt.EMPTY=new Tt;var It=n(8842).Buffer;class vt{constructor(e,t,n){if(this.data=e,this.ephPubKey=t,this.noteSecret=n,32!==n.length)throw new Error("Invalid note secret buffer.")}static fromBuffer(e){let t=0;const n=gt.fromBuffer(e.slice(t,t+gt.SIZE));t+=gt.SIZE;const r=new je(e.slice(t,t+je.SIZE));t+=je.SIZE;const i=e.slice(t,t+32);return new vt(n,r,i)}toBuffer(){return It.concat([this.data.toBuffer(),this.ephPubKey.toBuffer(),this.noteSecret])}}vt.SIZE=gt.SIZE+je.SIZE+32;var St=n(8842).Buffer;function Dt(e,t,n){const r=n.mul(e.toBuffer(),t),i=St.concat([r,H(2)]),s=St.concat([r,H(3)]),a=Fe(i),o=Fe(s),l=St.concat([a,o]);return n.reduce512BufferToFr(l)}const wt=async(e,t,n,r)=>{const i=await n.batchDecryptNotes(e,t),s=[];for(let n=0,a=0;a<i.length;++n,a+=gt.DECRYPTED_SIZE){const o=i.slice(a,a+gt.DECRYPTED_SIZE);if(o[0]){const i=new je(e.slice((n+1)*Tt.SIZE-64,(n+1)*Tt.SIZE)),a=Dt(i,t,r),l=gt.fromBuffer(o.slice(1));s[n]=new vt(l,i,a)}}return s};var Et;!function(e){e[e.NADA=0]="NADA",e[e.OPEN_LOAN=1]="OPEN_LOAN",e[e.CLOSE_LOAN=2]="CLOSE_LOAN",e[e.OPEN_LP=3]="OPEN_LP",e[e.CLOSE_LP=4]="CLOSE_LP"}(Et=Et||(Et={}));const At=(e,t,n)=>Number(e>>BigInt(t)&(BigInt(1)<<BigInt(n))-BigInt(1));class Pt{constructor(e,t){this.secondInputInUse=e,this.secondOutputInUse=t}static fromBigInt(e){return new Pt(0!=At(e,0,1),0!=At(e,1,1))}toBigInt(){return BigInt(this.secondInputInUse)+(BigInt(this.secondOutputInUse)<<BigInt(1))}}Pt.EMPTY=new Pt(!1,!1);const Ct=1<<29,xt=1<<29;var Nt=n(8842).Buffer;const Rt=(e=2**30-1)=>Math.floor(Math.random()*(e+1)),Lt=(e,t,n)=>e>>BigInt(t)&(BigInt(1)<<BigInt(n))-BigInt(1);class Vt{constructor(e,t,n,r,i,s=BigInt(0)){this.bridgeAddressId=e,this.inputAssetIdA=t,this.outputAssetIdA=n,this.inputAssetIdB=r,this.outputAssetIdB=i,this.auxData=s,this.bitConfig=new Pt(void 0!==r,void 0!==i)}static random(){return new Vt(Rt(),Rt(),Rt(),Rt(),Rt(),BigInt(Rt()))}static fromBigInt(e){const t=Number(Lt(e,0,32)),n=Number(Lt(e,32,30)),r=Number(Lt(e,92,30)),i=Number(Lt(e,62,30)),s=Number(Lt(e,122,30)),a=Lt(e,184,64),o=Pt.fromBigInt(BigInt(Lt(e,152,32)));if(!o.secondInputInUse&&i)throw new Error("Inconsistent second input.");if(!o.secondOutputInUse&&s)throw new Error("Inconsistent second output.");return new Vt(t,n,r,o.secondInputInUse?i:void 0,o.secondOutputInUse?s:void 0,a)}static fromBuffer(e){if(32!==e.length)throw new Error("Invalid buffer.");return Vt.fromBigInt(F(e))}static fromString(e){return Vt.fromBuffer(Nt.from(e.replace(/^0x/i,""),"hex"))}get firstInputVirtual(){return s(this.inputAssetIdA)}get secondInputVirtual(){return!!this.inputAssetIdB&&s(this.inputAssetIdB)}get firstOutputVirtual(){return s(this.outputAssetIdA)}get secondOutputVirtual(){return!!this.outputAssetIdB&&s(this.outputAssetIdB)}get secondInputInUse(){return this.bitConfig.secondInputInUse}get secondOutputInUse(){return this.bitConfig.secondOutputInUse}get numInputAssets(){return this.bitConfig.secondInputInUse?2:1}get numOutputAssets(){return this.bitConfig.secondOutputInUse?2:1}toBigInt(){return BigInt(this.bridgeAddressId)+(BigInt(this.inputAssetIdA)<<BigInt(32))+(BigInt(this.inputAssetIdB||0)<<BigInt(62))+(BigInt(this.outputAssetIdA)<<BigInt(92))+(BigInt(this.outputAssetIdB||0)<<BigInt(122))+(this.bitConfig.toBigInt()<<BigInt(152))+(BigInt(this.auxData)<<BigInt(184))}toBuffer(){return Y(this.toBigInt(),32)}toString(){return`0x${this.toBuffer().toString("hex")}`}equals(e){return e.toBuffer().equals(this.toBuffer())}}Vt.ZERO=new Vt(0,0,0),Vt.SIZE=32;const kt=e=>{if(e.inputAssetIdA===e.inputAssetIdB)throw new Error("Identical input assets.");if(!e.secondOutputVirtual&&e.outputAssetIdA===e.outputAssetIdB)throw new Error("Identical output assets.")};var Bt=n(8842).Buffer;class Ot{constructor(e,t,n,r){this.value=e,this.bridgeCallData=t,this.partialStateSecret=n,this.inputNullifier=r}toBuffer(){return Bt.concat([Y(this.value,32),this.bridgeCallData.toBuffer(),this.partialStateSecret,this.inputNullifier])}equals(e){return this.toBuffer().equals(e.toBuffer())}static fromBuffer(e){let t=0;const n=F(e.slice(t,t+32));t+=32;const r=Vt.fromBuffer(e.slice(t,t+32));t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);return new Ot(n,r,i,s)}}Ot.EMPTY=new Ot(BigInt(0),Vt.ZERO,Bt.alloc(32),Bt.alloc(32)),Ot.SIZE=Ot.EMPTY.toBuffer().length;var $t=n(8842).Buffer;class Ft{constructor(e,t,n,r,i,s){this.bridgeCallData=e,this.nonce=t,this.totalInputValue=n,this.totalOutputValueA=r,this.totalOutputValueB=i,this.result=s}static deserialize(e,t){const n=new ne(e,t),r=n.buffer(32),i=Vt.fromBuffer(r),s=n.bigInt(),a=n.bigInt(),o=n.bigInt(),l=n.uInt32(),c=n.bool();return{elem:new Ft(i,l,s,a,o,c),adv:n.getOffset()-t}}static random(){return new Ft(Vt.random(),xe(4).readUInt32BE(0),F(xe(32)),F(xe(32)),F(xe(32)),!!Math.round(Math.random()))}static fromBuffer(e){return Ft.deserialize(e,0).elem}toBuffer(){const e=new ie;return e.buffer(this.bridgeCallData.toBuffer()),e.bigInt(this.totalInputValue),e.bigInt(this.totalOutputValueA),e.bigInt(this.totalOutputValueB),e.uInt32(this.nonce),e.bool(this.result),e.getBuffer()}equals(e){return this.toBuffer().equals(e.toBuffer())}}Ft.EMPTY=new Ft(Vt.ZERO,0,BigInt(0),BigInt(0),BigInt(0),!1),Ft.groupModulus=BigInt("21888242871839275222246405745257275088548364400416034343698204186575808495617");const Mt=(e,t=e.length)=>(e=[...e,...Array(t-e.length).fill(Ft.EMPTY)]).map((e=>Fe($t.concat([e.bridgeCallData.toBuffer(),q(e.nonce,32),Y(e.totalInputValue,32),Y(e.totalOutputValueA,32),Y(e.totalOutputValueB,32),$t.alloc(31),$t.from([+e.result])])))).map((e=>Y(BigInt("0x"+e.toString("hex"))%Ft.groupModulus,32)));var Yt=n(8842).Buffer;class zt{constructor(e){this.wasm=e}valueNoteNullifier(e,t,n=!0){return this.wasm.transferToHeap(e,0),this.wasm.transferToHeap(t,64),this.wasm.call("notes__value_note_nullifier",0,64,n,0),Yt.from(this.wasm.sliceMemory(0,32))}valueNoteNullifierBigInt(e,t,n=!0){return F(this.valueNoteNullifier(e,t,n))}valueNoteCommitment(e){const t=e.toBuffer(),n=this.wasm.call("bbmalloc",t.length);return this.wasm.transferToHeap(t,n),this.wasm.call("notes__value_note_commitment",n,0),this.wasm.call("bbfree",n),Yt.from(this.wasm.sliceMemory(0,32))}valueNotePartialCommitment(e,t,n){return this.wasm.transferToHeap(e,0),this.wasm.transferToHeap(t.toBuffer(),32),this.wasm.transferToHeap(Yt.alloc(32),96),this.wasm.call("notes__value_note_partial_commitment",0,32,96,n,0),Yt.from(this.wasm.sliceMemory(0,32))}claimNotePartialCommitment(e){const t=e.toBuffer(),n=this.wasm.call("bbmalloc",t.length);return this.wasm.transferToHeap(t,n),this.wasm.call("notes__claim_note_partial_commitment",n,0),this.wasm.call("bbfree",n),Yt.from(this.wasm.sliceMemory(0,32))}claimNoteCompletePartialCommitment(e,t,n){return this.wasm.transferToHeap(e,0),this.wasm.transferToHeap(Y(n,32),32),this.wasm.call("notes__claim_note_complete_partial_commitment",0,t,32,0),Yt.from(this.wasm.sliceMemory(0,32))}claimNoteCommitment(e){const t=this.claimNotePartialCommitment(e);return this.claimNoteCompletePartialCommitment(t,e.defiInteractionNonce,e.fee)}claimNoteNullifier(e){return this.wasm.transferToHeap(e,0),this.wasm.call("notes__claim_note_nullifier",0,0),Yt.from(this.wasm.sliceMemory(0,32))}defiInteractionNoteCommitment(e){const t=e.toBuffer(),n=this.wasm.call("bbmalloc",t.length);return this.wasm.transferToHeap(t,n),this.wasm.call("notes__defi_interaction_note_commitment",n,0),this.wasm.call("bbfree",n),Yt.from(this.wasm.sliceMemory(0,32))}accountNoteCommitment(e,t,n){return this.wasm.transferToHeap(e.toBuffer32(),0),this.wasm.transferToHeap(t.toBuffer(),32),this.wasm.transferToHeap(n,64),this.wasm.call("notes__account_note_commitment",0,32,64,0),Yt.from(this.wasm.sliceMemory(0,32))}accountAliasHashNullifier(e){return this.wasm.transferToHeap(e.toBuffer32(),0),this.wasm.call("notes__compute_account_alias_hash_nullifier",0,0),Yt.from(this.wasm.sliceMemory(0,32))}accountPublicKeyNullifier(e){return this.wasm.transferToHeap(e.toBuffer(),0),this.wasm.call("notes__compute_account_public_key_nullifier",0,0),Yt.from(this.wasm.sliceMemory(0,32))}}var Ut=n(8842).Buffer;class qt{constructor(e){this.worker=e}async batchDecryptNotes(e,t){const n=e.length/Tt.SIZE,r=await this.worker.call("bbmalloc",e.length+t.length);await this.worker.transferToHeap(e,r),await this.worker.transferToHeap(t,r+e.length),await this.worker.call("notes__batch_decrypt_notes",r,r+e.length,n,r);const i=Ut.from(await this.worker.sliceMemory(r,r+n*gt.DECRYPTED_SIZE));return await this.worker.call("bbfree",r),i}}var Ht=n(8842).Buffer;class Kt{constructor(e){this.pool=[],this.pool=e.workers.map((e=>new qt(e)))}async batchDecryptNotes(e,t){const n=e.length/Tt.SIZE,r=Math.max(1,Math.floor(n/this.pool.length)),i=Math.min(Math.ceil(n/r),this.pool.length),s=n-r*i;let a=0;const o=[...Array(i)].map(((t,n)=>{const i=a+(r+ +(n<s))*Tt.SIZE,o=e.slice(a,i);return a=i,o})),l=await Promise.all(o.map(((e,n)=>this.pool[n].batchDecryptNotes(e,t))));return Ht.concat(l)}}var Gt=n(8842).Buffer;class jt{constructor(e,t,n,r,i,s,a){this.ownerPubKey=e,this.value=t,this.assetId=n,this.accountRequired=r,this.noteSecret=i,this.creatorPubKey=s,this.inputNullifier=a}toBuffer(){return Gt.concat([Y(this.value,32),q(this.assetId),Gt.from([this.accountRequired?1:0]),this.ownerPubKey.toBuffer(),this.noteSecret,this.creatorPubKey,this.inputNullifier])}createViewingKey(e,t){const n=new gt(this.value,this.assetId,this.accountRequired,this.creatorPubKey);return Tt.createFromEphPriv(n,this.ownerPubKey,e,t)}static fromBuffer(e){let t=0;const n=F(e.slice(t,t+32));t+=32;const r=e.readUInt32BE(t);t+=4;const i=!!e[t];t+=1;const s=new je(e.slice(t,t+64));t+=64;const a=e.slice(t,t+32);t+=32;const o=e.slice(t,t+32);t+=32;const l=e.slice(t,t+32);return new jt(s,n,r,i,a,o,l)}static createFromEphPriv(e,t,n,r,i,s,a,o=Gt.alloc(32)){const l=Dt(e,s,a);return new jt(e,t,n,r,l,o,i)}static createFromEphPub(e,t,n,r,i,s,a,o,l=Gt.alloc(32)){const c=Dt(s,a,o);return new jt(e,t,n,r,c,l,i)}static recover(e,t,n){const{data:{value:r,assetId:i,accountRequired:s,creatorPubKey:a},noteSecret:o}=e;return new jt(n,r,i,s,o,a,t)}}jt.EMPTY=new jt(je.generator(),BigInt(0),0,!1,Gt.alloc(32),Gt.alloc(32),Gt.alloc(32)),jt.SIZE=jt.EMPTY.toBuffer().length;const Wt=b("recover_tree_notes");var Zt=n(8842).Buffer;class Jt{constructor(e,t,n,r,i,s){this.value=e,this.bridgeCallData=t,this.defiInteractionNonce=n,this.fee=r,this.partialState=i,this.inputNullifier=s}static random(){return new Jt(F(xe(32)),Vt.random(),xe(4).readUInt32BE(0),F(xe(32)),xe(32),xe(32))}static deserialize(e,t){return{elem:Jt.fromBuffer(e.slice(t,t+Jt.LENGTH)),adv:Jt.LENGTH}}static fromBuffer(e){const t=F(e.slice(0,32));let n=32;const r=Vt.fromBuffer(e.slice(n,n+Vt.SIZE));n+=32;const i=e.readUInt32BE(n);n+=4;const s=F(e.slice(n,n+32));n+=32;const a=e.slice(n,n+32);n+=32;const o=e.slice(n,n+32);return new Jt(t,r,i,s,a,o)}toBuffer(){return Zt.concat([Y(this.value,32),this.bridgeCallData.toBuffer(),q(this.defiInteractionNonce),Y(this.fee,32),this.partialState,this.inputNullifier])}equals(e){return this.toBuffer().equals(e.toBuffer())}}Jt.EMPTY=new Jt(BigInt(0),Vt.ZERO,0,BigInt(0),Zt.alloc(32),Zt.alloc(32)),Jt.LENGTH=Jt.EMPTY.toBuffer().length;var Xt,Qt,en=n(8842).Buffer;class tn{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f,y,m,h,b,g,_=Re.EMPTY){this.proofId=e,this.publicValue=t,this.publicOwner=n,this.publicAssetId=r,this.numInputNotes=i,this.inputNoteIndices=s,this.merkleRoot=a,this.inputNotePaths=o,this.inputNotes=l,this.outputNotes=c,this.claimNote=d,this.accountPrivateKey=u,this.aliasHash=p,this.accountRequired=f,this.accountIndex=y,this.accountPath=m,this.spendingPublicKey=h,this.backwardLink=b,this.allowChain=g,this.signature=_}toBuffer(){return en.concat([q(this.proofId),Y(this.publicValue,32),this.publicOwner.toBuffer32(),q(this.publicAssetId),q(this.numInputNotes),q(this.inputNoteIndices[0]),q(this.inputNoteIndices[1]),this.merkleRoot,this.inputNotePaths[0].toBuffer(),this.inputNotePaths[1].toBuffer(),this.inputNotes[0].toBuffer(),this.inputNotes[1].toBuffer(),this.outputNotes[0].toBuffer(),this.outputNotes[1].toBuffer(),this.claimNote.toBuffer(),this.accountPrivateKey,this.aliasHash.toBuffer32(),en.from([+this.accountRequired]),q(this.accountIndex),this.accountPath.toBuffer(),this.spendingPublicKey.toBuffer(),this.backwardLink,q(this.allowChain),this.signature.toBuffer()])}static fromBuffer(e){let t=0;const n=e.readUInt32BE(t);t+=4;const r=F(e.slice(t,t+32));t+=32;const i=new qe(e.slice(t,t+32));t+=32;const s=e.readUInt32BE(t);t+=4;const a=e.readUInt32BE(t);t+=4;const o=[e.readUInt32BE(t),e.readUInt32BE(t+4)];t+=8;const l=e.slice(t,t+32);t+=32;const c=nt.deserialize(e,t);t+=c.adv;const d=nt.deserialize(e,t);t+=d.adv;const u=jt.fromBuffer(e.slice(t));t+=jt.SIZE;const p=jt.fromBuffer(e.slice(t));t+=jt.SIZE;const f=jt.fromBuffer(e.slice(t));t+=jt.SIZE;const y=jt.fromBuffer(e.slice(t));t+=jt.SIZE;const m=Ot.fromBuffer(e.slice(t));t+=Ot.SIZE;const h=e.slice(t,t+32);t+=32;const b=new Xe(e.slice(t+4,t+32));t+=32;const g=!!e[t];t+=1;const _=e.readUInt32BE(t);t+=4;const T=nt.deserialize(e,t);t+=T.adv;const I=new je(e.slice(t,t+64));t+=64;const v=e.subarray(t,t+32);t+=32;const S=e.readUInt32BE(t);t+=4;const D=new Re(e.subarray(t));return new tn(n,r,i,s,a,o,l,[c.elem,d.elem],[u,p],[f,y],m,h,b,g,_,T.elem,I,v,S,D)}}(Qt=Xt=Xt||(Xt={}))[Qt.PADDING=0]="PADDING",Qt[Qt.DEPOSIT=1]="DEPOSIT",Qt[Qt.WITHDRAW=2]="WITHDRAW",Qt[Qt.SEND=3]="SEND",Qt[Qt.ACCOUNT=4]="ACCOUNT",Qt[Qt.DEFI_DEPOSIT=5]="DEFI_DEPOSIT",Qt[Qt.DEFI_CLAIM=6]="DEFI_CLAIM";var nn=n(8842).Buffer;const rn=new R.C4(256);function sn(e){const t=e.readUInt32BE(28)===Xt.DEFI_DEPOSIT?nn.concat([e.slice(0,32),nn.alloc(32),e.slice(64)]):e;return rn.reset(),rn.update(t).digest()}var an,on;!function(e){e[e.PROOF_ID=0]="PROOF_ID",e[e.NOTE_COMMITMENT_1=1]="NOTE_COMMITMENT_1",e[e.NOTE_COMMITMENT_2=2]="NOTE_COMMITMENT_2",e[e.NULLIFIER_1=3]="NULLIFIER_1",e[e.NULLIFIER_2=4]="NULLIFIER_2",e[e.PUBLIC_VALUE=5]="PUBLIC_VALUE",e[e.PUBLIC_OWNER=6]="PUBLIC_OWNER",e[e.PUBLIC_ASSET_ID=7]="PUBLIC_ASSET_ID",e[e.NOTE_TREE_ROOT=8]="NOTE_TREE_ROOT",e[e.TX_FEE=9]="TX_FEE",e[e.TX_FEE_ASSET_ID=10]="TX_FEE_ASSET_ID",e[e.BRIDGE_CALL_DATA=11]="BRIDGE_CALL_DATA",e[e.DEFI_DEPOSIT_VALUE=12]="DEFI_DEPOSIT_VALUE",e[e.DEFI_ROOT=13]="DEFI_ROOT",e[e.BACKWARD_LINK=14]="BACKWARD_LINK",e[e.ALLOW_CHAIN=15]="ALLOW_CHAIN"}(an||(an={})),function(e){e[e.PROOF_ID=28]="PROOF_ID",e[e.NOTE_COMMITMENT_1=32]="NOTE_COMMITMENT_1",e[e.NOTE_COMMITMENT_2=64]="NOTE_COMMITMENT_2",e[e.NULLIFIER_1=96]="NULLIFIER_1",e[e.NULLIFIER_2=128]="NULLIFIER_2",e[e.PUBLIC_VALUE=160]="PUBLIC_VALUE",e[e.PUBLIC_OWNER=192]="PUBLIC_OWNER",e[e.PUBLIC_ASSET_ID=224]="PUBLIC_ASSET_ID",e[e.NOTE_TREE_ROOT=256]="NOTE_TREE_ROOT",e[e.TX_FEE=288]="TX_FEE",e[e.TX_FEE_ASSET_ID=320]="TX_FEE_ASSET_ID",e[e.BRIDGE_CALL_DATA=352]="BRIDGE_CALL_DATA",e[e.DEFI_DEPOSIT_VALUE=384]="DEFI_DEPOSIT_VALUE",e[e.DEFI_ROOT=416]="DEFI_ROOT",e[e.BACKWARD_LINK=448]="BACKWARD_LINK",e[e.ALLOW_CHAIN=480]="ALLOW_CHAIN"}(on||(on={}));class ln{constructor(e,t){this.rawProofData=e,this.proofId=e.readUInt32BE(on.PROOF_ID),this.noteCommitment1=e.slice(on.NOTE_COMMITMENT_1,on.NOTE_COMMITMENT_1+32),this.noteCommitment2=e.slice(on.NOTE_COMMITMENT_2,on.NOTE_COMMITMENT_2+32),this.nullifier1=e.slice(on.NULLIFIER_1,on.NULLIFIER_1+32),this.nullifier2=e.slice(on.NULLIFIER_2,on.NULLIFIER_2+32),this.publicValue=e.slice(on.PUBLIC_VALUE,on.PUBLIC_VALUE+32),this.publicOwner=e.slice(on.PUBLIC_OWNER,on.PUBLIC_OWNER+32),this.publicAssetId=e.slice(on.PUBLIC_ASSET_ID,on.PUBLIC_ASSET_ID+32),this.noteTreeRoot=e.slice(on.NOTE_TREE_ROOT,on.NOTE_TREE_ROOT+32),this.txFee=e.slice(on.TX_FEE,on.TX_FEE+32),this.txFeeAssetId=e.slice(on.TX_FEE_ASSET_ID,on.TX_FEE_ASSET_ID+32),this.bridgeCallData=e.slice(on.BRIDGE_CALL_DATA,on.BRIDGE_CALL_DATA+32),this.defiDepositValue=e.slice(on.DEFI_DEPOSIT_VALUE,on.DEFI_DEPOSIT_VALUE+32),this.defiRoot=e.slice(on.DEFI_ROOT,on.DEFI_ROOT+32),this.backwardLink=e.slice(on.BACKWARD_LINK,on.BACKWARD_LINK+32),this.allowChain=e.slice(on.ALLOW_CHAIN,on.ALLOW_CHAIN+32),this.txId_=t}static getProofIdFromBuffer(e){return e.readUInt32BE(on.PROOF_ID)}static allowChainFromNote1(e){return[1,3].includes(e)}static allowChainFromNote2(e){return[2,3].includes(e)}get allowChainFromNote1(){const e=this.allowChain.readUInt32BE(28);return ln.allowChainFromNote1(e)}get allowChainFromNote2(){const e=this.allowChain.readUInt32BE(28);return ln.allowChainFromNote2(e)}get feeAssetId(){return this.txFeeAssetId.readUInt32BE(28)}get txId(){return this.txId_||(this.txId_=sn(this.rawProofData.slice(0,32*ln.NUM_PUBLISHED_PUBLIC_INPUTS))),this.txId_}}ln.NUM_PUBLIC_INPUTS=17,ln.NUM_PUBLISHED_PUBLIC_INPUTS=8;class cn{constructor(e){if(this.proofData=e,e.proofId!==Xt.DEFI_DEPOSIT)throw new Error("Not a defi deposit proof.")}static fromBuffer(e){return new cn(new ln(e))}get txFee(){return F(this.proofData.txFee)}get txFeeAssetId(){return this.proofData.feeAssetId}get bridgeCallData(){return Vt.fromBuffer(this.proofData.bridgeCallData)}get defiDepositValue(){return F(this.proofData.defiDepositValue)}}class dn{constructor(e){this.proofData=e}static fromBuffer(e){return new dn(new ln(e))}get txId(){return this.proofData.txId}get publicAssetId(){return this.proofData.publicAssetId.readUInt32BE(28)}get publicValue(){return F(this.proofData.publicValue)}get publicOwner(){return new qe(this.proofData.publicOwner)}get txFee(){return F(this.proofData.txFee)}get txFeeAssetId(){return this.proofData.feeAssetId}}var un=n(8842).Buffer;const pn=b("bb:prover");class fn{constructor(e){pn(e),this.start=(new Date).getTime()}mark(e){const t=(new Date).getTime()-this.start;pn(`${e} (ms:${t})`),this.start=(new Date).getTime()}}class yn extends class{constructor(e,t,n,r=""){this.wasm=e,this.pippenger=t,this.fft=n,this.callPrefix=r}getWorker(){return this.wasm}async createProof(e,t){const n=new a((async()=>await this.prove(e)),t,"createProof");return this.interruptPromise=n.getInterruptPromise(),await n.exec()}async proverCall(e,...t){return await Promise.race([this.wasm.asyncCall(this.callPrefix+e,...t),this.interruptPromise])}async prove(e){await this.wasm.acquire();try{const t=await this.proverCall("prover_get_circuit_size",e),n=new fn("enter createProof");await this.proverCall("prover_execute_preamble_round",e),n.mark("preamble end"),await this.processProverQueue(e,t),n.mark("first round start"),await this.proverCall("prover_execute_first_round",e),n.mark("first round end"),await this.processProverQueue(e,t),n.mark("second round start"),await this.proverCall("prover_execute_second_round",e),n.mark("second round end"),await this.processProverQueue(e,t),n.mark("third round start"),await this.proverCall("prover_execute_third_round",e),n.mark("third round end"),await this.processProverQueue(e,t),n.mark("fourth round start"),await this.proverCall("prover_execute_fourth_round",e),n.mark("fourth round end"),await this.processProverQueue(e,t),n.mark("fifth round start"),await this.proverCall("prover_execute_fifth_round",e),n.mark("fifth round end"),n.mark("sixth round start"),await this.proverCall("prover_execute_sixth_round",e),n.mark("sixth round end"),await this.processProverQueue(e,t),n.mark("done");const r=await this.proverCall("prover_export_proof",e,0),i=un.from(await this.wasm.sliceMemory(0,4)).readUInt32LE(0);return un.from(await this.wasm.sliceMemory(i,i+r))}finally{await this.wasm.release()}}async processProverQueue(e,t){await this.proverCall("prover_get_work_queue_item_info",e,0);const n=un.from(await this.wasm.sliceMemory(0,12)),r=n.readUInt32LE(0),i=n.readUInt32LE(4),s=n.readUInt32LE(8);pn(`starting jobs scalars:${r} ffts:${i} iffts:${s}`);for(let t=0;t<r;++t){const n=await this.proverCall("prover_get_scalar_multiplication_data",e,t),r=await this.proverCall("prover_get_scalar_multiplication_size",e,t),i=await this.wasm.sliceMemory(n,n+32*r),s=await this.pippenger.pippengerUnsafe(i,0,r);await this.transferToHeap(s,0),await this.proverCall("prover_put_scalar_multiplication_data",e,0,t)}const a=[];for(let n=0;n<i;++n){const r=await this.proverCall("prover_get_fft_data",e,0,n),i=await this.wasm.sliceMemory(r,r+32*t),s=await this.wasm.sliceMemory(0,32);a.push({coefficients:i,constant:s,inverse:!1,i:n})}for(let n=0;n<s;++n){const r=await this.proverCall("prover_get_ifft_data",e,n),i=await this.wasm.sliceMemory(r,r+32*t);a.push({coefficients:i,inverse:!0,i:n})}const o=await Promise.all(a.map((({inverse:n,coefficients:r,constant:i,i:s})=>n?this.doIfft(e,s,t,r):this.doFft(e,s,t,r,i))));for(const e of o)await e()}async doFft(e,t,n,r,i){const s=await this.fft.fft(r,i);return async()=>{const r=await this.wasm.call("bbmalloc",32*n);await this.transferToHeap(s,r),await this.proverCall("prover_put_fft_data",e,r,t),await this.wasm.call("bbfree",r)}}async doIfft(e,t,n,r){const i=await this.fft.ifft(r);return async()=>{const r=await this.wasm.call("bbmalloc",32*n);await this.transferToHeap(i,r),await this.proverCall("prover_put_ifft_data",e,r,t),await this.wasm.call("bbfree",r)}}async transferToHeap(e,t){this.wasm instanceof me?this.wasm.transferToHeap(e,t):await this.wasm.transferToHeap(u(e,[e.buffer]),t)}}{constructor(e,t,n){super(e,t,n,"unrolled_")}}class mn extends Error{}class hn{constructor(){this.interruptResolve=()=>{},this.interruptPromise=new Promise((e=>this.interruptResolve=e)),this.timeouts=[]}async sleep(e){let t;const n=new Promise((n=>t=setTimeout((()=>n(!1)),e)));this.timeouts.push(t);const r=await Promise.race([n,this.interruptPromise]);if(clearTimeout(t),this.timeouts.splice(this.timeouts.indexOf(t),1),r)throw new mn("Interrupted.")}interrupt(e=!1){this.interruptResolve(e),this.interruptPromise=new Promise((e=>this.interruptResolve=e))}}function bn(e){return new Promise((t=>setTimeout(t,e)))}async function gn(e,t="Operation",n=function*(){const e=[1,1,1,2,4,8,16,32,64];let t=0;for(;;)yield e[Math.min(t++,e.length-1)]}()){for(;;)try{return await e()}catch(e){const r=n.next().value;if(void 0===r)throw e;console.log(`${t} failed. Will retry in ${r}s...`),console.log(e),await bn(1e3*r);continue}}async function _n(e,t="",n=0,r=1){const i=new st;for(;;){if(await e())return;if(await bn(1e3*r),n&&i.s()>n)throw new Error(t?`Timeout awaiting ${t}`:"Timeout")}}var Tn=n(8842).Buffer;class In{constructor(e){if(this.buffer=e,32!==e.length)throw new Error("Invalid hash buffer.")}static deserialize(e,t){return{elem:new In(e.slice(t,t+32)),adv:32}}static fromString(e){return new In(Tn.from(e.replace(/^0x/i,""),"hex"))}static random(){return new In(xe(32))}equals(e){return this.toBuffer().equals(e.toBuffer())}toBuffer(){return this.buffer}toString(){return`0x${this.toBuffer().toString("hex")}`}toDepositSigningData(){const e=this.toString();return Tn.concat([Tn.from("Signing this message will allow your pending funds to be spent in Aztec transaction:\n\n"),Tn.from(e),Tn.from("\n\nIMPORTANT: Only sign the message if you trust the client")])}}var vn,Sn,Dn=n(8842).Buffer;!function(e){e[e.NEXT_ROLLUP=0]="NEXT_ROLLUP",e[e.INSTANT=1]="INSTANT"}(vn=vn||(vn={})),function(e){e[e.DEADLINE=0]="DEADLINE",e[e.NEXT_ROLLUP=1]="NEXT_ROLLUP",e[e.INSTANT=2]="INSTANT"}(Sn=Sn||(Sn={}));const wn=({proofData:e,offchainTxData:t,depositSignature:n})=>({proofData:e.toString("hex"),offchainTxData:t.toString("hex"),depositSignature:n?n.toString("hex"):void 0}),En=({proofData:e,offchainTxData:t,depositSignature:n})=>({proofData:Dn.from(e,"hex"),offchainTxData:Dn.from(t,"hex"),depositSignature:n?Dn.from(n,"hex"):void 0}),An=({txId:e,noteCommitment1:t,noteCommitment2:n})=>({txId:e.toString(),noteCommitment1:t.toString("hex"),noteCommitment2:n.toString("hex")}),Pn=({txId:e,noteCommitment1:t,noteCommitment2:n})=>({txId:In.fromString(e),noteCommitment1:Dn.from(t,"hex"),noteCommitment2:Dn.from(n,"hex")}),Cn=e=>{const t=Dn.alloc(4);return t.writeUInt32BE(e.initialAccounts.length),Dn.concat([t,e.initialAccounts,...e.initialSubtreeRoots])},xn=e=>{const t=4+e.readUInt32BE(0),n={initialAccounts:e.slice(4,t),initialSubtreeRoots:[]};for(let r=t;r<e.length;r+=32)n.initialSubtreeRoots.push(e.slice(r,r+32));return n},Nn=({assetId:e,value:t,publicOwner:n})=>({assetId:e,value:t.toString(),publicOwner:n.toString()}),Rn=({assetId:e,value:t,publicOwner:n})=>({assetId:e,value:BigInt(t),publicOwner:qe.fromString(n)});var Ln,Vn=n(8842).Buffer;!function(e){e[e.DEPOSIT=0]="DEPOSIT",e[e.TRANSFER=1]="TRANSFER",e[e.WITHDRAW_TO_WALLET=2]="WITHDRAW_TO_WALLET",e[e.WITHDRAW_HIGH_GAS=3]="WITHDRAW_HIGH_GAS",e[e.ACCOUNT=4]="ACCOUNT",e[e.DEFI_DEPOSIT=5]="DEFI_DEPOSIT",e[e.DEFI_CLAIM=6]="DEFI_CLAIM"}(Ln=Ln||(Ln={}));const kn=7;function Bn(e){return e===Ln.DEFI_DEPOSIT}function On(e){return e===Ln.ACCOUNT}const $n=({address:e,...t})=>({...t,address:e.toLowerCaseAddress()}),Fn=({address:e,...t})=>({...t,address:qe.fromString(e)}),Mn=({address:e,...t})=>({...t,address:e.toLowerCaseAddress()}),Yn=({address:e,...t})=>({...t,address:qe.fromString(e)});function zn(e){return{...e,rollupContractAddress:e.rollupContractAddress.toLowerCaseAddress(),permitHelperContractAddress:e.permitHelperContractAddress.toLowerCaseAddress(),verifierContractAddress:e.verifierContractAddress.toLowerCaseAddress(),bridgeDataProvider:e.bridgeDataProvider.toLowerCaseAddress(),dataRoot:e.dataRoot.toString("hex"),nullRoot:e.nullRoot.toString("hex"),rootRoot:e.rootRoot.toString("hex"),defiRoot:e.defiRoot.toString("hex"),defiInteractionHashes:e.defiInteractionHashes.map((e=>e.toString("hex"))),assets:e.assets.map($n),bridges:e.bridges.map(Mn)}}function Un(e){return{...e,rollupContractAddress:qe.fromString(e.rollupContractAddress),permitHelperContractAddress:qe.fromString(e.permitHelperContractAddress),verifierContractAddress:qe.fromString(e.verifierContractAddress),bridgeDataProvider:qe.fromString(e.bridgeDataProvider),dataRoot:Vn.from(e.dataRoot,"hex"),nullRoot:Vn.from(e.nullRoot,"hex"),rootRoot:Vn.from(e.rootRoot,"hex"),defiRoot:Vn.from(e.defiRoot,"hex"),defiInteractionHashes:e.defiInteractionHashes.map((e=>Vn.from(e,"hex"))),assets:e.assets.map(Fn),bridges:e.bridges.map(Yn)}}class qn{constructor(e){this.provider=e}async blockNumber(){const e=await this.provider.request({method:"eth_blockNumber"});return Number(e)}async getChainId(){const e=await this.provider.request({method:"eth_chainId"});return Number(e)}async getAccounts(){return(await this.provider.request({method:"eth_accounts"})).map(qe.fromString)}async getTransactionCount(e){const t=await this.provider.request({method:"eth_getTransactionCount",params:[e.toString(),"latest"]});return Number(t)}async getBalance(e){const t=await this.provider.request({method:"eth_getBalance",params:[e.toString(),"latest"]});return BigInt(t)}async getTransactionByHash(e){return await this.provider.request({method:"eth_getTransactionByHash",params:[e.toString()]})}async getBlockByNumber(e,t=!1){const n=await this.provider.request({method:"eth_getBlockByNumber",params:[e,t]});return{...n,baseFeePerGas:BigInt(n.baseFeePerGas)}}}var Hn;!function(e){e[e.USER_REJECTED=4001]="USER_REJECTED",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.UNSUPPORTED=4200]="UNSUPPORTED",e[e.DISCONNECTED=4900]="DISCONNECTED",e[e.CHAIN_DISCONNECTED=4901]="CHAIN_DISCONNECTED"}(Hn=Hn||(Hn={}));var Kn=n(8842).Buffer;class Gn{constructor(e){if(this.buffer=e,32!==e.length)throw new Error("Invalid hash buffer.")}static fromBuffer(e){return new Gn(e)}static deserialize(e,t){return{elem:new Gn(e.slice(t,t+32)),adv:32}}static fromString(e){return new Gn(Kn.from(e.replace(/^0x/i,""),"hex"))}static random(){return new Gn(xe(32))}equals(e){return this.toBuffer().equals(e.toBuffer())}toBuffer(){return this.buffer}toString(){return`0x${this.toBuffer().toString("hex")}`}}var jn=n(8842).Buffer;function Wn({bridgeCallData:e,...t}){return{...t,bridgeCallData:Y(e,32).toString("hex")}}function Zn({bridgeCallData:e,...t}){return{...t,bridgeCallData:F(jn.from(e,"hex"))}}function Jn(e){const t={};for(const n in e){const r=e[n];t[n]=r.map((e=>({value:e.value.toString(),users:e.users})))}return t}function Xn(e){const t={};for(const n in e){const r=e[n];t[Number(n)]=r.map((e=>({value:BigInt(e.value),users:e.users})))}return t}function Qn(){return{0:[],1:[]}}const er=({maxFeeGasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n,privacySets:r,rollupBeneficiary:i,blacklist:s,...a})=>({...a,maxFeeGasPrice:e.toString(),maxFeePerGas:t.toString(),maxPriorityFeePerGas:n.toString(),privacySets:Jn(r),rollupBeneficiary:i?i.toLowerCaseAddress():void 0,blacklist:s?s.map((e=>e.toLowerCaseAddress())):void 0}),tr=({maxFeeGasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n,privacySets:r,rollupBeneficiary:i,blacklist:s,...a})=>({...a,maxFeeGasPrice:BigInt(e),maxFeePerGas:BigInt(t),maxPriorityFeePerGas:BigInt(n),privacySets:Xn(r),rollupBeneficiary:i?qe.fromString(i):void 0,blacklist:s?s.map((e=>qe.fromString(e))):void 0}),nr=({maxFeeGasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n,privacySets:r,rollupBeneficiary:i,blacklist:s,...a})=>({...a,...void 0!==e?{maxFeeGasPrice:BigInt(e)}:{},...void 0!==t?{maxFeePerGas:BigInt(t)}:{},...void 0!==n?{maxPriorityFeePerGas:BigInt(n)}:{},...r?{privacySets:Xn(r)}:{},...i?{rollupBeneficiary:qe.fromString(i)}:{},...s?{blacklist:s.map((e=>qe.fromString(e)))}:{}}),rr=({blockchainStatus:e,nextPublishTime:t,runtimeConfig:n,bridgeStatus:r,...i})=>({...i,blockchainStatus:zn(e),nextPublishTime:t.toISOString(),runtimeConfig:er(n),bridgeStatus:r.map(Wn)}),ir=({blockchainStatus:e,nextPublishTime:t,runtimeConfig:n,bridgeStatus:r,...i})=>({...i,blockchainStatus:Un(e),nextPublishTime:new Date(t),runtimeConfig:tr(n),bridgeStatus:r.map(Zn)});var sr=n(8842).Buffer;class ar{constructor(e,t,n,r,i,s,a=sr.alloc(0)){this.bridgeCallData=e,this.nonce=t,this.totalInputValue=n,this.totalOutputValueA=r,this.totalOutputValueB=i,this.result=s,this.errorReason=a}static deserialize(e,t){const n=new ne(e,t),r=n.buffer(32),i=Vt.fromBuffer(r),s=n.bigInt(),a=n.bigInt(),o=n.bigInt(),l=n.uInt32(),c=n.bool(),d=n.vector();return{elem:new ar(i,l,s,a,o,c,d),adv:n.getOffset()-t}}static random(){return new ar(Vt.random(),xe(4).readUInt32BE(0),F(xe(32)),F(xe(32)),F(xe(32)),!!Math.round(Math.random()))}static fromBuffer(e){return ar.deserialize(e,0).elem}toBuffer(){const e=new ie;return e.buffer(this.bridgeCallData.toBuffer()),e.bigInt(this.totalInputValue),e.bigInt(this.totalOutputValueA),e.bigInt(this.totalOutputValueB),e.uInt32(this.nonce),e.bool(this.result),e.vector(this.errorReason),e.getBuffer()}equals(e){return this.toBuffer().equals(e.toBuffer())}toDefiInteractionNote(){return new Ft(this.bridgeCallData,this.nonce,this.totalInputValue,this.totalOutputValueA,this.totalOutputValueB,this.result)}}ar.EMPTY=new ar(Vt.ZERO,0,BigInt(0),BigInt(0),BigInt(0),!1);var or=n(8842).Buffer;class lr extends l.EventEmitter{constructor(e,t=1e4,n=""){super(),this.pollInterval=t,this.version=n,this.running=!1,this.runningPromise=Promise.resolve(),this.interruptPromise=Promise.resolve(),this.interruptResolve=()=>{},this.baseUrl=e.toString().replace(/\/$/,"")}async getLatestRollupId(){const e=new URL(`${this.baseUrl}/latest-rollup-id`),t=this.version?{headers:{version:this.version}}:{},n=await this.awaitSucceed((()=>(0,de.fetch)(e.toString(),t)));return Number(await n.text())}async start(e=0){this.running=!0,this.interruptPromise=new Promise((e=>this.interruptResolve=e));const t=async()=>{try{const t=await this.getBlocks(e);for(const n of t)this.emit("block",n),e=n.rollupId+1}catch(e){}};await t(),this.runningPromise=(async()=>{for(;this.running;)await t(),await this.sleepOrInterrupted(this.pollInterval)})()}stop(){return this.running=!1,this.interruptResolve(),this.runningPromise}async awaitSucceed(e){for(;;)try{const t=await e();if(409==t.status){const e=await t.json();throw this.emit("versionMismatch",e.error),new Error(e.error)}if(200!==t.status)throw new Error(`Bad status code: ${t.status}`);return t}catch(e){console.log(e.message),await new Promise((e=>setTimeout(e,1e4)))}}async getBlocks(e,t){const n=new URL(`${this.baseUrl}/get-blocks`);n.searchParams.append("from",e.toString()),void 0!==t&&n.searchParams.append("take",t.toString());const r={cache:"force-cache",headers:this.version?{version:this.version}:{}},i=await this.awaitSucceed((()=>(0,de.fetch)(n.toString(),r))),s=or.from(await i.arrayBuffer());return new ne(s).deserializeArray(Lr.deserialize)}async sleepOrInterrupted(e){let t;const n=new Promise((n=>t=setTimeout(n,e)));await Promise.race([n,this.interruptPromise]),clearTimeout(t)}}var cr=n(8842).Buffer;class dr{constructor(e,t,n,r,i,s,a,o){this.proofId=e,this.noteCommitment1=t,this.noteCommitment2=n,this.nullifier1=r,this.nullifier2=i,this.publicValue=s,this.publicOwner=a,this.publicAssetId=o}get txId(){return this.txId_||(this.txId_=sn(this.toBuffer())),this.txId_}getDepositSigningData(){return this.toBuffer()}toBuffer(){return cr.concat([q(this.proofId,32),this.noteCommitment1,this.noteCommitment2,this.nullifier1,this.nullifier2,this.publicValue,this.publicOwner,this.publicAssetId])}isPadding(){return this.proofId===Xt.PADDING}static fromBuffer(e){let t=0;const n=e.readUInt32BE(t+28);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);t+=32;const a=e.slice(t,t+32);t+=32;const o=e.slice(t,t+32);t+=32;const l=e.slice(t,t+32);t+=32;const c=e.slice(t,t+32);return t+=32,new dr(n,r,i,s,a,o,l,c)}}dr.NUM_PUBLIC_INPUTS=8,dr.LENGTH=32*dr.NUM_PUBLIC_INPUTS,dr.PADDING=dr.fromBuffer(cr.alloc(dr.LENGTH));var ur=n(8842).Buffer;class pr{constructor(e){if(this.proofData=e,e.proofId!==Xt.ACCOUNT)throw new Error("Not an account proof.")}get ENCODED_LENGTH(){return pr.ENCODED_LENGTH}static decode(e){if(e.readUInt8(0)!==Xt.ACCOUNT)throw new Error("Not an account proof.");let t=1;const n=e.slice(t,t+32);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);return new pr(new dr(Xt.ACCOUNT,n,r,i,s,ur.alloc(32),ur.alloc(32),ur.alloc(32)))}encode(){const{noteCommitment1:e,noteCommitment2:t,nullifier1:n,nullifier2:r}=this.proofData;return ur.concat([ur.from([Xt.ACCOUNT]),e,t,n,r])}}pr.ENCODED_LENGTH=129;var fr=n(8842).Buffer;class yr{constructor(e){if(this.proofData=e,e.proofId!==Xt.DEFI_CLAIM)throw new Error("Not a defi claim proof.")}get ENCODED_LENGTH(){return yr.ENCODED_LENGTH}get bridgeCallData(){return Vt.fromBuffer(this.proofData.publicAssetId)}static decode(e){if(e.readUInt8(0)!==Xt.DEFI_CLAIM)throw new Error("Not a defi claim proof.");let t=1;const n=e.slice(t,t+32);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);return new yr(new dr(Xt.DEFI_CLAIM,n,r,i,s,fr.alloc(32),fr.alloc(32),fr.alloc(32)))}encode(){const{noteCommitment1:e,noteCommitment2:t,nullifier1:n,nullifier2:r}=this.proofData;return fr.concat([fr.from([Xt.DEFI_CLAIM]),e,t,n,r])}}yr.ENCODED_LENGTH=129;var mr=n(8842).Buffer;class hr{constructor(e){if(this.proofData=e,e.proofId!==Xt.DEFI_DEPOSIT)throw new Error("Not a defi deposit proof.")}get ENCODED_LENGTH(){return hr.ENCODED_LENGTH}get bridgeCallData(){return Vt.fromBuffer(this.proofData.publicAssetId)}get deposit(){return F(this.proofData.publicValue)}static decode(e){if(e.readUInt8(0)!==Xt.DEFI_DEPOSIT)throw new Error("Not a defi deposit proof.");let t=1;const n=e.slice(t,t+32);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);return new hr(new dr(Xt.DEFI_DEPOSIT,n,r,i,s,mr.alloc(32),mr.alloc(32),mr.alloc(32)))}encode(){const{noteCommitment1:e,noteCommitment2:t,nullifier1:n,nullifier2:r}=this.proofData;return mr.concat([mr.from([Xt.DEFI_DEPOSIT]),e,t,n,r])}}hr.ENCODED_LENGTH=129;var br=n(8842).Buffer;class gr{constructor(e){if(this.proofData=e,e.proofId!==Xt.DEPOSIT)throw new Error("Not a deposit proof.")}get ENCODED_LENGTH(){return gr.ENCODED_LENGTH}get assetId(){return this.proofData.publicAssetId.readUInt32BE(28)}get publicValue(){return F(this.proofData.publicValue)}get publicOwner(){return new qe(this.proofData.publicOwner)}static decode(e){if(e.readUInt8(0)!==Xt.DEPOSIT)throw new Error("Not a deposit proof.");let t=1;const n=e.slice(t,t+32);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);t+=32;const a=e.slice(t,t+32);t+=32;const o=br.concat([br.alloc(12),e.slice(t,t+20)]);t+=20;const l=br.concat([br.alloc(28),e.slice(t,t+4)]);return new gr(new dr(Xt.DEPOSIT,n,r,i,s,a,o,l))}encode(){const{noteCommitment1:e,noteCommitment2:t,nullifier1:n,nullifier2:r,publicValue:i,publicAssetId:s}=this.proofData,a=s.slice(28,32);return br.concat([br.from([Xt.DEPOSIT]),e,t,n,r,i,this.publicOwner.toBuffer(),a])}}gr.ENCODED_LENGTH=185;var _r=n(8842).Buffer;class Tr{constructor(e){if(this.proofData=e,e.proofId!==Xt.PADDING)throw new Error("Not a padding proof.")}get ENCODED_LENGTH(){return Tr.ENCODED_LENGTH}static decode(e){if(e.readUInt8(0)!==Xt.PADDING)throw new Error("Not a padding proof.");return new Tr(new dr(Xt.PADDING,_r.alloc(32),_r.alloc(32),_r.alloc(32),_r.alloc(32),_r.alloc(32),_r.alloc(32),_r.alloc(32)))}encode(){return _r.from([Xt.PADDING])}}Tr.ENCODED_LENGTH=1;var Ir=n(8842).Buffer;class vr{constructor(e){if(this.proofData=e,e.proofId!==Xt.SEND)throw new Error("Not a send proof.")}get ENCODED_LENGTH(){return vr.ENCODED_LENGTH}static decode(e){if(e.readUInt8(0)!==Xt.SEND)throw new Error("Not a send proof.");let t=1;const n=e.slice(t,t+32);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);return new vr(new dr(Xt.SEND,n,r,i,s,Ir.alloc(32),Ir.alloc(32),Ir.alloc(32)))}encode(){const{noteCommitment1:e,noteCommitment2:t,nullifier1:n,nullifier2:r}=this.proofData;return Ir.concat([Ir.from([Xt.SEND]),e,t,n,r])}}vr.ENCODED_LENGTH=129;var Sr=n(8842).Buffer;class Dr{constructor(e){if(this.proofData=e,e.proofId!==Xt.WITHDRAW)throw new Error("Not a withdraw proof.")}get ENCODED_LENGTH(){return Dr.ENCODED_LENGTH}get assetId(){return this.proofData.publicAssetId.readUInt32BE(28)}get publicValue(){return F(this.proofData.publicValue)}get publicOwner(){return new qe(this.proofData.publicOwner)}static decode(e){if(e.readUInt8(0)!==Xt.WITHDRAW)throw new Error("Not a withdraw proof.");let t=1;const n=e.slice(t,t+32);t+=32;const r=e.slice(t,t+32);t+=32;const i=e.slice(t,t+32);t+=32;const s=e.slice(t,t+32);t+=32;const a=e.slice(t,t+32);t+=32;const o=Sr.concat([Sr.alloc(12),e.slice(t,t+20)]);t+=20;const l=Sr.concat([Sr.alloc(28),e.slice(t,t+4)]);return new Dr(new dr(Xt.WITHDRAW,n,r,i,s,a,o,l))}encode(){const{noteCommitment1:e,noteCommitment2:t,nullifier1:n,nullifier2:r,publicValue:i,publicAssetId:s}=this.proofData,a=s.slice(28,32);return Sr.concat([Sr.from([Xt.WITHDRAW]),e,t,n,r,i,this.publicOwner.toBuffer(),a])}}Dr.ENCODED_LENGTH=185;const wr=e=>(e=>{const t=(e=>e.readUInt8(0))(e);switch(t){case Xt.DEPOSIT:return gr.decode(e);case Xt.WITHDRAW:return Dr.decode(e);case Xt.SEND:return vr.decode(e);case Xt.ACCOUNT:return pr.decode(e);case Xt.DEFI_DEPOSIT:return hr.decode(e);case Xt.DEFI_CLAIM:return yr.decode(e);case Xt.PADDING:return Tr.decode(e)}})(e);var Er,Ar,Pr=n(8842).Buffer;!function(e){e[e.ROLLUP_ID=0]="ROLLUP_ID",e[e.ROLLUP_SIZE=1]="ROLLUP_SIZE",e[e.DATA_START_INDEX=2]="DATA_START_INDEX",e[e.OLD_DATA_ROOT=3]="OLD_DATA_ROOT",e[e.NEW_DATA_ROOT=4]="NEW_DATA_ROOT",e[e.OLD_NULL_ROOT=5]="OLD_NULL_ROOT",e[e.NEW_NULL_ROOT=6]="NEW_NULL_ROOT",e[e.OLD_ROOT_ROOT=7]="OLD_ROOT_ROOT",e[e.NEW_ROOT_ROOT=8]="NEW_ROOT_ROOT",e[e.OLD_DEFI_ROOT=9]="OLD_DEFI_ROOT",e[e.NEW_DEFI_ROOT=10]="NEW_DEFI_ROOT",e[e.BRIDGE_CALL_DATAS=11]="BRIDGE_CALL_DATAS",e[e.DEFI_DEPOSIT_SUMS=e.BRIDGE_CALL_DATAS+32]="DEFI_DEPOSIT_SUMS",e[e.FEE_ASSET_IDS=e.DEFI_DEPOSIT_SUMS+32]="FEE_ASSET_IDS",e[e.FEE_SUMS=e.FEE_ASSET_IDS+16]="FEE_SUMS",e[e.DEFI_INTERACTIONS=e.FEE_SUMS+16]="DEFI_INTERACTIONS",e[e.PREV_DEFI_INTERACTION_HASH=e.DEFI_INTERACTIONS+32]="PREV_DEFI_INTERACTION_HASH",e[e.ROLLUP_BENEFICIARY=e.PREV_DEFI_INTERACTION_HASH+1]="ROLLUP_BENEFICIARY",e[e.NUM_ROLLUP_TXS=e.ROLLUP_BENEFICIARY+1]="NUM_ROLLUP_TXS"}(Er=Er||(Er={})),function(e){e[e.ROLLUP_ID=28]="ROLLUP_ID",e[e.ROLLUP_SIZE=60]="ROLLUP_SIZE",e[e.DATA_START_INDEX=92]="DATA_START_INDEX",e[e.OLD_DATA_ROOT=96]="OLD_DATA_ROOT",e[e.NEW_DATA_ROOT=128]="NEW_DATA_ROOT",e[e.OLD_NULL_ROOT=160]="OLD_NULL_ROOT",e[e.NEW_NULL_ROOT=192]="NEW_NULL_ROOT",e[e.OLD_ROOT_ROOT=224]="OLD_ROOT_ROOT",e[e.NEW_ROOT_ROOT=256]="NEW_ROOT_ROOT",e[e.OLD_DEFI_ROOT=288]="OLD_DEFI_ROOT",e[e.NEW_DEFI_ROOT=320]="NEW_DEFI_ROOT",e[e.BRIDGE_CALL_DATAS=352]="BRIDGE_CALL_DATAS",e[e.DEFI_DEPOSIT_SUMS=32*Er.DEFI_DEPOSIT_SUMS]="DEFI_DEPOSIT_SUMS",e[e.FEE_ASSET_IDS=32*Er.FEE_ASSET_IDS]="FEE_ASSET_IDS",e[e.FEE_SUMS=32*Er.FEE_SUMS]="FEE_SUMS",e[e.DEFI_INTERACTIONS=32*Er.DEFI_INTERACTIONS]="DEFI_INTERACTIONS",e[e.PREV_DEFI_INTERACTION_HASH=32*Er.PREV_DEFI_INTERACTION_HASH]="PREV_DEFI_INTERACTION_HASH",e[e.ROLLUP_BENEFICIARY=32*Er.ROLLUP_BENEFICIARY]="ROLLUP_BENEFICIARY",e[e.NUM_ROLLUP_TXS=32*Er.NUM_ROLLUP_TXS+28]="NUM_ROLLUP_TXS"}(Ar=Ar||(Ar={}));const Cr=e=>{const t=xr.getRollupIdFromBuffer(e),n=e.readUInt32BE(Ar.ROLLUP_SIZE),r=e.readUInt32BE(Ar.DATA_START_INDEX),i=e.subarray(Ar.OLD_DATA_ROOT,Ar.OLD_DATA_ROOT+32),s=e.subarray(Ar.NEW_DATA_ROOT,Ar.NEW_DATA_ROOT+32),a=e.subarray(Ar.OLD_NULL_ROOT,Ar.OLD_NULL_ROOT+32),o=e.subarray(Ar.NEW_NULL_ROOT,Ar.NEW_NULL_ROOT+32),l=e.subarray(Ar.OLD_ROOT_ROOT,Ar.OLD_ROOT_ROOT+32),c=e.subarray(Ar.NEW_ROOT_ROOT,Ar.NEW_ROOT_ROOT+32),d=e.subarray(Ar.OLD_DEFI_ROOT,Ar.OLD_DEFI_ROOT+32),u=e.subarray(Ar.NEW_DEFI_ROOT,Ar.NEW_DEFI_ROOT+32),p=xr.getBridgeCallDatas(e),f=[];for(let t=0;t<xr.NUM_BRIDGE_CALLS_PER_BLOCK;++t){const n=Ar.DEFI_DEPOSIT_SUMS+32*t;f.push(F(e.subarray(n,n+32)))}const y=[];for(let t=0;t<xr.NUMBER_OF_ASSETS;++t){const n=Ar.FEE_ASSET_IDS+32*t;y.push(e.readUInt32BE(n+28))}const m=[];for(let t=0;t<xr.NUMBER_OF_ASSETS;++t){const n=Ar.FEE_SUMS+32*t;m.push(F(e.subarray(n,n+32)))}const h=[];for(let t=0;t<xr.NUM_BRIDGE_CALLS_PER_BLOCK;++t){const n=Ar.DEFI_INTERACTIONS+32*t;h.push(e.subarray(n,n+32))}return{rollupId:t,rollupSize:n,dataStartIndex:r,oldDataRoot:i,newDataRoot:s,oldNullRoot:a,newNullRoot:o,oldDataRootsRoot:l,newDataRootsRoot:c,oldDefiRoot:d,newDefiRoot:u,bridgeCallDatas:p,defiDepositSums:f,assetIds:y,totalTxFees:m,defiInteractionNotes:h,prevDefiInteractionHash:e.subarray(Ar.PREV_DEFI_INTERACTION_HASH,Ar.PREV_DEFI_INTERACTION_HASH+32),rollupBeneficiary:e.subarray(Ar.ROLLUP_BENEFICIARY,Ar.ROLLUP_BENEFICIARY+32),numRollupTxs:e.readUInt32BE(Ar.NUM_ROLLUP_TXS)}};class xr{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f,y,m,h,b,g,_){if(this.rollupId=e,this.rollupSize=t,this.dataStartIndex=n,this.oldDataRoot=r,this.newDataRoot=i,this.oldNullRoot=s,this.newNullRoot=a,this.oldDataRootsRoot=o,this.newDataRootsRoot=l,this.oldDefiRoot=c,this.newDefiRoot=d,this.bridgeCallDatas=u,this.defiDepositSums=p,this.assetIds=f,this.totalTxFees=y,this.defiInteractionNotes=m,this.prevDefiInteractionHash=h,this.rollupBeneficiary=b,this.numRollupTxs=g,this.innerProofData=_,u.length!==xr.NUM_BRIDGE_CALLS_PER_BLOCK)throw new Error(`Expect bridgeCallDatas to be an array of size ${xr.NUM_BRIDGE_CALLS_PER_BLOCK}.`);if(p.length!==xr.NUM_BRIDGE_CALLS_PER_BLOCK)throw new Error(`Expect defiDepositSums to be an array of size ${xr.NUM_BRIDGE_CALLS_PER_BLOCK}.`);if(y.length!==xr.NUMBER_OF_ASSETS)throw new Error(`Expect totalTxFees to be an array of size ${xr.NUMBER_OF_ASSETS}.`);if(m.length!==xr.NUM_BRIDGE_CALLS_PER_BLOCK)throw new Error(`Expect defiInteractionNotes to be an array of size ${xr.NUM_BRIDGE_CALLS_PER_BLOCK}.`)}get rollupHash(){if(!this.rollupHash_){const e=this.innerProofData.map((e=>e.txId));this.rollupHash_=Fe(Pr.concat(e))}return this.rollupHash_}toBuffer(){return Pr.concat([q(this.rollupId,32),q(this.rollupSize,32),q(this.dataStartIndex,32),this.oldDataRoot,this.newDataRoot,this.oldNullRoot,this.newNullRoot,this.oldDataRootsRoot,this.newDataRootsRoot,this.oldDefiRoot,this.newDefiRoot,...this.bridgeCallDatas,...this.defiDepositSums.map((e=>Y(e,32))),...this.assetIds.map((e=>q(e,32))),...this.totalTxFees.map((e=>Y(e,32))),...this.defiInteractionNotes,this.prevDefiInteractionHash,this.rollupBeneficiary,q(this.numRollupTxs,32),...this.innerProofData.map((e=>e.toBuffer()))])}getTotalDeposited(e){return this.innerProofData.filter((e=>e.proofId===Xt.DEPOSIT)).map((e=>new gr(e))).filter((t=>t.assetId==e)).reduce(((e,t)=>e+t.publicValue),BigInt(0))}getTotalWithdrawn(e){return this.innerProofData.filter((e=>e.proofId===Xt.WITHDRAW)).map((e=>new Dr(e))).filter((t=>t.assetId==e)).reduce(((e,t)=>e+t.publicValue),BigInt(0))}getTotalDefiDeposit(e){return this.bridgeCallDatas.map(((t,n)=>Vt.fromBuffer(t).inputAssetIdA===e||Vt.fromBuffer(t).inputAssetIdB===e?this.defiDepositSums[n]:BigInt(0))).reduce(((e,t)=>e+t),BigInt(0))}getTotalFees(e){const t=this.assetIds.indexOf(e);return t<0?BigInt(0):this.totalTxFees[t]}encode(){let e=0;this.innerProofData.forEach(((t,n)=>{t.proofId!==Xt.PADDING&&(e=n)}));const t=e+1,n=this.innerProofData.filter(((e,n)=>n<t)).map((e=>(e=>{switch(e.proofId){case Xt.DEPOSIT:return new gr(e);case Xt.WITHDRAW:return new Dr(e);case Xt.SEND:return new vr(e);case Xt.ACCOUNT:return new pr(e);case Xt.DEFI_DEPOSIT:return new hr(e);case Xt.DEFI_CLAIM:return new yr(e);case Xt.PADDING:return new Tr(e)}})(e).encode()));return Pr.concat([q(this.rollupId,32),q(this.rollupSize,32),q(this.dataStartIndex,32),this.oldDataRoot,this.newDataRoot,this.oldNullRoot,this.newNullRoot,this.oldDataRootsRoot,this.newDataRootsRoot,this.oldDefiRoot,this.newDefiRoot,...this.bridgeCallDatas,...this.defiDepositSums.map((e=>Y(e,32))),...this.assetIds.map((e=>q(e,32))),...this.totalTxFees.map((e=>Y(e,32))),...this.defiInteractionNotes,this.prevDefiInteractionHash,this.rollupBeneficiary,q(this.numRollupTxs,32),q(t),q(Pr.concat(n).length),...n])}static getRollupIdFromBuffer(e){return e.readUInt32BE(Ar.ROLLUP_ID)}static getRollupSizeFromBuffer(e){return e.readUInt32BE(Ar.ROLLUP_SIZE)}static getTxIdsFromBuffer(e){const t=xr.getRollupSizeFromBuffer(e),n=xr.LENGTH_ROLLUP_HEADER_INPUTS;return Array.from({length:t}).map(((t,r)=>{const i=n+r*dr.LENGTH;return sn(e.subarray(i,i+dr.LENGTH))})).filter((e=>!e.equals(dr.PADDING.txId)))}static getBridgeCallDatas(e){const t=[];for(let n=0;n<xr.NUM_BRIDGE_CALLS_PER_BLOCK;++n){const r=Ar.BRIDGE_CALL_DATAS+32*n;t.push(e.subarray(r,r+32))}return t}getNonPaddingProofs(){return this.innerProofData.filter((e=>!e.isPadding()))}getNonPaddingTxIds(){return this.getNonPaddingProofs().map((e=>e.txId))}getNonPaddingProofIds(){return this.getNonPaddingProofs().map((e=>e.proofId))}static fromBuffer(e){const{rollupId:t,rollupSize:n,dataStartIndex:r,oldDataRoot:i,newDataRoot:s,oldNullRoot:a,newNullRoot:o,oldDataRootsRoot:l,newDataRootsRoot:c,oldDefiRoot:d,newDefiRoot:u,bridgeCallDatas:p,defiDepositSums:f,assetIds:y,totalTxFees:m,defiInteractionNotes:h,prevDefiInteractionHash:b,rollupBeneficiary:g,numRollupTxs:_}=Cr(e);if(!n)throw new Error("Empty rollup.");let T=xr.LENGTH_ROLLUP_HEADER_INPUTS;const I=[];for(let t=0;t<n;++t){const n=e.subarray(T,T+dr.LENGTH);I[t]=dr.fromBuffer(n),T+=dr.LENGTH}return new xr(t,n,r,i,s,a,o,l,c,d,u,p,f,y,m,h,b,g,_,I)}static randomData(e,t,n=0,r,i=[]){const s=void 0===r?new Array(t).fill(0).map((()=>dr.fromBuffer(Pr.alloc(dr.LENGTH)))):r;return new xr(e,t,n,Pr.alloc(32),Pr.alloc(32),Pr.alloc(32),Pr.alloc(32),Pr.alloc(32),Pr.alloc(32),Pr.alloc(32),Pr.alloc(32),i.map((e=>e.toBuffer())).concat(new Array(xr.NUM_BRIDGE_CALLS_PER_BLOCK-i.length).fill(0).map((()=>Pr.alloc(32)))),new Array(xr.NUM_BRIDGE_CALLS_PER_BLOCK).fill(BigInt(0)),new Array(xr.NUMBER_OF_ASSETS).fill(0),new Array(xr.NUMBER_OF_ASSETS).fill(BigInt(0)),new Array(xr.NUM_BRIDGE_CALLS_PER_BLOCK).fill(0).map((()=>Pr.alloc(32))),Pr.alloc(32),Pr.alloc(32),s.length,s)}static decode(e){const{rollupId:t,rollupSize:n,dataStartIndex:r,oldDataRoot:i,newDataRoot:s,oldNullRoot:a,newNullRoot:o,oldDataRootsRoot:l,newDataRootsRoot:c,oldDefiRoot:d,newDefiRoot:u,bridgeCallDatas:p,defiDepositSums:f,assetIds:y,totalTxFees:m,defiInteractionNotes:h,prevDefiInteractionHash:b,rollupBeneficiary:g,numRollupTxs:_}=Cr(e);if(!n)throw new Error("Empty rollup.");let T=xr.LENGTH_ROLLUP_HEADER_INPUTS;T+=4;let I=e.readUInt32BE(T);T+=4;const v=[];for(;I>0;){const t=wr(e.subarray(T));v.push(t.proofData),T+=t.ENCODED_LENGTH,I-=t.ENCODED_LENGTH}for(let e=v.length;e<n;++e)v.push(dr.PADDING);return new xr(t,n,r,i,s,a,o,l,c,d,u,p,f,y,m,h,b,g,_,v)}}xr.NUMBER_OF_ASSETS=16,xr.NUM_BRIDGE_CALLS_PER_BLOCK=32,xr.NUM_ROLLUP_HEADER_INPUTS=14+2*xr.NUMBER_OF_ASSETS+3*xr.NUM_BRIDGE_CALLS_PER_BLOCK,xr.LENGTH_ROLLUP_HEADER_INPUTS=32*xr.NUM_ROLLUP_HEADER_INPUTS;class Nr{constructor(e){this.block=e}get rollupId(){return this.getDecodedProof().rollupId}get gasPrice(){return this.block.gasPrice}get gasUsed(){return this.block.gasUsed}get subtreeRoot(){return this.block.subtreeRoot}get dataStartIndex(){return this.getDecodedProof().dataStartIndex}get oldDataRoot(){return this.getDecodedProof().oldDataRoot}get newDataRoot(){return this.getDecodedProof().newDataRoot}get oldNullRoot(){return this.getDecodedProof().oldNullRoot}get newNullRoot(){return this.getDecodedProof().newNullRoot}get oldDataRootsRoot(){return this.getDecodedProof().oldDataRootsRoot}get newDataRootsRoot(){return this.getDecodedProof().newDataRootsRoot}get oldDefiRoot(){return this.getDecodedProof().oldDefiRoot}get newDefiRoot(){return this.getDecodedProof().newDefiRoot}get defiDepositSums(){return this.getDecodedProof().defiDepositSums}get assetIds(){return this.getDecodedProof().assetIds}get totalTxFees(){return this.getDecodedProof().totalTxFees}get prevDefiInteractionHash(){return this.getDecodedProof().prevDefiInteractionHash}get rollupBeneficiary(){return this.getDecodedProof().rollupBeneficiary}get innerProofData(){return this.getDecodedProof().innerProofData}get ethTxHash(){return this.block.txHash}get rollupSize(){return this.block.rollupSize}get numRollupTxs(){return this.block.offchainTxData.length}get minedTime(){return this.block.mined}get defiInteractionEvents(){return this.block.interactionResult}get offchainData(){return this.block.offchainTxData}get rollupHash(){return this.getDecodedProof().rollupHash}get rawProofData(){return this.block.encodedRollupProofData}getDecodedProof(){return this.decoded||(this.decoded=xr.decode(this.block.encodedRollupProofData)),this.decoded}}var Rr=n(8842).Buffer;class Lr{constructor(e,t,n,r,i,s,a,o,l,c){this.txHash=e,this.mined=t,this.rollupId=n,this.rollupSize=r,this.encodedRollupProofData=i,this.offchainTxData=s,this.interactionResult=a,this.gasUsed=o,this.gasPrice=l,this.subtreeRoot=c}static deserialize(e,t=0){const n=new ne(e,t),r=n.exec(Gn.deserialize),i=n.date(),s=n.uInt32(),a=n.uInt32(),o=n.vector(),l=n.deserializeArray(W),c=n.deserializeArray(ar.deserialize),d=n.uInt32(),u=n.bigInt(),p=n.vector();return{elem:new Lr(r,i,s,a,o,l,c,d,u,p.equals(Rr.alloc(0))?void 0:p),adv:n.getOffset()-t}}static fromBuffer(e){return Lr.deserialize(e).elem}toBuffer(){return Rr.concat([this.txHash.toBuffer(),j(this.mined),q(this.rollupId),q(this.rollupSize),K(this.encodedRollupProofData),ee(this.offchainTxData.map((e=>K(e)))),ee(this.interactionResult.map((e=>e.toBuffer()))),q(this.gasUsed),G(this.gasPrice),K(this.subtreeRoot??Rr.alloc(0))])}}const Vr=({auxData:e,...t})=>({...t,auxData:e?.toString()}),kr=({auxData:e,...t})=>({...t,auxData:e?BigInt(e):void 0}),Br=({query:e,...t})=>({...t,query:Vr(e)}),Or=({query:e,...t})=>({...t,query:kr(e)});var $r=n(8842).Buffer;class Fr extends Error{constructor(e){super(`Version mismatch with rollup provider. Error: ${e}`)}}async function Mr(e,t){const n=`${e}/status`,r=t?{headers:{version:t}}:{},i=await(0,de.fetch)(n,r);let s;try{s=await i.json()}catch(t){throw new Error(`Bad response from ${e}: ${t.message}`)}if(409==i.status)throw new Fr(s.error);return ir(s)}class Yr extends lr{constructor(e,t=1e4,n=""){super(e,t,n)}async sendTxs(e){const t=e.map(wn),n=await this.fetch("/txs",t);return(await n.json()).txIds.map((e=>In.fromString(e)))}async getTxFees(e){const t=await this.fetch("/tx-fees",{assetId:e});return(await t.json()).map((e=>e.map(i)))}async getDefiFees(e){const t=await this.fetch("/defi-fees",{bridgeCallData:e.toString()});return(await t.json()).map(i)}async queryDefiPublishStats(e){const t=await this.fetch("/bridge-query",Vr(e)),n=await t.json();return Or(n)}async getStatus(){const e=await this.fetch("/status");try{return ir(await e.json())}catch(e){throw new Error("Bad response: getStatus()")}}async getPendingTxs(){const e=await this.fetch("/get-pending-txs");return(await e.json()).map(Pn)}async getPendingNoteNullifiers(){const e=await this.fetch("/get-pending-note-nullifiers");return(await e.json()).map((e=>$r.from(e,"hex")))}async getPendingDepositTxs(){const e=await this.fetch("/get-pending-deposit-txs");return(await e.json()).map(Rn)}async clientLog(e){await this.fetch("/client-log",e)}async clientConsoleLog(e){await this.fetch("/client-console-log",e)}async getInitialWorldState(){const e=await this.fetch("/get-initial-world-state"),t=await e.arrayBuffer();return xn($r.from(t))}async isAccountRegistered(e){const t=await this.fetch("/is-account-registered",{accountPublicKey:e.toString()});return 1==+await t.text()}async isAliasRegistered(e){const t=await this.fetch("/is-alias-registered",{alias:e});return 1==+await t.text()}async isAliasRegisteredToAccount(e,t){const n=await this.fetch("/is-alias-registered-to-account",{accountPublicKey:e.toString(),alias:t});return 1==+await n.text()}async getAccountRegistrationRollupId(e){const t=await this.fetch("/get-account-registration-rollup-id",{accountPublicKey:e.toString()});return+await t.text()}async fetch(e,t){const n=new URL(`${this.baseUrl}${e}`),r=this.version?{headers:{version:this.version}}:{};t&&(r.method="POST",r.body=JSON.stringify(t));const i=await(0,de.fetch)(n.toString(),r).catch((()=>{}));if(!i)throw new Error("Failed to contact rollup provider.");if(409==i.status){const e=await i.json();throw this.emit("versionMismatch",e.error),new Fr(e.error)}if(400===i.status){const e=await i.json();throw new Error(e.error)}if(200!==i.status)throw new Error(`Bad response code ${i.status}.`);return i}}const zr=(e,t)=>{if(t<0)throw new Error("Number of significant figures cannot be negative.");if(!t)return e;const n=`${e}`.length,r=Math.max(0,n-t),i=BigInt(10)**BigInt(r);return(e/i+(r&&e%i?BigInt(1):BigInt(0)))*i};let Ur=!1,qr=!1;const Hr={debug:1,default:2,info:2,warning:3,error:4,off:5};let Kr=Hr.default,Gr=null;const jr=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Wr,Zr;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Wr||(Wr={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Zr||(Zr={}));const Jr="0123456789abcdef";class Xr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==Hr[n]&&this.throwArgumentError("invalid log level name","logLevel",e),Kr>Hr[n]||console.log.apply(console,t)}debug(...e){this._log(Xr.levels.DEBUG,e)}info(...e){this._log(Xr.levels.INFO,e)}warn(...e){this._log(Xr.levels.WARNING,e)}makeError(e,t,n){if(qr)return this.makeError("censored error",t,{});t||(t=Xr.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Jr[t[e]>>4],n+=Jr[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(t){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;let s="";switch(t){case Zr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Zr.CALL_EXCEPTION:case Zr.INSUFFICIENT_FUNDS:case Zr.MISSING_NEW:case Zr.NONCE_EXPIRED:case Zr.REPLACEMENT_UNDERPRICED:case Zr.TRANSACTION_REPLACED:case Zr.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const a=new Error(e);return a.reason=i,a.code=t,Object.keys(n).forEach((function(e){a[e]=n[e]})),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Xr.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),jr&&this.throwError("platform missing String.prototype.normalize",Xr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:jr})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Xr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Xr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,Xr.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Xr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Xr.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Xr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Xr.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Gr||(Gr=new Xr("logger/5.6.0")),Gr}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Xr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ur){if(!e)return;this.globalLogger().throwError("error censorship permanent",Xr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}qr=!!e,Ur=!!t}static setLogLevel(e){const t=Hr[e.toLowerCase()];null!=t?Kr=t:Xr.globalLogger().warn("invalid log level - "+e)}static from(e){return new Xr(e)}}Xr.errors=Zr,Xr.levels=Wr;const Qr=new Xr("properties/5.6.0");function ei(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function ti(e,t){for(let n=0;n<32;n++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function ni(e){return t=this,n=void 0,i=function*(){const t=Object.keys(e).map((t=>{const n=e[t];return Promise.resolve(n).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})},new((r=void 0)||(r=Promise))((function(e,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,o)}l((i=i.apply(t,n||[])).next())}));var t,n,r,i}function ri(e,t){e&&"object"==typeof e||Qr.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((n=>{t[n]||Qr.throwArgumentError("invalid object key - "+n,"transaction:"+n,e)}))}function ii(e){const t={};for(const n in e)t[n]=e[n];return t}const si={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function ai(e){if(null==e||si[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let n=0;n<t.length;n++){let r=null;try{r=e[t[n]]}catch(e){continue}if(!ai(r))return!1}return!0}return Qr.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function oi(e){if(ai(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>li(e))));if("object"==typeof e){const t={};for(const n in e){const r=e[n];void 0!==r&&ei(t,n,li(r))}return t}return Qr.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function li(e){return oi(e)}class ci{constructor(e){for(const t in e)this[t]=li(e[t])}}var di=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const ui=new Xr("abstract-signer/5.5.0"),pi=["accessList","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],fi=[Xr.errors.INSUFFICIENT_FUNDS,Xr.errors.NONCE_EXPIRED,Xr.errors.REPLACEMENT_UNDERPRICED];class yi{constructor(){ui.checkAbstract(new.target,yi),ei(this,"_isSigner",!0)}getBalance(e){return di(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return di(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return di(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield ni(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return di(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield ni(this.checkTransaction(e));return yield this.provider.call(n,t)}))}sendTransaction(e){return di(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)}))}getChainId(){return di(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return di(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return di(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return di(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===pi.indexOf(t)&&ui.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=ii(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&ui.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return di(this,void 0,void 0,(function*(){const t=yield ni(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>di(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&ui.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||ui.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):ui.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(n&&ui.throwError("network does not support EIP-1559",Xr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):ui.throwError("failed to get consistent fee data",Xr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(fi.indexOf(e.code)>=0)throw e;return ui.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Xr.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&ui.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield ni(t)}))}_checkProvider(e){this.provider||ui.throwError("missing provider",Xr.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class mi{constructor(e){this.provider=e instanceof yi?e.provider:e}request(e){return this.provider.send(e.method,e.params)}on(){throw new Error("Events not supported.")}removeListener(){throw new Error("Events not supported.")}}const hi=new Xr("bytes/5.6.1");function bi(e){return!!e.toHexString}function gi(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return gi(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function _i(e){return wi(e)&&!(e.length%2)||Ii(e)}function Ti(e){return"number"==typeof e&&e==e&&e%1==0}function Ii(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!Ti(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Ti(n)||n<0||n>=256)return!1}return!0}function vi(e,t){if(t||(t={}),"number"==typeof e){hi.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),gi(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),bi(e)&&(e=e.toHexString()),wi(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":hi.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return gi(new Uint8Array(r))}return Ii(e)?gi(new Uint8Array(e)):hi.throwArgumentError("invalid arrayify value","value",e)}function Si(e){const t=e.map((e=>vi(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),gi(r)}function Di(e){let t=vi(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}function wi(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const Ei="0123456789abcdef";function Ai(e,t){if(t||(t={}),"number"==typeof e){hi.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=Ei[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),bi(e))return e.toHexString();if(wi(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":hi.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Ii(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=Ei[(240&r)>>4]+Ei[15&r]}return t}return hi.throwArgumentError("invalid hexlify value","value",e)}function Pi(e){if("string"!=typeof e)e=Ai(e);else if(!wi(e)||e.length%2)return null;return(e.length-2)/2}function Ci(e,t,n){return"string"!=typeof e?e=Ai(e):(!wi(e)||e.length%2)&&hi.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function xi(e){let t="0x";return e.forEach((e=>{t+=Ai(e).substring(2)})),t}function Ni(e){const t=function(e){"string"!=typeof e&&(e=Ai(e)),wi(e)||hi.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(Ai(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function Ri(e,t){for("string"!=typeof e?e=Ai(e):wi(e)||hi.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&hi.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function Li(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(_i(e)){let n=vi(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=Ai(n.slice(0,32)),t.s=Ai(n.slice(32,64))):65===n.length?(t.r=Ai(n.slice(0,32)),t.s=Ai(n.slice(32,64)),t.v=n[64]):hi.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:hi.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=Ai(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const n=function(e,t){(e=vi(e)).length>t&&hi.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(t);return n.set(e,t-e.length),gi(n)}(vi(t._vs),32);t._vs=Ai(n);const r=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=r:t.recoveryParam!==r&&hi.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const i=Ai(n);null==t.s?t.s=i:t.s!==i&&hi.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?hi.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const n=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==n&&hi.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&wi(t.r)?t.r=Ri(t.r,32):hi.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&wi(t.s)?t.s=Ri(t.s,32):hi.throwArgumentError("signature missing or invalid s","signature",e);const n=vi(t.s);n[0]>=128&&hi.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(n[0]|=128);const r=Ai(n);t._vs&&(wi(t._vs)||hi.throwArgumentError("signature invalid _vs","signature",e),t._vs=Ri(t._vs,32)),null==t._vs?t._vs=r:t._vs!==r&&hi.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function Vi(e){return Ai(Si([(e=Li(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var ki=n(9521),Bi=n.n(ki),Oi=Bi().BN;const $i=new Xr("bignumber/5.6.2"),Fi={},Mi=9007199254740991;let Yi=!1;class zi{constructor(e,t){e!==Fi&&$i.throwError("cannot call constructor directly; use BigNumber.from",Xr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return qi(Hi(this).fromTwos(e))}toTwos(e){return qi(Hi(this).toTwos(e))}abs(){return"-"===this._hex[0]?zi.from(this._hex.substring(1)):this}add(e){return qi(Hi(this).add(Hi(e)))}sub(e){return qi(Hi(this).sub(Hi(e)))}div(e){return zi.from(e).isZero()&&Ki("division-by-zero","div"),qi(Hi(this).div(Hi(e)))}mul(e){return qi(Hi(this).mul(Hi(e)))}mod(e){const t=Hi(e);return t.isNeg()&&Ki("division-by-zero","mod"),qi(Hi(this).umod(t))}pow(e){const t=Hi(e);return t.isNeg()&&Ki("negative-power","pow"),qi(Hi(this).pow(t))}and(e){const t=Hi(e);return(this.isNegative()||t.isNeg())&&Ki("unbound-bitwise-result","and"),qi(Hi(this).and(t))}or(e){const t=Hi(e);return(this.isNegative()||t.isNeg())&&Ki("unbound-bitwise-result","or"),qi(Hi(this).or(t))}xor(e){const t=Hi(e);return(this.isNegative()||t.isNeg())&&Ki("unbound-bitwise-result","xor"),qi(Hi(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Ki("negative-width","mask"),qi(Hi(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ki("negative-width","shl"),qi(Hi(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ki("negative-width","shr"),qi(Hi(this).shrn(e))}eq(e){return Hi(this).eq(Hi(e))}lt(e){return Hi(this).lt(Hi(e))}lte(e){return Hi(this).lte(Hi(e))}gt(e){return Hi(this).gt(Hi(e))}gte(e){return Hi(this).gte(Hi(e))}isNegative(){return"-"===this._hex[0]}isZero(){return Hi(this).isZero()}toNumber(){try{return Hi(this).toNumber()}catch(e){Ki("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return $i.throwError("this platform does not support BigInt",Xr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Yi||(Yi=!0,$i.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?$i.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Xr.errors.UNEXPECTED_ARGUMENT,{}):$i.throwError("BigNumber.toString does not accept parameters",Xr.errors.UNEXPECTED_ARGUMENT,{})),Hi(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof zi)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new zi(Fi,Ui(e)):e.match(/^-?[0-9]+$/)?new zi(Fi,Ui(new Oi(e))):$i.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&Ki("underflow","BigNumber.from",e),(e>=Mi||e<=-Mi)&&Ki("overflow","BigNumber.from",e),zi.from(String(e));const t=e;if("bigint"==typeof t)return zi.from(t.toString());if(Ii(t))return zi.from(Ai(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return zi.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(wi(e)||"-"===e[0]&&wi(e.substring(1))))return zi.from(e)}return $i.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function Ui(e){if("string"!=typeof e)return Ui(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&$i.throwArgumentError("invalid hex","value",e),"0x00"===(e=Ui(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function qi(e){return zi.from(Ui(e))}function Hi(e){const t=zi.from(e).toHexString();return"-"===t[0]?new Oi("-"+t.substring(3),16):new Oi(t.substring(2),16)}function Ki(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),$i.throwError(e,Xr.errors.NUMERIC_FAULT,r)}var Gi=n(8886),ji=n.n(Gi);function Wi(e){return"0x"+ji().keccak_256(vi(e))}const Zi=new Xr("rlp/5.6.1");function Ji(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Xi(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function Qi(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Qi(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=Ji(t.length);return n.unshift(247+n.length),n.concat(t)}_i(e)||Zi.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(vi(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=Ji(t.length);return n.unshift(183+n.length),n.concat(t)}function es(e){return Ai(Qi(e))}function ts(e,t,n,r){const i=[];for(;n<t+1+r;){const s=ns(e,n);i.push(s.result),(n+=s.consumed)>t+1+r&&Zi.throwError("child data too short",Xr.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function ns(e,t){if(0===e.length&&Zi.throwError("data too short",Xr.errors.BUFFER_OVERRUN,{}),e[t]>=248){const n=e[t]-247;t+1+n>e.length&&Zi.throwError("data short segment too short",Xr.errors.BUFFER_OVERRUN,{});const r=Xi(e,t+1,n);return t+1+n+r>e.length&&Zi.throwError("data long segment too short",Xr.errors.BUFFER_OVERRUN,{}),ts(e,t,t+1+n,n+r)}if(e[t]>=192){const n=e[t]-192;return t+1+n>e.length&&Zi.throwError("data array too short",Xr.errors.BUFFER_OVERRUN,{}),ts(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;t+1+n>e.length&&Zi.throwError("data array too short",Xr.errors.BUFFER_OVERRUN,{});const r=Xi(e,t+1,n);return t+1+n+r>e.length&&Zi.throwError("data array too short",Xr.errors.BUFFER_OVERRUN,{}),{consumed:1+n+r,result:Ai(e.slice(t+1+n,t+1+n+r))}}if(e[t]>=128){const n=e[t]-128;return t+1+n>e.length&&Zi.throwError("data too short",Xr.errors.BUFFER_OVERRUN,{}),{consumed:1+n,result:Ai(e.slice(t+1,t+1+n))}}return{consumed:1,result:Ai(e[t])}}function rs(e){const t=vi(e),n=ns(t,0);return n.consumed!==t.length&&Zi.throwArgumentError("invalid rlp data","data",e),n.result}const is=new Xr("address/5.6.1");function ss(e){wi(e,20)||is.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=vi(Wi(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const as={};for(let e=0;e<10;e++)as[String(e)]=String(e);for(let e=0;e<26;e++)as[String.fromCharCode(65+e)]=String(10+e);const os=Math.floor((ls=9007199254740991,Math.log10?Math.log10(ls):Math.log(ls)/Math.LN10));var ls;function cs(e){let t=null;if("string"!=typeof e&&is.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=ss(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&is.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>as[e])).join("");for(;t.length>=os;){let e=t.substring(0,os);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}(e)&&is.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new Oi(n,36).toString(16);t.length<40;)t="0"+t;t=ss("0x"+t)}else is.throwArgumentError("invalid address","address",e);var n;return t}function ds(e){let t=null;try{t=cs(e.from)}catch(t){is.throwArgumentError("missing from address","transaction",e)}return cs(Ci(Wi(es([t,Di(vi(zi.from(e.nonce).toHexString()))])),12))}const us=new Xr("abstract-provider/5.6.1");class ps extends ci{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class fs{constructor(){us.checkAbstract(new.target,fs),ei(this,"_isProvider",!0)}getFeeData(){return e=this,t=void 0,r=function*(){const{block:e,gasPrice:t}=yield ni({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let n=null,r=null;return e&&e.baseFeePerGas&&(r=zi.from("1500000000"),n=e.baseFeePerGas.mul(2).add(r)),{maxFeePerGas:n,maxPriorityFeePerGas:r,gasPrice:t}},new((n=void 0)||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var ys=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const ms=new Xr("abstract-signer/5.6.2"),hs=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],bs=[Xr.errors.INSUFFICIENT_FUNDS,Xr.errors.NONCE_EXPIRED,Xr.errors.REPLACEMENT_UNDERPRICED];class gs{constructor(){ms.checkAbstract(new.target,gs),ei(this,"_isSigner",!0)}getBalance(e){return ys(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return ys(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return ys(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield ni(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return ys(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield ni(this.checkTransaction(e));return yield this.provider.call(n,t)}))}sendTransaction(e){return ys(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)}))}getChainId(){return ys(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return ys(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return ys(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return ys(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===hs.indexOf(t)&&ms.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=ii(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&ms.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return ys(this,void 0,void 0,(function*(){const t=yield ni(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>ys(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&ms.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||ms.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):ms.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(n&&ms.throwError("network does not support EIP-1559",Xr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):ms.throwError("failed to get consistent fee data",Xr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(bs.indexOf(e.code)>=0)throw e;return ms.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Xr.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&ms.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield ni(t)}))}_checkProvider(e){this.provider||ms.throwError("missing provider",Xr.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class _s extends gs{constructor(e,t){super(),ei(this,"address",e),ei(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then((()=>{ms.throwError(e,Xr.errors.UNSUPPORTED_OPERATION,{operation:t})}))}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new _s(this.address,e)}}const Ts=new Xr("strings/5.6.1");var Is,vs;function Ss(e,t,n,r,i){if(e===vs.BAD_PREFIX||e===vs.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return e===vs.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Is||(Is={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(vs||(vs={}));const Ds=Object.freeze({error:function(e,t,n,r,i){return Ts.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Ss,replace:function(e,t,n,r,i){return e===vs.OVERLONG?(r.push(i),0):(r.push(65533),Ss(e,t,n))}});function ws(e,t){null==t&&(t=Ds.error),e=vi(e);const n=[];let r=0;for(;r<e.length;){const i=e[r++];if(i>>7==0){n.push(i);continue}let s=null,a=null;if(192==(224&i))s=1,a=127;else if(224==(240&i))s=2,a=2047;else{if(240!=(248&i)){r+=t(128==(192&i)?vs.UNEXPECTED_CONTINUE:vs.BAD_PREFIX,r-1,e,n);continue}s=3,a=65535}if(r-1+s>=e.length){r+=t(vs.OVERRUN,r-1,e,n);continue}let o=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=e[r];if(128!=(192&i)){r+=t(vs.MISSING_CONTINUE,r,e,n),o=null;break}o=o<<6|63&i,r++}null!==o&&(o>1114111?r+=t(vs.OUT_OF_RANGE,r-1-s,e,n,o):o>=55296&&o<=57343?r+=t(vs.UTF16_SURROGATE,r-1-s,e,n,o):o<=a?r+=t(vs.OVERLONG,r-1-s,e,n,o):n.push(o))}return n}function Es(e,t=Is.current){t!=Is.current&&(Ts.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&r)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return vi(n)}function As(e){return e.map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}function Ps(e,t){return As(ws(e,t))}function Cs(e,t=Is.current){return ws(Es(e,t))}function xs(e){return"string"==typeof e&&(e=Es(e)),Wi(Si([Es("Ethereum Signed Message:\n"),Es(String(e.length)),e]))}const Ns="hash/5.6.1";function Rs(e){return Wi(Es(e))}const Ls=new Xr(Ns),Vs=new Uint8Array(32);Vs.fill(0);const ks=zi.from(-1),Bs=zi.from(0),Os=zi.from(1),$s=zi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Fs=Ri(Os.toHexString(),32),Ms=Ri(Bs.toHexString(),32),Ys={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},zs=["name","version","chainId","verifyingContract","salt"];function Us(e){return function(t){return"string"!=typeof t&&Ls.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const qs={name:Us("name"),version:Us("version"),chainId:function(e){try{return zi.from(e).toString()}catch(e){}return Ls.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return cs(e).toLowerCase()}catch(e){}return Ls.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=vi(e);if(32!==t.length)throw new Error("bad length");return Ai(t)}catch(e){}return Ls.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Hs(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const n=""===t[1],r=parseInt(t[2]||"256");(r%8!=0||r>256||t[2]&&t[2]!==String(r))&&Ls.throwArgumentError("invalid numeric width","type",e);const i=$s.mask(n?r-1:r),s=n?i.add(Os).mul(ks):Bs;return function(t){const n=zi.from(t);return(n.lt(s)||n.gt(i))&&Ls.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),Ri(n.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return(0===n||n>32||t[1]!==String(n))&&Ls.throwArgumentError("invalid bytes width","type",e),function(t){return vi(t).length!==n&&Ls.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=vi(e),n=t.length%32;return n?xi([t,Vs.slice(n)]):Ai(t)}(t)}}}switch(e){case"address":return function(e){return Ri(cs(e),32)};case"bool":return function(e){return e?Fs:Ms};case"bytes":return function(e){return Wi(e)};case"string":return function(e){return Rs(e)}}return null}function Ks(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class Gs{constructor(e){ei(this,"types",Object.freeze(li(e))),ei(this,"_encoderCache",{}),ei(this,"_types",{});const t={},n={},r={};Object.keys(e).forEach((e=>{t[e]={},n[e]=[],r[e]={}}));for(const r in e){const i={};e[r].forEach((s=>{i[s.name]&&Ls.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(r)}`,"types",e),i[s.name]=!0;const a=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];a===r&&Ls.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),Hs(a)||(n[a]||Ls.throwArgumentError(`unknown type ${JSON.stringify(a)}`,"types",e),n[a].push(r),t[r][a]=!0)}))}const i=Object.keys(n).filter((e=>0===n[e].length));0===i.length?Ls.throwArgumentError("missing primary type","types",e):i.length>1&&Ls.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),ei(this,"primaryType",i[0]),function i(s,a){a[s]&&Ls.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),a[s]=!0,Object.keys(t[s]).forEach((e=>{n[e]&&(i(e,a),Object.keys(a).forEach((t=>{r[t][e]=!0})))})),delete a[s]}(this.primaryType,{});for(const t in r){const n=Object.keys(r[t]);n.sort(),this._types[t]=Ks(t,e[t])+n.map((t=>Ks(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=Hs(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],n=this.getEncoder(e),r=parseInt(t[3]);return t=>{r>=0&&t.length!==r&&Ls.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(n);return this._types[e]&&(i=i.map(Wi)),Wi(xi(i))}}const n=this.types[e];if(n){const t=Rs(this._types[e]);return e=>{const r=n.map((({name:t,type:n})=>{const r=this.getEncoder(n)(e[t]);return this._types[n]?Wi(r):r}));return r.unshift(t),xi(r)}}return Ls.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Ls.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Wi(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Hs(e))return n(e,t);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const e=r[1],i=parseInt(r[3]);return i>=0&&t.length!==i&&Ls.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,n)))}const i=this.types[e];return i?i.reduce(((e,{name:r,type:i})=>(e[r]=this._visit(i,t[r],n),e)),{}):Ls.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Gs(e)}static getPrimaryType(e){return Gs.from(e).primaryType}static hashStruct(e,t,n){return Gs.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const r=Ys[n];r||Ls.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>zs.indexOf(e.name)-zs.indexOf(t.name))),Gs.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return xi(["0x1901",Gs.hashDomain(e),Gs.from(t).hash(n)])}static hash(e,t,n){return Wi(Gs.encode(e,t,n))}static resolveNames(e,t,n,r){return i=this,s=void 0,o=function*(){e=ii(e);const i={};e.verifyingContract&&!wi(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=Gs.from(t);s.visit(n,((e,t)=>("address"!==e||wi(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield r(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=s.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:n}},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function r(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,r)}l((o=o.apply(i,s||[])).next())}));var i,s,a,o}static getPayload(e,t,n){Gs.hashDomain(e);const r={},i=[];zs.forEach((t=>{const n=e[t];null!=n&&(r[t]=qs[t](n),i.push({name:t,type:Ys[t]}))}));const s=Gs.from(t),a=ii(t);return a.EIP712Domain?Ls.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=i,s.encode(n),{types:a,domain:r,primaryType:s.primaryType,message:s.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return Ai(vi(t));if(e.match(/^u?int/))return zi.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Ls.throwArgumentError("invalid string","value",t),t}return Ls.throwArgumentError("unsupported type","type",e)}))}}}class js{constructor(e){ei(this,"alphabet",e),ei(this,"base",e.length),ei(this,"_alphabetMap",{}),ei(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=vi(e);if(0===t.length)return"";let n=[0];for(let e=0;e<t.length;++e){let r=t[e];for(let e=0;e<n.length;++e)r+=n[e]<<8,n[e]=r%this.base,r=r/this.base|0;for(;r>0;)n.push(r%this.base),r=r/this.base|0}let r="";for(let e=0;0===t[e]&&e<t.length-1;++e)r+=this._leader;for(let e=n.length-1;e>=0;--e)r+=this.alphabet[n[e]];return r}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let r=this._alphabetMap[e[n]];if(void 0===r)throw new Error("Non-base"+this.base+" character");let i=r;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return vi(new Uint8Array(t.reverse()))}}new js("abcdefghijklmnopqrstuvwxyz234567");const Ws=new js("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Zs;!function(e){e.sha256="sha256",e.sha512="sha512"}(Zs||(Zs={}));const Js=new Xr("sha2/5.6.1");function Xs(e){return"0x"+Be().sha256().update(vi(e)).digest("hex")}function Qs(e,t,n){return Zs[e]||Js.throwError("unsupported algorithm "+e,Xr.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Be().hmac(Be()[e],vi(t)).update(vi(n)).digest("hex")}function ea(e,t,n,r,i){let s;e=vi(e),t=vi(t);let a=1;const o=new Uint8Array(r),l=new Uint8Array(t.length+4);let c,d;l.set(t);for(let u=1;u<=a;u++){l[t.length]=u>>24&255,l[t.length+1]=u>>16&255,l[t.length+2]=u>>8&255,l[t.length+3]=255&u;let p=vi(Qs(i,e,l));s||(s=p.length,d=new Uint8Array(s),a=Math.ceil(r/s),c=r-(a-1)*s),d.set(p);for(let t=1;t<n;t++){p=vi(Qs(i,e,p));for(let e=0;e<s;e++)d[e]^=p[e]}const f=(u-1)*s,y=u===a?c:s;o.set(vi(d).slice(0,y),f)}return Ai(o)}function ta(e,t,n){return n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},e(n,n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var na=ra;function ra(e,t){if(!e)throw new Error(t||"Assertion failed")}ra.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var ia=ta((function(e,t){var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),s=i>>8,a=255&i;s?n.push(s,a):n.push(a)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}})),sa=ta((function(e,t){var n=t;n.assert=na,n.toArray=ia.toArray,n.zero2=ia.zero2,n.toHex=ia.toHex,n.encode=ia.encode,n.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,s=e.clone(),a=0;a<r.length;a++){var o,l=s.andln(i-1);s.isOdd()?(o=l>(i>>1)-1?(i>>1)-l:l,s.isubn(o)):o=0,r[a]=o,s.iushrn(1)}return r},n.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var a,o,l=e.andln(3)+i&3,c=t.andln(3)+s&3;3===l&&(l=-1),3===c&&(c=-1),a=0==(1&l)?0:3!=(r=e.andln(7)+i&7)&&5!==r||2!==c?l:-l,n[0].push(a),o=0==(1&c)?0:3!=(r=t.andln(7)+s&7)&&5!==r||2!==l?c:-c,n[1].push(o),2*i===a+1&&(i=1-i),2*s===o+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new(Bi())(e,"hex","le")}})),aa=sa.getNAF,oa=sa.getJSF,la=sa.assert;function ca(e,t){this.type=e,this.p=new(Bi())(t.p,16),this.red=t.prime?Bi().red(t.prime):Bi().mont(this.p),this.zero=new(Bi())(0).toRed(this.red),this.one=new(Bi())(1).toRed(this.red),this.two=new(Bi())(2).toRed(this.red),this.n=t.n&&new(Bi())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var da=ca;function ua(e,t){this.curve=e,this.type=t,this.precomputed=null}ca.prototype.point=function(){throw new Error("Not implemented")},ca.prototype.validate=function(){throw new Error("Not implemented")},ca.prototype._fixedNafMul=function(e,t){la(e.precomputed);var n=e._getDoubles(),r=aa(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var s,a,o=[];for(s=0;s<r.length;s+=n.step){a=0;for(var l=s+n.step-1;l>=s;l--)a=(a<<1)+r[l];o.push(a)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=i;u>0;u--){for(s=0;s<o.length;s++)(a=o[s])===u?d=d.mixedAdd(n.points[s]):a===-u&&(d=d.mixedAdd(n.points[s].neg()));c=c.add(d)}return c.toP()},ca.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,s=aa(t,n,this._bitLength),a=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(var l=0;o>=0&&0===s[o];o--)l++;if(o>=0&&l++,a=a.dblp(l),o<0)break;var c=s[o];la(0!==c),a="affine"===e.type?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},ca.prototype._wnafMulAdd=function(e,t,n,r,i){var s,a,o,l=this._wnafT1,c=this._wnafT2,d=this._wnafT3,u=0;for(s=0;s<r;s++){var p=(o=t[s])._getNAFPoints(e);l[s]=p.wnd,c[s]=p.points}for(s=r-1;s>=1;s-=2){var f=s-1,y=s;if(1===l[f]&&1===l[y]){var m=[t[f],null,null,t[y]];0===t[f].y.cmp(t[y].y)?(m[1]=t[f].add(t[y]),m[2]=t[f].toJ().mixedAdd(t[y].neg())):0===t[f].y.cmp(t[y].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[y]),m[2]=t[f].add(t[y].neg())):(m[1]=t[f].toJ().mixedAdd(t[y]),m[2]=t[f].toJ().mixedAdd(t[y].neg()));var h=[-3,-1,-5,-7,0,7,5,1,3],b=oa(n[f],n[y]);for(u=Math.max(b[0].length,u),d[f]=new Array(u),d[y]=new Array(u),a=0;a<u;a++){var g=0|b[0][a],_=0|b[1][a];d[f][a]=h[3*(g+1)+(_+1)],d[y][a]=0,c[f]=m}}else d[f]=aa(n[f],l[f],this._bitLength),d[y]=aa(n[y],l[y],this._bitLength),u=Math.max(d[f].length,u),u=Math.max(d[y].length,u)}var T=this.jpoint(null,null,null),I=this._wnafT4;for(s=u;s>=0;s--){for(var v=0;s>=0;){var S=!0;for(a=0;a<r;a++)I[a]=0|d[a][s],0!==I[a]&&(S=!1);if(!S)break;v++,s--}if(s>=0&&v++,T=T.dblp(v),s<0)break;for(a=0;a<r;a++){var D=I[a];0!==D&&(D>0?o=c[a][D-1>>1]:D<0&&(o=c[a][-D-1>>1].neg()),T="affine"===o.type?T.mixedAdd(o):T.add(o))}}for(s=0;s<r;s++)c[s]=null;return i?T:T.toP()},ca.BasePoint=ua,ua.prototype.eq=function(){throw new Error("Not implemented")},ua.prototype.validate=function(){return this.curve.validate(this)},ca.prototype.decodePoint=function(e,t){e=sa.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?la(e[e.length-1]%2==0):7===e[0]&&la(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},ua.prototype.encodeCompressed=function(e){return this.encode(e,!0)},ua.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},ua.prototype.encode=function(e,t){return sa.encode(this._encode(t),e)},ua.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},ua.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},ua.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)r=r.dbl();n.push(r)}return{step:e,points:n}},ua.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},ua.prototype._getBeta=function(){return null},ua.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var pa=ta((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),fa=sa.assert;function ya(e){da.call(this,"short",e),this.a=new(Bi())(e.a,16).toRed(this.red),this.b=new(Bi())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}pa(ya,da);var ma=ya;function ha(e,t,n,r){da.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Bi())(t,16),this.y=new(Bi())(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ba(e,t,n,r){da.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Bi())(0)):(this.x=new(Bi())(t,16),this.y=new(Bi())(n,16),this.z=new(Bi())(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ya.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new(Bi())(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new(Bi())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],fa(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new(Bi())(e.a,16),b:new(Bi())(e.b,16)}})):this._getEndoBasis(n)}}},ya.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Bi().mont(e),n=new(Bi())(2).toRed(t).redInvm(),r=n.redNeg(),i=new(Bi())(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},ya.prototype._getEndoBasis=function(e){for(var t,n,r,i,s,a,o,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,p=this.n.clone(),f=new(Bi())(1),y=new(Bi())(0),m=new(Bi())(0),h=new(Bi())(1),b=0;0!==u.cmpn(0);){var g=p.div(u);l=p.sub(g.mul(u)),c=m.sub(g.mul(f));var _=h.sub(g.mul(y));if(!r&&l.cmp(d)<0)t=o.neg(),n=f,r=l.neg(),i=c;else if(r&&2==++b)break;o=l,p=u,u=l,m=f,f=c,h=y,y=_}s=l.neg(),a=c;var T=r.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(T)>=0&&(s=t,a=n),r.negative&&(r=r.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:r,b:i},{a:s,b:a}]},ya.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),o=s.mul(r.a),l=i.mul(n.b),c=s.mul(r.b);return{k1:e.sub(a).sub(o),k2:l.add(c).neg()}},ya.prototype.pointFromX=function(e,t){(e=new(Bi())(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},ya.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},ya.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],l=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),r[2*s]=o,r[2*s+1]=l,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*s,n),d=0;d<2*s;d++)r[d]=null,i[d]=null;return c},pa(ha,da.BasePoint),ya.prototype.point=function(e,t,n){return new ha(this,e,t,n)},ya.prototype.pointFromJSON=function(e,t){return ha.fromJSON(this,e,t)},ha.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},ha.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ha.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var s=t[2];return r.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[r].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[r].concat(s.naf.points.map(i))}},r},ha.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ha.prototype.isInfinity=function(){return this.inf},ha.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},ha.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},ha.prototype.getX=function(){return this.x.fromRed()},ha.prototype.getY=function(){return this.y.fromRed()},ha.prototype.mul=function(e){return e=new(Bi())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ha.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},ha.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},ha.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},ha.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},ha.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},pa(ba,da.BasePoint),ya.prototype.jpoint=function(e,t,n){return new ba(this,e,t,n)},ba.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},ba.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ba.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),o=r.redSub(i),l=s.redSub(a);if(0===o.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),d=c.redMul(o),u=r.redMul(c),p=l.redSqr().redIAdd(d).redISub(u).redISub(u),f=l.redMul(u.redISub(p)).redISub(s.redMul(d)),y=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(p,f,y)},ba.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=n.redSub(r),o=i.redSub(s);if(0===a.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),c=l.redMul(a),d=n.redMul(l),u=o.redSqr().redIAdd(c).redISub(d).redISub(d),p=o.redMul(d.redISub(u)).redISub(i.redMul(c)),f=this.z.redMul(a);return this.curve.jpoint(u,p,f)},ba.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,l=o.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var d=s.redSqr(),u=c.redSqr(),p=u.redSqr(),f=d.redAdd(d).redIAdd(d).redIAdd(r.redMul(l)),y=s.redMul(u),m=f.redSqr().redISub(y.redAdd(y)),h=y.redISub(m),b=f.redMul(h);b=b.redIAdd(b).redISub(p);var g=c.redMul(o);t+1<e&&(l=l.redMul(p)),s=m,o=g,c=b}return this.curve.jpoint(s,c.redMul(i),o)},ba.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ba.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(s);a=a.redIAdd(a);var o=r.redAdd(r).redIAdd(r),l=o.redSqr().redISub(a).redISub(a),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=o.redMul(a.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),p=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(d).redISub(p);f=f.redIAdd(f);var y=d.redAdd(d).redIAdd(d),m=y.redSqr(),h=p.redIAdd(p);h=(h=h.redIAdd(h)).redIAdd(h),e=m.redISub(f).redISub(f),t=y.redMul(f.redISub(e)).redISub(h),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},ba.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(s);a=a.redIAdd(a);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=o.redSqr().redISub(a).redISub(a);e=l;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=o.redMul(a.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),p=this.x.redMul(u),f=this.x.redSub(d).redMul(this.x.redAdd(d));f=f.redAdd(f).redIAdd(f);var y=p.redIAdd(p),m=(y=y.redIAdd(y)).redAdd(y);e=f.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var h=u.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h),t=f.redMul(y.redISub(e)).redISub(h)}return this.curve.jpoint(e,t,n)},ba.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),s=t.redSqr(),a=n.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(a),d=o.redSqr().redISub(c.redAdd(c)),u=c.redISub(d),p=a.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var f=o.redMul(u).redISub(p),y=n.redAdd(n).redMul(r);return this.curve.jpoint(d,f,y)},ba.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),l=r.redIAdd(r);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(l),d=t.redMul(c);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(o).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var p=this.y.redMul(c.redMul(l.redISub(c)).redISub(a.redMul(o)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var f=this.z.redAdd(a).redSqr().redISub(n).redISub(o);return this.curve.jpoint(u,p,f)},ba.prototype.mul=function(e,t){return e=new(Bi())(e,t),this.curve._wnafMul(this,e)},ba.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},ba.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},ba.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ba.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var ga=ta((function(e,t){var n=t;n.base=da,n.short=ma,n.mont=null,n.edwards=null})),_a=ta((function(e,t){var n,r=t,i=sa.assert;function s(e){"short"===e.type?this.curve=new ga.short(e):"edwards"===e.type?this.curve=new ga.edwards(e):this.curve=new ga.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Be().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Be().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Be().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Be().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Be().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Be().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Be().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(e){n=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Be().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function Ta(e){if(!(this instanceof Ta))return new Ta(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ia.toArray(e.entropy,e.entropyEnc||"hex"),n=ia.toArray(e.nonce,e.nonceEnc||"hex"),r=ia.toArray(e.pers,e.persEnc||"hex");na(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}var Ia=Ta;Ta.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},Ta.prototype._hmac=function(){return new(Be().hmac)(this.hash,this.K)},Ta.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ta.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=ia.toArray(e,t),n=ia.toArray(n,r),na(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Ta.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=ia.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,ia.encode(s,t)};var va=sa.assert;function Sa(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Da=Sa;Sa.fromPublic=function(e,t,n){return t instanceof Sa?t:new Sa(e,{pub:t,pubEnc:n})},Sa.fromPrivate=function(e,t,n){return t instanceof Sa?t:new Sa(e,{priv:t,privEnc:n})},Sa.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Sa.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Sa.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Sa.prototype._importPrivate=function(e,t){this.priv=new(Bi())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Sa.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?va(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||va(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Sa.prototype.derive=function(e){return e.validate()||va(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Sa.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},Sa.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Sa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var wa=sa.assert;function Ea(e,t){if(e instanceof Ea)return e;this._importDER(e,t)||(wa(e.r&&e.s,"Signature without r or s"),this.r=new(Bi())(e.r,16),this.s=new(Bi())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Aa=Ea;function Pa(){this.place=0}function Ca(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,s=0,a=t.place;s<r;s++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function xa(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function Na(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}Ea.prototype._importDER=function(e,t){e=sa.toArray(e,t);var n=new Pa;if(48!==e[n.place++])return!1;var r=Ca(e,n);if(!1===r)return!1;if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var i=Ca(e,n);if(!1===i)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,2!==e[n.place++])return!1;var a=Ca(e,n);if(!1===a)return!1;if(e.length!==a+n.place)return!1;var o=e.slice(n.place,a+n.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new(Bi())(s),this.s=new(Bi())(o),this.recoveryParam=null,!0},Ea.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=xa(t),n=xa(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];Na(r,t.length),(r=r.concat(t)).push(2),Na(r,n.length);var i=r.concat(n),s=[48];return Na(s,i.length),s=s.concat(i),sa.encode(s,e)};var Ra=function(){throw new Error("unsupported")},La=sa.assert;function Va(e){if(!(this instanceof Va))return new Va(e);"string"==typeof e&&(La(Object.prototype.hasOwnProperty.call(_a,e),"Unknown curve "+e),e=_a[e]),e instanceof _a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ka=Va;Va.prototype.keyPair=function(e){return new Da(this,e)},Va.prototype.keyFromPrivate=function(e,t){return Da.fromPrivate(this,e,t)},Va.prototype.keyFromPublic=function(e,t){return Da.fromPublic(this,e,t)},Va.prototype.genKeyPair=function(e){e||(e={});for(var t=new Ia({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ra(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new(Bi())(2));;){var i=new(Bi())(t.generate(n));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Va.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Va.prototype.sign=function(e,t,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(Bi())(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),a=e.toArray("be",i),o=new Ia({hash:this.hash,entropy:s,nonce:a,pers:r.pers,persEnc:r.persEnc||"utf8"}),l=this.n.sub(new(Bi())(1)),c=0;;c++){var d=r.k?r.k(c):new(Bi())(o.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(l)>=0)){var u=this.g.mul(d);if(!u.isInfinity()){var p=u.getX(),f=p.umod(this.n);if(0!==f.cmpn(0)){var y=d.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var m=(u.getY().isOdd()?1:0)|(0!==p.cmp(f)?2:0);return r.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),m^=1),new Aa({r:f,s:y,recoveryParam:m})}}}}}},Va.prototype.verify=function(e,t,n,r){e=this._truncateToN(new(Bi())(e,16)),n=this.keyFromPublic(n,r);var i=(t=new Aa(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,o=s.invm(this.n),l=o.mul(e).umod(this.n),c=o.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,n.getPublic(),c)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(l,n.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Va.prototype.recoverPubKey=function(e,t,n,r){La((3&n)===n,"The recovery param is more than two bits"),t=new Aa(t,r);var i=this.n,s=new(Bi())(e),a=t.r,o=t.s,l=1&n,c=n>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var d=t.r.invm(i),u=i.sub(s).mul(d).umod(i),p=o.mul(d).umod(i);return this.g.mulAdd(u,a,p)},Va.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new Aa(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var Ba=ta((function(e,t){var n=t;n.version="6.5.4",n.utils=sa,n.rand=function(){throw new Error("unsupported")},n.curve=ga,n.curves=_a,n.ec=ka,n.eddsa=null})).ec;const Oa=new Xr("signing-key/5.6.2");let $a=null;function Fa(){return $a||($a=new Ba("secp256k1")),$a}class Ma{constructor(e){ei(this,"curve","secp256k1"),ei(this,"privateKey",Ai(e)),32!==Pi(this.privateKey)&&Oa.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Fa().keyFromPrivate(vi(this.privateKey));ei(this,"publicKey","0x"+t.getPublic(!1,"hex")),ei(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),ei(this,"_isSigningKey",!0)}_addPoint(e){const t=Fa().keyFromPublic(vi(this.publicKey)),n=Fa().keyFromPublic(vi(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Fa().keyFromPrivate(vi(this.privateKey)),n=vi(e);32!==n.length&&Oa.throwArgumentError("bad digest length","digest",e);const r=t.sign(n,{canonical:!0});return Li({recoveryParam:r.recoveryParam,r:Ri("0x"+r.r.toString(16),32),s:Ri("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const t=Fa().keyFromPrivate(vi(this.privateKey)),n=Fa().keyFromPublic(vi(Ya(e)));return Ri("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Ya(e,t){const n=vi(e);if(32===n.length){const e=new Ma(n);return t?"0x"+Fa().keyFromPrivate(n).getPublic(!0,"hex"):e.publicKey}return 33===n.length?t?Ai(n):"0x"+Fa().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+Fa().keyFromPublic(n).getPublic(!0,"hex"):Ai(n):Oa.throwArgumentError("invalid public or private key","key","[REDACTED]")}const za=zi.from(-1),Ua=zi.from(0),qa=zi.from(1),Ha=zi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ka=new Xr("transactions/5.6.2");var Ga;function ja(e){return"0x"===e?null:cs(e)}function Wa(e){return"0x"===e?Ua:zi.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Ga||(Ga={}));const Za=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Ja={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Xa(e){return cs(Ci(Wi(Ci(Ya(e),1)),12))}function Qa(e,t){return Xa(function(e,t){const n=Li(t),r={r:vi(n.r),s:vi(n.s)};return"0x"+Fa().recoverPubKey(vi(e),r,n.recoveryParam).encode("hex",!1)}(vi(e),t))}function eo(e,t){const n=Di(zi.from(e).toHexString());return n.length>32&&Ka.throwArgumentError("invalid length for "+t,"transaction:"+t,e),n}function to(e,t){return{address:cs(e),storageKeys:(t||[]).map(((t,n)=>(32!==Pi(t)&&Ka.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,t),t.toLowerCase())))}}function no(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&Ka.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),to(e[0],e[1])):to(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return to(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function ro(e){return no(e).map((e=>[e.address,e.storageKeys]))}function io(e,t){if(null!=e.gasPrice){const t=zi.from(e.gasPrice),n=zi.from(e.maxFeePerGas||0);t.eq(n)||Ka.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}const n=[eo(e.chainId||0,"chainId"),eo(e.nonce||0,"nonce"),eo(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),eo(e.maxFeePerGas||0,"maxFeePerGas"),eo(e.gasLimit||0,"gasLimit"),null!=e.to?cs(e.to):"0x",eo(e.value||0,"value"),e.data||"0x",ro(e.accessList||[])];if(t){const e=Li(t);n.push(eo(e.recoveryParam,"recoveryParam")),n.push(Di(e.r)),n.push(Di(e.s))}return xi(["0x02",es(n)])}function so(e,t){const n=[eo(e.chainId||0,"chainId"),eo(e.nonce||0,"nonce"),eo(e.gasPrice||0,"gasPrice"),eo(e.gasLimit||0,"gasLimit"),null!=e.to?cs(e.to):"0x",eo(e.value||0,"value"),e.data||"0x",ro(e.accessList||[])];if(t){const e=Li(t);n.push(eo(e.recoveryParam,"recoveryParam")),n.push(Di(e.r)),n.push(Di(e.s))}return xi(["0x01",es(n)])}function ao(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&Ka.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){ri(e,Ja);const n=[];Za.forEach((function(t){let r=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),r=vi(Ai(r,i)),t.length&&r.length!==t.length&&r.length>0&&Ka.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r),t.maxLength&&(r=Di(r),r.length>t.maxLength&&Ka.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r)),n.push(Ai(r))}));let r=0;if(null!=e.chainId?(r=e.chainId,"number"!=typeof r&&Ka.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!_i(t)&&t.v>28&&(r=Math.floor((t.v-35)/2)),0!==r&&(n.push(Ai(r)),n.push("0x"),n.push("0x")),!t)return es(n);const i=Li(t);let s=27+i.recoveryParam;return 0!==r?(n.pop(),n.pop(),n.pop(),s+=2*r+8,i.v>28&&i.v!==s&&Ka.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==s&&Ka.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),n.push(Ai(s)),n.push(Di(vi(i.r))),n.push(Di(vi(i.s))),es(n)}(e,t);switch(e.type){case 1:return so(e,t);case 2:return io(e,t)}return Ka.throwError(`unsupported transaction type: ${e.type}`,Xr.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function oo(e,t,n){try{const n=Wa(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(e){Ka.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=Ri(t[1],32),e.s=Ri(t[2],32);try{const t=Wi(n(e));e.from=Qa(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}const lo=new Xr("wordlists/5.6.1");class co{constructor(e){lo.checkAbstract(new.target,co),ei(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const r=e.getWord(n);if(n!==e.getWordIndex(r))return"0x";t.push(r)}return Rs(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let uo=null;function po(e){if(null==uo&&(uo="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==co.check(e)))throw uo=null,new Error("BIP39 Wordlist for en (English) FAILED")}const fo=new class extends co{constructor(){super("en")}getWord(e){return po(this),uo[e]}getWordIndex(e){return po(this),uo.indexOf(e)}};co.register(fo);const yo={en:fo},mo=new Xr("hdnode/5.6.2"),ho=zi.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bo=Es("Bitcoin seed"),go=2147483648;function _o(e){return(1<<e)-1<<8-e}function To(e){return Ri(Ai(e),32)}function Io(e){return Ws.encode(Si([e,Ci(Xs(Xs(e)),0,4)]))}function vo(e){if(null==e)return yo.en;if("string"==typeof e){const t=yo[e];return null==t&&mo.throwArgumentError("unknown locale","wordlist",e),t}return e}const So={},Do="m/44'/60'/0'/0/0";class wo{constructor(e,t,n,r,i,s,a,o){if(e!==So)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Ma(t);ei(this,"privateKey",e.privateKey),ei(this,"publicKey",e.compressedPublicKey)}else ei(this,"privateKey",null),ei(this,"publicKey",Ai(n));var l;ei(this,"parentFingerprint",r),ei(this,"fingerprint",Ci((l=Xs(this.publicKey),"0x"+Be().ripemd160().update(vi(l)).digest("hex")),0,4)),ei(this,"address",Xa(this.publicKey)),ei(this,"chainCode",i),ei(this,"index",s),ei(this,"depth",a),null==o?(ei(this,"mnemonic",null),ei(this,"path",null)):"string"==typeof o?(ei(this,"mnemonic",null),ei(this,"path",o)):(ei(this,"mnemonic",o),ei(this,"path",o.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Io(Si([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Ai(this.depth),this.parentFingerprint,Ri(Ai(this.index),4),this.chainCode,null!=this.privateKey?Si(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new wo(So,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const n=new Uint8Array(37);if(e&go){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(vi(this.privateKey),1),t&&(t+="'")}else n.set(vi(this.publicKey));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;const r=vi(Qs(Zs.sha512,this.chainCode,n)),i=r.slice(0,32),s=r.slice(32);let a=null,o=null;this.privateKey?a=To(zi.from(i).add(this.privateKey).mod(ho)):o=new Ma(Ai(i))._addPoint(this.publicKey);let l=t;const c=this.mnemonic;return c&&(l=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new wo(So,a,o,this.fingerprint,To(s),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let n=this;for(let e=0;e<t.length;e++){const r=t[e];if(r.match(/^[0-9]+'$/)){const e=parseInt(r.substring(0,r.length-1));if(e>=go)throw new Error("invalid path index - "+r);n=n._derive(go+e)}else{if(!r.match(/^[0-9]+$/))throw new Error("invalid path component - "+r);{const e=parseInt(r);if(e>=go)throw new Error("invalid path index - "+r);n=n._derive(e)}}}return n}static _fromSeed(e,t){const n=vi(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const r=vi(Qs(Zs.sha512,bo,n));return new wo(So,To(r.slice(0,32)),null,"0x00000000",To(r.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return e=Ao(Eo(e,n=vo(n)),n),wo._fromSeed(function(e,t){t||(t="");const n=Es("mnemonic"+t,Is.NFKD);return ea(Es(e,Is.NFKD),n,2048,64,"sha512")}(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return wo._fromSeed(e,null)}static fromExtendedKey(e){const t=Ws.decode(e);82===t.length&&Io(t.slice(0,78))===e||mo.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],r=Ai(t.slice(5,9)),i=parseInt(Ai(t.slice(9,13)).substring(2),16),s=Ai(t.slice(13,45)),a=t.slice(45,78);switch(Ai(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new wo(So,null,Ai(a),r,s,i,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==a[0])break;return new wo(So,Ai(a.slice(1)),null,r,s,i,n,null)}return mo.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Eo(e,t){t=vo(t),mo.checkNormalize();const n=t.split(e);if(n.length%3!=0)throw new Error("invalid mnemonic");const r=vi(new Uint8Array(Math.ceil(11*n.length/8)));let i=0;for(let e=0;e<n.length;e++){let s=t.getWordIndex(n[e].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)s&1<<10-e&&(r[i>>3]|=1<<7-i%8),i++}const s=32*n.length/3,a=_o(n.length/3);if((vi(Xs(r.slice(0,s/8)))[0]&a)!=(r[r.length-1]&a))throw new Error("invalid checksum");return Ai(r.slice(0,s/8))}function Ao(e,t){if(t=vo(t),(e=vi(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const n=[0];let r=11;for(let t=0;t<e.length;t++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[t],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[t]>>8-r,n.push(e[t]&(1<<8-r)-1),r+=3);const i=e.length/4,s=vi(Xs(e))[0]&_o(i);return n[n.length-1]<<=i,n[n.length-1]|=s>>8-i,t.join(n.map((e=>t.getWord(e))))}const Po=new Xr("random/5.6.1"),Co=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();let xo=Co.crypto||Co.msCrypto;function No(e){(e<=0||e>1024||e%1||e!=e)&&Po.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return xo.getRandomValues(t),vi(t)}xo&&xo.getRandomValues||(Po.warn("WARNING: Missing strong random number source"),xo={getRandomValues:function(e){return Po.throwError("no secure random source avaialble",Xr.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var Ro=n(5880),Lo=n.n(Ro),Vo=n(7978),ko=n.n(Vo);function Bo(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),vi(e)}function Oo(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function $o(e){return"string"==typeof e?Es(e,Is.NFKC):vi(e)}function Fo(e,t){let n=e;const r=t.toLowerCase().split("/");for(let e=0;e<r.length;e++){let t=null;for(const i in n)if(i.toLowerCase()===r[e]){t=n[i];break}if(null===t)return null;n=t}return n}function Mo(e){const t=vi(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Ai(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const Yo="json-wallets/5.6.1";const zo=new Xr(Yo);function Uo(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class qo extends ci{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Ho(e,t){const n=Bo(Fo(e,"crypto/ciphertext"));if(Ai(Wi(Si([t.slice(16,32),n]))).substring(2)!==Fo(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const r=function(e,t,n){if("aes-128-ctr"===Fo(e,"crypto/cipher")){const r=Bo(Fo(e,"crypto/cipherparams/iv")),i=new(Lo().Counter)(r);return vi(new(Lo().ModeOfOperation.ctr)(t,i).decrypt(n))}return null}(e,t.slice(0,16),n);r||zo.throwError("unsupported cipher",Xr.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),s=Xa(r);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),cs(t)!==s)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:s,privateKey:Ai(r)};if("0.1"===Fo(e,"x-ethers/version")){const t=Bo(Fo(e,"x-ethers/mnemonicCiphertext")),n=Bo(Fo(e,"x-ethers/mnemonicCounter")),r=new(Lo().Counter)(n),s=new(Lo().ModeOfOperation.ctr)(i,r),o=Fo(e,"x-ethers/path")||Do,l=Fo(e,"x-ethers/locale")||"en",c=vi(s.decrypt(t));try{const e=Ao(c,l),t=wo.fromMnemonic(e,null,l).derivePath(o);if(t.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=t.mnemonic}catch(e){if(e.code!==Xr.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new qo(a)}function Ko(e,t,n,r,i){return vi(ea(e,t,n,r,i))}function Go(e,t,n,r,i){return Promise.resolve(Ko(e,t,n,r,i))}function jo(e,t,n,r,i){const s=$o(t),a=Fo(e,"crypto/kdf");if(a&&"string"==typeof a){const t=function(e,t){return zo.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===a.toLowerCase()){const n=Bo(Fo(e,"crypto/kdfparams/salt")),o=parseInt(Fo(e,"crypto/kdfparams/n")),l=parseInt(Fo(e,"crypto/kdfparams/r")),c=parseInt(Fo(e,"crypto/kdfparams/p"));o&&l&&c||t("kdf",a),0!=(o&o-1)&&t("N",o);const d=parseInt(Fo(e,"crypto/kdfparams/dklen"));return 32!==d&&t("dklen",d),r(s,n,o,l,c,64,i)}if("pbkdf2"===a.toLowerCase()){const r=Bo(Fo(e,"crypto/kdfparams/salt"));let i=null;const a=Fo(e,"crypto/kdfparams/prf");"hmac-sha256"===a?i="sha256":"hmac-sha512"===a?i="sha512":t("prf",a);const o=parseInt(Fo(e,"crypto/kdfparams/c")),l=parseInt(Fo(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(s,r,o,l,i)}}return zo.throwArgumentError("unsupported key-derivation function","kdf",a)}const Wo=new Xr(Yo);class Zo extends ci{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function Jo(e,t){const n=JSON.parse(e);t=$o(t);const r=cs(Fo(n,"ethaddr")),i=Bo(Fo(n,"encseed"));i&&i.length%16==0||Wo.throwArgumentError("invalid encseed","json",e);const s=vi(ea(t,t,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),o=i.slice(16),l=new(Lo().ModeOfOperation.cbc)(s,a),c=Lo().padding.pkcs7.strip(vi(l.decrypt(o)));let d="";for(let e=0;e<c.length;e++)d+=String.fromCharCode(c[e]);const u=Wi(Es(d));return new Zo({_isCrowdsaleAccount:!0,address:r,privateKey:u})}function Xo(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function Qo(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function el(e,t,n){if(Xo(e)){n&&n(0);const r=Jo(e,t);return n&&n(1),Promise.resolve(r)}return Qo(e)?function(e,t,n){return r=this,i=void 0,a=function*(){const r=JSON.parse(e);return Ho(r,yield jo(r,t,Go,ko().scrypt,n))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s((function(e){e(r)}))).then(n,o)}l((a=a.apply(r,i||[])).next())}));var r,i,s,a}(e,t,n):Promise.reject(new Error("invalid JSON wallet"))}var tl=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const nl=new Xr("wallet/5.5.0");class rl extends gs{constructor(e,t){if(nl.checkNew(new.target,rl),super(),null!=(n=e)&&wi(n.privateKey,32)&&null!=n.address){const t=new Ma(e.privateKey);if(ei(this,"_signingKey",(()=>t)),ei(this,"address",Xa(this.publicKey)),this.address!==cs(e.address)&&nl.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;ei(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Do,locale:t.locale||"en"})));const n=this.mnemonic;Xa(wo.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path).privateKey)!==this.address&&nl.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ei(this,"_mnemonic",(()=>null))}else{if(Ma.isSigningKey(e))"secp256k1"!==e.curve&&nl.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ei(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Ma(e);ei(this,"_signingKey",(()=>t))}ei(this,"_mnemonic",(()=>null)),ei(this,"address",Xa(this.publicKey))}var n;t&&!fs.isProvider(t)&&nl.throwArgumentError("invalid provider","provider",t),ei(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new rl(this,e)}signTransaction(e){return ni(e).then((t=>{null!=t.from&&(cs(t.from)!==this.address&&nl.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(Wi(ao(t)));return ao(t,n)}))}signMessage(e){return tl(this,void 0,void 0,(function*(){return Vi(this._signingKey().signDigest(xs(e)))}))}_signTypedData(e,t,n){return tl(this,void 0,void 0,(function*(){const r=yield Gs.resolveNames(e,t,n,(e=>(null==this.provider&&nl.throwError("cannot resolve ENS names without a provider",Xr.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return Vi(this._signingKey().signDigest(Gs.hash(r.domain,t,r.value)))}))}encrypt(e,t,n){if("function"!=typeof t||n||(n=t,t={}),n&&"function"!=typeof n)throw new Error("invalid callback");return t||(t={}),function(e,t,n,r){try{if(cs(e.address)!==Xa(e.privateKey))throw new Error("address/privateKey mismatch");if(Uo(e)){const t=e.mnemonic;if(wo.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Do).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||r||(r=n,n={}),n||(n={});const i=vi(e.privateKey),s=$o(t);let a=null,o=null,l=null;if(Uo(e)){const t=e.mnemonic;a=vi(Eo(t.phrase,t.locale||"en")),o=t.path||Do,l=t.locale||"en"}let c=n.client;c||(c="ethers.js");let d=null;d=n.salt?vi(n.salt):No(32);let u=null;if(n.iv){if(u=vi(n.iv),16!==u.length)throw new Error("invalid iv")}else u=No(16);let p=null;if(n.uuid){if(p=vi(n.uuid),16!==p.length)throw new Error("invalid uuid")}else p=No(16);let f=1<<17,y=8,m=1;return n.scrypt&&(n.scrypt.N&&(f=n.scrypt.N),n.scrypt.r&&(y=n.scrypt.r),n.scrypt.p&&(m=n.scrypt.p)),ko().scrypt(s,d,f,y,m,64,r).then((t=>{const n=(t=vi(t)).slice(0,16),r=t.slice(16,32),s=t.slice(32,64),h=new(Lo().Counter)(u),b=vi(new(Lo().ModeOfOperation.ctr)(n,h).encrypt(i)),g=Wi(Si([r,b])),_={address:e.address.substring(2).toLowerCase(),id:Mo(p),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Ai(u).substring(2)},ciphertext:Ai(b).substring(2),kdf:"scrypt",kdfparams:{salt:Ai(d).substring(2),n:f,dklen:32,p:m,r:y},mac:g.substring(2)}};if(a){const e=No(16),t=new(Lo().Counter)(e),n=vi(new(Lo().ModeOfOperation.ctr)(s,t).encrypt(a)),r=new Date,i=r.getUTCFullYear()+"-"+Oo(r.getUTCMonth()+1,2)+"-"+Oo(r.getUTCDate(),2)+"T"+Oo(r.getUTCHours(),2)+"-"+Oo(r.getUTCMinutes(),2)+"-"+Oo(r.getUTCSeconds(),2)+".0Z";_["x-ethers"]={client:c,gethFilename:"UTC--"+i+"--"+_.address,mnemonicCounter:Ai(e).substring(2),mnemonicCiphertext:Ai(n).substring(2),path:o,locale:l,version:"0.1"}}return JSON.stringify(_)}))}(this,e,t,n)}static createRandom(e){let t=No(16);e||(e={}),e.extraEntropy&&(t=vi(Ci(Wi(Si([t,e.extraEntropy])),0,16)));const n=Ao(t,e.locale);return rl.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return el(e,t,n).then((e=>new rl(e)))}static fromEncryptedJsonSync(e,t){return new rl(function(e,t){if(Xo(e))return Jo(e,t);if(Qo(e))return function(e,t){const n=JSON.parse(e);return Ho(n,jo(n,t,Ko,ko().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}(e,t))}static fromMnemonic(e,t,n){return t||(t=Do),new rl(wo.fromMnemonic(e,null,n).derivePath(t))}}function il(e){e=atob(e);const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return vi(t)}function sl(e){e=vi(e);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function al(e,t){return n=this,r=void 0,s=function*(){null==t&&(t={});const n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client");const r=yield fetch(e,n),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach(((e,t)=>{s[t.toLowerCase()]=e})):r.headers.keys().forEach((e=>{s[e.toLowerCase()]=r.headers.get(e)})),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:vi(new Uint8Array(i))}},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,o)}l((s=s.apply(n,r||[])).next())}));var n,r,i,s}const ol=new Xr("web/5.6.1");function ll(e){return new Promise((t=>{setTimeout(t,e)}))}function cl(e,t){if(null==e)return null;if("string"==typeof e)return e;if(_i(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return Ps(e)}catch(e){}return Ai(e)}return e}function dl(e,t,n){let r=null;if(null!=t){r=Es(t);const n="string"==typeof e?{url:e}:ii(e);n.headers?0!==Object.keys(n.headers).filter((e=>"content-type"===e.toLowerCase())).length||(n.headers=ii(n.headers),n.headers["content-type"]="application/json"):n.headers={"content-type":"application/json"},e=n}return function(e,t,n){const r="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;ol.assertArgument(r>0&&r%1==0,"invalid connection throttle limit","connection.throttleLimit",r);const i="object"==typeof e?e.throttleCallback:null,s="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;ol.assertArgument(s>0&&s%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const a="object"==typeof e&&!!e.errorPassThrough,o={};let l=null;const c={method:"GET"};let d=!1,u=12e4;if("string"==typeof e)l=e;else if("object"==typeof e){if(null!=e&&null!=e.url||ol.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"==typeof e.timeout&&e.timeout>0&&(u=e.timeout),e.headers)for(const t in e.headers)o[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(d=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&ol.throwError("basic authentication requires a secure https url",Xr.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;o.authorization={key:"Authorization",value:"Basic "+sl(Es(t))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup)}const p=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),f=l?l.match(p):null;if(f)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]},body:il(f[2])};let t=e.body;return n&&(t=n(e.body,e)),Promise.resolve(t)}catch(e){ol.throwError("processing response error",Xr.errors.SERVER_ERROR,{body:cl(f[1],f[2]),error:e,requestBody:null,requestMethod:"GET",url:l})}t&&(c.method="POST",c.body=t,null==o["content-type"]&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==o["content-length"]&&(o["content-length"]={key:"Content-Length",value:String(t.length)}));const y={};Object.keys(o).forEach((e=>{const t=o[e];y[t.key]=t.value})),c.headers=y;const m=function(){let e=null;return{promise:new Promise((function(t,n){u&&(e=setTimeout((()=>{null!=e&&(e=null,n(ol.makeError("timeout",Xr.errors.TIMEOUT,{requestBody:cl(c.body,y["content-type"]),requestMethod:c.method,timeout:u,url:l})))}),u))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),h=function(){return e=this,t=void 0,u=function*(){for(let e=0;e<r;e++){let t=null;try{if(t=yield al(l,c),e<r)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===c.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let n=!0;if(i&&(n=yield i(e,l)),n){let n=0;const r=t.headers["retry-after"];n="string"==typeof r&&r.match(/^[1-9][0-9]*$/)?1e3*parseInt(r):s*parseInt(String(Math.random()*Math.pow(2,e))),yield ll(n);continue}}}catch(e){t=e.response,null==t&&(m.cancel(),ol.throwError("missing response",Xr.errors.SERVER_ERROR,{requestBody:cl(c.body,y["content-type"]),requestMethod:c.method,serverError:e,url:l}))}let o=t.body;if(d&&304===t.statusCode?o=null:!a&&(t.statusCode<200||t.statusCode>=300)&&(m.cancel(),ol.throwError("bad response",Xr.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:cl(o,t.headers?t.headers["content-type"]:null),requestBody:cl(c.body,y["content-type"]),requestMethod:c.method,url:l})),n)try{const e=yield n(o,t);return m.cancel(),e}catch(n){if(n.throttleRetry&&e<r){let t=!0;if(i&&(t=yield i(e,l)),t){const t=s*parseInt(String(Math.random()*Math.pow(2,e)));yield ll(t);continue}}m.cancel(),ol.throwError("processing response error",Xr.errors.SERVER_ERROR,{body:cl(o,t.headers?t.headers["content-type"]:null),error:n,requestBody:cl(c.body,y["content-type"]),requestMethod:c.method,url:l})}return m.cancel(),o}return ol.throwError("failed response",Xr.errors.SERVER_ERROR,{requestBody:cl(c.body,y["content-type"]),requestMethod:c.method,url:l})},new((o=void 0)||(o=Promise))((function(n,r){function i(e){try{a(u.next(e))}catch(e){r(e)}}function s(e){try{a(u.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,s)}a((u=u.apply(e,t||[])).next())}));var e,t,o,u}();return Promise.race([m.promise,h])}(e,r,((e,t)=>{let r=null;if(null!=e)try{r=JSON.parse(Ps(e))}catch(t){ol.throwError("invalid JSON",Xr.errors.SERVER_ERROR,{body:e,error:t})}return n&&(r=n(r,t)),r}))}function ul(e,t){return t||(t={}),null==(t=ii(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(n,r){let i=null,s=!1;const a=()=>!s&&(s=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout((()=>{a()&&r(new Error("timeout"))}),t.timeout));const o=t.retryLimit;let l=0;!function i(){return e().then((function(e){if(void 0!==e)a()&&n(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!s){if(l++,l>o)return void(a()&&r(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null}),(function(e){a()&&r(e)}))}()}))}const pl="providers/5.5.1";function fl(e,t){t||(t=function(e){return[parseInt(e,16)]});let n=0,r={};return e.split(",").forEach((e=>{let i=e.split(":");n+=parseInt(i[0],16),r[n]=t(i[1])})),r}function yl(e){let t=0;return e.split(",").map((e=>{let n=e.split("-");1===n.length?n[1]="0":""===n[1]&&(n[1]="1");let r=t+parseInt(n[0],16);return t=parseInt(n[1],16),{l:r,h:t}}))}function ml(e,t){let n=0;for(let r=0;r<t.length;r++){let i=t[r];if(n+=i.l,e>=n&&e<=n+i.h&&(e-n)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-n))continue;return i}}return null}const hl=yl("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),bl="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((e=>parseInt(e,16))),gl=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],_l=fl("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Tl=fl("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Il=fl("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let n=0;n<e.length;n+=4)t.push(parseInt(e.substring(n,n+4),16));return t})),vl=yl("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Sl(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=Cs(e);var n;n=t.map((e=>{if(bl.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=ml(e,gl);if(t)return[e+t.s];let n=_l[e];if(n)return n;let r=Tl[e];return r?[e+r[0]]:Il[e]||null}(e);return t||[e]})),t=n.reduce(((e,t)=>(t.forEach((t=>{e.push(t)})),e)),[]),t=Cs(As(t),Is.NFKC),t.forEach((e=>{if(ml(e,vl))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),t.forEach((e=>{if(ml(e,hl))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let r=As(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw new Error("invalid hyphen");if(r.length>63)throw new Error("too long");return r}const Dl=new Xr(Ns),wl=new Uint8Array(32);wl.fill(0);const El=new RegExp("^((.*)\\.)?([^.]+)$");function Al(e){"string"!=typeof e&&Dl.throwArgumentError("invalid ENS name; not a string","name",e);let t=e,n=wl;for(;t.length;){const r=t.match(El);null!=r&&""!==r[2]||Dl.throwArgumentError("invalid ENS address; missing component","name",e),n=Wi(Si([n,Wi(Es(Sl(r[3])))])),t=r[2]||""}return Ai(n)}const Pl=new Xr("networks/5.6.4");function Cl(e){const t=function(t,n){null==n&&(n={});const r=[];if(t.InfuraProvider&&"-"!==n.infura)try{r.push(new t.InfuraProvider(e,n.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==n.etherscan)try{r.push(new t.EtherscanProvider(e,n.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==n.alchemy)try{r.push(new t.AlchemyProvider(e,n.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==n.pocket){const i=["goerli","ropsten","rinkeby"];try{const s=new t.PocketProvider(e,n.pocket);s.network&&-1===i.indexOf(s.network.name)&&r.push(s)}catch(e){}}if(t.CloudflareProvider&&"-"!==n.cloudflare)try{r.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==n.ankr)try{const i=["ropsten"],s=new t.AnkrProvider(e,n.ankr);s.network&&-1===i.indexOf(s.network.name)&&r.push(s)}catch(e){}if(0===r.length)return null;if(t.FallbackProvider){let i=1;return null!=n.quorum?i=n.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(r,i)}return r[0]};return t.renetwork=function(e){return Cl(e)},t}function xl(e,t){const n=function(n,r){return n.JsonRpcProvider?new n.JsonRpcProvider(e,t):null};return n.renetwork=function(t){return xl(e,t)},n}const Nl={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Cl("homestead")},Rl={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Cl("ropsten")},Ll={chainId:63,name:"classicMordor",_defaultProvider:xl("https://www.ethercluster.com/mordor","classicMordor")},Vl={unspecified:{chainId:0,name:"unspecified"},homestead:Nl,mainnet:Nl,morden:{chainId:2,name:"morden"},ropsten:Rl,testnet:Rl,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Cl("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Cl("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Cl("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:xl("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ll,classicTestnet:Ll,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:xl("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Cl("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Cl("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};var kl=n(5388),Bl=n.n(kl);const Ol=new Xr(pl);class $l{constructor(){Ol.checkNew(new.target,$l),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),n=this.bigNumber.bind(this),r=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),o=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:s,type:l,accessList:$l.allowNull(this.accessList.bind(this),null),blockHash:$l.allowNull(s,null),blockNumber:$l.allowNull(o,null),transactionIndex:$l.allowNull(o,null),confirmations:$l.allowNull(o,null),from:t,gasPrice:$l.allowNull(n),maxPriorityFeePerGas:$l.allowNull(n),maxFeePerGas:$l.allowNull(n),gasLimit:n,to:$l.allowNull(t,null),value:n,nonce:o,data:i,r:$l.allowNull(this.uint256),s:$l.allowNull(this.uint256),v:$l.allowNull(o),creates:$l.allowNull(t,null),raw:$l.allowNull(i)},e.transactionRequest={from:$l.allowNull(t),nonce:$l.allowNull(o),gasLimit:$l.allowNull(n),gasPrice:$l.allowNull(n),maxPriorityFeePerGas:$l.allowNull(n),maxFeePerGas:$l.allowNull(n),to:$l.allowNull(t),value:$l.allowNull(n),data:$l.allowNull((e=>this.data(e,!0))),type:$l.allowNull(o),accessList:$l.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:o,blockNumber:o,transactionHash:s,address:t,topics:$l.arrayOf(s),data:i,logIndex:o,blockHash:s},e.receipt={to:$l.allowNull(this.address,null),from:$l.allowNull(this.address,null),contractAddress:$l.allowNull(t,null),transactionIndex:o,root:$l.allowNull(a),gasUsed:n,logsBloom:$l.allowNull(i),blockHash:s,transactionHash:s,logs:$l.arrayOf(this.receiptLog.bind(this)),blockNumber:o,confirmations:$l.allowNull(o,null),cumulativeGasUsed:n,effectiveGasPrice:$l.allowNull(n),status:$l.allowNull(o),type:l},e.block={hash:s,parentHash:s,number:o,timestamp:o,nonce:$l.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:t,extraData:i,transactions:$l.allowNull($l.arrayOf(s)),baseFeePerGas:$l.allowNull(n)},e.blockWithTransactions=ii(e.block),e.blockWithTransactions.transactions=$l.allowNull($l.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:$l.allowNull(r,void 0),toBlock:$l.allowNull(r,void 0),blockHash:$l.allowNull(s,void 0),address:$l.allowNull(t,void 0),topics:$l.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:$l.allowNull(o),blockHash:$l.allowNull(s),transactionIndex:o,removed:$l.allowNull(this.boolean.bind(this)),address:t,data:$l.allowFalsish(i,"0x"),topics:$l.arrayOf(s),transactionHash:s,logIndex:o},e}accessList(e){return no(e||[])}number(e){return"0x"===e?0:zi.from(e).toNumber()}type(e){return"0x"===e||null==e?0:zi.from(e).toNumber()}bigNumber(e){return zi.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),wi(e))?e.toLowerCase():Ol.throwArgumentError("invalid hash","value",e)}data(e,t){const n=this.hex(e,t);if(n.length%2!=0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return cs(e)}callAddress(e){if(!wi(e,32))return null;const t=cs(Ci(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return ds(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||wi(e))return Ni(e);throw new Error("invalid blockTag")}hash(e,t){const n=this.hex(e,t);return 32!==Pi(n)?Ol.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(null==e)return null;const t=zi.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!wi(e))throw new Error("invalid uint256");return Ri(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const n=null!=e._difficulty?e._difficulty:e.difficulty,r=$l.check(t,e);return r._difficulty=null==n?null:zi.from(n),r}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return $l.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&zi.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=$l.check(this.formats.transaction,e);if(null!=e.chainId){let n=e.chainId;wi(n)&&(n=zi.from(n).toNumber()),t.chainId=n}else{let n=e.networkId;null==n&&null==t.v&&(n=e.chainId),wi(n)&&(n=zi.from(n).toNumber()),"number"!=typeof n&&null!=t.v&&(n=(t.v-35)/2,n<0&&(n=0),n=parseInt(n)),"number"!=typeof n&&(n=0),t.chainId=n}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return function(e){const t=vi(e);if(t[0]>127)return function(e){const t=rs(e);9!==t.length&&6!==t.length&&Ka.throwArgumentError("invalid raw transaction","rawTransaction",e);const n={nonce:Wa(t[0]).toNumber(),gasPrice:Wa(t[1]),gasLimit:Wa(t[2]),to:ja(t[3]),value:Wa(t[4]),data:t[5],chainId:0};if(6===t.length)return n;try{n.v=zi.from(t[6]).toNumber()}catch(e){return n}if(n.r=Ri(t[7],32),n.s=Ri(t[8],32),zi.from(n.r).isZero()&&zi.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=t.slice(0,6);0!==n.chainId&&(i.push(Ai(n.chainId)),i.push("0x"),i.push("0x"),r-=2*n.chainId+8);const s=Wi(es(i));try{n.from=Qa(s,{r:Ai(n.r),s:Ai(n.s),recoveryParam:r})}catch(e){}n.hash=Wi(e)}return n.type=null,n}(t);switch(t[0]){case 1:return function(e){const t=rs(e.slice(1));8!==t.length&&11!==t.length&&Ka.throwArgumentError("invalid component count for transaction type: 1","payload",Ai(e));const n={type:1,chainId:Wa(t[0]).toNumber(),nonce:Wa(t[1]).toNumber(),gasPrice:Wa(t[2]),gasLimit:Wa(t[3]),to:ja(t[4]),value:Wa(t[5]),data:t[6],accessList:no(t[7])};return 8===t.length||(n.hash=Wi(e),oo(n,t.slice(8),so)),n}(t);case 2:return function(e){const t=rs(e.slice(1));9!==t.length&&12!==t.length&&Ka.throwArgumentError("invalid component count for transaction type: 2","payload",Ai(e));const n=Wa(t[2]),r=Wa(t[3]),i={type:2,chainId:Wa(t[0]).toNumber(),nonce:Wa(t[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Wa(t[4]),to:ja(t[5]),value:Wa(t[6]),data:t[7],accessList:no(t[8])};return 9===t.length||(i.hash=Wi(e),oo(i,t.slice(9),io)),i}(t)}return Ka.throwError(`unsupported transaction type: ${t[0]}`,Xr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(e)}receiptLog(e){return $l.check(this.formats.receiptLog,e)}receipt(e){const t=$l.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=zi.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&Ol.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):Ol.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Ol.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return $l.check(this.formats.filter,e)}filterLog(e){return $l.check(this.formats.filterLog,e)}static check(e,t){const n={};for(const r in e)try{const i=e[r](t[r]);void 0!==i&&(n[r]=i)}catch(e){throw e.checkKey=r,e.checkValue=t[r],e}return n}static allowNull(e,t){return function(n){return null==n?t:e(n)}}static allowFalsish(e,t){return function(n){return n?e(n):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const n=[];return t.forEach((function(t){n.push(e(t))})),n}}}var Fl=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const Ml=new Xr(pl);function Yl(e){return null==e?"null":(32!==Pi(e)&&Ml.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function zl(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[Yl(e)]=!0}));const n=Object.keys(t);return n.sort(),n.join("|")}return Yl(e)})).join("&")}function Ul(e){if("string"==typeof e){if(32===Pi(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+zl(e);if(ps.isForkEvent(e))throw Ml.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+zl(e.topics||[])}throw new Error("invalid event - "+e)}function ql(){return(new Date).getTime()}function Hl(e){return new Promise((t=>{setTimeout(t,e)}))}const Kl=["block","network","pending","poll"];class Gl{constructor(e,t,n){ei(this,"tag",e),ei(this,"listener",t),ei(this,"once",n)}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],n=""===(r=e[2])?[]:r.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var r;const i={};return n.length>0&&(i.topics=n),t&&"*"!==t&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Kl.indexOf(this.tag)>=0}}const jl={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Wl(e){return Ri(zi.from(e).toHexString(),32)}function Zl(e){return Ws.encode(Si([e,Ci(Xs(Xs(e)),0,4)]))}const Jl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),new RegExp("^(ipfs)://(.*)$","i"),new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Xl(e){try{return Ps(Ql(e))}catch(e){}return null}function Ql(e){if("0x"===e)return null;const t=zi.from(Ci(e,0,32)).toNumber(),n=zi.from(Ci(e,t,t+32)).toNumber();return Ci(e,t+32,t+32+n)}class ec{constructor(e,t,n,r){ei(this,"provider",e),ei(this,"name",n),ei(this,"address",e.formatter.address(t)),ei(this,"_resolvedAddress",r)}_fetchBytes(e,t){return Fl(this,void 0,void 0,(function*(){const n={to:this.address,data:xi([e,Al(this.name),t||"0x"])};try{return Ql(yield this.provider.call(n))}catch(e){return e.code,Xr.errors.CALL_EXCEPTION,null}}))}_getAddress(e,t){const n=jl[String(e)];if(null==n&&Ml.throwError(`unsupported coin type: ${e}`,Xr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===n.ilk)return this.provider.formatter.address(t);const r=vi(t);if(null!=n.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Zl(Si([[n.p2pkh],"0x"+e[2]]))}}if(null!=n.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Zl(Si([[n.p2sh],"0x"+e[2]]))}}if(null!=n.prefix){const e=r[1];let t=r[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&r.length===2+e&&e>=1&&e<=75){const e=Bl().toWords(r.slice(2));return e.unshift(t),Bl().encode(n.prefix,e)}}return null}getAddress(e){return Fl(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e={to:this.address,data:"0x3b3b57de"+Al(this.name).substring(2)},t=yield this.provider.call(e);return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(e){if(e.code===Xr.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",Wl(e));if(null==t||"0x"===t)return null;const n=this._getAddress(e,t);return null==n&&Ml.throwError("invalid or unsupported coin data",Xr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),n}))}getAvatar(){return Fl(this,void 0,void 0,(function*(){const e=[];try{const t=yield this.getText("avatar");if(null==t)return null;for(let n=0;n<Jl.length;n++){const r=t.match(Jl[n]);if(null!=r)switch(r[1]){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:`https://gateway.ipfs.io/ipfs/${t.substring(7)}`};case"erc721":case"erc1155":{const n="erc721"===r[1]?"0xc87b56dd":"0x0e89341c";e.push({type:r[1],content:t});const i=this._resolvedAddress||(yield this.getAddress()),s=(r[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),o=Ri(zi.from(s[1]).toHexString(),32);if("erc721"===r[1]){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:xi(["0x6352211e",o])}));if(i!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===r[1]){const t=zi.from(yield this.provider.call({to:a,data:xi(["0x00fdd58e",Ri(i,32),o])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const l={to:this.provider.formatter.address(s[0]),data:xi([n,o])};let c=Xl(yield this.provider.call(l));if(null==c)return null;e.push({type:"metadata-url",content:c}),"erc1155"===r[1]&&(c=c.replace("{id}",o.substring(2)));const d=yield dl(c);return d&&"string"==typeof d.image&&d.image.match(/^(https:\/\/|data:)/i)?(e.push({type:"metadata",content:JSON.stringify(d)}),e.push({type:"url",content:d.image}),{linkage:e,url:d.image}):null}}}}catch(e){}return null}))}getContentHash(){return Fl(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+Ws.encode("0x"+t[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&64===n[1].length?"bzz://"+n[1]:Ml.throwError("invalid or unsupported content hash data",Xr.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return Fl(this,void 0,void 0,(function*(){let t=Es(e);t=Si([Wl(64),Wl(t.length),t]),t.length%32!=0&&(t=Si([t,Ri("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Ai(t));return null==n||"0x"===n?null:Ps(n)}))}}let tc=null,nc=1;class rc extends fs{constructor(e){if(Ml.checkNew(new.target,fs),super(),this._events=[],this._emitted={block:-2},this.formatter=new.target.getFormatter(),ei(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=ti(new.target,"getNetwork")(e);t?(ei(this,"_network",t),this.emit("network",t,null)):Ml.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Fl(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||Ml.throwError("no network detected",Xr.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:ei(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return ul((()=>this._ready().then((e=>e),(e=>{if(e.code!==Xr.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==tc&&(tc=new $l),tc}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(const t in Vl){const n=Vl[t];if(n.chainId===e)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=Vl[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Vl[e.name];if(!t)return"number"!=typeof e.chainId&&Pl.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&Pl.throwArgumentError("network chainId mismatch","network",e);let n=e._defaultProvider||null;var r;return null==n&&t._defaultProvider&&(n=(r=t._defaultProvider)&&"function"==typeof r.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:n}}(null==e?"homestead":e)}_getInternalBlockNumber(e){return Fl(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const n=yield t;if(ql()-n.respTime<=e)return n.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=ql(),n=ni({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((({blockNumber:e,networkError:r})=>{if(r)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),r;const i=ql();return(e=zi.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}}));return this._internalBlockNumber=n,n.catch((e=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)})),(yield n).blockNumber}))}poll(){return Fl(this,void 0,void 0,(function*(){const e=nc++,t=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Ml.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Ml.makeError("network block skew detected",Xr.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let e=this._emitted.block+1;e<=n;e++)this.emit("block",e);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&n-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((e=>{switch(e.type){case"tx":{const n=e.hash;let r=this.getTransactionReceipt(n).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+n]=e.blockNumber,this.emit(n,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(r);break}case"filter":{const r=e.filter;r.fromBlock=this._lastBlockNumber+1,r.toBlock=n;const i=this.getLogs(r).then((e=>{0!==e.length&&e.forEach((e=>{this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(r,e)}))})).catch((e=>{this.emit("error",e)}));t.push(i);break}}})),this._lastBlockNumber=n,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Fl(this,void 0,void 0,(function*(){return Ml.throwError("provider does not support network detection",Xr.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Fl(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Hl(0),this._network;const n=Ml.makeError("underlying network changed",Xr.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",n),n}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=ql();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=ql(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,n){return Fl(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,n||0,null)}))}_waitForTransaction(e,t,n,r){return Fl(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise(((i,s)=>{const a=[];let o=!1;const l=function(){return!!o||(o=!0,a.forEach((e=>{e()})),!1)},c=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,c),a.push((()=>{this.removeListener(e,c)})),r){let n=r.startBlock,i=null;const c=a=>Fl(this,void 0,void 0,(function*(){o||(yield Hl(1e3),this.getTransactionCount(r.from).then((d=>Fl(this,void 0,void 0,(function*(){if(!o){if(d<=r.nonce)n=a;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=n-3,i<r.startBlock&&(i=r.startBlock));i<=a;){if(o)return;const n=yield this.getBlockWithTransactions(i);for(let i=0;i<n.transactions.length;i++){const a=n.transactions[i];if(a.hash===e)return;if(a.from===r.from&&a.nonce===r.nonce){if(o)return;const n=yield this.waitForTransaction(a.hash,t);if(l())return;let i="replaced";return a.data===r.data&&a.to===r.to&&a.value.eq(r.value)?i="repriced":"0x"===a.data&&a.from===a.to&&a.value.isZero()&&(i="cancelled"),void s(Ml.makeError("transaction was replaced",Xr.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(a),hash:e,receipt:n}))}}i++}}o||this.once("block",c)}}))),(e=>{o||this.once("block",c)})))}));if(o)return;this.once("block",c),a.push((()=>{this.removeListener("block",c)}))}if("number"==typeof n&&n>0){const e=setTimeout((()=>{l()||s(Ml.makeError("timeout exceeded",Xr.errors.TIMEOUT,{timeout:n}))}),n);e.unref&&e.unref(),a.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return Fl(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return zi.from(e)}catch(t){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ni({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getBalance",n);try{return zi.from(r)}catch(e){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"getBalance",params:n,result:r,error:e})}}))}getTransactionCount(e,t){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ni({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getTransactionCount",n);try{return zi.from(r).toNumber()}catch(e){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:r,error:e})}}))}getCode(e,t){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ni({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("getCode",n);try{return Ai(r)}catch(e){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"getCode",params:n,result:r,error:e})}}))}getStorageAt(e,t,n){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ni({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(t).then((e=>Ni(e)))}),i=yield this.perform("getStorageAt",r);try{return Ai(i)}catch(e){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"getStorageAt",params:r,result:i,error:e})}}))}_wrapTransaction(e,t,n){if(null!=t&&32!==Pi(t))throw new Error("invalid response - sendTransaction");const r=e;return null!=t&&e.hash!==t&&Ml.throwError("Transaction hash mismatch from Provider.sendTransaction.",Xr.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),r.wait=(t,r)=>Fl(this,void 0,void 0,(function*(){let i;null==t&&(t=1),null==r&&(r=0),0!==t&&null!=n&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const s=yield this._waitForTransaction(e.hash,t,r,i);return null==s&&0===t?null:(this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&Ml.throwError("transaction failed",Xr.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),s)})),r}sendTransaction(e){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>Ai(e))),n=this.formatter.transaction(e);null==n.confirmations&&(n.confirmations=0);const r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(n,e,r)}catch(e){throw e.transaction=n,e.transactionHash=n.hash,e}}))}_getTransactionRequest(e){return Fl(this,void 0,void 0,(function*(){const t=yield e,n={};return["from","to"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?zi.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(n.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(n[e]=Promise.resolve(t[e]).then((e=>e?Ai(e):null)))})),this.formatter.transactionRequest(yield ni(n))}))}_getFilter(e){return Fl(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((n=>{null!=e[n]&&(t[n]=e[n])})),["fromBlock","toBlock"].forEach((n=>{null!=e[n]&&(t[n]=this._getBlockTag(e[n]))})),this.formatter.filter(yield ni(t))}))}call(e,t){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ni({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t)}),r=yield this.perform("call",n);try{return Ai(r)}catch(e){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"call",params:n,result:r,error:e})}}))}estimateGas(e){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield ni({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",t);try{return zi.from(n)}catch(e){return Ml.throwError("bad result from backend",Xr.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:n,error:e})}}))}_getAddress(e){return Fl(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&Ml.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&Ml.throwError("ENS name not configured",Xr.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let n=-128;const r={includeTransactions:!!t};if(wi(e,32))r.blockHash=e;else try{r.blockTag=yield this._getBlockTag(e),wi(r.blockTag)&&(n=parseInt(r.blockTag.substring(2),16))}catch(t){Ml.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ul((()=>Fl(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",r);if(null==e)return null!=r.blockHash&&null==this._emitted["b:"+r.blockHash]||null!=r.blockTag&&n>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const n=this.formatter.blockWithTransactions(e);return n.transactions=n.transactions.map((e=>this._wrapTransaction(e))),n}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ul((()=>Fl(this,void 0,void 0,(function*(){const n=yield this.perform("getTransaction",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;const r=this.formatter.transactionResponse(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return this._wrapTransaction(r)}))),{oncePoll:this})}))}getTransactionReceipt(e){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ul((()=>Fl(this,void 0,void 0,(function*(){const n=yield this.perform("getTransactionReceipt",t);if(null==n)return null==this._emitted["t:"+e]?null:void 0;if(null==n.blockHash)return;const r=this.formatter.receipt(n);if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}return r}))),{oncePoll:this})}))}getLogs(e){return Fl(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield ni({filter:this._getFilter(e)}),n=yield this.perform("getLogs",t);return n.forEach((e=>{null==e.removed&&(e.removed=!1)})),$l.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)}))}getEtherPrice(){return Fl(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return Fl(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&Ml.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return Fl(this,void 0,void 0,(function*(){try{const t=yield this._getResolver(e);return null==t?null:new ec(this,t,e)}catch(e){return e.code,Xr.errors.CALL_EXCEPTION,null}}))}_getResolver(e){return Fl(this,void 0,void 0,(function*(){const t=yield this.getNetwork();t.ensAddress||Ml.throwError("network does not support ENS",Xr.errors.UNSUPPORTED_OPERATION,{operation:"ENS",network:t.name});const n={to:t.ensAddress,data:"0x0178b8bf"+Al(e).substring(2)};try{return this.formatter.callAddress(yield this.call(n))}catch(e){if(e.code===Xr.errors.CALL_EXCEPTION)return null;throw e}}))}resolveName(e){return Fl(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(wi(e))throw t}"string"!=typeof e&&Ml.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return Fl(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(t);if(!n)return null;let r=vi(yield this.call({to:n,data:"0x691f3431"+Al(t).substring(2)}));if(r.length<32||!zi.from(r.slice(0,32)).eq(32))return null;if(r=r.slice(32),r.length<32)return null;const i=zi.from(r.slice(0,32)).toNumber();if(r=r.slice(32),i>r.length)return null;const s=Ps(r.slice(0,i));return(yield this.resolveName(s))!=e?null:s}))}getAvatar(e){return Fl(this,void 0,void 0,(function*(){let t=null;if(wi(e)){const n=this.formatter.address(e),r=n.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r);if(!i)return null;t=new ec(this,i,"_",n)}else if(t=yield this.getResolver(e),!t)return null;const n=yield t.getAvatar();return null==n?null:n.url}))}perform(e,t){return Ml.throwError(e+" not implemented",Xr.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,n){const r=new Gl(Ul(e),t,n);return this._events.push(r),this._startEvent(r),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let n=!1,r=[],i=Ul(e);return this._events=this._events.filter((e=>e.tag!==i||(setTimeout((()=>{e.listener.apply(this,t)}),0),n=!0,!e.once||(r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),n}listenerCount(e){if(!e)return this._events.length;let t=Ul(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Ul(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const n=[];let r=!1,i=Ul(e);return this._events=this._events.filter((e=>e.tag!==i||e.listener!=t||!!r||(r=!0,n.push(e),!1))),n.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const n=Ul(e);this._events=this._events.filter((e=>e.tag!==n||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var ic=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const sc=new Xr(pl),ac=["call","estimateGas"];function oc(e,t,n){if("call"===e&&t.code===Xr.errors.SERVER_ERROR){const e=t.error;if(e&&e.message.match("reverted")&&wi(e.data))return e.data;sc.throwError("missing revert data in call exception",Xr.errors.CALL_EXCEPTION,{error:t,data:"0x"})}let r=t.message;t.code===Xr.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?r=t.error.message:"string"==typeof t.body?r=t.body:"string"==typeof t.responseText&&(r=t.responseText),r=(r||"").toLowerCase();const i=n.transaction||n.signedTransaction;throw r.match(/insufficient funds|base fee exceeds gas limit/)&&sc.throwError("insufficient funds for intrinsic transaction cost",Xr.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),r.match(/nonce too low/)&&sc.throwError("nonce has already been used",Xr.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),r.match(/replacement transaction underpriced/)&&sc.throwError("replacement fee too low",Xr.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),r.match(/only replay-protected/)&&sc.throwError("legacy pre-eip-155 transactions not supported",Xr.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:i}),ac.indexOf(e)>=0&&r.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&sc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Xr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function lc(e){return new Promise((function(t){setTimeout(t,e)}))}function cc(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function dc(e){return e?e.toLowerCase():e}const uc={};class pc extends gs{constructor(e,t,n){if(sc.checkNew(new.target,pc),super(),e!==uc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ei(this,"provider",t),null==n&&(n=0),"string"==typeof n?(ei(this,"_address",this.provider.formatter.address(n)),ei(this,"_index",null)):"number"==typeof n?(ei(this,"_index",n),ei(this,"_address",null)):sc.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return sc.throwError("cannot alter JSON-RPC Signer connection",Xr.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new fc(uc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&sc.throwError("unknown account #"+this._index,Xr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=ii(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const n=ii(e);n.from=t,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>ic(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&sc.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),ni({tx:ni(e),sender:t}).then((({tx:t,sender:n})=>{null!=t.from?t.from.toLowerCase()!==n&&sc.throwArgumentError("from address mismatch","transaction",e):t.from=n;const r=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[r]).then((e=>e),(e=>oc("sendTransaction",e,r)))}))}signTransaction(e){return sc.throwError("signing transactions is unsupported",Xr.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ic(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ul((()=>ic(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(n);if(null!==e)return this.provider._wrapTransaction(e,n,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=n,e}}))}signMessage(e){return ic(this,void 0,void 0,(function*(){const t="string"==typeof e?Es(e):e,n=yield this.getAddress();return yield this.provider.send("personal_sign",[Ai(t),n.toLowerCase()])}))}_legacySignMessage(e){return ic(this,void 0,void 0,(function*(){const t="string"==typeof e?Es(e):e,n=yield this.getAddress();return yield this.provider.send("eth_sign",[n.toLowerCase(),Ai(t)])}))}_signTypedData(e,t,n){return ic(this,void 0,void 0,(function*(){const r=yield Gs.resolveNames(e,t,n,(e=>this.provider.resolveName(e))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Gs.getPayload(r.domain,t,r.value))])}))}unlock(e){return ic(this,void 0,void 0,(function*(){const t=this.provider,n=yield this.getAddress();return t.send("personal_unlockAccount",[n.toLowerCase(),e,null])}))}}class fc extends pc{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const yc={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class mc extends rc{constructor(e,t){sc.checkNew(new.target,mc);let n=t;null==n&&(n=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(n),e||(e=ti(this.constructor,"defaultUrl")()),ei(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(ii(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ic(this,void 0,void 0,(function*(){yield lc(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=ti(this.constructor,"getNetwork");try{return t(zi.from(e).toNumber())}catch(t){return sc.throwError("could not detect network",Xr.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return sc.throwError("could not detect network",Xr.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new pc(uc,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:li(n),provider:this});const r=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(r&&this._cache[e])return this._cache[e];const i=dl(this.connection,JSON.stringify(n),cc).then((e=>(this.emit("debug",{action:"response",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:n,provider:this}),e}));return r&&(this._cache[e]=i,setTimeout((()=>{this._cache[e]=null}),0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[dc(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[dc(t.address),t.blockTag]];case"getCode":return["eth_getCode",[dc(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[dc(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[ti(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[ti(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=dc(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return ic(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&zi.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const n=yield this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&((t=ii(t)).transaction=ii(e),delete t.transaction.type)}}const n=this.prepareRequest(e,t);null==n&&sc.throwError(e+" not implemented",Xr.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(n){return oc(e,n,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(n){return function r(){e.send("eth_getFilterChanges",[n]).then((function(n){if(e._pendingFilter!=t)return null;let r=Promise.resolve();return n.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",r=r.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),r.then((function(){return lc(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){r()}),0),null;e.send("eth_uninstallFilter",[n])})).catch((e=>{}))}(),n})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const n=ii(yc);if(t)for(const e in t)t[e]&&(n[e]=!0);ri(e,n);const r={};return["gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const n=Ni(e[t]);"gasLimit"===t&&(t="gas"),r[t]=n})),["from","to","data"].forEach((function(t){null!=e[t]&&(r[t]=Ai(e[t]))})),e.accessList&&(r.accessList=no(e.accessList)),r}}const hc=new Xr(pl);let bc=1;function gc(e,t){const n="Web3LegacyFetcher";return function(e,r){const i={method:e,params:r,id:bc++,jsonrpc:"2.0"};return new Promise(((e,r)=>{this.emit("debug",{action:"request",fetcher:n,request:li(i),provider:this}),t(i,((t,s)=>{if(t)return this.emit("debug",{action:"response",fetcher:n,error:t,request:i,provider:this}),r(t);if(this.emit("debug",{action:"response",fetcher:n,request:i,response:s,provider:this}),s.error){const e=new Error(s.error.message);return e.code=s.error.code,e.data=s.error.data,r(e)}e(s.result)}))}))}}class _c extends mc{constructor(e,t){hc.checkNew(new.target,_c),null==e&&hc.throwArgumentError("missing provider","provider",e);let n=null,r=null,i=null;"function"==typeof e?(n="unknown:",r=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),i=e,e.request?(""===n&&(n="eip-1193:"),r=function(e){return function(t,n){null==n&&(n=[]);const r={method:t,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:li(r),provider:this}),e.request(r).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:e,provider:this}),e}))}}(e)):e.sendAsync?r=gc(0,e.sendAsync.bind(e)):e.send?r=gc(0,e.send.bind(e)):hc.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,t),ei(this,"jsonRpcFetchFunc",r),ei(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}var Tc=n(6298),Ic=n(8842).Buffer;class vc{constructor(e){this.provider=e,this.accounts=[]}static fromHost(e){const t=new mc(e);return new vc(new mi(t))}addAccount(e){return this.addEthersWallet(new rl(e,new _c(this.provider)))}addAccountsFromMnemonic(e,t,n=0){for(let r=0;r<t;++r)this.addAccountFromMnemonicAndPath(e,`m/44'/60'/${n}'/0/${r}`)}addAccountFromMnemonicAndPath(e,t){return this.addEthersWallet(rl.fromMnemonic(e,t).connect(new _c(this.provider)))}addAccountFromKeystore(e,t=""){const n=(0,Tc.readFileSync)(e,{encoding:"ascii"});this.addEthersWallet(rl.fromEncryptedJsonSync(n,t))}addEthersWallet(e){return this.accounts.push(e),qe.fromString(e.address)}getAccounts(){return this.accounts.map((e=>qe.fromString(e.address)))}getAccount(e){return qe.fromString(this.accounts[e].address)}getPrivateKey(e){return Ic.from(this.accounts[e].privateKey.slice(2),"hex")}getPrivateKeyForAddress(e){const t=this.accounts.find((t=>e.equals(qe.fromString(t.address))));return t?Ic.from(t.privateKey.slice(2),"hex"):void 0}async request(e){switch(e.method){case"eth_accounts":return this.accounts.length?this.accounts.map((e=>e.address)):await this.provider.request(e);case"eth_sign":return await this.sign(e);case"personal_sign":return await this.personalSign(e);case"eth_signTypedData_v4":return this.signTypedData(e);case"eth_signTransaction":return this.signTransaction(e);case"eth_sendTransaction":return this.sendTransaction(e);default:return await this.provider.request(e)}}async personalSign(e){const[t,n]=e.params,r=this.accounts.find((e=>e.address.toLowerCase()===n.toLowerCase()));return r?await r.signMessage(Ic.from(t.slice(2),"hex")):await this.provider.request(e)}async sign(e){const[t,n]=e.params,r=this.accounts.find((e=>e.address.toLowerCase()===t.toLowerCase()));return r?await r.signMessage(Ic.from(n.slice(2),"hex")):await this.provider.request(e)}async signTypedData(e){const[t,n]=e.params,{types:r,domain:i,message:s}="string"==typeof n?JSON.parse(n):n,a=this.accounts.find((e=>e.address.toLowerCase()===t.toLowerCase()));return a?(delete r.EIP712Domain,await a._signTypedData(i,r,s)):this.provider.request(e)}async signTxLocally(e,t){const{gas:n=null,value:r=0,from:i,to:s,data:a,nonce:o=null}=e,l={from:i,to:s,data:a,gasLimit:n,value:r,nonce:o},c=await t.populateTransaction(l);return await t.signTransaction(c)}async signTransaction(e){const t=e.params[0],n=this.accounts.find((e=>e.address.toLowerCase()===t.from.toLowerCase()));return n?this.signTxLocally(t,n):await this.provider.request(e)}async sendTransaction(e){const t=e.params[0],n=this.accounts.find((e=>e.address.toLowerCase()===t.from.toLowerCase()));if(n){const e=await this.signTxLocally(t,n);return this.provider.request({method:"eth_sendRawTransaction",params:[e]})}return this.provider.request(e)}on(e,t){return this.provider.on(e,t)}removeListener(e,t){return this.provider.removeListener(e,t)}}class Sc{constructor(e){this.provider=e,this.id=0}request(e){return new Promise(((t,n)=>{const r={jsonrpc:"2.0",id:this.id++,method:e.method,params:e.params||[]};this.provider.send(r,((e,r)=>e?n(e):r?void t(r.result):n(new Error("No response."))))}))}on(){throw new Error("Events not supported.")}removeListener(){throw new Error("Events not supported.")}}const Dc=b("json_rpc_provider");class wc{constructor(e,t=!1){this.host=e,this.netMustSucceed=t,this.id=0}async request({method:e,params:t}){const n={jsonrpc:"2.0",id:this.id++,method:e,params:t};Dc("->",n);const r=await this.fetch(n);if(Dc("<-",r),r.error)throw r.error;return r.result}on(){throw new Error("Events not supported.")}removeListener(){throw new Error("Events not supported.")}async fetch(e){const t=async()=>{const t=await fetch(this.host,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}});if(!t.ok)throw new Error(t.statusText);const n=await t.text();try{return JSON.parse(n)}catch(e){throw new Error(`Failed to parse body as JSON: ${n}`)}};return this.netMustSucceed?await gn(t,"JsonRpcProvider request"):await t()}}function Ec(e,t,n){return function(e,t){return Qa(xs(e),t)}(n,`0x${t.toString("hex")}`).toLowerCase()===e.toString().toLowerCase()}var Ac=n(8842).Buffer;class Pc{constructor(e){this.provider=e}async signPersonalMessage(e,t){const n="0x"+e.toString("hex"),r=await this.provider.request({method:"personal_sign",params:[n,t.toString()]});return this.normaliseSignature(Ac.from(r.slice(2),"hex"))}async signMessage(e,t){const n="0x"+e.toString("hex"),r=await this.provider.request({method:"eth_sign",params:[t.toString(),n]});return this.normaliseSignature(Ac.from(r.slice(2),"hex"))}async signTypedData(e,t){let n=!1;try{n=(await this.provider.request({method:"web3_clientVersion",params:[]})).toLowerCase().includes("metamask")}catch(e){n=!0}const r=n?JSON.stringify(e):e,i=await this.provider.request({method:"eth_signTypedData_v4",params:[t.toString(),r]}),s=this.normaliseSignature(Ac.from(i.slice(2),"hex")),a=s.subarray(0,32),o=s.subarray(32,64),l=s[s.length-1];return{v:Ac.from([l]),r:a,s:o}}normaliseSignature(e){const t=e[e.length-1];return t<=1?Ac.concat([e.subarray(0,-1),Ac.from([t+27])]):e}validateSignature(e,t,n){return Ec(e,t,n)}}function Cc(e,t,n=t){const r=e<BigInt(0),i=e.toString().slice(r?1:0).padStart(t+1,"0"),s=i.slice(0,i.length-t),a=i.slice(-t);let o=a.length-1;for(;"0"===a[o];)--o;const l=a.slice(0,o+1);return(r?"-":"")+(l?`${s}.${l.slice(0,n)}`:s)}function xc(e,t){const[n,r]=e.split("."),i=(r||"").replace(/0+$/,"").slice(0,t),s=BigInt(10)**BigInt(t),a=s/BigInt(10)**BigInt(i.length||0);return BigInt(i||0)*a+BigInt(n||0)*s}const Nc=e=>{throw e.stack+=(new Error).stack,e};class Rc{constructor(e,t=1){this.minConfirmations=t,this.provider=new _c(e)}getStaticInfo(){return{address:qe.ZERO,name:"Eth",symbol:"ETH",decimals:18,gasLimit:3e4}}getUserNonce(e){return Promise.resolve(BigInt(0))}async balanceOf(e){const t=await this.provider.getBalance(e.toString());return BigInt(t.toString())}allowance(e,t){throw new Error("Allowance unsupported for ETH.")}approve(e,t,n){throw new Error("Approve unsupported for ETH.")}mint(e,t){throw new Error("Mint unsupported for ETH.")}async transfer(e,t,n,r={}){const i=(r.provider?new _c(r.provider):this.provider).getSigner(t.toString()),s=await i.sendTransaction({to:n.toString(),value:`0x${e.toString(16)}`,gasLimit:r.gasLimit,nonce:r.nonce}).catch(Nc),a=await s.wait(this.minConfirmations);return Gn.fromString(a.transactionHash)}fromBaseUnits(e,t){return Cc(e,18,t)}toBaseUnits(e){return xc(e,18)}}const Lc="abi/5.6.4",Vc=new Xr(Lc);class kc{constructor(e,t,n,r){this.name=e,this.type=t,this.localName=n,this.dynamic=r}_throwError(e,t){Vc.throwArgumentError(e,this.localName,t)}}class Bc{constructor(e){ei(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return xi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Si(e._data))}writeBytes(e){let t=vi(e);const n=t.length%this.wordSize;return n&&(t=Si([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=vi(zi.from(e));return t.length>this.wordSize&&Vc.throwError("value out-of-bounds",Xr.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Si([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Oc{constructor(e,t,n,r){ei(this,"_data",vi(e)),ei(this,"wordSize",t||32),ei(this,"_coerceFunc",n),ei(this,"allowLoose",r),this._offset=0}get data(){return Ai(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Oc.coerce(e,t)}_peekBytes(e,t,n){let r=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?r=t:Vc.throwError("data out-of-bounds",Xr.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(e){return new Oc(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return zi.from(this.readBytes(this.wordSize))}}class $c extends kc{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=cs(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return cs(Ri(e.readValue().toHexString(),20))}}class Fc extends kc{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Mc=new Xr(Lc);function Yc(e,t,n){let r=null;if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return r||Mc.throwError("cannot encode object for signature with missing names",Xr.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]&&Mc.throwError("cannot encode object for signature with duplicate names",Xr.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]=!0,n[r]}))}else Mc.throwArgumentError("invalid tuple value","tuple",n);t.length!==r.length&&Mc.throwArgumentError("types/value length mismatch","tuple",n);let i=new Bc(e.wordSize),s=new Bc(e.wordSize),a=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();a.push((e=>{r(e+t)}))}else e.encode(i,n)})),a.forEach((e=>{e(i.length)}));let o=e.appendWriter(i);return o+=e.appendWriter(s),o}function zc(e,t){let n=[],r=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readValue(),s=r.subReader(n.toNumber());try{i=t.decode(s)}catch(e){if(e.code===Xr.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===Xr.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&n.push(i)}));const i=t.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});t.forEach(((e,t)=>{let r=e.localName;if(!r||1!==i[r])return;if("length"===r&&(r="_length"),null!=n[r])return;const s=n[t];s instanceof Error?Object.defineProperty(n,r,{enumerable:!0,get:()=>{throw s}}):n[r]=s}));for(let e=0;e<n.length;e++){const t=n[e];t instanceof Error&&Object.defineProperty(n,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(n)}class Uc extends kc{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;-1===n&&(n=t.length,e.writeValue(t.length)),Mc.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let e=0;e<t.length;e++)r.push(this.coder);return Yc(e,r,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Mc.throwError("insufficient data length",Xr.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let e=0;e<t;e++)n.push(new Fc(this.coder));return e.coerce(this.name,zc(e,n))}}class qc extends kc{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Hc extends kc{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=vi(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Kc extends Hc{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Ai(super.decode(e)))}}class Gc extends kc{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=vi(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Ai(e.readBytes(this.size)))}}class jc extends kc{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Wc extends kc{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=zi.from(t),r=Ha.mask(8*e.wordSize);if(this.signed){let e=r.mask(8*this.size-1);(n.gt(e)||n.lt(e.add(qa).mul(za)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Ua)||n.gt(r.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class Zc extends Hc{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Es(t))}decode(e){return Ps(super.decode(e))}}class Jc extends kc{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)})),super("tuple","tuple("+r.join(",")+")",t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){return Yc(e,this.coders,t)}decode(e){return e.coerce(this.name,zc(e,this.coders))}}const Xc=new Xr(Lc),Qc={};let ed={calldata:!0,memory:!0,storage:!0},td={calldata:!0,memory:!0};function nd(e,t){if("bytes"===e||"string"===e){if(ed[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&td[t])return!0;return(ed[t]||"payable"===t)&&Xc.throwArgumentError("invalid modifier","name",t),!1}function rd(e,t){for(let n in t)ei(e,n,t[n])}const id=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),sd=new RegExp(/^(.*)\[([0-9]*)\]$/);class ad{constructor(e,t){e!==Qc&&Xc.throwError("use fromString",Xr.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),rd(this,t);let n=this.type.match(sd);rd(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ad.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=id.sighash),id[e]||Xc.throwArgumentError("invalid format type","format",e),e===id.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==id.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===id.full?", ":",")+")"):t+=this.type,e!==id.sighash&&(!0===this.indexed&&(t+=" indexed"),e===id.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?ad.fromString(e,t):ad.fromObject(e)}static fromObject(e){return ad.isParamType(e)?e:new ad(Qc,{name:e.name||null,type:bd(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(ad.fromObject):null})}static fromString(e,t){return n=function(e,t){let n=e;function r(t){Xc.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let n={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(n.indexed=!1),n}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},a=s;for(let n=0;n<e.length;n++){let s=e[n];switch(s){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||r(n),a.state.allowType=!1,a.type=bd(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(t||r(n),a.indexed=!0,a.name=""),nd(a.type,a.name)&&(a.name=""),a.type=bd(a.type);let e=a;a=a.parent,a||r(n),delete e.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(t||r(n),a.indexed=!0,a.name=""),nd(a.type,a.name)&&(a.name=""),a.type=bd(a.type);let o=i(a.parent);a.parent.components.push(o),delete a.parent,a=o;break;case" ":a.state.allowType&&""!==a.type&&(a.type=bd(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(t||r(n),a.indexed&&r(n),a.indexed=!0,a.name=""):nd(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||r(n),a.type+=s,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||r(n),a.type+=s,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=s,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=s,delete a.state.allowArray):a.state.readArray?a.type+=s:r(n)}}return a.parent&&Xc.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===a.name?(t||r(n.length-7),a.indexed&&r(n.length-7),a.indexed=!0,a.name=""):nd(a.type,a.name)&&(a.name=""),s.type=bd(s.type),s}(e,!!t),ad.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}static isParamType(e){return!(null==e||!e._isParamType)}}function od(e,t){return function(e){e=e.trim();let t=[],n="",r=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===r?(t.push(n),n=""):(n+=s,"("===s?r++:")"===s&&(r--,-1===r&&Xc.throwArgumentError("unbalanced parenthesis","value",e)))}return n&&t.push(n),t}(e).map((e=>ad.fromString(e,t)))}class ld{constructor(e,t){e!==Qc&&Xc.throwError("use a static from method",Xr.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),rd(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return ld.isFragment(e)?e:"string"==typeof e?ld.fromString(e):ld.fromObject(e)}static fromObject(e){if(ld.isFragment(e))return e;switch(e.type){case"function":return yd.fromObject(e);case"event":return cd.fromObject(e);case"constructor":return fd.fromObject(e);case"error":return hd.fromObject(e);case"fallback":case"receive":return null}return Xc.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?cd.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?yd.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?fd.fromString(e.trim()):"error"===e.split(" ")[0]?hd.fromString(e.substring(5).trim()):Xc.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class cd extends ld{format(e){if(e||(e=id.sighash),id[e]||Xc.throwArgumentError("invalid format type","format",e),e===id.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==id.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===id.full?", ":",")+") ",e!==id.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?cd.fromString(e):cd.fromObject(e)}static fromObject(e){if(cd.isEventFragment(e))return e;"event"!==e.type&&Xc.throwArgumentError("invalid event object","value",e);const t={name:_d(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ad.fromObject):[],type:"event"};return new cd(Qc,t)}static fromString(e){let t=e.match(Td);t||Xc.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:Xc.warn("unknown modifier: "+e)}})),cd.fromObject({name:t[1].trim(),anonymous:n,inputs:od(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function dd(e,t){t.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&Xc.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||Xc.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=zi.from(n[1]),n[0]):e}function ud(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function pd(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Xc.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Xc.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Xc.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Xc.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Xc.throwArgumentError("unable to determine stateMutability","value",e),t}class fd extends ld{format(e){if(e||(e=id.sighash),id[e]||Xc.throwArgumentError("invalid format type","format",e),e===id.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===id.sighash&&Xc.throwError("cannot format a constructor for sighash",Xr.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===id.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?fd.fromString(e):fd.fromObject(e)}static fromObject(e){if(fd.isConstructorFragment(e))return e;"constructor"!==e.type&&Xc.throwArgumentError("invalid constructor object","value",e);let t=pd(e);t.constant&&Xc.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ad.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?zi.from(e.gas):null};return new fd(Qc,n)}static fromString(e){let t={type:"constructor"},n=(e=dd(e,t)).match(Td);return n&&"constructor"===n[1].trim()||Xc.throwArgumentError("invalid constructor string","value",e),t.inputs=od(n[2].trim(),!1),ud(n[3].trim(),t),fd.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class yd extends fd{format(e){if(e||(e=id.sighash),id[e]||Xc.throwArgumentError("invalid format type","format",e),e===id.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==id.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===id.full?", ":",")+") ",e!==id.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?yd.fromString(e):yd.fromObject(e)}static fromObject(e){if(yd.isFunctionFragment(e))return e;"function"!==e.type&&Xc.throwArgumentError("invalid function object","value",e);let t=pd(e);const n={type:e.type,name:_d(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ad.fromObject):[],outputs:e.outputs?e.outputs.map(ad.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?zi.from(e.gas):null};return new yd(Qc,n)}static fromString(e){let t={type:"function"},n=(e=dd(e,t)).split(" returns ");n.length>2&&Xc.throwArgumentError("invalid function string","value",e);let r=n[0].match(Td);if(r||Xc.throwArgumentError("invalid function signature","value",e),t.name=r[1].trim(),t.name&&_d(t.name),t.inputs=od(r[2],!1),ud(r[3].trim(),t),n.length>1){let r=n[1].match(Td);""==r[1].trim()&&""==r[3].trim()||Xc.throwArgumentError("unexpected tokens","value",e),t.outputs=od(r[2],!1)}else t.outputs=[];return yd.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function md(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Xc.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class hd extends ld{format(e){if(e||(e=id.sighash),id[e]||Xc.throwArgumentError("invalid format type","format",e),e===id.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==id.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===id.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?hd.fromString(e):hd.fromObject(e)}static fromObject(e){if(hd.isErrorFragment(e))return e;"error"!==e.type&&Xc.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:_d(e.name),inputs:e.inputs?e.inputs.map(ad.fromObject):[]};return md(new hd(Qc,t))}static fromString(e){let t={type:"error"},n=e.match(Td);return n||Xc.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&_d(t.name),t.inputs=od(n[2],!1),md(hd.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function bd(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const gd=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function _d(e){return e&&e.match(gd)||Xc.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Td=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),Id=new Xr(Lc),vd=new RegExp(/^bytes([0-9]*)$/),Sd=new RegExp(/^(u?int)([0-9]*)$/),Dd=new class{constructor(e){ei(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new $c(e.name);case"bool":return new qc(e.name);case"string":return new Zc(e.name);case"bytes":return new Kc(e.name);case"array":return new Uc(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Jc((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new jc(e.name)}let t=e.type.match(Sd);if(t){let n=parseInt(t[2]||"256");return(0===n||n>256||n%8!=0)&&Id.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Wc(n/8,"int"===t[1],e.name)}if(t=e.type.match(vd),t){let n=parseInt(t[1]);return(0===n||n>32)&&Id.throwArgumentError("invalid bytes length","param",e),new Gc(n,e.name)}return Id.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Oc(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Bc(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(ad.from(e))));return new Jc(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Id.throwError("types/values length mismatch",Xr.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map((e=>this._getCoder(ad.from(e)))),r=new Jc(n,"_"),i=this._getWriter();return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this._getCoder(ad.from(e))));return new Jc(r,"_").decode(this._getReader(vi(t),n))}},wd=new Xr(Lc);class Ed extends ci{}class Ad extends ci{}class Pd extends ci{}class Cd extends ci{static isIndexed(e){return!(!e||!e._isIndexed)}}const xd={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Nd(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return n.error=t,n}class Rd{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,ei(this,"fragments",t.map((e=>ld.from(e))).filter((e=>null!=e))),ei(this,"_abiCoder",ti(new.target,"getAbiCoder")()),ei(this,"functions",{}),ei(this,"errors",{}),ei(this,"events",{}),ei(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void wd.warn("duplicate definition - constructor"):void ei(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let n=e.format();t[n]?wd.warn("duplicate definition - "+n):t[n]=e})),this.deploy||ei(this,"deploy",fd.from({payable:!1,type:"constructor"})),ei(this,"_isInterface",!0)}format(e){e||(e=id.full),e===id.sighash&&wd.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===id.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return Dd}static getAddress(e){return cs(e)}static getSighash(e){return Ci(Rs(e.format()),0,4)}static getEventTopic(e){return Rs(e.format())}getFunction(e){if(wi(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];wd.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===n.length?wd.throwArgumentError("no matching function","name",t):n.length>1&&wd.throwArgumentError("multiple matching functions","name",t),this.functions[n[0]]}const t=this.functions[yd.fromString(e).format()];return t||wd.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(wi(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];wd.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===n.length?wd.throwArgumentError("no matching event","name",t):n.length>1&&wd.throwArgumentError("multiple matching events","name",t),this.events[n[0]]}const t=this.events[cd.fromString(e).format()];return t||wd.throwArgumentError("no matching event","signature",e),t}getError(e){if(wi(e)){const t=ti(this.constructor,"getSighash");for(const n in this.errors)if(e===t(this.errors[n]))return this.errors[n];wd.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===n.length?wd.throwArgumentError("no matching error","name",t):n.length>1&&wd.throwArgumentError("multiple matching errors","name",t),this.errors[n[0]]}const t=this.errors[yd.fromString(e).format()];return t||wd.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return ti(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),ti(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const n=vi(t);return Ai(n.slice(0,4))!==this.getSighash(e)&&wd.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Ai(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),Ai(Si([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const n=vi(t);return Ai(n.slice(0,4))!==this.getSighash(e)&&wd.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Ai(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Ai(Si([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let n=vi(t),r=null,i="",s=null,a=null,o=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch(e){}break;case 4:{const e=Ai(n.slice(0,4)),t=xd[e];if(t)s=this._abiCoder.decode(t.inputs,n.slice(4)),a=t.name,o=t.signature,t.reason&&(r=s[0]),"Error"===a?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===a&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const t=this.getError(e);s=this._abiCoder.decode(t.inputs,n.slice(4)),a=t.name,o=t.format()}catch(e){}break}}return wd.throwError("call revert exception"+i,Xr.errors.CALL_EXCEPTION,{method:e.format(),data:Ai(t),errorArgs:s,errorName:a,errorSignature:o,reason:r})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Ai(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&wd.throwError("too many arguments for "+e.format(),Xr.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const r=(e,t)=>"string"===e.type?Rs(t):"bytes"===e.type?Wi(Ai(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=zi.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),Ri(Ai(t),32));for(t.forEach(((t,i)=>{let s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?wd.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map((e=>r(s,e)))):n.push(r(s,t)):null!=t&&wd.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const n=[],r=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&wd.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const a=t[s];if(e.indexed)if("string"===e.type)n.push(Rs(a));else if("bytes"===e.type)n.push(Wi(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this._abiCoder.encode([e.type],[a]))}else r.push(e),i.push(a)})),{data:this._abiCoder.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e&&(e=this.getEvent(e)),null!=n&&!e.anonymous){let t=this.getEventTopic(e);wi(n[0],32)&&n[0].toLowerCase()===t||wd.throwError("fragment/topic mismatch",Xr.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:n[0]}),n=n.slice(1)}let r=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(ad.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))}));let a=null!=n?this._abiCoder.decode(r,Si(n)):null,o=this._abiCoder.decode(i,t,!0),l=[],c=0,d=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==a)l[t]=new Cd({_isIndexed:!0,hash:null});else if(s[t])l[t]=new Cd({_isIndexed:!0,hash:a[d++]});else try{l[t]=a[d++]}catch(e){l[t]=e}else try{l[t]=o[c++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){const n=l[t];n instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw Nd(`property ${JSON.stringify(e.name)}`,n)}}):l[e.name]=n}}));for(let e=0;e<l.length;e++){const t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw Nd(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Ad({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:zi.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Ed({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Ai(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Pd({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var Ld=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const Vd=new Xr("contracts/5.5.0");function kd(e,t){return Ld(this,void 0,void 0,(function*(){const n=yield t;"string"!=typeof n&&Vd.throwArgumentError("invalid address or ENS name","name",n);try{return cs(n)}catch(e){}e||Vd.throwError("a provider or signer is needed to resolve ENS names",Xr.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield e.resolveName(n);return null==r&&Vd.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r}))}function Bd(e,t,n){return Ld(this,void 0,void 0,(function*(){return Array.isArray(n)?yield Promise.all(n.map(((n,r)=>Bd(e,Array.isArray(t)?t[r]:t[n.name],n)))):"address"===n.type?yield kd(e,t):"tuple"===n.type?yield Bd(e,t,n.components):"array"===n.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>Bd(e,t,n.arrayChildren)))):Promise.reject(Vd.makeError("invalid value for array",Xr.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function Od(e,t,n){return Ld(this,void 0,void 0,(function*(){let r={};n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]&&(r=ii(n.pop())),Vd.checkArgumentCount(n.length,t.inputs.length,"passed to contract"),e.signer?r.from?r.from=ni({override:kd(e.signer,r.from),signer:e.signer.getAddress()}).then((e=>Ld(this,void 0,void 0,(function*(){return cs(e.signer)!==e.override&&Vd.throwError("Contract with a Signer cannot override from",Xr.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):r.from=e.signer.getAddress():r.from&&(r.from=kd(e.provider,r.from));const i=yield ni({args:Bd(e.signer||e.provider,n,t.inputs),address:e.resolvedAddress,overrides:ni(r)||{}}),s=e.interface.encodeFunctionData(t,i.args),a={data:s,to:i.address},o=i.overrides;if(null!=o.nonce&&(a.nonce=zi.from(o.nonce).toNumber()),null!=o.gasLimit&&(a.gasLimit=zi.from(o.gasLimit)),null!=o.gasPrice&&(a.gasPrice=zi.from(o.gasPrice)),null!=o.maxFeePerGas&&(a.maxFeePerGas=zi.from(o.maxFeePerGas)),null!=o.maxPriorityFeePerGas&&(a.maxPriorityFeePerGas=zi.from(o.maxPriorityFeePerGas)),null!=o.from&&(a.from=o.from),null!=o.type&&(a.type=o.type),null!=o.accessList&&(a.accessList=no(o.accessList)),null==a.gasLimit&&null!=t.gas){let e=21e3;const n=vi(s);for(let t=0;t<n.length;t++)e+=4,n[t]&&(e+=64);a.gasLimit=zi.from(t.gas).add(e)}if(o.value){const e=zi.from(o.value);e.isZero()||t.payable||Vd.throwError("non-payable method cannot override value",Xr.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),a.value=e}o.customData&&(a.customData=ii(o.customData)),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData;const l=Object.keys(r).filter((e=>null!=r[e]));return l.length&&Vd.throwError(`cannot override ${l.map((e=>JSON.stringify(e))).join(",")}`,Xr.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),a}))}function $d(e,t,n){const r=e.signer||e.provider;return function(...i){return Ld(this,void 0,void 0,(function*(){let s;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){const e=ii(i.pop());null!=e.blockTag&&(s=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(s));const a=yield Od(e,t,i),o=yield r.call(a,s);try{let r=e.interface.decodeFunctionResult(t,o);return n&&1===t.outputs.length&&(r=r[0]),r}catch(t){throw t.code===Xr.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=a),t}}))}}function Fd(e,t,n){return t.constant?$d(e,t,n):function(e,t){return function(...n){return Ld(this,void 0,void 0,(function*(){e.signer||Vd.throwError("sending a transaction requires a signer",Xr.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield Od(e,t,n),i=yield e.signer.sendTransaction(r);return function(e,t){const n=t.wait.bind(t);t.wait=t=>n(t).then((t=>(t.events=t.logs.map((n=>{let r=li(n),i=null;try{i=e.interface.parseLog(n)}catch(e){}return i&&(r.args=i.args,r.decode=(t,n)=>e.interface.decodeEventLog(i.eventFragment,t,n),r.event=i.name,r.eventSignature=i.signature),r.removeListener=()=>e.provider,r.getBlock=()=>e.provider.getBlock(t.blockHash),r.getTransaction=()=>e.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(t),r})),t)))}(e,i),i}))}}(e,t)}function Md(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class Yd{constructor(e,t){ei(this,"tag",e),ei(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((n=>!(!t&&n.listener===e&&(t=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const n=e.slice();return setTimeout((()=>{t.listener.apply(this,n)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class zd extends Yd{constructor(){super("error",null)}}class Ud extends Yd{constructor(e,t,n,r){const i={address:e};let s=t.getEventTopic(n);r?(s!==r[0]&&Vd.throwArgumentError("topic mismatch","topics",r),i.topics=r.slice()):i.topics=[s],super(Md(i),i),ei(this,"address",e),ei(this,"interface",t),ei(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=function(e){const t=[],n=function(e,r){if(Array.isArray(r))for(let i in r){const s=e.slice();s.push(i);try{n(s,r[i])}catch(e){t.push({path:s,error:e})}}};return n([],e),t}(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class qd extends Yd{constructor(e,t){super("*",{address:e}),ei(this,"address",e),ei(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,n)=>this.interface.decodeEventLog(t.eventFragment,e,n),e.args=t.args}catch(e){}}}class Hd extends class{constructor(e,t,n){Vd.checkNew(new.target,Hd),ei(this,"interface",ti(new.target,"getInterface")(t)),null==n?(ei(this,"provider",null),ei(this,"signer",null)):gs.isSigner(n)?(ei(this,"provider",n.provider||null),ei(this,"signer",n)):fs.isProvider(n)?(ei(this,"provider",n),ei(this,"signer",null)):Vd.throwArgumentError("invalid signer or provider","signerOrProvider",n),ei(this,"callStatic",{}),ei(this,"estimateGas",{}),ei(this,"functions",{}),ei(this,"populateTransaction",{}),ei(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const n=this.interface.events[t];ei(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(n,e)}))),e[n.name]||(e[n.name]=[]),e[n.name].push(t)})),Object.keys(e).forEach((t=>{const n=e[t];1===n.length?ei(this.filters,t,this.filters[n[0]]):Vd.warn(`Duplicate definition of ${t} (${n.join(", ")})`)}))}if(ei(this,"_runningEvents",{}),ei(this,"_wrappedEmits",{}),null==e&&Vd.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ei(this,"address",e),this.provider)ei(this,"resolvedAddress",kd(this.provider,e));else try{ei(this,"resolvedAddress",Promise.resolve(cs(e)))}catch(e){Vd.throwError("provider is required to use ENS name as contract address",Xr.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const r={},i={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(i[e])Vd.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{i[e]=!0;{const n=t.name;r[`%${n}`]||(r[`%${n}`]=[]),r[`%${n}`].push(e)}null==this[e]&&ei(this,e,Fd(this,t,!0)),null==this.functions[e]&&ei(this.functions,e,Fd(this,t,!1)),null==this.callStatic[e]&&ei(this.callStatic,e,$d(this,t,!0)),null==this.populateTransaction[e]&&ei(this.populateTransaction,e,function(e,t){return function(...n){return Od(e,t,n)}}(this,t)),null==this.estimateGas[e]&&ei(this.estimateGas,e,function(e,t){const n=e.signer||e.provider;return function(...r){return Ld(this,void 0,void 0,(function*(){n||Vd.throwError("estimate require a provider or signer",Xr.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Od(e,t,r);return yield n.estimateGas(i)}))}}(this,t))}})),Object.keys(r).forEach((e=>{const t=r[e];if(t.length>1)return;e=e.substring(1);const n=t[0];try{null==this[e]&&ei(this,e,this[n])}catch(e){}null==this.functions[e]&&ei(this.functions,e,this.functions[n]),null==this.callStatic[e]&&ei(this.callStatic,e,this.callStatic[n]),null==this.populateTransaction[e]&&ei(this.populateTransaction,e,this.populateTransaction[n]),null==this.estimateGas[e]&&ei(this.estimateGas,e,this.estimateGas[n])}))}static getContractAddress(e){return ds(e)}static getInterface(e){return Rd.isInterface(e)?e:new Rd(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&Vd.throwError("contract not deployed",Xr.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||Vd.throwError("sending a transactions require a signer",Xr.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=ii(e||{});return["from","to"].forEach((function(e){null!=t[e]&&Vd.throwError("cannot override "+e,Xr.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new _s(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ei(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Cd.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new zd);if("event"===e)return this._normalizeRunningEvent(new Yd("event",null));if("*"===e)return this._normalizeRunningEvent(new qd(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ud(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const n=this.interface.getEvent(t);return this._normalizeRunningEvent(new Ud(this.address,this.interface,n,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Yd(Md(t),t))}return this._normalizeRunningEvent(new qd(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const r=li(t);return r.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(t.blockHash),r.getTransaction=()=>this.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(r),r}_addEventListener(e,t,n){if(this.provider||Vd.throwError("events require a provider or a signer with a provider",Xr.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=n=>{let r=this._wrapEvent(e,n,t);if(null==r.decodeError)try{const t=e.getEmit(r);this.emit(e.filter,...t)}catch(e){r.decodeError=e.error}null!=e.filter&&this.emit("event",r),null!=r.decodeError&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,n){const r=this._getRunningEvent(e),i=ii(r.filter);return"string"==typeof t&&wi(t,32)?(null!=n&&Vd.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=n?n:"latest"),this.provider.getLogs(i).then((e=>e.map((e=>this._wrapEvent(r,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),r=n.run(t)>0;return this._checkRunningEvents(n),r}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}{}const Kd=["function transfer(address to, uint256 amount) public returns(bool)","function decimals() public view returns (uint8)","function approve(address spender, uint256 amount) public returns (bool)","function allowance(address owner, address spender) public view returns (uint256)","function balanceOf(address account) public view returns (uint256)","function mint(address _to, uint256 _value) public returns (bool)","function name() public view returns (string)","function symbol() public view returns (string)","function nonces(address) public view returns(uint256)"],Gd=e=>{throw e.stack+=(new Error).stack,e};class jd{constructor(e,t,n,r=1){this.info=e,this.erc20=t,this.ethereumProvider=n,this.minConfirmations=r}static new(e,t,n){const r=new Hd(e.address.toString(),Kd,new _c(t));return new jd(e,r,t,n)}static async fromAddress(e,t,n,r){const i=new Hd(e.toString(),Kd,new _c(t)),s={address:e,name:await i.name(),symbol:await i.symbol(),decimals:+await i.decimals(),gasLimit:n};return new jd(s,i,t,r)}get address(){return this.info.address}getStaticInfo(){return this.info}async getUserNonce(e){return BigInt(await this.erc20.nonces(e.toString()))}async balanceOf(e){const t=await this.erc20.balanceOf(e.toString());return BigInt(t)}async allowance(e,t){const n=await this.erc20.allowance(e.toString(),t.toString());return BigInt(n)}async approve(e,t,n,r={}){const i=this.getContractWithSigner(t,r),s=await i.approve(n.toString(),e).catch(Gd),a=await s.wait(this.minConfirmations);return Gn.fromString(a.transactionHash)}async mint(e,t,n={}){const r=this.getContractWithSigner(t,n),i=await r.mint(t.toString(),e).catch(Gd),s=await i.wait(this.minConfirmations);return Gn.fromString(s.transactionHash)}async transfer(e,t,n,r={}){const i=this.getContractWithSigner(t,r),s=await i.transfer(n.toString(),e).catch(Gd),a=await s.wait(this.minConfirmations);return Gn.fromString(a.transactionHash)}fromBaseUnits(e,t){return Cc(e,this.info.decimals,t)}toBaseUnits(e){return xc(e,this.info.decimals)}getContractWithSigner(e,t){const{provider:n=this.ethereumProvider,signingAddress:r=e}=t,i=new _c(n).getSigner(r.toString());return new Hd(this.info.address.toString(),Kd,i)}}const Wd=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"IBridgeDataProvider","sourceName":"contracts/interfaces/IBridgeDataProvider.sol","abi":[{"inputs":[{"internalType":"uint256","name":"_bridgeCallData","type":"uint256"}],"name":"getAccumulatedSubsidyAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_bridgeAddressId","type":"uint256"}],"name":"getBridge","outputs":[{"components":[{"internalType":"address","name":"bridgeAddress","type":"address"},{"internalType":"uint256","name":"bridgeAddressId","type":"uint256"},{"internalType":"string","name":"label","type":"string"}],"internalType":"struct IBridgeDataProvider.BridgeData","name":"","type":"tuple"}],"stateMutability":"view","type":"function"}],"bytecode":"0x","deployedBytecode":"0x","linkReferences":{},"deployedLinkReferences":{}}'),Zd=JSON.parse('{"abi":[{"inputs":[{"internalType":"address","name":"_feeClaimer","type":"address"},{"internalType":"address","name":"_rollupProcessor","type":"address"},{"internalType":"address","name":"_router","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"assetAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"inputValue","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"outputValue","type":"uint256"}],"name":"Convert","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"receiver","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FeeReimbursed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"aztecFeeClaimer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"assetAddress","type":"address"},{"internalType":"uint256","name":"minOutputValue","type":"uint256"}],"name":"convert","outputs":[{"internalType":"uint256","name":"outputValue","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"convertConstant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rollupProcessor","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"router","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_convertConstant","type":"uint256"}],"name":"setConvertConstant","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeClaimer","type":"address"}],"name":"setFeeClaimer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feeLimit","type":"uint256"}],"name":"setFeeLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"assetAddress","type":"address"}],"name":"txFeeBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}],"bytecode":{"object":"0x60e060405267058d15e176280000600155623025a06004553480156200002457600080fd5b50604051620015aa380380620015aa8339810160408190526200004791620001ea565b62000052336200017d565b600280546001600160a01b038086166001600160a01b031992831617909255600380548584169216919091179055811660808190526040805163c45a015560e01b8152905163c45a0155916004808201926020929091908290030181865afa158015620000c3573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620000e9919062000234565b6001600160a01b031660a0816001600160a01b031681525050806001600160a01b031663ad5c46486040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000141573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000167919062000234565b6001600160a01b031660c0525062000259915050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b0381168114620001e557600080fd5b919050565b6000806000606084860312156200020057600080fd5b6200020b84620001cd565b92506200021b60208501620001cd565b91506200022b60408501620001cd565b90509250925092565b6000602082840312156200024757600080fd5b6200025282620001cd565b9392505050565b60805160a05160c0516112e9620002c1600039600081816102ec015281816106120152818161067901528181610946015281816109ab015281816109ea0152610ae9015260008181610360015281816109240152610989015260006103ea01526112e96000f3fe6080604052600436106100ec5760003560e01c8063ad5c46481161008a578063c746d1d011610059578063c746d1d014610382578063d3a859d314610398578063f2fde38b146103b8578063f887ea40146103d857600080fd5b8063ad5c4648146102da578063afea09ac1461030e578063c3accd481461032e578063c45a01551461034e57600080fd5b806367c6e39c116100c657806367c6e39c14610267578063715018a61461028757806386a88da21461029c5780638da5cb5b146102bc57600080fd5b80632a113d6e146101e65780635b193332146102235780635e1637161461024757600080fd5b366101e1576003546001600160a01b03163314156101df576001546002546001600160a01b03163110156101df576000600154471161012b574761012f565b6001545b6002546040519192506000916001600160a01b0390911690610bb890849084818181858888f193505050503d8060008114610186576040519150601f19603f3d011682016040523d82523d6000602084013e61018b565b606091505b5050905080156101dc57600254604080516001600160a01b039092168252602082018490527fcf4cc329b7982381c7a729b04a403439bbef0749b4a8dbd2a3850218b420bd87910160405180910390a15b50505b005b600080fd5b3480156101f257600080fd5b50600354610206906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561022f57600080fd5b5061023960015481565b60405190815260200161021a565b34801561025357600080fd5b50610239610262366004611094565b61040c565b34801561027357600080fd5b506102396102823660046110b6565b6104af565b34801561029357600080fd5b506101df6107c0565b3480156102a857600080fd5b506101df6102b73660046110e0565b6107d4565b3480156102c857600080fd5b506000546001600160a01b0316610206565b3480156102e657600080fd5b506102067f000000000000000000000000000000000000000000000000000000000000000081565b34801561031a57600080fd5b50600254610206906001600160a01b031681565b34801561033a57600080fd5b506101df610349366004611094565b6107e1565b34801561035a57600080fd5b506102067f000000000000000000000000000000000000000000000000000000000000000081565b34801561038e57600080fd5b5061023960045481565b3480156103a457600080fd5b506101df6103b33660046110e0565b610823565b3480156103c457600080fd5b506101df6103d3366004611094565b610830565b3480156103e457600080fd5b506102067f000000000000000000000000000000000000000000000000000000000000000081565b60006001600160a01b038216610423575047919050565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526001600160a01b038316906370a0823190602401602060405180830381865afa158015610480573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104a491906110f9565b92915050565b919050565b60006104b96108c0565b6001600160a01b03831661053a5760405162461bcd60e51b815260206004820152602260248201527f466565204469737472696275746f723a204e4f545f415f544f4b454e5f41535360448201527f455400000000000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000906001600160a01b038516906370a0823190602401602060405180830381865afa15801561059a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105be91906110f9565b9050600081116106105760405162461bcd60e51b815260206004820152601e60248201527f466565204469737472696275746f723a20454d5054595f42414c414e434500006044820152606401610531565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316846001600160a01b031614156106e2576040517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e1a7d4d90602401600060405180830381600087803b1580156106c557600080fd5b505af11580156106d9573d6000803e3d6000fd5b5050505061076f565b6106ec848261091a565b9150828210156107645760405162461bcd60e51b815260206004820152602b60248201527f466565204469737472696275746f723a20494e53554646494349454e545f4f5560448201527f545055545f414d4f554e540000000000000000000000000000000000000000006064820152608401610531565b61076f848284610982565b604080516001600160a01b0386168152602081018390529081018390527f9018eade4aec2a696b34b0f5459a1a7dc058389bab8e2380d880817a9e22b2139060600160405180910390a15092915050565b6107c86108c0565b6107d26000610b57565b565b6107dc6108c0565b600455565b6107e96108c0565b600280547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0392909216919091179055565b61082b6108c0565b600155565b6108386108c0565b6001600160a01b0381166108b45760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610531565b6108bd81610b57565b50565b6000546001600160a01b031633146107d25760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610531565b600080600061096a7f0000000000000000000000000000000000000000000000000000000000000000867f0000000000000000000000000000000000000000000000000000000000000000610bbf565b91509150610979848383610c97565b95945050505050565b60006109cf7f0000000000000000000000000000000000000000000000000000000000000000857f0000000000000000000000000000000000000000000000000000000000000000610dde565b90506109e56001600160a01b0385168285610edc565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316866001600160a01b031610610a2957836000610a2d565b6000845b604080516000815260208101918290527f022c0d9f0000000000000000000000000000000000000000000000000000000090915291935091506001600160a01b0384169063022c0d9f90610a8a9085908590309060248101611112565b600060405180830381600087803b158015610aa457600080fd5b505af1158015610ab8573d6000803e3d6000fd5b50506040517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018790527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169250632e1a7d4d9150602401600060405180830381600087803b158015610b3757600080fd5b505af1158015610b4b573d6000803e3d6000fd5b50505050505050505050565b600080546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000806000610bce8585610f6d565b509050600080610bdf888888610dde565b6001600160a01b0316630902f1ac6040518163ffffffff1660e01b8152600401606060405180830381865afa158015610c1c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c4091906111a4565b506dffffffffffffffffffffffffffff1691506dffffffffffffffffffffffffffff169150826001600160a01b0316876001600160a01b031614610c85578082610c88565b81815b90999098509650505050505050565b6000808411610d0e5760405162461bcd60e51b815260206004820152602b60248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4960448201527f4e5055545f414d4f554e540000000000000000000000000000000000000000006064820152608401610531565b600083118015610d1e5750600082115b610d905760405162461bcd60e51b815260206004820152602860248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4c60448201527f49515549444954590000000000000000000000000000000000000000000000006064820152608401610531565b6000610d9e856103e5611223565b90506000610dac8483611223565b9050600082610dbd876103e8611223565b610dc79190611260565b9050610dd38183611278565b979650505050505050565b6000806000610ded8585610f6d565b6040516bffffffffffffffffffffffff19606084811b8216602084015283901b1660348201529193509150600090879060480160405160208183030381529060405280519060200120604051602001610eb09291907fff00000000000000000000000000000000000000000000000000000000000000815260609290921b6bffffffffffffffffffffffff1916600183015260158201527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f603582015260550190565b60408051601f1981840301815291905280516020909101206001600160a01b0316979650505050505050565b6040517fa9059cbb000000000000000000000000000000000000000000000000000000008152826004820152816024820152833b610f3e577f214092720000000000000000000000000000000000000000000000000000000060005260046000fd5b602060006044836000885af190506001600051163d1517808216610f66573d6000803e3d6000fd5b5050505050565b600080826001600160a01b0316846001600160a01b03161415610ff85760405162461bcd60e51b815260206004820152602560248201527f556e697377617056324c6962726172793a204944454e544943414c5f4144445260448201527f45535345530000000000000000000000000000000000000000000000000000006064820152608401610531565b826001600160a01b0316846001600160a01b03161061101857828461101b565b83835b90925090506001600160a01b0382166110765760405162461bcd60e51b815260206004820152601e60248201527f556e697377617056324c6962726172793a205a45524f5f4144445245535300006044820152606401610531565b9250929050565b80356001600160a01b03811681146104aa57600080fd5b6000602082840312156110a657600080fd5b6110af8261107d565b9392505050565b600080604083850312156110c957600080fd5b6110d28361107d565b946020939093013593505050565b6000602082840312156110f257600080fd5b5035919050565b60006020828403121561110b57600080fd5b5051919050565b8481526000602085818401526001600160a01b038516604084015260806060840152835180608085015260005b8181101561115b5785810183015185820160a00152820161113f565b8181111561116d57600060a083870101525b50601f01601f19169290920160a0019695505050505050565b80516dffffffffffffffffffffffffffff811681146104aa57600080fd5b6000806000606084860312156111b957600080fd5b6111c284611186565b92506111d060208501611186565b9150604084015163ffffffff811681146111e957600080fd5b809150509250925092565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561125b5761125b6111f4565b500290565b60008219821115611273576112736111f4565b500190565b6000826112ae577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b50049056fea2646970667358221220b5168bbe657cac0f5baea29a1d155d24d957fb681acd8d86bcbbf91802b11d8c64736f6c634300080a0033","sourceMap":"3189:3583:129:-:0;;;3326:4;3291:39;;3460:11;3418:53;;3650:300;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;936:32:80;719:10:95;936:18:80;:32::i;:::-;3736:15:129;:29;;-1:-1:-1;;;;;3736:29:129;;;-1:-1:-1;;;;;;3736:29:129;;;;;;;3775:15;:34;;;;;;;;;;;;;3819:16;;;;;;3855:37;;;-1:-1:-1;;;3855:37:129;;;;:35;;:37;;;;;;;;;;;;;;;3819:16;3855:37;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;3845:47:129;;;-1:-1:-1;;;;;3845:47:129;;;;;3928:7;-1:-1:-1;;;;;3909:32:129;;:34;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;3902:41:129;;;-1:-1:-1;3189:3583:129;;-1:-1:-1;;3189:3583:129;2433:187:80;2506:16;2525:6;;-1:-1:-1;;;;;2541:17:80;;;-1:-1:-1;;;;;;2541:17:80;;;;;;2573:40;;2525:6;;;;;;;2573:40;;2506:16;2573:40;2496:124;2433:187;:::o;14:177:173:-;93:13;;-1:-1:-1;;;;;135:31:173;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:378::-;284:6;292;300;353:2;341:9;332:7;328:23;324:32;321:52;;;369:1;366;359:12;321:52;392:40;422:9;392:40;:::i;:::-;382:50;;451:49;496:2;485:9;481:18;451:49;:::i;:::-;441:59;;519:49;564:2;553:9;549:18;519:49;:::i;:::-;509:59;;196:378;;;;;:::o;579:208::-;649:6;702:2;690:9;681:7;677:23;673:32;670:52;;;718:1;715;708:12;670:52;741:40;771:9;741:40;:::i;:::-;731:50;579:208;-1:-1:-1;;;579:208:173:o;:::-;3189:3583:129;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106100ec5760003560e01c8063ad5c46481161008a578063c746d1d011610059578063c746d1d014610382578063d3a859d314610398578063f2fde38b146103b8578063f887ea40146103d857600080fd5b8063ad5c4648146102da578063afea09ac1461030e578063c3accd481461032e578063c45a01551461034e57600080fd5b806367c6e39c116100c657806367c6e39c14610267578063715018a61461028757806386a88da21461029c5780638da5cb5b146102bc57600080fd5b80632a113d6e146101e65780635b193332146102235780635e1637161461024757600080fd5b366101e1576003546001600160a01b03163314156101df576001546002546001600160a01b03163110156101df576000600154471161012b574761012f565b6001545b6002546040519192506000916001600160a01b0390911690610bb890849084818181858888f193505050503d8060008114610186576040519150601f19603f3d011682016040523d82523d6000602084013e61018b565b606091505b5050905080156101dc57600254604080516001600160a01b039092168252602082018490527fcf4cc329b7982381c7a729b04a403439bbef0749b4a8dbd2a3850218b420bd87910160405180910390a15b50505b005b600080fd5b3480156101f257600080fd5b50600354610206906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b34801561022f57600080fd5b5061023960015481565b60405190815260200161021a565b34801561025357600080fd5b50610239610262366004611094565b61040c565b34801561027357600080fd5b506102396102823660046110b6565b6104af565b34801561029357600080fd5b506101df6107c0565b3480156102a857600080fd5b506101df6102b73660046110e0565b6107d4565b3480156102c857600080fd5b506000546001600160a01b0316610206565b3480156102e657600080fd5b506102067f000000000000000000000000000000000000000000000000000000000000000081565b34801561031a57600080fd5b50600254610206906001600160a01b031681565b34801561033a57600080fd5b506101df610349366004611094565b6107e1565b34801561035a57600080fd5b506102067f000000000000000000000000000000000000000000000000000000000000000081565b34801561038e57600080fd5b5061023960045481565b3480156103a457600080fd5b506101df6103b33660046110e0565b610823565b3480156103c457600080fd5b506101df6103d3366004611094565b610830565b3480156103e457600080fd5b506102067f000000000000000000000000000000000000000000000000000000000000000081565b60006001600160a01b038216610423575047919050565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526001600160a01b038316906370a0823190602401602060405180830381865afa158015610480573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104a491906110f9565b92915050565b919050565b60006104b96108c0565b6001600160a01b03831661053a5760405162461bcd60e51b815260206004820152602260248201527f466565204469737472696275746f723a204e4f545f415f544f4b454e5f41535360448201527f455400000000000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000906001600160a01b038516906370a0823190602401602060405180830381865afa15801561059a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105be91906110f9565b9050600081116106105760405162461bcd60e51b815260206004820152601e60248201527f466565204469737472696275746f723a20454d5054595f42414c414e434500006044820152606401610531565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316846001600160a01b031614156106e2576040517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e1a7d4d90602401600060405180830381600087803b1580156106c557600080fd5b505af11580156106d9573d6000803e3d6000fd5b5050505061076f565b6106ec848261091a565b9150828210156107645760405162461bcd60e51b815260206004820152602b60248201527f466565204469737472696275746f723a20494e53554646494349454e545f4f5560448201527f545055545f414d4f554e540000000000000000000000000000000000000000006064820152608401610531565b61076f848284610982565b604080516001600160a01b0386168152602081018390529081018390527f9018eade4aec2a696b34b0f5459a1a7dc058389bab8e2380d880817a9e22b2139060600160405180910390a15092915050565b6107c86108c0565b6107d26000610b57565b565b6107dc6108c0565b600455565b6107e96108c0565b600280547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0392909216919091179055565b61082b6108c0565b600155565b6108386108c0565b6001600160a01b0381166108b45760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610531565b6108bd81610b57565b50565b6000546001600160a01b031633146107d25760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610531565b600080600061096a7f0000000000000000000000000000000000000000000000000000000000000000867f0000000000000000000000000000000000000000000000000000000000000000610bbf565b91509150610979848383610c97565b95945050505050565b60006109cf7f0000000000000000000000000000000000000000000000000000000000000000857f0000000000000000000000000000000000000000000000000000000000000000610dde565b90506109e56001600160a01b0385168285610edc565b6000807f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316866001600160a01b031610610a2957836000610a2d565b6000845b604080516000815260208101918290527f022c0d9f0000000000000000000000000000000000000000000000000000000090915291935091506001600160a01b0384169063022c0d9f90610a8a9085908590309060248101611112565b600060405180830381600087803b158015610aa457600080fd5b505af1158015610ab8573d6000803e3d6000fd5b50506040517f2e1a7d4d000000000000000000000000000000000000000000000000000000008152600481018790527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169250632e1a7d4d9150602401600060405180830381600087803b158015610b3757600080fd5b505af1158015610b4b573d6000803e3d6000fd5b50505050505050505050565b600080546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000806000610bce8585610f6d565b509050600080610bdf888888610dde565b6001600160a01b0316630902f1ac6040518163ffffffff1660e01b8152600401606060405180830381865afa158015610c1c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c4091906111a4565b506dffffffffffffffffffffffffffff1691506dffffffffffffffffffffffffffff169150826001600160a01b0316876001600160a01b031614610c85578082610c88565b81815b90999098509650505050505050565b6000808411610d0e5760405162461bcd60e51b815260206004820152602b60248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4960448201527f4e5055545f414d4f554e540000000000000000000000000000000000000000006064820152608401610531565b600083118015610d1e5750600082115b610d905760405162461bcd60e51b815260206004820152602860248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4c60448201527f49515549444954590000000000000000000000000000000000000000000000006064820152608401610531565b6000610d9e856103e5611223565b90506000610dac8483611223565b9050600082610dbd876103e8611223565b610dc79190611260565b9050610dd38183611278565b979650505050505050565b6000806000610ded8585610f6d565b6040516bffffffffffffffffffffffff19606084811b8216602084015283901b1660348201529193509150600090879060480160405160208183030381529060405280519060200120604051602001610eb09291907fff00000000000000000000000000000000000000000000000000000000000000815260609290921b6bffffffffffffffffffffffff1916600183015260158201527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f603582015260550190565b60408051601f1981840301815291905280516020909101206001600160a01b0316979650505050505050565b6040517fa9059cbb000000000000000000000000000000000000000000000000000000008152826004820152816024820152833b610f3e577f214092720000000000000000000000000000000000000000000000000000000060005260046000fd5b602060006044836000885af190506001600051163d1517808216610f66573d6000803e3d6000fd5b5050505050565b600080826001600160a01b0316846001600160a01b03161415610ff85760405162461bcd60e51b815260206004820152602560248201527f556e697377617056324c6962726172793a204944454e544943414c5f4144445260448201527f45535345530000000000000000000000000000000000000000000000000000006064820152608401610531565b826001600160a01b0316846001600160a01b03161061101857828461101b565b83835b90925090506001600160a01b0382166110765760405162461bcd60e51b815260206004820152601e60248201527f556e697377617056324c6962726172793a205a45524f5f4144445245535300006044820152606401610531565b9250929050565b80356001600160a01b03811681146104aa57600080fd5b6000602082840312156110a657600080fd5b6110af8261107d565b9392505050565b600080604083850312156110c957600080fd5b6110d28361107d565b946020939093013593505050565b6000602082840312156110f257600080fd5b5035919050565b60006020828403121561110b57600080fd5b5051919050565b8481526000602085818401526001600160a01b038516604084015260806060840152835180608085015260005b8181101561115b5785810183015185820160a00152820161113f565b8181111561116d57600060a083870101525b50601f01601f19169290920160a0019695505050505050565b80516dffffffffffffffffffffffffffff811681146104aa57600080fd5b6000806000606084860312156111b957600080fd5b6111c284611186565b92506111d060208501611186565b9150604084015163ffffffff811681146111e957600080fd5b809150509250925092565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561125b5761125b6111f4565b500290565b60008219821115611273576112736111f4565b500190565b6000826112ae577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b50049056fea2646970667358221220b5168bbe657cac0f5baea29a1d155d24d957fb681acd8d86bcbbf91802b11d8c64736f6c634300080a0033","sourceMap":"3189:3583:129:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4065:15;;-1:-1:-1;;;;;4065:15:129;4051:10;:29;4047:416;;;4126:8;;4100:15;;-1:-1:-1;;;;;4100:15:129;:23;:34;4096:357;;;4154:14;4195:8;;4171:21;:32;:67;;4217:21;4171:67;;;4206:8;;4171:67;4274:15;;:50;;4154:84;;-1:-1:-1;4257:12:129;;-1:-1:-1;;;;;4274:15:129;;;;4300:4;;4154:84;;4257:12;4274:50;4257:12;4274:50;4154:84;4274:15;4300:4;4274:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4256:68;;;4346:7;4342:97;;;4396:15;;4382:38;;;-1:-1:-1;;;;;4396:15:129;;;398:74:173;;503:2;488:18;;481:34;;;4382:38:129;;371:18:173;4382:38:129;;;;;;;4342:97;4136:317;;4096:357;3189:3583;;;;;3381:30;;;;;;;;;;-1:-1:-1;3381:30:129;;;;-1:-1:-1;;;;;3381:30:129;;;;;;-1:-1:-1;;;;;690:55:173;;;672:74;;660:2;645:18;3381:30:129;;;;;;;;3291:39;;;;;;;;;;;;;;;;;;;903:25:173;;;891:2;876:18;3291:39:129;757:177:173;4849:267:129;;;;;;;;;;-1:-1:-1;4849:267:129;;;;;:::i;:::-;;:::i;5122:795::-;;;;;;;;;;-1:-1:-1;5122:795:129;;;;;:::i;:::-;;:::i;1831:101:80:-;;;;;;;;;;;;;:::i;4586:133:129:-;;;;;;;;;;-1:-1:-1;4586:133:129;;;;;:::i;:::-;;:::i;1201:85:80:-;;;;;;;;;;-1:-1:-1;1247:7:80;1273:6;-1:-1:-1;;;;;1273:6:80;1201:85;;3605:38:129;;;;;;;;;;;;;;;3336:39;;;;;;;;;;-1:-1:-1;3336:39:129;;;;-1:-1:-1;;;;;3336:39:129;;;4725:118;;;;;;;;;;-1:-1:-1;4725:118:129;;;;;:::i;:::-;;:::i;3558:41::-;;;;;;;;;;;;;;;3418:53;;;;;;;;;;;;;;;;4475:105;;;;;;;;;;-1:-1:-1;4475:105:129;;;;;:::i;:::-;;:::i;2081:198:80:-;;;;;;;;;;-1:-1:-1;2081:198:80;;;;;:::i;:::-;;:::i;3512:40:129:-;;;;;;;;;;;;;;;4849:267;4923:7;-1:-1:-1;;;;;4946:26:129;;4942:168;;-1:-1:-1;4995:21:129;;4849:267;-1:-1:-1;4849:267:129:o;4942:168::-;5054:45;;;;;5093:4;5054:45;;;672:74:173;-1:-1:-1;;;;;5054:30:129;;;;;645:18:173;;5054:45:129;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5047:52;4849:267;-1:-1:-1;;4849:267:129:o;4942:168::-;4849:267;;;:::o;5122:795::-;5252:19;1094:13:80;:11;:13::i;:::-;-1:-1:-1;;;;;5295:26:129;::::1;5287:73;;;::::0;-1:-1:-1;;;5287:73:129;;2166:2:173;5287:73:129::1;::::0;::::1;2148:21:173::0;2205:2;2185:18;;;2178:30;2244:34;2224:18;;;2217:62;2315:4;2295:18;;;2288:32;2337:19;;5287:73:129::1;;;;;;;;;5392:45;::::0;;;;5431:4:::1;5392:45;::::0;::::1;672:74:173::0;5371:18:129::1;::::0;-1:-1:-1;;;;;5392:30:129;::::1;::::0;::::1;::::0;645:18:173;;5392:45:129::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;5371:66;;5468:1;5455:10;:14;5447:57;;;::::0;-1:-1:-1;;;5447:57:129;;2569:2:173;5447:57:129::1;::::0;::::1;2551:21:173::0;2608:2;2588:18;;;2581:30;2647:32;2627:18;;;2620:60;2697:18;;5447:57:129::1;2367:354:173::0;5447:57:129::1;5535:4;-1:-1:-1::0;;;;;5519:20:129::1;:12;-1:-1:-1::0;;;;;5519:20:129::1;;5515:334;;;5555:32;::::0;;;;::::1;::::0;::::1;903:25:173::0;;;5561:4:129::1;-1:-1:-1::0;;;;;5555:20:129::1;::::0;::::1;::::0;876:18:173;;5555:32:129::1;;;;;;;;;;;;;;;;;::::0;::::1;;;;;;;;;;;;::::0;::::1;;;;;;;;;5515:334;;;5632:38;5645:12;5659:10;5632:12;:38::i;:::-;5618:52;;5707:14;5692:11;:29;;5684:85;;;::::0;-1:-1:-1;;;5684:85:129;;2928:2:173;5684:85:129::1;::::0;::::1;2910:21:173::0;2967:2;2947:18;;;2940:30;3006:34;2986:18;;;2979:62;3077:13;3057:18;;;3050:41;3108:19;;5684:85:129::1;2726:407:173::0;5684:85:129::1;5783:55;5800:12;5814:10;5826:11;5783:16;:55::i;:::-;5864:46;::::0;;-1:-1:-1;;;;;3358:55:173;;3340:74;;3445:2;3430:18;;3423:34;;;3473:18;;;3466:34;;;5864:46:129::1;::::0;3328:2:173;3313:18;5864:46:129::1;;;;;;;5277:640;5122:795:::0;;;;:::o;1831:101:80:-;1094:13;:11;:13::i;:::-;1895:30:::1;1922:1;1895:18;:30::i;:::-;1831:101::o:0;4586:133:129:-;1094:13:80;:11;:13::i;:::-;4678:15:129::1;:34:::0;4586:133::o;4725:118::-;1094:13:80;:11;:13::i;:::-;4807:15:129::1;:29:::0;;;::::1;-1:-1:-1::0;;;;;4807:29:129;;;::::1;::::0;;;::::1;::::0;;4725:118::o;4475:105::-;1094:13:80;:11;:13::i;:::-;4553:8:129::1;:20:::0;4475:105::o;2081:198:80:-;1094:13;:11;:13::i;:::-;-1:-1:-1;;;;;2169:22:80;::::1;2161:73;;;::::0;-1:-1:-1;;;2161:73:80;;3713:2:173;2161:73:80::1;::::0;::::1;3695:21:173::0;3752:2;3732:18;;;3725:30;3791:34;3771:18;;;3764:62;3862:8;3842:18;;;3835:36;3888:19;;2161:73:80::1;3511:402:173::0;2161:73:80::1;2244:28;2263:8;2244:18;:28::i;:::-;2081:198:::0;:::o;1359:130::-;1247:7;1273:6;-1:-1:-1;;;;;1273:6:80;719:10:95;1422:23:80;1414:68;;;;-1:-1:-1;;;1414:68:80;;4120:2:173;1414:68:80;;;4102:21:173;;;4139:18;;;4132:30;4198:34;4178:18;;;4171:62;4250:18;;1414:68:80;3918:356:173;5923:324:129;6010:19;6042:17;6061:18;6083:63;6118:7;6127:12;6141:4;6083:34;:63::i;:::-;6041:105;;;;6170:70;6206:10;6218:9;6229:10;6170:35;:70::i;:::-;6156:84;5923:324;-1:-1:-1;;;;;5923:324:129:o;6253:517::-;6361:12;6376:59;6407:7;6416:12;6430:4;6376:30;:59::i;:::-;6361:74;-1:-1:-1;6445:45:129;-1:-1:-1;;;;;6445:27:129;;6361:74;6479:10;6445:27;:45::i;:::-;6502:18;6522;6571:4;-1:-1:-1;;;;;6556:19:129;:12;-1:-1:-1;;;;;6556:19:129;;:75;;6607:11;6628:1;6556:75;;;6587:1;6591:11;6556:75;6706:12;;;6716:1;6706:12;;;;;;;;;6641:78;;;;6501:130;;-1:-1:-1;6501:130:129;-1:-1:-1;;;;;;6641:25:129;;;;;:78;;6501:130;;;;6699:4;;6641:78;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;6730:33:129;;;;;;;;903:25:173;;;6736:4:129;-1:-1:-1;;;;;6730:20:129;;-1:-1:-1;6730:20:129;;-1:-1:-1;876:18:173;;6730:33:129;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6351:419;;;6253:517;;;:::o;2433:187:80:-;2506:16;2525:6;;-1:-1:-1;;;;;2541:17:80;;;;;;;;;;2573:40;;2525:6;;;;;;;2573:40;;2506:16;2573:40;2496:124;2433:187;:::o;2092:427:129:-;2209:16;2227;2260:14;2279:26;2290:6;2298;2279:10;:26::i;:::-;2259:46;;;2316:16;2334;2370:32;2378:7;2387:6;2395;2370:7;:32::i;:::-;-1:-1:-1;;;;;2355:60:129;;:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2315:102;;;;;;;;;2460:6;-1:-1:-1;;;;;2450:16:129;:6;-1:-1:-1;;;;;2450:16:129;;:62;;2493:8;2503;2450:62;;;2470:8;2480;2450:62;2427:85;;;;-1:-1:-1;2092:427:129;-1:-1:-1;;;;;;;2092:427:129:o;2638:547::-;2764:17;2816:1;2805:8;:12;2797:68;;;;-1:-1:-1;;;2797:68:129;;6244:2:173;2797:68:129;;;6226:21:173;6283:2;6263:18;;;6256:30;6322:34;6302:18;;;6295:62;6393:13;6373:18;;;6366:41;6424:19;;2797:68:129;6042:407:173;2797:68:129;2895:1;2883:9;:13;:31;;;;;2913:1;2900:10;:14;2883:31;2875:84;;;;-1:-1:-1;;;2875:84:129;;6656:2:173;2875:84:129;;;6638:21:173;6695:2;6675:18;;;6668:30;6734:34;6714:18;;;6707:62;6805:10;6785:18;;;6778:38;6833:19;;2875:84:129;6454:404:173;2875:84:129;2969:23;2995:14;:8;3006:3;2995:14;:::i;:::-;2969:40;-1:-1:-1;3019:17:129;3039:28;3057:10;2969:40;3039:28;:::i;:::-;3019:48;-1:-1:-1;3077:19:129;3118:15;3099:16;:9;3111:4;3099:16;:::i;:::-;:34;;;;:::i;:::-;3077:56;-1:-1:-1;3155:23:129;3077:56;3155:9;:23;:::i;:::-;3143:35;2638:547;-1:-1:-1;;;;;;;2638:547:129:o;1382:655::-;1471:12;1496:14;1512;1530:26;1541:6;1549;1530:10;:26::i;:::-;1739:32;;-1:-1:-1;;7959:2:173;7955:15;;;7951:24;;1739:32:129;;;7939:37:173;8010:15;;;8006:24;7992:12;;;7985:46;1495:61:129;;-1:-1:-1;1495:61:129;-1:-1:-1;1566:16:129;;1700:7;;8047:12:173;;1739:32:129;;;;;;;;;;;;1729:43;;;;;;1633:266;;;;;;;;8441:66:173;8429:79;;8545:2;8541:15;;;;-1:-1:-1;;8537:88:173;8533:1;8524:11;;8517:109;8651:2;8642:12;;8635:28;8693:66;8688:2;8679:12;;8672:88;8785:2;8776:12;;8070:724;1633:266:129;;;;-1:-1:-1;;1633:266:129;;;;;;;;;1606:307;;1633:266;1606:307;;;;-1:-1:-1;;;;;1964:57:129;;1382:655;-1:-1:-1;;;;;;;1382:655:129:o;1044:2323:117:-;2729:4;2723:11;2759:17;2754:3;2747:30;2812:2;2806:3;2801;2797:13;2790:25;2851:6;2844:4;2839:3;2835:14;2828:30;2893:12;2881:25;2871:143;;2936:32;2933:1;2926:43;2996:3;2993:1;2986:14;2871:143;3093:4;3087;3081;3076:3;3073:1;3059:12;3052:5;3047:51;3027:71;;3176:1;3172;3166:8;3162:16;3143;3136:24;3133:46;3220:14;3206:12;3202:33;3192:159;;3276:16;3273:1;3270;3255:38;3320:16;3317:1;3310:27;3192:159;;;1044:2323;;;:::o;948:345:129:-;1023:14;1039;1083:6;-1:-1:-1;;;;;1073:16:129;:6;-1:-1:-1;;;;;1073:16:129;;;1065:66;;;;-1:-1:-1;;;1065:66:129;;9001:2:173;1065:66:129;;;8983:21:173;9040:2;9020:18;;;9013:30;9079:34;9059:18;;;9052:62;9150:7;9130:18;;;9123:35;9175:19;;1065:66:129;8799:401:173;1065:66:129;1169:6;-1:-1:-1;;;;;1160:15:129;:6;-1:-1:-1;;;;;1160:15:129;;:53;;1198:6;1206;1160:53;;;1179:6;1187;1160:53;1141:72;;-1:-1:-1;1141:72:129;-1:-1:-1;;;;;;1231:20:129;;1223:63;;;;-1:-1:-1;;;1223:63:129;;9407:2:173;1223:63:129;;;9389:21:173;9446:2;9426:18;;;9419:30;9485:32;9465:18;;;9458:60;9535:18;;1223:63:129;9205:354:173;1223:63:129;948:345;;;;;:::o;939:196:173:-;1007:20;;-1:-1:-1;;;;;1056:54:173;;1046:65;;1036:93;;1125:1;1122;1115:12;1140:186;1199:6;1252:2;1240:9;1231:7;1227:23;1223:32;1220:52;;;1268:1;1265;1258:12;1220:52;1291:29;1310:9;1291:29;:::i;:::-;1281:39;1140:186;-1:-1:-1;;;1140:186:173:o;1331:254::-;1399:6;1407;1460:2;1448:9;1439:7;1435:23;1431:32;1428:52;;;1476:1;1473;1466:12;1428:52;1499:29;1518:9;1499:29;:::i;:::-;1489:39;1575:2;1560:18;;;;1547:32;;-1:-1:-1;;;1331:254:173:o;1590:180::-;1649:6;1702:2;1690:9;1681:7;1677:23;1673:32;1670:52;;;1718:1;1715;1708:12;1670:52;-1:-1:-1;1741:23:173;;1590:180;-1:-1:-1;1590:180:173:o;1775:184::-;1845:6;1898:2;1886:9;1877:7;1873:23;1869:32;1866:52;;;1914:1;1911;1904:12;1866:52;-1:-1:-1;1937:16:173;;1775:184;-1:-1:-1;1775:184:173:o;4468:921::-;4699:6;4688:9;4681:25;4662:4;4725:2;4763:6;4758:2;4747:9;4743:18;4736:34;-1:-1:-1;;;;;4810:6:173;4806:55;4801:2;4790:9;4786:18;4779:83;4898:3;4893:2;4882:9;4878:18;4871:31;4931:6;4925:13;4975:6;4969:3;4958:9;4954:19;4947:35;5000:1;5010:141;5024:6;5021:1;5018:13;5010:141;;;5120:14;;;5116:23;;5110:30;5085:17;;;5104:3;5081:27;5074:67;5039:10;;5010:141;;;5169:6;5166:1;5163:13;5160:92;;;5240:1;5234:3;5225:6;5214:9;5210:22;5206:32;5199:43;5160:92;-1:-1:-1;5304:2:173;5292:15;-1:-1:-1;;5288:88:173;5273:104;;;;5379:3;5269:114;;4468:921;-1:-1:-1;;;;;;4468:921:173:o;5394:188::-;5473:13;;5526:30;5515:42;;5505:53;;5495:81;;5572:1;5569;5562:12;5587:450;5674:6;5682;5690;5743:2;5731:9;5722:7;5718:23;5714:32;5711:52;;;5759:1;5756;5749:12;5711:52;5782:40;5812:9;5782:40;:::i;:::-;5772:50;;5841:49;5886:2;5875:9;5871:18;5841:49;:::i;:::-;5831:59;;5933:2;5922:9;5918:18;5912:25;5977:10;5970:5;5966:22;5959:5;5956:33;5946:61;;6003:1;6000;5993:12;5946:61;6026:5;6016:15;;;5587:450;;;;;:::o;6863:184::-;6915:77;6912:1;6905:88;7012:4;7009:1;7002:15;7036:4;7033:1;7026:15;7052:228;7092:7;7218:1;7150:66;7146:74;7143:1;7140:81;7135:1;7128:9;7121:17;7117:105;7114:131;;;7225:18;;:::i;:::-;-1:-1:-1;7265:9:173;;7052:228::o;7285:128::-;7325:3;7356:1;7352:6;7349:1;7346:13;7343:39;;;7362:18;;:::i;:::-;-1:-1:-1;7398:9:173;;7285:128::o;7418:274::-;7458:1;7484;7474:189;;7519:77;7516:1;7509:88;7620:4;7617:1;7610:15;7648:4;7645:1;7638:15;7474:189;-1:-1:-1;7677:9:173;;7418:274::o","linkReferences":{},"immutableReferences":{"79677":[{"start":1002,"length":32}],"79680":[{"start":864,"length":32},{"start":2340,"length":32},{"start":2441,"length":32}],"79683":[{"start":748,"length":32},{"start":1554,"length":32},{"start":1657,"length":32},{"start":2374,"length":32},{"start":2475,"length":32},{"start":2538,"length":32},{"start":2793,"length":32}]}},"methodIdentifiers":{"WETH()":"ad5c4648","aztecFeeClaimer()":"afea09ac","convert(address,uint256)":"67c6e39c","convertConstant()":"c746d1d0","factory()":"c45a0155","feeLimit()":"5b193332","owner()":"8da5cb5b","renounceOwnership()":"715018a6","rollupProcessor()":"2a113d6e","router()":"f887ea40","setConvertConstant(uint256)":"86a88da2","setFeeClaimer(address)":"c3accd48","setFeeLimit(uint256)":"d3a859d3","transferOwnership(address)":"f2fde38b","txFeeBalance(address)":"5e163716"},"rawMetadata":"{\\"compiler\\":{\\"version\\":\\"0.8.10+commit.fc410830\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_feeClaimer\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_rollupProcessor\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_router\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"assetAddress\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"inputValue\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"outputValue\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"Convert\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"receiver\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"amount\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"FeeReimbursed\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"previousOwner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"OwnershipTransferred\\",\\"type\\":\\"event\\"},{\\"inputs\\":[],\\"name\\":\\"WETH\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"aztecFeeClaimer\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"assetAddress\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"minOutputValue\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"convert\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"outputValue\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"convertConstant\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"factory\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"feeLimit\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"owner\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"renounceOwnership\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"rollupProcessor\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"router\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_convertConstant\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"setConvertConstant\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_feeClaimer\\",\\"type\\":\\"address\\"}],\\"name\\":\\"setFeeClaimer\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_feeLimit\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"setFeeLimit\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"transferOwnership\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"assetAddress\\",\\"type\\":\\"address\\"}],\\"name\\":\\"txFeeBalance\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"stateMutability\\":\\"payable\\",\\"type\\":\\"receive\\"}],\\"devdoc\\":{\\"kind\\":\\"dev\\",\\"methods\\":{\\"owner()\\":{\\"details\\":\\"Returns the address of the current owner.\\"},\\"renounceOwnership()\\":{\\"details\\":\\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\\"},\\"transferOwnership(address)\\":{\\"details\\":\\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\\"}},\\"version\\":1},\\"userdoc\\":{\\"kind\\":\\"user\\",\\"methods\\":{},\\"version\\":1}},\\"settings\\":{\\"compilationTarget\\":{\\"src/periphery/AztecFeeDistributor.sol\\":\\"AztecFeeDistributor\\"},\\"evmVersion\\":\\"london\\",\\"libraries\\":{},\\"metadata\\":{\\"bytecodeHash\\":\\"ipfs\\"},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":2000},\\"remappings\\":[\\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\\",\\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\\",\\":@uniswap/v2-core/=lib/v2-core/\\",\\":@uniswap/v2-periphery/=lib/v2-periphery/\\",\\":aztec-connect-bridges/=lib/aztec-connect-bridges/src/\\",\\":bridge-deployments/=lib/aztec-connect-bridges/src/deployment/\\",\\":bridge-interfaces/=lib/aztec-connect-bridges/src/interfaces/\\",\\":bridge-tests/=lib/aztec-connect-bridges/src/test/\\",\\":core/=src/core/\\",\\":ds-test/=lib/forge-std/lib/ds-test/src/\\",\\":erc4626-tests/=lib/aztec-connect-bridges/lib/openzeppelin-contracts/lib/erc4626-tests/\\",\\":forge-std/=lib/forge-std/src/\\",\\":mocks/=src/test/mocks/\\",\\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\\",\\":openzeppelin-contracts/=lib/openzeppelin-contracts/\\",\\":periphery/=src/periphery/\\",\\":rollup-encoder/=lib/rollup-encoder/src/\\",\\":v2-core/=lib/v2-core/contracts/\\",\\":v2-periphery/=lib/v2-periphery/contracts/\\"]},\\"sources\\":{\\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\\":{\\"keccak256\\":\\"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://40fb1b5102468f783961d0af743f91b9980cf66b50d1d12009f6bb1869cea4d2\\",\\"dweb:/ipfs/QmYqEbJML4jB1GHbzD4cUZDtJg5wVwNm3vDJq1GbyDus8y\\"]},\\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\\":{\\"keccak256\\":\\"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34\\",\\"dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr\\"]},\\"lib/openzeppelin-contracts/contracts/utils/Context.sol\\":{\\"keccak256\\":\\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92\\",\\"dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3\\"]},\\"lib/v2-core/contracts/interfaces/IUniswapV2Pair.sol\\":{\\"keccak256\\":\\"0x7c9bc70e5996c763e02ff38905282bc24fb242b0ef2519a003b36824fc524a4b\\",\\"urls\\":[\\"bzz-raw://85d5ad2dd23ee127f40907a12865a1e8cb5828814f6f2480285e1827dd72dedf\\",\\"dweb:/ipfs/QmayKQWJgWmr46DqWseADyUanmqxh662hPNdAkdHRjiQQH\\"]},\\"lib/v2-periphery/contracts/interfaces/IUniswapV2Router01.sol\\":{\\"keccak256\\":\\"0x8a3c5c449d4b7cd76513ed6995f4b86e4a86f222c770f8442f5fc128ce29b4d2\\",\\"urls\\":[\\"bzz-raw://1df63ca373dafae3bd0ee7fe70f890a1dc7c45ed869c01de68413e0e97ff9deb\\",\\"dweb:/ipfs/QmefJgEYGUL8KX7kQKYTrDweF8GB7yjy3nw5Bmqzryg7PG\\"]},\\"lib/v2-periphery/contracts/interfaces/IUniswapV2Router02.sol\\":{\\"keccak256\\":\\"0x744e30c133bd0f7ca9e7163433cf6d72f45c6bb1508c2c9c02f1a6db796ae59d\\",\\"urls\\":[\\"bzz-raw://9bf2f4454ad63d4cff03a0630e787d9e8a9deed80aec89682cd8ad6379d9ef8c\\",\\"dweb:/ipfs/Qme51hQNR2wpax7ooUadhtqLtXm8ffeVVYyubLkTT4wMCG\\"]},\\"lib/v2-periphery/contracts/interfaces/IWETH.sol\\":{\\"keccak256\\":\\"0xfc10758fd8dba790c39468dccd358cb7cef06ae7c4781832cc7aa76f91f167e6\\",\\"urls\\":[\\"bzz-raw://dc22493dea6c60d47835eeba53726f8a6f76f4fcd798d40e54608a1380515d49\\",\\"dweb:/ipfs/QmS1QVcBRH4TELYNE7XCfjSVQEWFupyaNLKmMkKH7iPjrm\\"]},\\"src/core/libraries/TokenTransfers.sol\\":{\\"keccak256\\":\\"0x21beffec9af91aa80eecd45f7717ac6d5a7fb6b7ade359cdf74be02a1da6ade3\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://8c79548340006356348e40ac58bd5bb7630c1a0f7e79c9004601efcdc56bef22\\",\\"dweb:/ipfs/QmUHYvo2i8LnQfvvJnpyo2HeUpNJpRsfXpuCqDNLRMcf6A\\"]},\\"src/periphery/AztecFeeDistributor.sol\\":{\\"keccak256\\":\\"0x3422efdb204eea7659c32be867743de22bb8fd217d7a65e71e9028ced273e8ec\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://89aad0aaa159edb41428e12a2c7711e23f3c877bbd96127263684bee6d3b382f\\",\\"dweb:/ipfs/QmdgTh6oKKV67wPVZoA2vN9R8tcVVspb6qaRWWFF19oKFo\\"]},\\"src/periphery/interfaces/IFeeDistributor.sol\\":{\\"keccak256\\":\\"0x1fdf5edea6bbb7db1e428fb389f6bd64a7737f4c6e490d3d2be12674d6e54726\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://31a6d2936a365ca1d13c9c6aafc3491737f9c0454e5dbde369d026664f5cbe19\\",\\"dweb:/ipfs/QmTkq15kjTwYcj3xUBAaREAsdoUxZzTfHbAhZB9atrKdRS\\"]}},\\"version\\":1}","metadata":{"compiler":{"version":"0.8.10+commit.fc410830"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_feeClaimer","type":"address"},{"internalType":"address","name":"_rollupProcessor","type":"address"},{"internalType":"address","name":"_router","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"assetAddress","type":"address","indexed":false},{"internalType":"uint256","name":"inputValue","type":"uint256","indexed":false},{"internalType":"uint256","name":"outputValue","type":"uint256","indexed":false}],"type":"event","name":"Convert","anonymous":false},{"inputs":[{"internalType":"address","name":"receiver","type":"address","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"FeeReimbursed","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"aztecFeeClaimer","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"assetAddress","type":"address"},{"internalType":"uint256","name":"minOutputValue","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"convert","outputs":[{"internalType":"uint256","name":"outputValue","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"convertConstant","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"feeLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[],"stateMutability":"view","type":"function","name":"rollupProcessor","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"router","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"_convertConstant","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setConvertConstant"},{"inputs":[{"internalType":"address","name":"_feeClaimer","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setFeeClaimer"},{"inputs":[{"internalType":"uint256","name":"_feeLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setFeeLimit"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"address","name":"assetAddress","type":"address"}],"stateMutability":"view","type":"function","name":"txFeeBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v2-core/=lib/v2-core/","@uniswap/v2-periphery/=lib/v2-periphery/","aztec-connect-bridges/=lib/aztec-connect-bridges/src/","bridge-deployments/=lib/aztec-connect-bridges/src/deployment/","bridge-interfaces/=lib/aztec-connect-bridges/src/interfaces/","bridge-tests/=lib/aztec-connect-bridges/src/test/","core/=src/core/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/aztec-connect-bridges/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","mocks/=src/test/mocks/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","periphery/=src/periphery/","rollup-encoder/=lib/rollup-encoder/src/","v2-core/=lib/v2-core/contracts/","v2-periphery/=lib/v2-periphery/contracts/"],"optimizer":{"enabled":true,"runs":2000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/periphery/AztecFeeDistributor.sol":"AztecFeeDistributor"},"libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673","urls":["bzz-raw://40fb1b5102468f783961d0af743f91b9980cf66b50d1d12009f6bb1869cea4d2","dweb:/ipfs/QmYqEbJML4jB1GHbzD4cUZDtJg5wVwNm3vDJq1GbyDus8y"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b","urls":["bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34","dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7","urls":["bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92","dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3"],"license":"MIT"},"lib/v2-core/contracts/interfaces/IUniswapV2Pair.sol":{"keccak256":"0x7c9bc70e5996c763e02ff38905282bc24fb242b0ef2519a003b36824fc524a4b","urls":["bzz-raw://85d5ad2dd23ee127f40907a12865a1e8cb5828814f6f2480285e1827dd72dedf","dweb:/ipfs/QmayKQWJgWmr46DqWseADyUanmqxh662hPNdAkdHRjiQQH"],"license":null},"lib/v2-periphery/contracts/interfaces/IUniswapV2Router01.sol":{"keccak256":"0x8a3c5c449d4b7cd76513ed6995f4b86e4a86f222c770f8442f5fc128ce29b4d2","urls":["bzz-raw://1df63ca373dafae3bd0ee7fe70f890a1dc7c45ed869c01de68413e0e97ff9deb","dweb:/ipfs/QmefJgEYGUL8KX7kQKYTrDweF8GB7yjy3nw5Bmqzryg7PG"],"license":null},"lib/v2-periphery/contracts/interfaces/IUniswapV2Router02.sol":{"keccak256":"0x744e30c133bd0f7ca9e7163433cf6d72f45c6bb1508c2c9c02f1a6db796ae59d","urls":["bzz-raw://9bf2f4454ad63d4cff03a0630e787d9e8a9deed80aec89682cd8ad6379d9ef8c","dweb:/ipfs/Qme51hQNR2wpax7ooUadhtqLtXm8ffeVVYyubLkTT4wMCG"],"license":null},"lib/v2-periphery/contracts/interfaces/IWETH.sol":{"keccak256":"0xfc10758fd8dba790c39468dccd358cb7cef06ae7c4781832cc7aa76f91f167e6","urls":["bzz-raw://dc22493dea6c60d47835eeba53726f8a6f76f4fcd798d40e54608a1380515d49","dweb:/ipfs/QmS1QVcBRH4TELYNE7XCfjSVQEWFupyaNLKmMkKH7iPjrm"],"license":null},"src/core/libraries/TokenTransfers.sol":{"keccak256":"0x21beffec9af91aa80eecd45f7717ac6d5a7fb6b7ade359cdf74be02a1da6ade3","urls":["bzz-raw://8c79548340006356348e40ac58bd5bb7630c1a0f7e79c9004601efcdc56bef22","dweb:/ipfs/QmUHYvo2i8LnQfvvJnpyo2HeUpNJpRsfXpuCqDNLRMcf6A"],"license":"Apache-2.0"},"src/periphery/AztecFeeDistributor.sol":{"keccak256":"0x3422efdb204eea7659c32be867743de22bb8fd217d7a65e71e9028ced273e8ec","urls":["bzz-raw://89aad0aaa159edb41428e12a2c7711e23f3c877bbd96127263684bee6d3b382f","dweb:/ipfs/QmdgTh6oKKV67wPVZoA2vN9R8tcVVspb6qaRWWFF19oKFo"],"license":"Apache-2.0"},"src/periphery/interfaces/IFeeDistributor.sol":{"keccak256":"0x1fdf5edea6bbb7db1e428fb389f6bd64a7737f4c6e490d3d2be12674d6e54726","urls":["bzz-raw://31a6d2936a365ca1d13c9c6aafc3491737f9c0454e5dbde369d026664f5cbe19","dweb:/ipfs/QmTkq15kjTwYcj3xUBAaREAsdoUxZzTfHbAhZB9atrKdRS"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"src/periphery/AztecFeeDistributor.sol","id":80028,"exportedSymbols":{"AztecFeeDistributor":[80027],"IERC20":[62651],"IFeeDistributor":[80395],"IUniswapV2Pair":[67216],"IUniswapV2Router02":[67612],"IWETH":[67632],"Ownable":[61107],"TokenTransfers":[68527],"UniswapV2LibraryErrata":[79652]},"nodeType":"SourceUnit","src":"63:6710:129","nodes":[{"id":79443,"nodeType":"PragmaDirective","src":"63:24:129","nodes":[],"literals":["solidity",">=","0.8",".4"]},{"id":79445,"nodeType":"ImportDirective","src":"89:70:129","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"@openzeppelin/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":62652,"symbolAliases":[{"foreign":{"id":79444,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"src":"97:6:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79447,"nodeType":"ImportDirective","src":"160:67:129","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable.sol","file":"@openzeppelin/contracts/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":61108,"symbolAliases":[{"foreign":{"id":79446,"name":"Ownable","nodeType":"Identifier","overloadedDeclarations":[],"src":"168:7:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79449,"nodeType":"ImportDirective","src":"229:101:129","nodes":[],"absolutePath":"lib/v2-periphery/contracts/interfaces/IUniswapV2Router02.sol","file":"@uniswap/v2-periphery/contracts/interfaces/IUniswapV2Router02.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":67613,"symbolAliases":[{"foreign":{"id":79448,"name":"IUniswapV2Router02","nodeType":"Identifier","overloadedDeclarations":[],"src":"237:18:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79451,"nodeType":"ImportDirective","src":"331:88:129","nodes":[],"absolutePath":"lib/v2-core/contracts/interfaces/IUniswapV2Pair.sol","file":"@uniswap/v2-core/contracts/interfaces/IUniswapV2Pair.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":67217,"symbolAliases":[{"foreign":{"id":79450,"name":"IUniswapV2Pair","nodeType":"Identifier","overloadedDeclarations":[],"src":"339:14:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79453,"nodeType":"ImportDirective","src":"420:75:129","nodes":[],"absolutePath":"lib/v2-periphery/contracts/interfaces/IWETH.sol","file":"@uniswap/v2-periphery/contracts/interfaces/IWETH.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":67633,"symbolAliases":[{"foreign":{"id":79452,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"src":"428:5:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79455,"nodeType":"ImportDirective","src":"497:65:129","nodes":[],"absolutePath":"src/core/libraries/TokenTransfers.sol","file":"core/libraries/TokenTransfers.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":68528,"symbolAliases":[{"foreign":{"id":79454,"name":"TokenTransfers","nodeType":"Identifier","overloadedDeclarations":[],"src":"505:14:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79457,"nodeType":"ImportDirective","src":"563:65:129","nodes":[],"absolutePath":"src/periphery/interfaces/IFeeDistributor.sol","file":"./interfaces/IFeeDistributor.sol","nameLocation":"-1:-1:-1","scope":80028,"sourceUnit":80396,"symbolAliases":[{"foreign":{"id":79456,"name":"IFeeDistributor","nodeType":"Identifier","overloadedDeclarations":[],"src":"571:15:129","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":79652,"nodeType":"ContractDefinition","src":"811:2376:129","nodes":[{"id":79502,"nodeType":"FunctionDefinition","src":"948:345:129","nodes":[],"body":{"id":79501,"nodeType":"Block","src":"1055:238:129","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79472,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79470,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79460,"src":"1073:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":79471,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79462,"src":"1083:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1073:16:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"556e697377617056324c6962726172793a204944454e544943414c5f414444524553534553","id":79473,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1091:39:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_4ddc3ca35a8b7ccaa016ab70252fdf3396ded4f4fd8375f95b1e9d99790fcdca","typeString":"literal_string \\"UniswapV2Library: IDENTICAL_ADDRESSES\\""},"value":"UniswapV2Library: IDENTICAL_ADDRESSES"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4ddc3ca35a8b7ccaa016ab70252fdf3396ded4f4fd8375f95b1e9d99790fcdca","typeString":"literal_string \\"UniswapV2Library: IDENTICAL_ADDRESSES\\""}],"id":79469,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1065:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79474,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1065:66:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79475,"nodeType":"ExpressionStatement","src":"1065:66:129"},{"expression":{"id":79489,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":79476,"name":"token0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79465,"src":"1142:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79477,"name":"token1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79467,"src":"1150:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":79478,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"1141:16:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_address_$","typeString":"tuple(address,address)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79479,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79460,"src":"1160:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":79480,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79462,"src":"1169:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1160:15:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"components":[{"id":79485,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79462,"src":"1198:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79486,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79460,"src":"1206:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":79487,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1197:16:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_address_$","typeString":"tuple(address,address)"}},"id":79488,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"1160:53:129","trueExpression":{"components":[{"id":79482,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79460,"src":"1179:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79483,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79462,"src":"1187:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":79484,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1178:16:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_address_$","typeString":"tuple(address,address)"}},"typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_address_$","typeString":"tuple(address,address)"}},"src":"1141:72:129","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79490,"nodeType":"ExpressionStatement","src":"1141:72:129"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79497,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79492,"name":"token0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79465,"src":"1231:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":79495,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1249:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":79494,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1241:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79493,"name":"address","nodeType":"ElementaryTypeName","src":"1241:7:129","typeDescriptions":{}}},"id":79496,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1241:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1231:20:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"556e697377617056324c6962726172793a205a45524f5f41444452455353","id":79498,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1253:32:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_db0dda5a73ac3122e17df097fa2cbce2c5161b45d20c7d6cf363d3b147392c83","typeString":"literal_string \\"UniswapV2Library: ZERO_ADDRESS\\""},"value":"UniswapV2Library: ZERO_ADDRESS"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_db0dda5a73ac3122e17df097fa2cbce2c5161b45d20c7d6cf363d3b147392c83","typeString":"literal_string \\"UniswapV2Library: ZERO_ADDRESS\\""}],"id":79491,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1223:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79499,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1223:63:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79500,"nodeType":"ExpressionStatement","src":"1223:63:129"}]},"implemented":true,"kind":"function","modifiers":[],"name":"sortTokens","nameLocation":"957:10:129","parameters":{"id":79463,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79460,"mutability":"mutable","name":"tokenA","nameLocation":"976:6:129","nodeType":"VariableDeclaration","scope":79502,"src":"968:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79459,"name":"address","nodeType":"ElementaryTypeName","src":"968:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79462,"mutability":"mutable","name":"tokenB","nameLocation":"992:6:129","nodeType":"VariableDeclaration","scope":79502,"src":"984:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79461,"name":"address","nodeType":"ElementaryTypeName","src":"984:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"967:32:129"},"returnParameters":{"id":79468,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79465,"mutability":"mutable","name":"token0","nameLocation":"1031:6:129","nodeType":"VariableDeclaration","scope":79502,"src":"1023:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79464,"name":"address","nodeType":"ElementaryTypeName","src":"1023:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79467,"mutability":"mutable","name":"token1","nameLocation":"1047:6:129","nodeType":"VariableDeclaration","scope":79502,"src":"1039:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79466,"name":"address","nodeType":"ElementaryTypeName","src":"1039:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1022:32:129"},"scope":79652,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":79545,"nodeType":"FunctionDefinition","src":"1382:655:129","nodes":[],"body":{"id":79544,"nodeType":"Block","src":"1485:552:129","nodes":[],"statements":[{"assignments":[79514,79516],"declarations":[{"constant":false,"id":79514,"mutability":"mutable","name":"token0","nameLocation":"1504:6:129","nodeType":"VariableDeclaration","scope":79544,"src":"1496:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79513,"name":"address","nodeType":"ElementaryTypeName","src":"1496:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79516,"mutability":"mutable","name":"token1","nameLocation":"1520:6:129","nodeType":"VariableDeclaration","scope":79544,"src":"1512:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79515,"name":"address","nodeType":"ElementaryTypeName","src":"1512:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":79521,"initialValue":{"arguments":[{"id":79518,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79506,"src":"1541:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79519,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79508,"src":"1549:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":79517,"name":"sortTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79502,"src":"1530:10:129","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_address_$returns$_t_address_$_t_address_$","typeString":"function (address,address) pure returns (address,address)"}},"id":79520,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1530:26:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_address_$","typeString":"tuple(address,address)"}},"nodeType":"VariableDeclarationStatement","src":"1495:61:129"},{"assignments":[79523],"declarations":[{"constant":false,"id":79523,"mutability":"mutable","name":"pairUint","nameLocation":"1574:8:129","nodeType":"VariableDeclaration","scope":79544,"src":"1566:16:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79522,"name":"uint256","nodeType":"ElementaryTypeName","src":"1566:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79542,"initialValue":{"arguments":[{"arguments":[{"arguments":[{"hexValue":"ff","id":79529,"isConstant":false,"isLValue":false,"isPure":true,"kind":"hexString","lValueRequested":false,"nodeType":"Literal","src":"1671:7:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_8b1a944cf13a9a1c08facb2c9e98623ef3254d2ddb48113885c3e8e97fec8db9","typeString":"literal_string hex\\"ff\\""}},{"id":79530,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79504,"src":"1700:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"arguments":[{"id":79534,"name":"token0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79514,"src":"1756:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79535,"name":"token1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79516,"src":"1764:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":79532,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1739:3:129","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":79533,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","src":"1739:16:129","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":79536,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1739:32:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":79531,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1729:9:129","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":79537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1729:43:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"hexValue":"96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f","id":79538,"isConstant":false,"isLValue":false,"isPure":true,"kind":"hexString","lValueRequested":false,"nodeType":"Literal","src":"1794:69:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_66d76495d34dc7613deaf40ec013ef0fbd2f03604ae509b7212971c455edfb7a","typeString":"literal_string hex\\"96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f\\""}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_8b1a944cf13a9a1c08facb2c9e98623ef3254d2ddb48113885c3e8e97fec8db9","typeString":"literal_string hex\\"ff\\""},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_stringliteral_66d76495d34dc7613deaf40ec013ef0fbd2f03604ae509b7212971c455edfb7a","typeString":"literal_string hex\\"96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f\\""}],"expression":{"id":79527,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1633:3:129","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":79528,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","src":"1633:16:129","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":79539,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1633:266:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":79526,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1606:9:129","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":79540,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1606:307:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":79525,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1585:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":79524,"name":"uint256","nodeType":"ElementaryTypeName","src":"1585:7:129","typeDescriptions":{}}},"id":79541,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1585:338:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1566:357:129"},{"AST":{"nodeType":"YulBlock","src":"1942:89:129","statements":[{"nodeType":"YulAssignment","src":"1956:65:129","value":{"arguments":[{"name":"pairUint","nodeType":"YulIdentifier","src":"1968:8:129"},{"kind":"number","nodeType":"YulLiteral","src":"1978:42:129","type":"","value":"0xffffffffffffffffffffffffffffffffffffffff"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"1964:3:129"},"nodeType":"YulFunctionCall","src":"1964:57:129"},"variableNames":[{"name":"pair","nodeType":"YulIdentifier","src":"1956:4:129"}]}]},"evmVersion":"london","externalReferences":[{"declaration":79511,"isOffset":false,"isSlot":false,"src":"1956:4:129","valueSize":1},{"declaration":79523,"isOffset":false,"isSlot":false,"src":"1968:8:129","valueSize":1}],"id":79543,"nodeType":"InlineAssembly","src":"1933:98:129"}]},"implemented":true,"kind":"function","modifiers":[],"name":"pairFor","nameLocation":"1391:7:129","parameters":{"id":79509,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79504,"mutability":"mutable","name":"factory","nameLocation":"1407:7:129","nodeType":"VariableDeclaration","scope":79545,"src":"1399:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79503,"name":"address","nodeType":"ElementaryTypeName","src":"1399:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79506,"mutability":"mutable","name":"tokenA","nameLocation":"1424:6:129","nodeType":"VariableDeclaration","scope":79545,"src":"1416:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79505,"name":"address","nodeType":"ElementaryTypeName","src":"1416:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79508,"mutability":"mutable","name":"tokenB","nameLocation":"1440:6:129","nodeType":"VariableDeclaration","scope":79545,"src":"1432:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79507,"name":"address","nodeType":"ElementaryTypeName","src":"1432:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1398:49:129"},"returnParameters":{"id":79512,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79511,"mutability":"mutable","name":"pair","nameLocation":"1479:4:129","nodeType":"VariableDeclaration","scope":79545,"src":"1471:12:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79510,"name":"address","nodeType":"ElementaryTypeName","src":"1471:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1470:14:129"},"scope":79652,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":79595,"nodeType":"FunctionDefinition","src":"2092:427:129","nodes":[],"body":{"id":79594,"nodeType":"Block","src":"2249:270:129","nodes":[],"statements":[{"assignments":[79559,null],"declarations":[{"constant":false,"id":79559,"mutability":"mutable","name":"token0","nameLocation":"2268:6:129","nodeType":"VariableDeclaration","scope":79594,"src":"2260:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79558,"name":"address","nodeType":"ElementaryTypeName","src":"2260:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},null],"id":79564,"initialValue":{"arguments":[{"id":79561,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79549,"src":"2290:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79562,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79551,"src":"2298:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":79560,"name":"sortTokens","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79502,"src":"2279:10:129","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_address_$returns$_t_address_$_t_address_$","typeString":"function (address,address) pure returns (address,address)"}},"id":79563,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2279:26:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_address_$","typeString":"tuple(address,address)"}},"nodeType":"VariableDeclarationStatement","src":"2259:46:129"},{"assignments":[79566,79568,null],"declarations":[{"constant":false,"id":79566,"mutability":"mutable","name":"reserve0","nameLocation":"2324:8:129","nodeType":"VariableDeclaration","scope":79594,"src":"2316:16:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79565,"name":"uint256","nodeType":"ElementaryTypeName","src":"2316:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79568,"mutability":"mutable","name":"reserve1","nameLocation":"2342:8:129","nodeType":"VariableDeclaration","scope":79594,"src":"2334:16:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79567,"name":"uint256","nodeType":"ElementaryTypeName","src":"2334:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null],"id":79578,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"arguments":[{"id":79571,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79547,"src":"2378:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79572,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79549,"src":"2387:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79573,"name":"tokenB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79551,"src":"2395:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":79570,"name":"pairFor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79545,"src":"2370:7:129","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_address_$_t_address_$returns$_t_address_$","typeString":"function (address,address,address) pure returns (address)"}},"id":79574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2370:32:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":79569,"name":"IUniswapV2Pair","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67216,"src":"2355:14:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IUniswapV2Pair_$67216_$","typeString":"type(contract IUniswapV2Pair)"}},"id":79575,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2355:48:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IUniswapV2Pair_$67216","typeString":"contract IUniswapV2Pair"}},"id":79576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getReserves","nodeType":"MemberAccess","referencedDeclaration":67158,"src":"2355:60:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint112_$_t_uint112_$_t_uint32_$","typeString":"function () view external returns (uint112,uint112,uint32)"}},"id":79577,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2355:62:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint112_$_t_uint112_$_t_uint32_$","typeString":"tuple(uint112,uint112,uint32)"}},"nodeType":"VariableDeclarationStatement","src":"2315:102:129"},{"expression":{"id":79592,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":79579,"name":"reserveA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79554,"src":"2428:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79580,"name":"reserveB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79556,"src":"2438:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":79581,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2427:20:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79584,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79582,"name":"tokenA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79549,"src":"2450:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":79583,"name":"token0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79559,"src":"2460:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2450:16:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"components":[{"id":79588,"name":"reserve1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79568,"src":"2493:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79589,"name":"reserve0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79566,"src":"2503:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":79590,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2492:20:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"id":79591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2450:62:129","trueExpression":{"components":[{"id":79585,"name":"reserve0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79566,"src":"2470:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79586,"name":"reserve1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79568,"src":"2480:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":79587,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2469:20:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"2427:85:129","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79593,"nodeType":"ExpressionStatement","src":"2427:85:129"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getReserves","nameLocation":"2101:11:129","parameters":{"id":79552,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79547,"mutability":"mutable","name":"factory","nameLocation":"2121:7:129","nodeType":"VariableDeclaration","scope":79595,"src":"2113:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79546,"name":"address","nodeType":"ElementaryTypeName","src":"2113:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79549,"mutability":"mutable","name":"tokenA","nameLocation":"2138:6:129","nodeType":"VariableDeclaration","scope":79595,"src":"2130:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79548,"name":"address","nodeType":"ElementaryTypeName","src":"2130:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79551,"mutability":"mutable","name":"tokenB","nameLocation":"2154:6:129","nodeType":"VariableDeclaration","scope":79595,"src":"2146:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79550,"name":"address","nodeType":"ElementaryTypeName","src":"2146:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2112:49:129"},"returnParameters":{"id":79557,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79554,"mutability":"mutable","name":"reserveA","nameLocation":"2217:8:129","nodeType":"VariableDeclaration","scope":79595,"src":"2209:16:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79553,"name":"uint256","nodeType":"ElementaryTypeName","src":"2209:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79556,"mutability":"mutable","name":"reserveB","nameLocation":"2235:8:129","nodeType":"VariableDeclaration","scope":79595,"src":"2227:16:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79555,"name":"uint256","nodeType":"ElementaryTypeName","src":"2227:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2208:36:129"},"scope":79652,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":79651,"nodeType":"FunctionDefinition","src":"2638:547:129","nodes":[],"body":{"id":79650,"nodeType":"Block","src":"2787:398:129","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79607,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79597,"src":"2805:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":79608,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2816:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2805:12:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"556e697377617056324c6962726172793a20494e53554646494349454e545f494e5055545f414d4f554e54","id":79610,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2819:45:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_ec21b006eb37ef20d0f4abcabd34de6854fa68af48294244e0263dc05c1dbbae","typeString":"literal_string \\"UniswapV2Library: INSUFFICIENT_INPUT_AMOUNT\\""},"value":"UniswapV2Library: INSUFFICIENT_INPUT_AMOUNT"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ec21b006eb37ef20d0f4abcabd34de6854fa68af48294244e0263dc05c1dbbae","typeString":"literal_string \\"UniswapV2Library: INSUFFICIENT_INPUT_AMOUNT\\""}],"id":79606,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2797:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2797:68:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79612,"nodeType":"ExpressionStatement","src":"2797:68:129"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":79620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79614,"name":"reserveIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79599,"src":"2883:9:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":79615,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2895:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2883:13:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79619,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79617,"name":"reserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79601,"src":"2900:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":79618,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2913:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2900:14:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2883:31:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"556e697377617056324c6962726172793a20494e53554646494349454e545f4c4951554944495459","id":79621,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2916:42:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_7e8d6b265173dbbd87b3b9e2bf4238bea6caf2b2bbeb63f859a738aec9e761c8","typeString":"literal_string \\"UniswapV2Library: INSUFFICIENT_LIQUIDITY\\""},"value":"UniswapV2Library: INSUFFICIENT_LIQUIDITY"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_7e8d6b265173dbbd87b3b9e2bf4238bea6caf2b2bbeb63f859a738aec9e761c8","typeString":"literal_string \\"UniswapV2Library: INSUFFICIENT_LIQUIDITY\\""}],"id":79613,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2875:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2875:84:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79623,"nodeType":"ExpressionStatement","src":"2875:84:129"},{"assignments":[79625],"declarations":[{"constant":false,"id":79625,"mutability":"mutable","name":"amountInWithFee","nameLocation":"2977:15:129","nodeType":"VariableDeclaration","scope":79650,"src":"2969:23:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79624,"name":"uint256","nodeType":"ElementaryTypeName","src":"2969:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79629,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79626,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79597,"src":"2995:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"393937","id":79627,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3006:3:129","typeDescriptions":{"typeIdentifier":"t_rational_997_by_1","typeString":"int_const 997"},"value":"997"},"src":"2995:14:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2969:40:129"},{"assignments":[79631],"declarations":[{"constant":false,"id":79631,"mutability":"mutable","name":"numerator","nameLocation":"3027:9:129","nodeType":"VariableDeclaration","scope":79650,"src":"3019:17:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79630,"name":"uint256","nodeType":"ElementaryTypeName","src":"3019:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79635,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79634,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79632,"name":"amountInWithFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79625,"src":"3039:15:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":79633,"name":"reserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79601,"src":"3057:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3039:28:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3019:48:129"},{"assignments":[79637],"declarations":[{"constant":false,"id":79637,"mutability":"mutable","name":"denominator","nameLocation":"3085:11:129","nodeType":"VariableDeclaration","scope":79650,"src":"3077:19:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79636,"name":"uint256","nodeType":"ElementaryTypeName","src":"3077:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79643,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79642,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79638,"name":"reserveIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79599,"src":"3099:9:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"31303030","id":79639,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3111:4:129","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"src":"3099:16:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":79641,"name":"amountInWithFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79625,"src":"3118:15:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3099:34:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3077:56:129"},{"expression":{"id":79648,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79644,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79604,"src":"3143:9:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79647,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79645,"name":"numerator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79631,"src":"3155:9:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":79646,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79637,"src":"3167:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3155:23:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3143:35:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":79649,"nodeType":"ExpressionStatement","src":"3143:35:129"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getAmountOut","nameLocation":"2647:12:129","parameters":{"id":79602,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79597,"mutability":"mutable","name":"amountIn","nameLocation":"2668:8:129","nodeType":"VariableDeclaration","scope":79651,"src":"2660:16:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79596,"name":"uint256","nodeType":"ElementaryTypeName","src":"2660:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79599,"mutability":"mutable","name":"reserveIn","nameLocation":"2686:9:129","nodeType":"VariableDeclaration","scope":79651,"src":"2678:17:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79598,"name":"uint256","nodeType":"ElementaryTypeName","src":"2678:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79601,"mutability":"mutable","name":"reserveOut","nameLocation":"2705:10:129","nodeType":"VariableDeclaration","scope":79651,"src":"2697:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79600,"name":"uint256","nodeType":"ElementaryTypeName","src":"2697:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2659:57:129"},"returnParameters":{"id":79605,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79604,"mutability":"mutable","name":"amountOut","nameLocation":"2772:9:129","nodeType":"VariableDeclaration","scope":79651,"src":"2764:17:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79603,"name":"uint256","nodeType":"ElementaryTypeName","src":"2764:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2763:19:129"},"scope":79652,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"UniswapV2LibraryErrata","contractDependencies":[],"contractKind":"library","documentation":{"id":79458,"nodeType":"StructuredDocumentation","src":"630:180:129","text":" @title UniswapV2LibraryErrata\\n @dev Methods from UniswapV2Library that we need. Re-implemented due to the original from @uniswap failing to compile w. Solidity >=0.8.0"},"fullyImplemented":true,"linearizedBaseContracts":[79652],"name":"UniswapV2LibraryErrata","nameLocation":"819:22:129","scope":80028,"usedErrors":[]},{"id":80027,"nodeType":"ContractDefinition","src":"3189:3583:129","nodes":[{"id":79659,"nodeType":"UsingForDirective","src":"3252:33:129","nodes":[],"libraryName":{"id":79657,"name":"TokenTransfers","nodeType":"IdentifierPath","referencedDeclaration":68527,"src":"3258:14:129"},"typeName":{"id":79658,"name":"address","nodeType":"ElementaryTypeName","src":"3277:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}},{"id":79663,"nodeType":"VariableDeclaration","src":"3291:39:129","nodes":[],"baseFunctions":[80343],"constant":false,"functionSelector":"5b193332","mutability":"mutable","name":"feeLimit","nameLocation":"3315:8:129","overrides":{"id":79661,"nodeType":"OverrideSpecifier","overrides":[],"src":"3306:8:129"},"scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79660,"name":"uint256","nodeType":"ElementaryTypeName","src":"3291:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"34653137","id":79662,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3326:4:129","typeDescriptions":{"typeIdentifier":"t_rational_400000000000000000_by_1","typeString":"int_const 400000000000000000"},"value":"4e17"},"visibility":"public"},{"id":79666,"nodeType":"VariableDeclaration","src":"3336:39:129","nodes":[],"baseFunctions":[80348],"constant":false,"functionSelector":"afea09ac","mutability":"mutable","name":"aztecFeeClaimer","nameLocation":"3360:15:129","overrides":{"id":79665,"nodeType":"OverrideSpecifier","overrides":[],"src":"3351:8:129"},"scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79664,"name":"address","nodeType":"ElementaryTypeName","src":"3336:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":79668,"nodeType":"VariableDeclaration","src":"3381:30:129","nodes":[],"constant":false,"functionSelector":"2a113d6e","mutability":"mutable","name":"rollupProcessor","nameLocation":"3396:15:129","scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79667,"name":"address","nodeType":"ElementaryTypeName","src":"3381:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":79674,"nodeType":"VariableDeclaration","src":"3418:53:129","nodes":[],"baseFunctions":[80338],"constant":false,"functionSelector":"c746d1d0","mutability":"mutable","name":"convertConstant","nameLocation":"3442:15:129","overrides":{"id":79670,"nodeType":"OverrideSpecifier","overrides":[],"src":"3433:8:129"},"scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79669,"name":"uint256","nodeType":"ElementaryTypeName","src":"3418:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"commonType":{"typeIdentifier":"t_rational_3155360_by_1","typeString":"int_const 3155360"},"id":79673,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"313537373638","id":79671,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3460:6:129","typeDescriptions":{"typeIdentifier":"t_rational_157768_by_1","typeString":"int_const 157768"},"value":"157768"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3230","id":79672,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3469:2:129","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"3460:11:129","typeDescriptions":{"typeIdentifier":"t_rational_3155360_by_1","typeString":"int_const 3155360"}},"visibility":"public"},{"id":79677,"nodeType":"VariableDeclaration","src":"3512:40:129","nodes":[],"baseFunctions":[80353],"constant":false,"functionSelector":"f887ea40","mutability":"immutable","name":"router","nameLocation":"3546:6:129","overrides":{"id":79676,"nodeType":"OverrideSpecifier","overrides":[],"src":"3537:8:129"},"scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79675,"name":"address","nodeType":"ElementaryTypeName","src":"3512:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":79680,"nodeType":"VariableDeclaration","src":"3558:41:129","nodes":[],"baseFunctions":[80358],"constant":false,"functionSelector":"c45a0155","mutability":"immutable","name":"factory","nameLocation":"3592:7:129","overrides":{"id":79679,"nodeType":"OverrideSpecifier","overrides":[],"src":"3583:8:129"},"scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79678,"name":"address","nodeType":"ElementaryTypeName","src":"3558:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":79683,"nodeType":"VariableDeclaration","src":"3605:38:129","nodes":[],"baseFunctions":[80363],"constant":false,"functionSelector":"ad5c4648","mutability":"immutable","name":"WETH","nameLocation":"3639:4:129","overrides":{"id":79682,"nodeType":"OverrideSpecifier","overrides":[],"src":"3630:8:129"},"scope":80027,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79681,"name":"address","nodeType":"ElementaryTypeName","src":"3605:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":79721,"nodeType":"FunctionDefinition","src":"3650:300:129","nodes":[],"body":{"id":79720,"nodeType":"Block","src":"3726:224:129","nodes":[],"statements":[{"expression":{"id":79694,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79692,"name":"aztecFeeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79666,"src":"3736:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":79693,"name":"_feeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79685,"src":"3754:11:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3736:29:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79695,"nodeType":"ExpressionStatement","src":"3736:29:129"},{"expression":{"id":79698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79696,"name":"rollupProcessor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79668,"src":"3775:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":79697,"name":"_rollupProcessor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79687,"src":"3793:16:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3775:34:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79699,"nodeType":"ExpressionStatement","src":"3775:34:129"},{"expression":{"id":79702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79700,"name":"router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79677,"src":"3819:6:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":79701,"name":"_router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79689,"src":"3828:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3819:16:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79703,"nodeType":"ExpressionStatement","src":"3819:16:129"},{"expression":{"id":79710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79704,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79680,"src":"3845:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":79706,"name":"_router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79689,"src":"3874:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":79705,"name":"IUniswapV2Router02","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67612,"src":"3855:18:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IUniswapV2Router02_$67612_$","typeString":"type(contract IUniswapV2Router02)"}},"id":79707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3855:27:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IUniswapV2Router02_$67612","typeString":"contract IUniswapV2Router02"}},"id":79708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"factory","nodeType":"MemberAccess","referencedDeclaration":67223,"src":"3855:35:129","typeDescriptions":{"typeIdentifier":"t_function_external_pure$__$returns$_t_address_$","typeString":"function () pure external returns (address)"}},"id":79709,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3855:37:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3845:47:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79711,"nodeType":"ExpressionStatement","src":"3845:47:129"},{"expression":{"id":79718,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79712,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"3902:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":79714,"name":"_router","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79689,"src":"3928:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":79713,"name":"IUniswapV2Router02","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67612,"src":"3909:18:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IUniswapV2Router02_$67612_$","typeString":"type(contract IUniswapV2Router02)"}},"id":79715,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3909:27:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IUniswapV2Router02_$67612","typeString":"contract IUniswapV2Router02"}},"id":79716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"WETH","nodeType":"MemberAccess","referencedDeclaration":67228,"src":"3909:32:129","typeDescriptions":{"typeIdentifier":"t_function_external_pure$__$returns$_t_address_$","typeString":"function () pure external returns (address)"}},"id":79717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3909:34:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3902:41:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79719,"nodeType":"ExpressionStatement","src":"3902:41:129"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":79690,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79685,"mutability":"mutable","name":"_feeClaimer","nameLocation":"3670:11:129","nodeType":"VariableDeclaration","scope":79721,"src":"3662:19:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79684,"name":"address","nodeType":"ElementaryTypeName","src":"3662:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79687,"mutability":"mutable","name":"_rollupProcessor","nameLocation":"3691:16:129","nodeType":"VariableDeclaration","scope":79721,"src":"3683:24:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79686,"name":"address","nodeType":"ElementaryTypeName","src":"3683:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79689,"mutability":"mutable","name":"_router","nameLocation":"3717:7:129","nodeType":"VariableDeclaration","scope":79721,"src":"3709:15:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79688,"name":"address","nodeType":"ElementaryTypeName","src":"3709:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3661:64:129"},"returnParameters":{"id":79691,"nodeType":"ParameterList","parameters":[],"src":"3726:0:129"},"scope":80027,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":79772,"nodeType":"FunctionDefinition","src":"4010:459:129","nodes":[],"body":{"id":79771,"nodeType":"Block","src":"4037:432:129","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":79724,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4051:3:129","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":79725,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"4051:10:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":79726,"name":"rollupProcessor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79668,"src":"4065:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4051:29:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":79770,"nodeType":"IfStatement","src":"4047:416:129","trueBody":{"id":79769,"nodeType":"Block","src":"4082:381:129","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":79728,"name":"aztecFeeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79666,"src":"4100:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79729,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","src":"4100:23:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":79730,"name":"feeLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79663,"src":"4126:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4100:34:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":79768,"nodeType":"IfStatement","src":"4096:357:129","trueBody":{"id":79767,"nodeType":"Block","src":"4136:317:129","statements":[{"assignments":[79733],"declarations":[{"constant":false,"id":79733,"mutability":"mutable","name":"toSend","nameLocation":"4162:6:129","nodeType":"VariableDeclaration","scope":79767,"src":"4154:14:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79732,"name":"uint256","nodeType":"ElementaryTypeName","src":"4154:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79748,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79740,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":79736,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4179:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}],"id":79735,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4171:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79734,"name":"address","nodeType":"ElementaryTypeName","src":"4171:7:129","typeDescriptions":{}}},"id":79737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4171:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","src":"4171:21:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":79739,"name":"feeLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79663,"src":"4195:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4171:32:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"arguments":[{"id":79744,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"4225:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}],"id":79743,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4217:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79742,"name":"address","nodeType":"ElementaryTypeName","src":"4217:7:129","typeDescriptions":{}}},"id":79745,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4217:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","src":"4217:21:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":79747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4171:67:129","trueExpression":{"id":79741,"name":"feeLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79663,"src":"4206:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4154:84:129"},{"assignments":[79750,null],"declarations":[{"constant":false,"id":79750,"mutability":"mutable","name":"success","nameLocation":"4262:7:129","nodeType":"VariableDeclaration","scope":79767,"src":"4257:12:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":79749,"name":"bool","nodeType":"ElementaryTypeName","src":"4257:4:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":79758,"initialValue":{"arguments":[{"hexValue":"","id":79756,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4321:2:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"expression":{"id":79751,"name":"aztecFeeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79666,"src":"4274:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"call","nodeType":"MemberAccess","src":"4274:20:129","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":79755,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"names":["gas","value"],"nodeType":"FunctionCallOptions","options":[{"hexValue":"33303030","id":79753,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4300:4:129","typeDescriptions":{"typeIdentifier":"t_rational_3000_by_1","typeString":"int_const 3000"},"value":"3000"},{"id":79754,"name":"toSend","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79733,"src":"4313:6:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"src":"4274:46:129","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$gasvalue","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":79757,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4274:50:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"4256:68:129"},{"condition":{"id":79759,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79750,"src":"4346:7:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":79766,"nodeType":"IfStatement","src":"4342:97:129","trueBody":{"id":79765,"nodeType":"Block","src":"4355:84:129","statements":[{"eventCall":{"arguments":[{"id":79761,"name":"aztecFeeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79666,"src":"4396:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79762,"name":"toSend","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79733,"src":"4413:6:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":79760,"name":"FeeReimbursed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80325,"src":"4382:13:129","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":79763,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4382:38:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79764,"nodeType":"EmitStatement","src":"4377:43:129"}]}}]}}]}}]},"implemented":true,"kind":"receive","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":79722,"nodeType":"ParameterList","parameters":[],"src":"4017:2:129"},"returnParameters":{"id":79723,"nodeType":"ParameterList","parameters":[],"src":"4037:0:129"},"scope":80027,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":79785,"nodeType":"FunctionDefinition","src":"4475:105:129","nodes":[],"body":{"id":79784,"nodeType":"Block","src":"4543:37:129","nodes":[],"statements":[{"expression":{"id":79782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79780,"name":"feeLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79663,"src":"4553:8:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":79781,"name":"_feeLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79774,"src":"4564:9:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4553:20:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":79783,"nodeType":"ExpressionStatement","src":"4553:20:129"}]},"baseFunctions":[80373],"functionSelector":"d3a859d3","implemented":true,"kind":"function","modifiers":[{"id":79778,"kind":"modifierInvocation","modifierName":{"id":79777,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":61026,"src":"4533:9:129"},"nodeType":"ModifierInvocation","src":"4533:9:129"}],"name":"setFeeLimit","nameLocation":"4484:11:129","overrides":{"id":79776,"nodeType":"OverrideSpecifier","overrides":[],"src":"4524:8:129"},"parameters":{"id":79775,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79774,"mutability":"mutable","name":"_feeLimit","nameLocation":"4504:9:129","nodeType":"VariableDeclaration","scope":79785,"src":"4496:17:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79773,"name":"uint256","nodeType":"ElementaryTypeName","src":"4496:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4495:19:129"},"returnParameters":{"id":79779,"nodeType":"ParameterList","parameters":[],"src":"4543:0:129"},"scope":80027,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":79798,"nodeType":"FunctionDefinition","src":"4586:133:129","nodes":[],"body":{"id":79797,"nodeType":"Block","src":"4668:51:129","nodes":[],"statements":[{"expression":{"id":79795,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79793,"name":"convertConstant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79674,"src":"4678:15:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":79794,"name":"_convertConstant","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79787,"src":"4696:16:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4678:34:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":79796,"nodeType":"ExpressionStatement","src":"4678:34:129"}]},"baseFunctions":[80378],"functionSelector":"86a88da2","implemented":true,"kind":"function","modifiers":[{"id":79791,"kind":"modifierInvocation","modifierName":{"id":79790,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":61026,"src":"4658:9:129"},"nodeType":"ModifierInvocation","src":"4658:9:129"}],"name":"setConvertConstant","nameLocation":"4595:18:129","overrides":{"id":79789,"nodeType":"OverrideSpecifier","overrides":[],"src":"4649:8:129"},"parameters":{"id":79788,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79787,"mutability":"mutable","name":"_convertConstant","nameLocation":"4622:16:129","nodeType":"VariableDeclaration","scope":79798,"src":"4614:24:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79786,"name":"uint256","nodeType":"ElementaryTypeName","src":"4614:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4613:26:129"},"returnParameters":{"id":79792,"nodeType":"ParameterList","parameters":[],"src":"4668:0:129"},"scope":80027,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":79811,"nodeType":"FunctionDefinition","src":"4725:118:129","nodes":[],"body":{"id":79810,"nodeType":"Block","src":"4797:46:129","nodes":[],"statements":[{"expression":{"id":79808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79806,"name":"aztecFeeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79666,"src":"4807:15:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":79807,"name":"_feeClaimer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79800,"src":"4825:11:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4807:29:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79809,"nodeType":"ExpressionStatement","src":"4807:29:129"}]},"baseFunctions":[80368],"functionSelector":"c3accd48","implemented":true,"kind":"function","modifiers":[{"id":79804,"kind":"modifierInvocation","modifierName":{"id":79803,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":61026,"src":"4787:9:129"},"nodeType":"ModifierInvocation","src":"4787:9:129"}],"name":"setFeeClaimer","nameLocation":"4734:13:129","overrides":{"id":79802,"nodeType":"OverrideSpecifier","overrides":[],"src":"4778:8:129"},"parameters":{"id":79801,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79800,"mutability":"mutable","name":"_feeClaimer","nameLocation":"4756:11:129","nodeType":"VariableDeclaration","scope":79811,"src":"4748:19:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79799,"name":"address","nodeType":"ElementaryTypeName","src":"4748:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4747:21:129"},"returnParameters":{"id":79805,"nodeType":"ParameterList","parameters":[],"src":"4797:0:129"},"scope":80027,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":79845,"nodeType":"FunctionDefinition","src":"4849:267:129","nodes":[],"body":{"id":79844,"nodeType":"Block","src":"4932:184:129","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79824,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79819,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79813,"src":"4946:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":79822,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4970:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":79821,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4962:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79820,"name":"address","nodeType":"ElementaryTypeName","src":"4962:7:129","typeDescriptions":{}}},"id":79823,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4962:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4946:26:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":79842,"nodeType":"Block","src":"5033:77:129","statements":[{"expression":{"arguments":[{"arguments":[{"id":79838,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5093:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}],"id":79837,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5085:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79836,"name":"address","nodeType":"ElementaryTypeName","src":"5085:7:129","typeDescriptions":{}}},"id":79839,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5085:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":79833,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79813,"src":"5061:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":79832,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62651,"src":"5054:6:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$62651_$","typeString":"type(contract IERC20)"}},"id":79834,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5054:20:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$62651","typeString":"contract IERC20"}},"id":79835,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":62608,"src":"5054:30:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":79840,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5054:45:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":79818,"id":79841,"nodeType":"Return","src":"5047:52:129"}]},"id":79843,"nodeType":"IfStatement","src":"4942:168:129","trueBody":{"id":79831,"nodeType":"Block","src":"4974:53:129","statements":[{"expression":{"expression":{"arguments":[{"id":79827,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5003:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}],"id":79826,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4995:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79825,"name":"address","nodeType":"ElementaryTypeName","src":"4995:7:129","typeDescriptions":{}}},"id":79828,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4995:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79829,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balance","nodeType":"MemberAccess","src":"4995:21:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":79818,"id":79830,"nodeType":"Return","src":"4988:28:129"}]}}]},"baseFunctions":[80385],"functionSelector":"5e163716","implemented":true,"kind":"function","modifiers":[],"name":"txFeeBalance","nameLocation":"4858:12:129","overrides":{"id":79815,"nodeType":"OverrideSpecifier","overrides":[],"src":"4905:8:129"},"parameters":{"id":79814,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79813,"mutability":"mutable","name":"assetAddress","nameLocation":"4879:12:129","nodeType":"VariableDeclaration","scope":79845,"src":"4871:20:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79812,"name":"address","nodeType":"ElementaryTypeName","src":"4871:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4870:22:129"},"returnParameters":{"id":79818,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79817,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":79845,"src":"4923:7:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79816,"name":"uint256","nodeType":"ElementaryTypeName","src":"4923:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4922:9:129"},"scope":80027,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":79926,"nodeType":"FunctionDefinition","src":"5122:795:129","nodes":[],"body":{"id":79925,"nodeType":"Block","src":"5277:640:129","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79858,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79847,"src":"5295:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":79861,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5319:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":79860,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5311:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79859,"name":"address","nodeType":"ElementaryTypeName","src":"5311:7:129","typeDescriptions":{}}},"id":79862,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5311:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5295:26:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"466565204469737472696275746f723a204e4f545f415f544f4b454e5f4153534554","id":79864,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5323:36:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_15ea1feed9a45669f2bbc28f471e0b968359940b705f7efe12cc59a268bbad53","typeString":"literal_string \\"Fee Distributor: NOT_A_TOKEN_ASSET\\""},"value":"Fee Distributor: NOT_A_TOKEN_ASSET"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_15ea1feed9a45669f2bbc28f471e0b968359940b705f7efe12cc59a268bbad53","typeString":"literal_string \\"Fee Distributor: NOT_A_TOKEN_ASSET\\""}],"id":79857,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5287:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79865,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5287:73:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79866,"nodeType":"ExpressionStatement","src":"5287:73:129"},{"assignments":[79868],"declarations":[{"constant":false,"id":79868,"mutability":"mutable","name":"inputValue","nameLocation":"5379:10:129","nodeType":"VariableDeclaration","scope":79925,"src":"5371:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79867,"name":"uint256","nodeType":"ElementaryTypeName","src":"5371:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79878,"initialValue":{"arguments":[{"arguments":[{"id":79875,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"5431:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}],"id":79874,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5423:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":79873,"name":"address","nodeType":"ElementaryTypeName","src":"5423:7:129","typeDescriptions":{}}},"id":79876,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5423:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":79870,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79847,"src":"5399:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":79869,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62651,"src":"5392:6:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$62651_$","typeString":"type(contract IERC20)"}},"id":79871,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5392:20:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$62651","typeString":"contract IERC20"}},"id":79872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":62608,"src":"5392:30:129","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":79877,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5392:45:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"5371:66:129"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79882,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79880,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79868,"src":"5455:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":79881,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5468:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5455:14:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"466565204469737472696275746f723a20454d5054595f42414c414e4345","id":79883,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5471:32:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_13030b5dea1e59eea489867b0cb7ff8da5354a75570b3b4158a73d8cba1e0095","typeString":"literal_string \\"Fee Distributor: EMPTY_BALANCE\\""},"value":"Fee Distributor: EMPTY_BALANCE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_13030b5dea1e59eea489867b0cb7ff8da5354a75570b3b4158a73d8cba1e0095","typeString":"literal_string \\"Fee Distributor: EMPTY_BALANCE\\""}],"id":79879,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5447:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79884,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5447:57:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79885,"nodeType":"ExpressionStatement","src":"5447:57:129"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79888,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79886,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79847,"src":"5519:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":79887,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"5535:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5519:20:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":79917,"nodeType":"Block","src":"5604:245:129","statements":[{"expression":{"id":79902,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79897,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79855,"src":"5618:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":79899,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79847,"src":"5645:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79900,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79868,"src":"5659:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":79898,"name":"getAmountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79956,"src":"5632:12:129","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view returns (uint256)"}},"id":79901,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5632:38:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5618:52:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":79903,"nodeType":"ExpressionStatement","src":"5618:52:129"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":79907,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79905,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79855,"src":"5692:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":79906,"name":"minOutputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79849,"src":"5707:14:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5692:29:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"466565204469737472696275746f723a20494e53554646494349454e545f4f55545055545f414d4f554e54","id":79908,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5723:45:129","typeDescriptions":{"typeIdentifier":"t_stringliteral_5e203b7f605627e8097506205bd8170a041d5765f38d81649e03549c9f47f1f8","typeString":"literal_string \\"Fee Distributor: INSUFFICIENT_OUTPUT_AMOUNT\\""},"value":"Fee Distributor: INSUFFICIENT_OUTPUT_AMOUNT"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5e203b7f605627e8097506205bd8170a041d5765f38d81649e03549c9f47f1f8","typeString":"literal_string \\"Fee Distributor: INSUFFICIENT_OUTPUT_AMOUNT\\""}],"id":79904,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5684:7:129","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":79909,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5684:85:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79910,"nodeType":"ExpressionStatement","src":"5684:85:129"},{"expression":{"arguments":[{"id":79912,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79847,"src":"5800:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79913,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79868,"src":"5814:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79914,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79855,"src":"5826:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":79911,"name":"swapTokensForETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80026,"src":"5783:16:129","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":79915,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5783:55:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79916,"nodeType":"ExpressionStatement","src":"5783:55:129"}]},"id":79918,"nodeType":"IfStatement","src":"5515:334:129","trueBody":{"id":79896,"nodeType":"Block","src":"5541:57:129","statements":[{"expression":{"arguments":[{"id":79893,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79868,"src":"5576:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":79890,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"5561:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":79889,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67632,"src":"5555:5:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWETH_$67632_$","typeString":"type(contract IWETH)"}},"id":79891,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5555:11:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$67632","typeString":"contract IWETH"}},"id":79892,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"withdraw","nodeType":"MemberAccess","referencedDeclaration":67631,"src":"5555:20:129","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":79894,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5555:32:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79895,"nodeType":"ExpressionStatement","src":"5555:32:129"}]}},{"eventCall":{"arguments":[{"id":79920,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79847,"src":"5872:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79921,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79868,"src":"5886:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79922,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79855,"src":"5898:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":79919,"name":"Convert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80333,"src":"5864:7:129","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":79923,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5864:46:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79924,"nodeType":"EmitStatement","src":"5859:51:129"}]},"baseFunctions":[80394],"functionSelector":"67c6e39c","implemented":true,"kind":"function","modifiers":[{"id":79853,"kind":"modifierInvocation","modifierName":{"id":79852,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":61026,"src":"5225:9:129"},"nodeType":"ModifierInvocation","src":"5225:9:129"}],"name":"convert","nameLocation":"5131:7:129","overrides":{"id":79851,"nodeType":"OverrideSpecifier","overrides":[],"src":"5208:8:129"},"parameters":{"id":79850,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79847,"mutability":"mutable","name":"assetAddress","nameLocation":"5147:12:129","nodeType":"VariableDeclaration","scope":79926,"src":"5139:20:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79846,"name":"address","nodeType":"ElementaryTypeName","src":"5139:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79849,"mutability":"mutable","name":"minOutputValue","nameLocation":"5169:14:129","nodeType":"VariableDeclaration","scope":79926,"src":"5161:22:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79848,"name":"uint256","nodeType":"ElementaryTypeName","src":"5161:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5138:46:129"},"returnParameters":{"id":79856,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79855,"mutability":"mutable","name":"outputValue","nameLocation":"5260:11:129","nodeType":"VariableDeclaration","scope":79926,"src":"5252:19:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79854,"name":"uint256","nodeType":"ElementaryTypeName","src":"5252:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5251:21:129"},"scope":80027,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":79956,"nodeType":"FunctionDefinition","src":"5923:324:129","nodes":[],"body":{"id":79955,"nodeType":"Block","src":"6031:216:129","nodes":[],"statements":[{"assignments":[79936,79938],"declarations":[{"constant":false,"id":79936,"mutability":"mutable","name":"reserveIn","nameLocation":"6050:9:129","nodeType":"VariableDeclaration","scope":79955,"src":"6042:17:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79935,"name":"uint256","nodeType":"ElementaryTypeName","src":"6042:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79938,"mutability":"mutable","name":"reserveOut","nameLocation":"6069:10:129","nodeType":"VariableDeclaration","scope":79955,"src":"6061:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79937,"name":"uint256","nodeType":"ElementaryTypeName","src":"6061:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":79945,"initialValue":{"arguments":[{"id":79941,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79680,"src":"6118:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79942,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79928,"src":"6127:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79943,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"6141:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":79939,"name":"UniswapV2LibraryErrata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79652,"src":"6083:22:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UniswapV2LibraryErrata_$79652_$","typeString":"type(library UniswapV2LibraryErrata)"}},"id":79940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getReserves","nodeType":"MemberAccess","referencedDeclaration":79595,"src":"6083:34:129","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address,address,address) view returns (uint256,uint256)"}},"id":79944,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6083:63:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"6041:105:129"},{"expression":{"id":79953,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":79946,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79933,"src":"6156:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":79949,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79930,"src":"6206:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79950,"name":"reserveIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79936,"src":"6218:9:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79951,"name":"reserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79938,"src":"6229:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":79947,"name":"UniswapV2LibraryErrata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79652,"src":"6170:22:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UniswapV2LibraryErrata_$79652_$","typeString":"type(library UniswapV2LibraryErrata)"}},"id":79948,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getAmountOut","nodeType":"MemberAccess","referencedDeclaration":79651,"src":"6170:35:129","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":79952,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6170:70:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6156:84:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":79954,"nodeType":"ExpressionStatement","src":"6156:84:129"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getAmountOut","nameLocation":"5932:12:129","parameters":{"id":79931,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79928,"mutability":"mutable","name":"assetAddress","nameLocation":"5953:12:129","nodeType":"VariableDeclaration","scope":79956,"src":"5945:20:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79927,"name":"address","nodeType":"ElementaryTypeName","src":"5945:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79930,"mutability":"mutable","name":"inputValue","nameLocation":"5975:10:129","nodeType":"VariableDeclaration","scope":79956,"src":"5967:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79929,"name":"uint256","nodeType":"ElementaryTypeName","src":"5967:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5944:42:129"},"returnParameters":{"id":79934,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79933,"mutability":"mutable","name":"outputValue","nameLocation":"6018:11:129","nodeType":"VariableDeclaration","scope":79956,"src":"6010:19:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79932,"name":"uint256","nodeType":"ElementaryTypeName","src":"6010:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6009:21:129"},"scope":80027,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":80026,"nodeType":"FunctionDefinition","src":"6253:517:129","nodes":[],"body":{"id":80025,"nodeType":"Block","src":"6351:419:129","nodes":[],"statements":[{"assignments":[79966],"declarations":[{"constant":false,"id":79966,"mutability":"mutable","name":"pair","nameLocation":"6369:4:129","nodeType":"VariableDeclaration","scope":80025,"src":"6361:12:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79965,"name":"address","nodeType":"ElementaryTypeName","src":"6361:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":79973,"initialValue":{"arguments":[{"id":79969,"name":"factory","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79680,"src":"6407:7:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79970,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79958,"src":"6416:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79971,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"6430:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":79967,"name":"UniswapV2LibraryErrata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79652,"src":"6376:22:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UniswapV2LibraryErrata_$79652_$","typeString":"type(library UniswapV2LibraryErrata)"}},"id":79968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"pairFor","nodeType":"MemberAccess","referencedDeclaration":79545,"src":"6376:30:129","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_address_$_t_address_$returns$_t_address_$","typeString":"function (address,address,address) pure returns (address)"}},"id":79972,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6376:59:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6361:74:129"},{"expression":{"arguments":[{"id":79977,"name":"pair","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79966,"src":"6473:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":79978,"name":"inputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79960,"src":"6479:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":79974,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79958,"src":"6445:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":79976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferTo","nodeType":"MemberAccess","referencedDeclaration":68482,"src":"6445:27:129","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$bound_to$_t_address_$","typeString":"function (address,address,uint256)"}},"id":79979,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6445:45:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":79980,"nodeType":"ExpressionStatement","src":"6445:45:129"},{"assignments":[79982,79984],"declarations":[{"constant":false,"id":79982,"mutability":"mutable","name":"amountOut0","nameLocation":"6510:10:129","nodeType":"VariableDeclaration","scope":80025,"src":"6502:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79981,"name":"uint256","nodeType":"ElementaryTypeName","src":"6502:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79984,"mutability":"mutable","name":"amountOut1","nameLocation":"6530:10:129","nodeType":"VariableDeclaration","scope":80025,"src":"6522:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79983,"name":"uint256","nodeType":"ElementaryTypeName","src":"6522:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":80001,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":79987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":79985,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79958,"src":"6556:12:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":79986,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"6571:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6556:19:129","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"components":[{"id":79994,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79962,"src":"6607:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"hexValue":"30","id":79997,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6628:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":79996,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6620:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":79995,"name":"uint256","nodeType":"ElementaryTypeName","src":"6620:7:129","typeDescriptions":{}}},"id":79998,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6620:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":79999,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6606:25:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"id":80000,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6556:75:129","trueExpression":{"components":[{"arguments":[{"hexValue":"30","id":79990,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6587:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":79989,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6579:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":79988,"name":"uint256","nodeType":"ElementaryTypeName","src":"6579:7:129","typeDescriptions":{}}},"id":79991,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6579:10:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":79992,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79962,"src":"6591:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":79993,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"6578:25:129","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"6501:130:129"},{"expression":{"arguments":[{"id":80006,"name":"amountOut0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79982,"src":"6667:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80007,"name":"amountOut1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79984,"src":"6679:10:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"id":80010,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"6699:4:129","typeDescriptions":{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_AztecFeeDistributor_$80027","typeString":"contract AztecFeeDistributor"}],"id":80009,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"6691:7:129","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80008,"name":"address","nodeType":"ElementaryTypeName","src":"6691:7:129","typeDescriptions":{}}},"id":80011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6691:13:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"hexValue":"30","id":80014,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6716:1:129","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":80013,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"6706:9:129","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) pure returns (bytes memory)"},"typeName":{"id":80012,"name":"bytes","nodeType":"ElementaryTypeName","src":"6710:5:129","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"id":80015,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6706:12:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"arguments":[{"id":80003,"name":"pair","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79966,"src":"6656:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80002,"name":"IUniswapV2Pair","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67216,"src":"6641:14:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IUniswapV2Pair_$67216_$","typeString":"type(contract IUniswapV2Pair)"}},"id":80004,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6641:20:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IUniswapV2Pair_$67216","typeString":"contract IUniswapV2Pair"}},"id":80005,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"swap","nodeType":"MemberAccess","referencedDeclaration":67200,"src":"6641:25:129","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (uint256,uint256,address,bytes memory) external"}},"id":80016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6641:78:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80017,"nodeType":"ExpressionStatement","src":"6641:78:129"},{"expression":{"arguments":[{"id":80022,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79962,"src":"6751:11:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":80019,"name":"WETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":79683,"src":"6736:4:129","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80018,"name":"IWETH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67632,"src":"6730:5:129","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IWETH_$67632_$","typeString":"type(contract IWETH)"}},"id":80020,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6730:11:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IWETH_$67632","typeString":"contract IWETH"}},"id":80021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"withdraw","nodeType":"MemberAccess","referencedDeclaration":67631,"src":"6730:20:129","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256) external"}},"id":80023,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6730:33:129","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80024,"nodeType":"ExpressionStatement","src":"6730:33:129"}]},"implemented":true,"kind":"function","modifiers":[],"name":"swapTokensForETH","nameLocation":"6262:16:129","parameters":{"id":79963,"nodeType":"ParameterList","parameters":[{"constant":false,"id":79958,"mutability":"mutable","name":"assetAddress","nameLocation":"6287:12:129","nodeType":"VariableDeclaration","scope":80026,"src":"6279:20:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":79957,"name":"address","nodeType":"ElementaryTypeName","src":"6279:7:129","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":79960,"mutability":"mutable","name":"inputValue","nameLocation":"6309:10:129","nodeType":"VariableDeclaration","scope":80026,"src":"6301:18:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79959,"name":"uint256","nodeType":"ElementaryTypeName","src":"6301:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":79962,"mutability":"mutable","name":"outputValue","nameLocation":"6329:11:129","nodeType":"VariableDeclaration","scope":80026,"src":"6321:19:129","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":79961,"name":"uint256","nodeType":"ElementaryTypeName","src":"6321:7:129","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6278:63:129"},"returnParameters":{"id":79964,"nodeType":"ParameterList","parameters":[],"src":"6351:0:129"},"scope":80027,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":79653,"name":"IFeeDistributor","nodeType":"IdentifierPath","referencedDeclaration":80395,"src":"3221:15:129"},"id":79654,"nodeType":"InheritanceSpecifier","src":"3221:15:129"},{"baseName":{"id":79655,"name":"Ownable","nodeType":"IdentifierPath","referencedDeclaration":61107,"src":"3238:7:129"},"id":79656,"nodeType":"InheritanceSpecifier","src":"3238:7:129"}],"canonicalName":"AztecFeeDistributor","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[80027,61107,63345,80395],"name":"AztecFeeDistributor","nameLocation":"3198:19:129","scope":80028,"usedErrors":[]}],"license":"Apache-2.0"},"id":129}'),Jd=JSON.parse('{"abi":[{"inputs":[{"internalType":"uint256","name":"_escapeBlockLowerBound","type":"uint256"},{"internalType":"uint256","name":"_escapeBlockUpperBound","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ARRAY_OVERFLOW","type":"error"},{"inputs":[{"internalType":"uint256","name":"inputAssetId","type":"uint256"}],"name":"BRIDGE_WITH_IDENTICAL_INPUT_ASSETS","type":"error"},{"inputs":[{"internalType":"uint256","name":"outputAssetId","type":"uint256"}],"name":"BRIDGE_WITH_IDENTICAL_OUTPUT_ASSETS","type":"error"},{"inputs":[],"name":"DAILY_CAP_SURPASSED","type":"error"},{"inputs":[],"name":"DEPOSIT_TOKENS_WRONG_PAYMENT_TYPE","type":"error"},{"inputs":[],"name":"ENCODING_BYTE_INVALID","type":"error"},{"inputs":[],"name":"INCONSISTENT_BRIDGE_CALL_DATA","type":"error"},{"inputs":[{"internalType":"uint256","name":"providedIndex","type":"uint256"},{"internalType":"uint256","name":"expectedIndex","type":"uint256"}],"name":"INCORRECT_DATA_START_INDEX","type":"error"},{"inputs":[{"internalType":"bytes32","name":"providedDefiInteractionHash","type":"bytes32"},{"internalType":"bytes32","name":"expectedDefiInteractionHash","type":"bytes32"}],"name":"INCORRECT_PREVIOUS_DEFI_INTERACTION_HASH","type":"error"},{"inputs":[{"internalType":"bytes32","name":"oldStateHash","type":"bytes32"},{"internalType":"bytes32","name":"newStateHash","type":"bytes32"}],"name":"INCORRECT_STATE_HASH","type":"error"},{"inputs":[],"name":"INSUFFICIENT_DEPOSIT","type":"error"},{"inputs":[],"name":"INSUFFICIENT_ETH_PAYMENT","type":"error"},{"inputs":[],"name":"INSUFFICIENT_TOKEN_APPROVAL","type":"error"},{"inputs":[],"name":"INVALID_ADDRESS_NO_CODE","type":"error"},{"inputs":[],"name":"INVALID_ASSET_ADDRESS","type":"error"},{"inputs":[],"name":"INVALID_ASSET_GAS","type":"error"},{"inputs":[],"name":"INVALID_ASSET_ID","type":"error"},{"inputs":[],"name":"INVALID_BRIDGE_ADDRESS","type":"error"},{"inputs":[],"name":"INVALID_BRIDGE_CALL_DATA","type":"error"},{"inputs":[],"name":"INVALID_BRIDGE_GAS","type":"error"},{"inputs":[],"name":"INVALID_ESCAPE_BOUNDS","type":"error"},{"inputs":[],"name":"INVALID_PROVIDER","type":"error"},{"inputs":[],"name":"INVALID_ROLLUP_TOPOLOGY","type":"error"},{"inputs":[],"name":"INVALID_SIGNATURE","type":"error"},{"inputs":[],"name":"LOCKED_NO_REENTER","type":"error"},{"inputs":[],"name":"MSG_VALUE_WRONG_AMOUNT","type":"error"},{"inputs":[{"internalType":"uint256","name":"outputValue","type":"uint256"}],"name":"NONZERO_OUTPUT_VALUE_ON_NOT_USED_ASSET","type":"error"},{"inputs":[],"name":"NOT_PAUSED","type":"error"},{"inputs":[],"name":"PAUSED","type":"error"},{"inputs":[],"name":"PENDING_CAP_SURPASSED","type":"error"},{"inputs":[],"name":"PROOF_VERIFICATION_FAILED","type":"error"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"PUBLIC_INPUTS_HASH_VERIFICATION_FAILED","type":"error"},{"inputs":[],"name":"SAFE_CAST_OVERFLOW","type":"error"},{"inputs":[],"name":"SIGNATURE_ADDRESS_IS_ZERO","type":"error"},{"inputs":[],"name":"SIGNATURE_RECOVERY_FAILED","type":"error"},{"inputs":[],"name":"THIRD_PARTY_CONTRACTS_FLAG_NOT_SET","type":"error"},{"inputs":[],"name":"WITHDRAW_TO_ZERO_ADDRESS","type":"error"},{"inputs":[],"name":"ZERO_TOTAL_INPUT_VALUE","type":"error"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"allowed","type":"bool"}],"name":"AllowThirdPartyContractsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"assetId","type":"uint256"},{"indexed":true,"internalType":"address","name":"assetAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"assetGasLimit","type":"uint256"}],"name":"AssetAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"assetId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"pendingCap","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"dailyCap","type":"uint256"}],"name":"AssetCapUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"encodedBridgeCallData","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalInputValue","type":"uint256"}],"name":"AsyncDefiBridgeProcessed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"bridgeAddressId","type":"uint256"},{"indexed":true,"internalType":"address","name":"bridgeAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"bridgeGasLimit","type":"uint256"}],"name":"BridgeAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"isCapped","type":"bool"}],"name":"CappedUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"encodedBridgeCallData","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"nonce","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalInputValue","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalOutputValueA","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalOutputValueB","type":"uint256"},{"indexed":false,"internalType":"bool","name":"result","type":"bool"},{"indexed":false,"internalType":"bytes","name":"errorReason","type":"bytes"}],"name":"DefiBridgeProcessed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"defiBridgeProxy","type":"address"}],"name":"DefiBridgeProxyUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint32","name":"delay","type":"uint32"}],"name":"DelayBeforeEscapeHatchUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"assetId","type":"uint256"},{"indexed":true,"internalType":"address","name":"depositorAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"depositValue","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"rollupId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"chunk","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"totalChunks","type":"uint256"},{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"OffchainData","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"rollupId","type":"uint256"},{"indexed":false,"internalType":"bytes32[]","name":"nextExpectedDefiHashes","type":"bytes32[]"},{"indexed":false,"internalType":"address","name":"sender","type":"address"}],"name":"RollupProcessed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"providerAddress","type":"address"},{"indexed":false,"internalType":"bool","name":"valid","type":"bool"}],"name":"RollupProviderUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"verifierAddress","type":"address"}],"name":"VerifierUpdated","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"EMERGENCY_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LISTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"OWNER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"RESUME_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"allowThirdPartyContracts","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_proofHash","type":"bytes32"}],"name":"approveProof","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"assetGasLimits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"asyncDefiInteractionHashes","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"bridgeGasLimits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"caps","outputs":[{"internalType":"uint128","name":"available","type":"uint128"},{"internalType":"uint32","name":"lastUpdatedTimestamp","type":"uint32"},{"internalType":"uint32","name":"pendingCap","type":"uint32"},{"internalType":"uint32","name":"dailyCap","type":"uint32"},{"internalType":"uint8","name":"precision","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"defiBridgeProxy","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"defiInteractionHashes","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"delayBeforeEscapeHatch","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"bytes32","name":"_proofHash","type":"bytes32"}],"name":"depositPendingFunds","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"depositProofApprovals","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"escapeBlockLowerBound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"escapeBlockUpperBound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"ethPayments","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAsyncDefiInteractionHashesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCapped","outputs":[{"internalType":"bool","name":"capped","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDataSize","outputs":[{"internalType":"uint256","name":"dataSize","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getDefiInteractionHashesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEscapeHatchStatus","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getImplementationVersion","outputs":[{"internalType":"uint8","name":"version","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPendingDefiInteractionHashesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"}],"name":"getSupportedAsset","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSupportedAssetsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_bridgeAddressId","type":"uint256"}],"name":"getSupportedBridge","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSupportedBridgesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lastRollupTimeStamp","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_rollupId","type":"uint256"},{"internalType":"uint256","name":"_chunk","type":"uint256"},{"internalType":"uint256","name":"_totalChunks","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"name":"offchainData","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"isPaused","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"pendingDefiInteractions","outputs":[{"internalType":"uint256","name":"encodedBridgeCallData","type":"uint256"},{"internalType":"uint256","name":"totalInputValue","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"prevDefiInteractionsHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_interactionNonce","type":"uint256"}],"name":"processAsyncDefiInteraction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"_signatures","type":"bytes"}],"name":"processRollup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_interactionNonce","type":"uint256"}],"name":"receiveEthFromBridge","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rollupProviders","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rollupStateHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_allowThirdPartyContracts","type":"bool"}],"name":"setAllowThirdPartyContracts","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint32","name":"_pendingCap","type":"uint32"},{"internalType":"uint32","name":"_dailyCap","type":"uint32"},{"internalType":"uint8","name":"_precision","type":"uint8"}],"name":"setAssetCap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_isCapped","type":"bool"}],"name":"setCapped","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_defiBridgeProxy","type":"address"}],"name":"setDefiBridgeProxy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint32","name":"_delay","type":"uint32"}],"name":"setDelayBeforeEscapeHatch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_provider","type":"address"},{"internalType":"bool","name":"_valid","type":"bool"}],"name":"setRollupProvider","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_gasLimit","type":"uint256"}],"name":"setSupportedAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_bridge","type":"address"},{"internalType":"uint256","name":"_gasLimit","type":"uint256"}],"name":"setSupportedBridge","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_verifier","type":"address"}],"name":"setVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"userPendingDeposits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"verifier","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"bytecode":{"object":"0x60c06040523480156200001157600080fd5b506040516200610e3803806200610e83398101604081905262000034916200014f565b811580620000425750808210155b15620000615760405163b37657e760e01b815260040160405180910390fd5b6200006b6200008d565b6002805460ff60e81b1916600160e81b17905560809190915260a05262000174565b600054610100900460ff1615620000fa5760405162461bcd60e51b815260206004820152602760248201527f496e697469616c697a61626c653a20636f6e747261637420697320696e697469604482015266616c697a696e6760c81b606482015260840160405180910390fd5b60005460ff90811610156200014d576000805460ff191660ff9081179091556040519081527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a15b565b600080604083850312156200016357600080fd5b505080516020909101519092909150565b60805160a051615f4a620001c460003960008181610b7801528181612acf01528181612b2e01528181612b590152612b8901526000818161098201528181612aab0152612bb40152615f4a6000f3fe6080604052600436106103975760003560e01c80638666c0a9116101dc578063c37c656d11610102578063dcefed85116100a0578063e58378bb1161006f578063e58378bb14610c72578063f21c69bb14610ca6578063f81cccbe14610cd3578063fb0ce18514610cf357600080fd5b8063dcefed8514610bd1578063deb26b9414610bfe578063e0d16c3214610c32578063e393635514610c5257600080fd5b8063cd12bf62116100dc578063cd12bf6214610b19578063d547741f14610b46578063d8ba363714610b66578063db1533aa14610b9a57600080fd5b8063c37c656d14610a21578063c4a7a35f14610ad4578063caa3455314610af957600080fd5b8063a2b096e41161017a578063b3a07b9811610149578063b3a07b98146109a4578063bc327e40146109c4578063be71f8a4146109e0578063c0fd22b714610a0c57600080fd5b8063a2b096e41461090e578063a33dc5e71461092e578063a8d1eae71461095b578063b045009c1461097057600080fd5b806391dfe78f116101b657806391dfe78f14610899578063999e3614146108b95780639b60ae2b146108da578063a217fddf146108f957600080fd5b80638666c0a9146107ea5780638afceb391461080a57806391d148541461085357600080fd5b806336ce0a92116102c1578063781e04321161025f5780637ff48afb1161022e5780637ff48afb1461078d5780638129fc1c146107a05780638188f468146107b55780638456cb59146107d557600080fd5b8063781e0432146106fa5780637ba3e7ae146107355780637baf71181461074b5780637d036b271461076b57600080fd5b80635ad1def31161029b5780635ad1def31461066b5780635c975abb1461069b57806360a8b18a146106ba5780636a0214a9146106da57600080fd5b806336ce0a92146105fe5780633f4ba83a146106365780635437988d1461064b57600080fd5b806320825443116103395780632b7ac3f3116103085780632b7ac3f31461056c5780632de03aa11461058a5780632f2ff15d146105be57806336568abe146105de57600080fd5b806320825443146104b557806320a23dd3146104d557806320df435914610507578063248a9ca31461053b57600080fd5b80630ceee68c116103755780630ceee68c146104215780630d698f6f1461045957806312a536231461047b5780631ab9c6031461049f57600080fd5b806301ffc9a71461039c57806302f6ccd4146103d157806303561119146103f4575b600080fd5b3480156103a857600080fd5b506103bc6103b736600461575f565b610d13565b60405190151581526020015b60405180910390f35b3480156103dd57600080fd5b506103e6610dac565b6040519081526020016103c8565b34801561040057600080fd5b506103e661040f3660046157a1565b600e6020526000908152604090205481565b34801561042d57600080fd5b50600a54610441906001600160a01b031681565b6040516001600160a01b0390911681526020016103c8565b34801561046557600080fd5b506104796104743660046157c8565b610df0565b005b6104796104893660046157a1565b6000908152600d60205260409020805434019055565b3480156104ab57600080fd5b506103e660095481565b3480156104c157600080fd5b506104796104d036600461582e565b610f39565b3480156104e157600080fd5b506011546104f29063ffffffff1681565b60405163ffffffff90911681526020016103c8565b34801561051357600080fd5b506103e67fbf233dd2aafeb4d50879c4aa5c81e96d92f6e6945c906a58f9f2d1c1631b4b2681565b34801561054757600080fd5b506103e66105563660046157a1565b6000908152600160208190526040909120015490565b34801561057857600080fd5b506002546001600160a01b0316610441565b34801561059657600080fd5b506103e67f2fc10cc8ae19568712f7a176fb4978616a610650813c9d05326c34abb62749c781565b3480156105ca57600080fd5b506104796105d93660046158a6565b610fad565b3480156105ea57600080fd5b506104796105f93660046158a6565b610fd8565b34801561060a57600080fd5b506103e66106193660046158a6565b600760209081526000928352604080842090915290825290205481565b34801561064257600080fd5b50610479611069565b34801561065757600080fd5b506104796106663660046158d2565b611186565b34801561067757600080fd5b506103bc6106863660046158d2565b600b6020526000908152604090205460ff1681565b3480156106a757600080fd5b50600254600160e81b900460ff166103bc565b3480156106c657600080fd5b506104416106d53660046157a1565b611297565b3480156106e657600080fd5b506104796106f5366004615901565b611343565b34801561070657600080fd5b506103bc61071536600461591c565b600860209081526000928352604080842090915290825290205460ff1681565b34801561074157600080fd5b506103e660105481565b34801561075757600080fd5b50600254600160c01b900461ffff166103e6565b34801561077757600080fd5b50600254600160a01b900463ffffffff166103e6565b61047961079b366004615946565b61142b565b3480156107ac57600080fd5b50610479611693565b3480156107c157600080fd5b506103bc6107d03660046157a1565b611ae9565b3480156107e157600080fd5b5061047961238f565b3480156107f657600080fd5b5061047961080536600461591c565b61249a565b34801561081657600080fd5b5061083e6108253660046157a1565b600c602052600090815260409020805460019091015482565b604080519283526020830191909152016103c8565b34801561085f57600080fd5b506103bc61086e3660046158a6565b60009182526001602090815260408084206001600160a01b0393909316845291905290205460ff1690565b3480156108a557600080fd5b506104796108b4366004615983565b6126c4565b3480156108c557600080fd5b50600a546103bc90600160a01b900460ff1681565b3480156108e657600080fd5b50600254600160f01b900460ff166103bc565b34801561090557600080fd5b506103e6600081565b34801561091a57600080fd5b506104796109293660046157c8565b6127ad565b34801561093a57600080fd5b506103e66109493660046157a1565b60066020526000908152604090205481565b34801561096757600080fd5b506004546103e6565b34801561097c57600080fd5b506103e67f000000000000000000000000000000000000000000000000000000000000000081565b3480156109b057600080fd5b506104796109bf3660046159ba565b612891565b3480156109d057600080fd5b50604051600281526020016103c8565b3480156109ec57600080fd5b506109f5612aa4565b6040805192151583526020830191909152016103c8565b348015610a1857600080fd5b506003546103e6565b348015610a2d57600080fd5b50610a93610a3c3660046157a1565b6012602052600090815260409020546001600160801b0381169063ffffffff7001000000000000000000000000000000008204811691600160a01b8104821691600160c01b8204169060ff600160e01b9091041685565b604080516001600160801b03909616865263ffffffff94851660208701529284169285019290925291909116606083015260ff16608082015260a0016103c8565b348015610ae057600080fd5b506011546104f290640100000000900463ffffffff1681565b348015610b0557600080fd5b50610479610b143660046158d2565b612be5565b348015610b2557600080fd5b506103e6610b343660046157a1565b60056020526000908152604090205481565b348015610b5257600080fd5b50610479610b613660046158a6565b612ce3565b348015610b7257600080fd5b506103e67f000000000000000000000000000000000000000000000000000000000000000081565b348015610ba657600080fd5b506002547a010000000000000000000000000000000000000000000000000000900461ffff166103e6565b348015610bdd57600080fd5b506103e6610bec3660046157a1565b600d6020526000908152604090205481565b348015610c0a57600080fd5b506103e67ff94103142c1baabe9ac2b5d1487bf783de9e69cfeea9a72f5c9c94afd7877b8c81565b348015610c3e57600080fd5b50610441610c4d3660046157a1565b612d09565b348015610c5e57600080fd5b50610479610c6d3660046157a1565b612d43565b348015610c7e57600080fd5b506103e67fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e81565b348015610cb257600080fd5b506103e6610cc13660046157a1565b600f6020526000908152604090205481565b348015610cdf57600080fd5b50610479610cee366004615a0f565b612d8e565b348015610cff57600080fd5b50610479610d0e36600461591c565b612f23565b60007fffffffff0000000000000000000000000000000000000000000000000000000082167f7965db0b000000000000000000000000000000000000000000000000000000001480610da657507f01ffc9a7000000000000000000000000000000000000000000000000000000007fffffffff000000000000000000000000000000000000000000000000000000008316145b92915050565b600254600090610de79061ffff7a0100000000000000000000000000000000000000000000000000008204811691600160c01b900416615a91565b61ffff16905090565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e610e1a8161312e565b600060028054600160e01b900460ff1690811115610e3a57610e3a615ab7565b14610e5857604051631e7b117d60e01b815260040160405180910390fd5b60028054819060ff60e01b1916600160e01b820217905550600254600160f01b900460ff1615158215151415610e8d57610f1a565b8115610ea9576011805463ffffffff19164263ffffffff161790555b60028054831515600160f01b027fff00ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9091161790556040517f99895cad53cbbff374fbe3c76182ad42a6cb1c0c7306d3b6651786e7154ccbe690610f1190841515815260200190565b60405180910390a15b600280546000919060ff60e01b1916600160e01b835b02179055505050565b600254600160e81b900460ff1615610f6457604051632a6ab56360e21b815260040160405180910390fd5b60408051858152602081018590523381830152905186917fb92710e3fad9222f817fcd828bd1ce3612ad0cd1c8bd5f3a3f4b8d85c4444621919081900360600190a25050505050565b60008281526001602081905260409091200154610fc98161312e565b610fd3838361313b565b505050565b6001600160a01b038116331461105b5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201527f20726f6c657320666f722073656c66000000000000000000000000000000000060648201526084015b60405180910390fd5b61106582826131c2565b5050565b600254600160e81b900460ff166110ac576040517f395fbd0500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f2fc10cc8ae19568712f7a176fb4978616a610650813c9d05326c34abb62749c76110d68161312e565b600060028054600160e01b900460ff16908111156110f6576110f6615ab7565b1461111457604051631e7b117d60e01b815260040160405180910390fd5b600280547fffff0000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160e11b1790556040513381527f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa906020015b60405180910390a1506002805460ff60e01b19169055565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e6111b08161312e565b600060028054600160e01b900460ff16908111156111d0576111d0615ab7565b146111ee57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b611229576040516310a0493960e11b815260040160405180910390fd5b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0384169081179091556040517fd24015cc99cc1700cafca3042840a1d8ac1e3964fd2e0e37ea29c654056ee32790600090a2600280546000919060ff60e01b1916600160e01b83610f30565b600081631fffffff8111156112bf57604051630104ef3360e21b815260040160405180910390fd5b826112cd576000915061133d565b600060036112dc600186615acd565b815481106112ec576112ec615ae4565b6000918252602090912001546001600160a01b031690508061133a576040517ffc3be2bc00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b91505b50919050565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e61136d8161312e565b600060028054600160e01b900460ff169081111561138d5761138d615ab7565b146113ab57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b179055601180547fffffffffffffffffffffffffffffffffffffffffffffffff00000000ffffffff1664010000000063ffffffff8516908102919091179091556040519081527f536948e5a71b8ffbb707a6903b99b812c8c291a711ed188e54d36505127d1c3590602001610f11565b600254600160e81b900460ff161561145657604051632a6ab56360e21b815260040160405180910390fd5b600060028054600160e01b900460ff169081111561147657611476615ab7565b1461149457604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b179055831580156114b55750823414155b156114ec576040517ff2be5ced00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b83158015906114fa57503415155b15611531576040517fd08ba85b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61153c848385613245565b801561154b5761154b81612d43565b816001600160a01b0316847feaa18152488ce5959073c9c79c88ca90b3d96c00de1f118cfaad664c3dab06b98560405161158791815260200190565b60405180910390a383156116725760006115a085611297565b6040517fdd62ed3e00000000000000000000000000000000000000000000000000000000815233600482015230602482015290915084906001600160a01b0383169063dd62ed3e90604401602060405180830381865afa158015611608573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061162c9190615afa565b1015611664576040517f7bf8af0300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b611670813330876135f6565b505b600280546000919060ff60e01b1916600160e01b835b021790555050505050565b6002600054610100900460ff161580156116b4575060005460ff8083169116105b6117265760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401611052565b806000806101000a81548160ff021916908360ff1602179055506001600060016101000a81548160ff02191690831515021790555060016002600001601e6101000a81548160ff02191690831515021790555042601160006101000a81548163ffffffff021916908363ffffffff1602179055506040518060a00160405280683635c9adc5dea000006001600160801b031681526020014263ffffffff168152602001600663ffffffff1681526020016103e863ffffffff168152602001601260ff168152506012600080815260200190815260200160002060008201518160000160006101000a8154816001600160801b0302191690836001600160801b0316021790555060208201518160000160106101000a81548163ffffffff021916908363ffffffff16021790555060408201518160000160146101000a81548163ffffffff021916908363ffffffff16021790555060608201518160000160186101000a81548163ffffffff021916908363ffffffff160217905550608082015181600001601c6101000a81548160ff021916908360ff1602179055509050506040518060a0016040528069d3c21bcecceda10000006001600160801b031681526020014263ffffffff16815260200161277463ffffffff168152602001620f424063ffffffff168152602001601260ff16815250601260006001815260200190815260200160002060008201518160000160006101000a8154816001600160801b0302191690836001600160801b0316021790555060208201518160000160106101000a81548163ffffffff021916908363ffffffff16021790555060408201518160000160146101000a81548163ffffffff021916908363ffffffff16021790555060608201518160000160186101000a81548163ffffffff021916908363ffffffff160217905550608082015181600001601c6101000a81548160ff021916908360ff1602179055509050507f2c87e4aece114a15933668e808bd3756196c2fb05a4902851081ed8584f8690e600060066103e8604051611a3c939291909283526020830191909152604082015260600190565b60405180910390a160408051600181526127746020820152620f42408183015290517f2c87e4aece114a15933668e808bd3756196c2fb05a4902851081ed8584f8690e9181900360600190a1600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff16905560405160ff821681527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a150565b600254600090600160e81b900460ff1615611b1757604051632a6ab56360e21b815260040160405180910390fd5b600254600160e01b900460ff166001816002811115611b3857611b38615ab7565b1415611f3c576000838152600c60205260409020805460019091015481611b8b576040517f973e3ae300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000611b9683613675565b9050600080600080611ba8858b6138e5565b60046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19a63ffffffff8c160154939750919550935091506001600160a01b031680611c21576040517fbb65988600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600c60008d815260200190815260200160002060000181905550600060405180606001604052808981526020018d81526020018860c0015167ffffffffffffffff1681525090506000806000846001600160a01b0316639b07d3428a8a8a8a89602001518a604001516040518763ffffffff1660e01b8152600401611cad96959493929190615b58565b6060604051808303816000875af1158015611ccc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611cf09190615bb2565b92509250925080611d26575050506020908101516000908152600c90915260408120989098555095975061133d95505050505050565b600082118015611d4b5750600086604001516003811115611d4957611d49615ab7565b145b15611d85576040517f26e939c600000000000000000000000000000000000000000000000000000000815260048101839052602401611052565b82158015611d91575081155b15611dc357611daa858a86600001518760200151613bcb565b611dbe858986600001518760200151613bcb565b611de3565b611dd38588858760200151613bcb565b611de38587848760200151613bcb565b6000845160208601516000851460008714161592506040518f81528160208201528260408201528660608201528560808201528360a08201526020600060c08360025afa505050507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051066002548060c01c6103ff168160d01c6103ff166102008183600101011115611e8357632c52558760e11b60005260046000fd5b50600081815260056020908152604080832095909555600190920160c090811b7ffffffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffff909416939093176002558882015189518551908152928301899052938201879052841515606083015260a0608083018190528201528f917f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c910160405180910390a360019e505050505050505050505050505061133d565b6000816002811115611f5057611f50615ab7565b1415612376576002805460ff60e01b1916600160e01b1790556000838152600c6020526040902080546001919091015481611fb7576040517f973e3ae300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000611fc283613675565b9050600080600080611fd4858b6138e5565b60046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19a63ffffffff8c160154939750919550935091506001600160a01b03168061204d576040517fbb65988600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600c60008d815260200190815260200160002060000181905550600060405180606001604052808981526020018d81526020018860c0015167ffffffffffffffff1681525090506000806000846001600160a01b0316639b07d3428a8a8a8a89602001518a604001516040518763ffffffff1660e01b81526004016120d996959493929190615b58565b6060604051808303816000875af11580156120f8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061211c9190615bb2565b92509250925080612152575050506020908101516000908152600c90915260408120989098555095975061236495505050505050565b600082118015612177575060008660400151600381111561217557612175615ab7565b145b156121b1576040517f26e939c600000000000000000000000000000000000000000000000000000000815260048101839052602401611052565b821580156121bd575081155b156121ef576121d6858a86600001518760200151613bcb565b6121ea858986600001518760200151613bcb565b61220f565b6121ff8588858760200151613bcb565b61220f8587848760200151613bcb565b6000845160208601516000851460008714161592506040518f81528160208201528260408201528660608201528560808201528360a08201526020600060c08360025afa505050507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051066002548060c01c6103ff168160d01c6103ff1661020081836001010111156122af57632c52558760e11b60005260046000fd5b50600081815260056020908152604080832095909555600190920160c090811b7ffffffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffff909416939093176002558882015189518551908152928301899052938201879052841515606083015260a0608083018190528201528f917f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c910160405180910390a360019e50505050505050505050505050505b6002805460ff60e01b1916905561133d565b604051631e7b117d60e01b815260040160405180910390fd5b600254600160e81b900460ff16156123ba57604051632a6ab56360e21b815260040160405180910390fd5b7fbf233dd2aafeb4d50879c4aa5c81e96d92f6e6945c906a58f9f2d1c1631b4b266123e48161312e565b600060028054600160e01b900460ff169081111561240457612404615ab7565b1461242257604051631e7b117d60e01b815260040160405180910390fd5b600280547fffff0000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff167d0102000000000000000000000000000000000000000000000000000000001790556040513381527f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2589060200161116e565b600254600160e81b900460ff16156124c557604051632a6ab56360e21b815260040160405180910390fd5b3360009081527f65ab7acc1bb8390bd4d3ba8eb4987cf212c814cedeacf3ad4b0583b29d65f538602052604090205460ff1615801561250e5750600a54600160a01b900460ff16155b15612545576040517f11d74fb800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600060028054600160e01b900460ff169081111561256557612565615ab7565b1461258357604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b6125be576040516310a0493960e11b815260040160405180910390fd5b6188b88110806125d05750624c4b4081115b15612607576040517f037bbe6d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600480546001810182557f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03851690811790915590546000818152600f6020908152604091829020859055905184815291929183917f0e62be7fe47a9095143143f8ee61bab3ade27b661223fed33e16122ffe1f284d91015b60405180910390a350600280546000919060ff60e01b1916600160e01b83610f30565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e6126ee8161312e565b600060028054600160e01b900460ff169081111561270e5761270e615ab7565b1461272c57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0383166000818152600b6020908152604091829020805460ff1916861515908117909155825190815291517f46359ce9dbb6c7f9a375b44072210287916d3de725fc8927a8e762047e4a84249281900390910190a250506002805460ff60e01b1916905550565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e6127d78161312e565b600060028054600160e01b900460ff16908111156127f7576127f7615ab7565b1461281557604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b179055600a8054831515600160a01b81027fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff909216919091179091556040519081527fad6b1fc8881be24fc1ad35119b136f0026a4496e6251980e325ddcf86dab394390602001610f11565b7ff94103142c1baabe9ac2b5d1487bf783de9e69cfeea9a72f5c9c94afd7877b8c6128bb8161312e565b600060028054600160e01b900460ff16908111156128db576128db615ab7565b146128f957604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556040805160a081019091528061293b61292685600a615ccf565b6129369063ffffffff8816615cde565b613c86565b6001600160801b03908116825263ffffffff4281166020808501919091528882166040808601829052898416606080880182905260ff8b81166080998a015260008f8152601287528490208a5181548c8901518d8801518e8701519e909d0151909416600160e01b0260ff60e01b199d8b16600160c01b027fffffffff00000000ffffffffffffffffffffffffffffffffffffffffffffffff9d8c16600160a01b029d909d167fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff95909b167001000000000000000000000000000000000273ffffffffffffffffffffffffffffffffffffffff1990921692909b169190911717919091169690961797909717979097169490941790925582518a815290810191909152908101929092527f2c87e4aece114a15933668e808bd3756196c2fb05a4902851081ed8584f8690e910160405180910390a150506002805460ff60e01b19169055505050565b60008043817f0000000000000000000000000000000000000000000000000000000000000000612af47f000000000000000000000000000000000000000000000000000000000000000084615d13565b1015905060008115612b8457601154612b1d9063ffffffff640100000000820481169116615d27565b421015612b2957600091505b612b537f000000000000000000000000000000000000000000000000000000000000000084615d13565b612b7d907f0000000000000000000000000000000000000000000000000000000000000000615acd565b9050612bdb565b612bae7f000000000000000000000000000000000000000000000000000000000000000084615d13565b612bd8907f0000000000000000000000000000000000000000000000000000000000000000615acd565b90505b9094909350915050565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e612c0f8161312e565b600060028054600160e01b900460ff1690811115612c2f57612c2f615ab7565b14612c4d57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b612c88576040516310a0493960e11b815260040160405180910390fd5b600a805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0384169081179091556040519081527fc4fc5cbf094d63a6fb20dc7cb9b0236e7dba8c04667182ec259a00a74f95901890602001610f11565b60008281526001602081905260409091200154612cff8161312e565b610fd383836131c2565b60006004612d18600184615acd565b81548110612d2857612d28615ae4565b6000918252602090912001546001600160a01b031692915050565b600254600160e81b900460ff1615612d6e57604051632a6ab56360e21b815260040160405180910390fd5b336000526008602052604060002060205280600052600160406000205550565b600254600160e81b900460ff1615612db957604051632a6ab56360e21b815260040160405180910390fd5b600060028054600160e01b900460ff1690811115612dd957612dd9615ab7565b14612df757604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e01b179055336000908152600b602052604090205460ff1615612e4f57600254600160f01b900460ff1615612e4a576011805463ffffffff19164263ffffffff161790555b612e95565b6000612e59612aa4565b50905080612e93576040517f83633aab00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b505b6000806000612ea2613ccd565b9250925092506000612eb384614069565b9050612efa8487878080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250879150869050614088565b612f0484826140f2565b5050600280546000935090915060ff60e01b1916600160e01b83611688565b600254600160e81b900460ff1615612f4e57604051632a6ab56360e21b815260040160405180910390fd5b3360009081527f65ab7acc1bb8390bd4d3ba8eb4987cf212c814cedeacf3ad4b0583b29d65f538602052604090205460ff16158015612f975750600a54600160a01b900460ff16155b15612fce576040517f11d74fb800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600060028054600160e01b900460ff1690811115612fee57612fee615ab7565b1461300c57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b613047576040516310a0493960e11b815260040160405180910390fd5b61d6d881108061305957506216e36081115b15613090576040517f11e80d6c00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600380546001810182557fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b01805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03851690811790915590546000818152600e6020908152604091829020859055905184815291929183917f85ac039d1da307b778050ca29271ac915424bac011342c9452960f6679b18ff091016126a1565b6131388133614177565b50565b60008281526001602090815260408083206001600160a01b038516845290915290205460ff166110655760008281526001602081815260408084206001600160a01b0386168086529252808420805460ff19169093179092559051339285917f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d9190a45050565b60008281526001602090815260408083206001600160a01b038516845290915290205460ff16156110655760008281526001602090815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b82631fffffff81111561326b57604051630104ef3360e21b815260040160405180910390fd5b60008481526007602090815260408083206001600160a01b0387168452909152902054600254600160f01b900460ff16156135be576000858152601260209081526040808320815160a08101835290546001600160801b038116825263ffffffff7001000000000000000000000000000000008204811694830194909452600160a01b8104841692820192909252600160c01b8204909216606083015260ff600160e01b909104166080820181905290919061332890600a615ccf565b9050816040015163ffffffff1660001480613360575080826040015163ffffffff166133549190615cde565b61335e8685615d27565b115b15613397576040517ffb1837c600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b606082015163ffffffff166133d8576040517fd014828600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600081836060015163ffffffff166133f09190615cde565b905060006134016201518083615d3f565b9050613426846020015163ffffffff164261341c9190615acd565b6129369083615cde565b84518590613435908390615d53565b6001600160801b0390811690915285511683101590506134645761345882613c86565b6001600160801b031684525b83516001600160801b03168711156134a8576040517fd014828600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6134b187613c86565b845185906134c0908390615d75565b6001600160801b0390811690915263ffffffff428116602080890191825260008e81526012909152604090819020895181549351928b015160608c015160808d015160ff16600160e01b0260ff60e01b19918816600160c01b027fffffffff00000000ffffffffffffffffffffffffffffffffffffffffffffffff938916600160a01b02939093167fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff969098167001000000000000000000000000000000000273ffffffffffffffffffffffffffffffffffffffff199097169390981692909217949094179290921693909317919091171691909117905550505050505b6135c88382615d27565b60009586526007602090815260408088206001600160a01b0390971688529590529390942092909255505050565b6040517f23b872dd000000000000000000000000000000000000000000000000000000008152836004820152826024820152816044820152843b613645576310a0493960e11b60005260046000fd5b602060006064836000895af190506001600051163d151780821661366d573d6000803e3d6000fd5b505050505050565b604080516101c081018252600060208083018290526101a083019190915263ffffffff8416808352633fffffff9185901c821693830193909352603e84901c81166060830152605c84901c81166080830152607a84901c1660a082015267ffffffffffffffff60b884901c1660c08201526001603d84901c811660e0830152605b84901c8116610100830152607984901c8116610120830152609784901c8116610140830152609884901c81168114610160830152609984901c81168114610180830152909160049161374791615acd565b8154811061375757613757615ae4565b60009182526020808320909101546001600160a01b03168382015282518252600f905260409020546101a082015261016081015115801561379c575060008160600151115b156137d3576040517f3448066300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8061018001511580156137ea575060008160a00151115b15613821576040517f3448066300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b806101600151801561383a575080606001518160400151145b156138795780604001516040517f760558e800000000000000000000000000000000000000000000000000000000815260040161105291815260200190565b600081610180015180156138905750816101400151155b90508080156138a657508160a001518260800151145b1561133d5781608001516040517ff23e3f9500000000000000000000000000000000000000000000000000000000815260040161105291815260200190565b61390660408051606081018252600080825260208201819052909182015290565b61392760408051606081018252600080825260208201819052909182015290565b61394860408051606081018252600080825260208201819052909182015290565b61396960408051606081018252600080825260208201819052909182015290565b8560e001511561399c57632000000086604001516139879190615acd565b845260006020850152600360408501526139fa565b6040860180518552516139ae90611297565b6001600160a01b031660208501819052156139ca5760026139cd565b60015b846040019060038111156139e3576139e3615ab7565b908160038111156139f6576139f6615ab7565b9052505b85610120015115613a1b578482526000602083015260036040830152613a79565b608086018051835251613a2d90611297565b6001600160a01b03166020830181905215613a49576002613a4c565b60015b82604001906003811115613a6257613a62615ab7565b90816003811115613a7557613a75615ab7565b9052505b85610100015115613ac35763200000008660600151613a989190615acd565b8352600060208401526040830160035b90816003811115613abb57613abb615ab7565b905250613b27565b85610160015115613b1557606086018051845251613ae090611297565b6001600160a01b03166020840181905215613afc576002613aff565b60015b83604001906003811115613aa857613aa8615ab7565b60008084526020840181905260408401525b85610140015115613b5e57848152600060208201526040810160035b90816003811115613b5657613b56615ab7565b905250613bc2565b85610180015115613bb05760a086018051825251613b7b90611297565b6001600160a01b03166020820181905215613b97576002613b9a565b60015b81604001906003811115613b4357613b43615ab7565b60008082526020820181905260408201525b92959194509250565b81613bd557613c80565b600183604001516003811115613bed57613bed615ab7565b1415613c4f576000818152600d6020526040902054821115613c3b576040517fcbbf6eca00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000818152600d6020526040812055613c80565b600283604001516003811115613c6757613c67615ab7565b1415613c80576020830151613c7e818630866135f6565b505b50505050565b60006001600160801b03821115613cc9576040517f7a781de100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5090565b6040805161010080820183526141ec82526141f360208084018290528385019190915261421e606084018190526080840181905260a0840181905260c084015261423360e084015283516111c46004359081013560448201359081046111c883013563ffffffff908116828104808402821415019092029096028481016111e0019098526111c08881018086529498919760009795968a0195602486019589948594615755949391926111cc013590911690888a376111c098909801976111a9888101988a97509091010193505b86841115613dd15760078735168089528060051b830151935050613dc387898563ffffffff16565b965061010088019750613d9b565b505050506111c088810151604051600092828604808c048082028d1415019384900393909261010084029260043560240182376111c08101905060208202810191505b81811015613e635760206000848960025afa613e2f57600080fd5b6000517f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000019006815295820195602001613e14565b8415613fe057600092508360208114613eaf5760108114613ed75760408114613eff5760018114613f275760028114613f4f5760048114613f775760088114613f9f5760019650613fc3565b7f0df0e06ab8a02ce2ff08babd7144ab23ca2e99ddf318080cf88602eeb8913d449350613fc3565b7f1c52c159b4dae66c3dcf33b44d4d61ead6bc4d260f882ac6ba34dccf78892ca49350613fc3565b7f1f83672815ac9b3ca31732d641784035834e96b269eaf6a2e759bf4fcc8e5bfd9350613fc3565b7f22dd983f8337d97d56071f7986209ab2ee6039a422242e89126701c6ee005af09350613fc3565b7f076a27c79e5ace2a3d47f9dd2e83e4ff6ea8872b3c2218f66c92b89b55f365609350613fc3565b7f2f0c70a5bf5460465e9902f9c96be324e8064e762a5de52589fdb97cbce3c6ee9350613fc3565b7f240ed0de145447ff0ceff2aa477f43e0e2ed7f3543ee3d8832f158ec76b183a993505b5060208502820191505b81811015613fe057828152602001613fcd565b6040519450602060008683038760025afa613ffa57600080fd5b50505050507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051069650801561405e576040517f3259ec1e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b505050505050909192565b6111a08101516001600160a01b0381111561408357600080fd5b919050565b60006140948684614267565b90506140a1868587614338565b60006140ad8784614400565b9050817f14054a15b39bfd65ec00fc6d15c7e5f9cbc1dc6f452cbefa359b4da61ad89fb682336040516140e1929190615d9d565b60405180910390a250505050505050565b60005b6010811015610fd3576000614111848360200201610b80015190565b9050801561416e576000614125858461493e565b90508061413e57600080600080858861c350f15061416c565b600061414982611297565b905061416a818685600e60008781526020019081526020016000205461495a565b505b505b506001016140f5565b60008281526001602090815260408083206001600160a01b038516845290915290205460ff16611065576141aa816149aa565b6141b58360206149bc565b6040516020016141c6929190615e1d565b60408051601f198184030181529082905262461bcd60e51b825261105291600401615e9e565b5060010190565b600060a0602084016020840137601460c0840160cc840137600460d4840160fc840137505060b90190565b60006080602084016020840137505060810190565b60006040517fd0426f7b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60405160009063ffffffff600480356111cc810135929092168083016111ec01939290910135037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee38019060ac815360316001820153608c6002820153605d600382015360406004820152846024820152816044820152818360648301376001600160a01b03600254169250823b614309576310a0493960e11b60005260046000fd5b6000806064840183865afa9250505080614327573d6000803e3d6000fd5b5061433183614be5565b9392505050565b60006111e08085019061010085028601015b8082101561366d5760a082015180156143f357825160e084015160c085015160018314156143db5761010086206001600160a01b038216600090815260086020908152604080832084845290915290205460ff166143ce5788880180516060825260006143b684614d98565b90506143c3818487614eb1565b509052606097909701965b6143d9838387614ffd565b505b82600214156143ef576143ef84828461507e565b5050505b610100830192505061434a565b606060008061441185611180015190565b9050601054811461445c576010546040517f88011dd6000000000000000000000000000000000000000000000000000000008152611052918391600401918252602082015260400190565b6000614466615101565b90935090506144758184615acd565b600280547ffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffffffff1660d083901b1790556020878101519194506000935091506144bc9190615cde565b6040805160808082018352600080835260208301819052828401819052606090920182905282519081019092529192506101808701915b6020811015614870578251806145095750614870565b61040084015180614546576040517fb246041300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600061455183613675565b9050600080600080614563858c6138e5565b93509350935093506040517f4bd947a800000000000000000000000000000000000000000000000000000000815260048101905060208601518082525084516020820152602085015160408201526040850151606082015283516080820152602084015160a0820152604084015160c0820152825160e082015260208301516101008201526040830151610120820152815161014082015260208201516101608201526040820151610180820152866101a08201528b6101c082015260c0860151806101e083015250600d6102008201528e610220820152600a54803b614655576310a0493960e11b60005260046000fd5b60008061024460048503846101a08c0151f490503d6000833e80600181146146955760008c52600060208d0152600060408d0152600060608d01526146b5565b82518c52602083015160208d0152604083015160408d0152600160608d01525b5050508461018001516146ca57600060208a01525b60408901516001811461480a576040518781528a51602082015260208b0151604082015260608b0151606082015260a0608082015260608b01511561473857600060a08201528c897f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c60c084a35b60608b0151614792573d60a08201523d602081066020038115150281600060c085013e60008260c0018401528e8b7f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c83850160c00186a350505b8881528c60208201528760408201528a51606082015260208b0151608082015260608b015160a08201526020600060c08360025afa50507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051068d6000526006602052806040600020555060018d019c50614851565b6040518781528c897f38ce48f4c2f3454bcf130721f25a4262b2ff2c8e36af937b30edf01ba481eb1d602084a3508b600052600c6020526040600020888155876001820155505b5060018b019a5060208a019950876001019750505050505050506144f3565b506002548060c01c6103ff166103ff86820111801561489a57632c52558760e11b60005260046000fd5b506040516006602052600560605260005b828110156148cf5787810160009081526040828152808020549120556001016148ab565b506040527ffffffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffff90860160d01b167ffffffffffc00fc00ffffffffffffffffffffffffffffffffffffffffffffffff9091161760025560008061492e615123565b6010559998505050505050505050565b602081028201610980015163ffffffff811115610da657600080fd5b5a81156149645750805b6040517fa9059cbb00000000000000000000000000000000000000000000000000000000815284600482015283602482015260008060448360008a87f150505050505050565b6060610da66001600160a01b03831660145b606060006149cb836002615cde565b6149d6906002615d27565b67ffffffffffffffff8111156149ee576149ee615ed1565b6040519080825280601f01601f191660200182016040528015614a18576020820181803683370190505b5090507f300000000000000000000000000000000000000000000000000000000000000081600081518110614a4f57614a4f615ae4565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f780000000000000000000000000000000000000000000000000000000000000081600181518110614ab257614ab2615ae4565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506000614aee846002615cde565b614af9906001615d27565b90505b6001811115614b96577f303132333435363738396162636465660000000000000000000000000000000085600f1660108110614b3a57614b3a615ae4565b1a60f81b828281518110614b5057614b50615ae4565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060049490941c93614b8f81615ee7565b9050614afc565b5083156143315760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e746044820152606401611052565b600080600080600080614bf7876151ff565b945094509450945094506009548414614c46576040517f34fddf400000000000000000000000000000000000000000000000000000000081526004810185905260248101849052604401611052565b60025463ffffffff600160a01b90910481169083168181614c6957614c69615cfd565b0663ffffffff1660001415614cd2578063ffffffff168263ffffffff1614614ccd576040517f7861e6c600000000000000000000000000000000000000000000000000000000815263ffffffff808416600483015282166024820152604401611052565b614d4c565b60008363ffffffff168263ffffffff1681614cef57614cef615cfd565b068483010363ffffffff169050808363ffffffff1614614d4a576040517f7861e6c600000000000000000000000000000000000000000000000000000000815263ffffffff8416600482015260248101829052604401611052565b505b506009929092556002805463ffffffff9390920192909216600160a01b027fffffffffffffffff00000000ffffffffffffffffffffffffffffffffffffffff9091161790555092915050565b600080614da4836152a8565b90506040517f19457468657265756d205369676e6564204d6573736167653a0a32313000000060208201527f5369676e696e672074686973206d6573736167652077696c6c20616c6c6f7720603d8201527f796f75722070656e64696e672066756e647320746f206265207370656e742069605d8201527f6e20417a746563207472616e73616374696f6e3a0a0a30780000000000000000607d82015260208201516095820152604082015160b58201527f0a0a494d504f5254414e543a204f6e6c79207369676e20746865206d6573736160d58201527f676520696620796f752074727573742074686520636c69656e7400000000000060f582015260ef602082012092505050919050565b6000806001600160a01b038316614ef4576040517fd57e351000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8351858552606085015160408601518060608801526020870151604088015281602088015260208760808960015afa601c8314601b84141760608514167f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a183101616945050508451861460008114614f6b57614f70565b855192505b508452801519919091169081614fb2576040517f8a3e28aa00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b826001600160a01b0316816001600160a01b031614613c7e576040517fa3402a3800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b82631fffffff81111561502357604051630104ef3360e21b815260040160405180910390fd5b60008481526007602090815260408083209091528482529020805483810390915582118015613c7e576040517f8e8af4f900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6001600160a01b0382166150be576040517f6df19fea00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b806150d5576000806000808686617530f150505050565b60006150e082611297565b9050613c80818486600e60008781526020019081526020016000205461495a565b6002546103ff60d082901c16908190602082111561511e57602091505b509091565b60606000806000615132615101565b909250905060006151438284615acd565b90506040519450602085016020610400018601604052828652600660205260005b83811015615188578281016000908152604090205460208202830152600101615164565b5b60208110156151c2577f2d25a1e3a51eb293004c4b56abe12ed0da6bca2b4a21936752a85d102593c1b460208202830152600101615189565b50602060006104008360025afa50507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000016000510693505050509091565b604081015160608201516000918291829160011b906020860163ffffffff808411908311171561522e57600080fd5b805195506040518681526060820151602082015260a0820151604082015260e08201516060820152610120820151608082015260a0812095506001870181526080820151602082015260c082015160408201526101008201516060820152610140820151608082015260a081209450505091939590929450565b606081615310576040519050604081527f303030303030303030303030303030303030303030303030303030303030303060208201527f3030303030303030303030303030303030303030303030303030303030303030604082015260608101604052919050565b506040517f3030303130323033303430353036303730383039306130623063306430653066607e8201527f3130313131323133313431353136313731383139316131623163316431653166609e8201527f323032313232323332343235323632373238323932613262326332643265326660be8201527f333033313332333333343335333633373338333933613362336333643365336660de8201527f343034313432343334343435343634373438343934613462346334643465346660fe8201527f353035313532353335343535353635373538353935613562356335643565356661011e8201527f363036313632363336343635363636373638363936613662366336643665366661013e8201527f373037313732373337343735373637373738373937613762376337643765376661015e8201527f383038313832383338343835383638373838383938613862386338643865386661017e8201527f393039313932393339343935393639373938393939613962396339643965396661019e8201527f61306131613261336134613561366137613861396161616261636164616561666101be8201527f62306231623262336234623562366237623862396261626262636264626562666101de8201527f63306331633263336334633563366337633863396361636263636364636563666101fe8201527f643064316432643364346435643664376438643964616462646364646465646661021e8201527f653065316532653365346535653665376538653965616562656365646565656661023e8201527f663066316632663366346635663666376638663966616662666366646665666661025e820152606081018260408352600181901b6101fe908116830151601e52600782901c8116830151601c52600f82901c8116830151601a52601782901c8116830151601852601f82901c8116830151601652602782901c8116830151601452602f82901c8116830151601252603782901c8116830151601052603f82901c8116830151600e52604782901c8116830151600c52604f82901c8116830151600a52605782901c8116830151600852605f82901c8116830151600652606782901c8116830151600452606f82901c8116830151600252607782901c16820151600052601e51604084015260801c61573f82826101fe600182901b8116830151601e52600782901c8116830151601c52600f82901c8116830151601a52601782901c8116830151601852601f82901c8116830151601652602782901c8116830151601452602f82901c8116830151601252603782901c8116830151601052603f82901c8116830151600e52604782901c8116830151600c52604f82901c8116830151600a52605782901c8116830151600852605f82901c8116830151600652606782901c8116830151600452606f82901c811683015160025260779190911c160151600052565b5050601e51602082015260608101604052919050565b61575d615efe565b565b60006020828403121561577157600080fd5b81357fffffffff000000000000000000000000000000000000000000000000000000008116811461433157600080fd5b6000602082840312156157b357600080fd5b5035919050565b801515811461313857600080fd5b6000602082840312156157da57600080fd5b8135614331816157ba565b60008083601f8401126157f757600080fd5b50813567ffffffffffffffff81111561580f57600080fd5b60208301915083602082850101111561582757600080fd5b9250929050565b60008060008060006080868803121561584657600080fd5b853594506020860135935060408601359250606086013567ffffffffffffffff81111561587257600080fd5b61587e888289016157e5565b969995985093965092949392505050565b80356001600160a01b038116811461408357600080fd5b600080604083850312156158b957600080fd5b823591506158c96020840161588f565b90509250929050565b6000602082840312156158e457600080fd5b6143318261588f565b803563ffffffff8116811461408357600080fd5b60006020828403121561591357600080fd5b614331826158ed565b6000806040838503121561592f57600080fd5b6159388361588f565b946020939093013593505050565b6000806000806080858703121561595c57600080fd5b84359350602085013592506159736040860161588f565b9396929550929360600135925050565b6000806040838503121561599657600080fd5b61599f8361588f565b915060208301356159af816157ba565b809150509250929050565b600080600080608085870312156159d057600080fd5b843593506159e0602086016158ed565b92506159ee604086016158ed565b9150606085013560ff81168114615a0457600080fd5b939692955090935050565b60008060008060408587031215615a2557600080fd5b843567ffffffffffffffff80821115615a3d57600080fd5b615a49888389016157e5565b90965094506020870135915080821115615a6257600080fd5b50615a6f878288016157e5565b95989497509550505050565b634e487b7160e01b600052601160045260246000fd5b600061ffff808316818516808303821115615aae57615aae615a7b565b01949350505050565b634e487b7160e01b600052602160045260246000fd5b600082821015615adf57615adf615a7b565b500390565b634e487b7160e01b600052603260045260246000fd5b600060208284031215615b0c57600080fd5b5051919050565b805182526001600160a01b036020820151166020830152604081015160048110615b4d57634e487b7160e01b600052602160045260246000fd5b806040840152505050565b6101c08101615b678289615b13565b615b746060830188615b13565b615b8160c0830187615b13565b615b8f610120830186615b13565b8361018083015267ffffffffffffffff83166101a0830152979650505050505050565b600080600060608486031215615bc757600080fd5b83519250602084015191506040840151615be0816157ba565b809150509250925092565b600181815b80851115615c26578160001904821115615c0c57615c0c615a7b565b80851615615c1957918102915b93841c9390800290615bf0565b509250929050565b600082615c3d57506001610da6565b81615c4a57506000610da6565b8160018114615c605760028114615c6a57615c86565b6001915050610da6565b60ff841115615c7b57615c7b615a7b565b50506001821b610da6565b5060208310610133831016604e8410600b8410161715615ca9575081810a610da6565b615cb38383615beb565b8060001904821115615cc757615cc7615a7b565b029392505050565b600061433160ff841683615c2e565b6000816000190483118215151615615cf857615cf8615a7b565b500290565b634e487b7160e01b600052601260045260246000fd5b600082615d2257615d22615cfd565b500690565b60008219821115615d3a57615d3a615a7b565b500190565b600082615d4e57615d4e615cfd565b500490565b60006001600160801b03808316818516808303821115615aae57615aae615a7b565b60006001600160801b0383811690831681811015615d9557615d95615a7b565b039392505050565b604080825283519082018190526000906020906060840190828701845b82811015615dd657815184529284019290840190600101615dba565b5050506001600160a01b039490941692019190915250919050565b60005b83811015615e0c578181015183820152602001615df4565b83811115613c805750506000910152565b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000815260008351615e55816017850160208801615df1565b7f206973206d697373696e6720726f6c65200000000000000000000000000000006017918401918201528351615e92816028840160208801615df1565b01602801949350505050565b6020815260008251806020840152615ebd816040850160208701615df1565b601f01601f19169190910160400192915050565b634e487b7160e01b600052604160045260246000fd5b600081615ef657615ef6615a7b565b506000190190565b634e487b7160e01b600052605160045260246000fdfea26469706673582212205b2062ba643b054618e4c3a88f6ea54b46e657df50c2bf6e1e5c0820877743c064736f6c634300080a0033","sourceMap":"1091:102992:119:-:0;;;19059:684;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;19149:27;;;:79;;;19206:22;19180;:48;;19149:79;19145:140;;;19251:23;;-1:-1:-1;;;19251:23:119;;;;;;;;;;;19145:140;19486:22;:20;:22::i;:::-;19518:11;:25;;-1:-1:-1;;;;19518:25:119;-1:-1:-1;;;19518:25:119;;;19634:46;;;;;19690;;1091:102992;;5928:279:76;5996:13;;;;;;;5995:14;5987:66;;;;-1:-1:-1;;;5987:66:76;;466:2:173;5987:66:76;;;448:21:173;505:2;485:18;;;478:30;544:34;524:18;;;517:62;-1:-1:-1;;;595:18:173;;;588:37;642:19;;5987:66:76;;;;;;;;6067:12;;6082:15;6067:12;;;:30;6063:138;;;6113:12;:30;;-1:-1:-1;;6113:30:76;6128:15;6113:30;;;;;;6162:28;;814:36:173;;;6162:28:76;;802:2:173;787:18;6162:28:76;;;;;;;6063:138;5928:279::o;14:245:173:-;93:6;101;154:2;142:9;133:7;129:23;125:32;122:52;;;170:1;167;160:12;122:52;-1:-1:-1;;193:16:173;;249:2;234:18;;;228:25;193:16;;228:25;;-1:-1:-1;14:245:173:o;672:184::-;1091:102992:119;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080604052600436106103975760003560e01c80638666c0a9116101dc578063c37c656d11610102578063dcefed85116100a0578063e58378bb1161006f578063e58378bb14610c72578063f21c69bb14610ca6578063f81cccbe14610cd3578063fb0ce18514610cf357600080fd5b8063dcefed8514610bd1578063deb26b9414610bfe578063e0d16c3214610c32578063e393635514610c5257600080fd5b8063cd12bf62116100dc578063cd12bf6214610b19578063d547741f14610b46578063d8ba363714610b66578063db1533aa14610b9a57600080fd5b8063c37c656d14610a21578063c4a7a35f14610ad4578063caa3455314610af957600080fd5b8063a2b096e41161017a578063b3a07b9811610149578063b3a07b98146109a4578063bc327e40146109c4578063be71f8a4146109e0578063c0fd22b714610a0c57600080fd5b8063a2b096e41461090e578063a33dc5e71461092e578063a8d1eae71461095b578063b045009c1461097057600080fd5b806391dfe78f116101b657806391dfe78f14610899578063999e3614146108b95780639b60ae2b146108da578063a217fddf146108f957600080fd5b80638666c0a9146107ea5780638afceb391461080a57806391d148541461085357600080fd5b806336ce0a92116102c1578063781e04321161025f5780637ff48afb1161022e5780637ff48afb1461078d5780638129fc1c146107a05780638188f468146107b55780638456cb59146107d557600080fd5b8063781e0432146106fa5780637ba3e7ae146107355780637baf71181461074b5780637d036b271461076b57600080fd5b80635ad1def31161029b5780635ad1def31461066b5780635c975abb1461069b57806360a8b18a146106ba5780636a0214a9146106da57600080fd5b806336ce0a92146105fe5780633f4ba83a146106365780635437988d1461064b57600080fd5b806320825443116103395780632b7ac3f3116103085780632b7ac3f31461056c5780632de03aa11461058a5780632f2ff15d146105be57806336568abe146105de57600080fd5b806320825443146104b557806320a23dd3146104d557806320df435914610507578063248a9ca31461053b57600080fd5b80630ceee68c116103755780630ceee68c146104215780630d698f6f1461045957806312a536231461047b5780631ab9c6031461049f57600080fd5b806301ffc9a71461039c57806302f6ccd4146103d157806303561119146103f4575b600080fd5b3480156103a857600080fd5b506103bc6103b736600461575f565b610d13565b60405190151581526020015b60405180910390f35b3480156103dd57600080fd5b506103e6610dac565b6040519081526020016103c8565b34801561040057600080fd5b506103e661040f3660046157a1565b600e6020526000908152604090205481565b34801561042d57600080fd5b50600a54610441906001600160a01b031681565b6040516001600160a01b0390911681526020016103c8565b34801561046557600080fd5b506104796104743660046157c8565b610df0565b005b6104796104893660046157a1565b6000908152600d60205260409020805434019055565b3480156104ab57600080fd5b506103e660095481565b3480156104c157600080fd5b506104796104d036600461582e565b610f39565b3480156104e157600080fd5b506011546104f29063ffffffff1681565b60405163ffffffff90911681526020016103c8565b34801561051357600080fd5b506103e67fbf233dd2aafeb4d50879c4aa5c81e96d92f6e6945c906a58f9f2d1c1631b4b2681565b34801561054757600080fd5b506103e66105563660046157a1565b6000908152600160208190526040909120015490565b34801561057857600080fd5b506002546001600160a01b0316610441565b34801561059657600080fd5b506103e67f2fc10cc8ae19568712f7a176fb4978616a610650813c9d05326c34abb62749c781565b3480156105ca57600080fd5b506104796105d93660046158a6565b610fad565b3480156105ea57600080fd5b506104796105f93660046158a6565b610fd8565b34801561060a57600080fd5b506103e66106193660046158a6565b600760209081526000928352604080842090915290825290205481565b34801561064257600080fd5b50610479611069565b34801561065757600080fd5b506104796106663660046158d2565b611186565b34801561067757600080fd5b506103bc6106863660046158d2565b600b6020526000908152604090205460ff1681565b3480156106a757600080fd5b50600254600160e81b900460ff166103bc565b3480156106c657600080fd5b506104416106d53660046157a1565b611297565b3480156106e657600080fd5b506104796106f5366004615901565b611343565b34801561070657600080fd5b506103bc61071536600461591c565b600860209081526000928352604080842090915290825290205460ff1681565b34801561074157600080fd5b506103e660105481565b34801561075757600080fd5b50600254600160c01b900461ffff166103e6565b34801561077757600080fd5b50600254600160a01b900463ffffffff166103e6565b61047961079b366004615946565b61142b565b3480156107ac57600080fd5b50610479611693565b3480156107c157600080fd5b506103bc6107d03660046157a1565b611ae9565b3480156107e157600080fd5b5061047961238f565b3480156107f657600080fd5b5061047961080536600461591c565b61249a565b34801561081657600080fd5b5061083e6108253660046157a1565b600c602052600090815260409020805460019091015482565b604080519283526020830191909152016103c8565b34801561085f57600080fd5b506103bc61086e3660046158a6565b60009182526001602090815260408084206001600160a01b0393909316845291905290205460ff1690565b3480156108a557600080fd5b506104796108b4366004615983565b6126c4565b3480156108c557600080fd5b50600a546103bc90600160a01b900460ff1681565b3480156108e657600080fd5b50600254600160f01b900460ff166103bc565b34801561090557600080fd5b506103e6600081565b34801561091a57600080fd5b506104796109293660046157c8565b6127ad565b34801561093a57600080fd5b506103e66109493660046157a1565b60066020526000908152604090205481565b34801561096757600080fd5b506004546103e6565b34801561097c57600080fd5b506103e67f000000000000000000000000000000000000000000000000000000000000000081565b3480156109b057600080fd5b506104796109bf3660046159ba565b612891565b3480156109d057600080fd5b50604051600281526020016103c8565b3480156109ec57600080fd5b506109f5612aa4565b6040805192151583526020830191909152016103c8565b348015610a1857600080fd5b506003546103e6565b348015610a2d57600080fd5b50610a93610a3c3660046157a1565b6012602052600090815260409020546001600160801b0381169063ffffffff7001000000000000000000000000000000008204811691600160a01b8104821691600160c01b8204169060ff600160e01b9091041685565b604080516001600160801b03909616865263ffffffff94851660208701529284169285019290925291909116606083015260ff16608082015260a0016103c8565b348015610ae057600080fd5b506011546104f290640100000000900463ffffffff1681565b348015610b0557600080fd5b50610479610b143660046158d2565b612be5565b348015610b2557600080fd5b506103e6610b343660046157a1565b60056020526000908152604090205481565b348015610b5257600080fd5b50610479610b613660046158a6565b612ce3565b348015610b7257600080fd5b506103e67f000000000000000000000000000000000000000000000000000000000000000081565b348015610ba657600080fd5b506002547a010000000000000000000000000000000000000000000000000000900461ffff166103e6565b348015610bdd57600080fd5b506103e6610bec3660046157a1565b600d6020526000908152604090205481565b348015610c0a57600080fd5b506103e67ff94103142c1baabe9ac2b5d1487bf783de9e69cfeea9a72f5c9c94afd7877b8c81565b348015610c3e57600080fd5b50610441610c4d3660046157a1565b612d09565b348015610c5e57600080fd5b50610479610c6d3660046157a1565b612d43565b348015610c7e57600080fd5b506103e67fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e81565b348015610cb257600080fd5b506103e6610cc13660046157a1565b600f6020526000908152604090205481565b348015610cdf57600080fd5b50610479610cee366004615a0f565b612d8e565b348015610cff57600080fd5b50610479610d0e36600461591c565b612f23565b60007fffffffff0000000000000000000000000000000000000000000000000000000082167f7965db0b000000000000000000000000000000000000000000000000000000001480610da657507f01ffc9a7000000000000000000000000000000000000000000000000000000007fffffffff000000000000000000000000000000000000000000000000000000008316145b92915050565b600254600090610de79061ffff7a0100000000000000000000000000000000000000000000000000008204811691600160c01b900416615a91565b61ffff16905090565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e610e1a8161312e565b600060028054600160e01b900460ff1690811115610e3a57610e3a615ab7565b14610e5857604051631e7b117d60e01b815260040160405180910390fd5b60028054819060ff60e01b1916600160e01b820217905550600254600160f01b900460ff1615158215151415610e8d57610f1a565b8115610ea9576011805463ffffffff19164263ffffffff161790555b60028054831515600160f01b027fff00ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9091161790556040517f99895cad53cbbff374fbe3c76182ad42a6cb1c0c7306d3b6651786e7154ccbe690610f1190841515815260200190565b60405180910390a15b600280546000919060ff60e01b1916600160e01b835b02179055505050565b600254600160e81b900460ff1615610f6457604051632a6ab56360e21b815260040160405180910390fd5b60408051858152602081018590523381830152905186917fb92710e3fad9222f817fcd828bd1ce3612ad0cd1c8bd5f3a3f4b8d85c4444621919081900360600190a25050505050565b60008281526001602081905260409091200154610fc98161312e565b610fd3838361313b565b505050565b6001600160a01b038116331461105b5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201527f20726f6c657320666f722073656c66000000000000000000000000000000000060648201526084015b60405180910390fd5b61106582826131c2565b5050565b600254600160e81b900460ff166110ac576040517f395fbd0500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b7f2fc10cc8ae19568712f7a176fb4978616a610650813c9d05326c34abb62749c76110d68161312e565b600060028054600160e01b900460ff16908111156110f6576110f6615ab7565b1461111457604051631e7b117d60e01b815260040160405180910390fd5b600280547fffff0000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff16600160e11b1790556040513381527f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa906020015b60405180910390a1506002805460ff60e01b19169055565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e6111b08161312e565b600060028054600160e01b900460ff16908111156111d0576111d0615ab7565b146111ee57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b611229576040516310a0493960e11b815260040160405180910390fd5b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0384169081179091556040517fd24015cc99cc1700cafca3042840a1d8ac1e3964fd2e0e37ea29c654056ee32790600090a2600280546000919060ff60e01b1916600160e01b83610f30565b600081631fffffff8111156112bf57604051630104ef3360e21b815260040160405180910390fd5b826112cd576000915061133d565b600060036112dc600186615acd565b815481106112ec576112ec615ae4565b6000918252602090912001546001600160a01b031690508061133a576040517ffc3be2bc00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b91505b50919050565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e61136d8161312e565b600060028054600160e01b900460ff169081111561138d5761138d615ab7565b146113ab57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b179055601180547fffffffffffffffffffffffffffffffffffffffffffffffff00000000ffffffff1664010000000063ffffffff8516908102919091179091556040519081527f536948e5a71b8ffbb707a6903b99b812c8c291a711ed188e54d36505127d1c3590602001610f11565b600254600160e81b900460ff161561145657604051632a6ab56360e21b815260040160405180910390fd5b600060028054600160e01b900460ff169081111561147657611476615ab7565b1461149457604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b179055831580156114b55750823414155b156114ec576040517ff2be5ced00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b83158015906114fa57503415155b15611531576040517fd08ba85b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61153c848385613245565b801561154b5761154b81612d43565b816001600160a01b0316847feaa18152488ce5959073c9c79c88ca90b3d96c00de1f118cfaad664c3dab06b98560405161158791815260200190565b60405180910390a383156116725760006115a085611297565b6040517fdd62ed3e00000000000000000000000000000000000000000000000000000000815233600482015230602482015290915084906001600160a01b0383169063dd62ed3e90604401602060405180830381865afa158015611608573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061162c9190615afa565b1015611664576040517f7bf8af0300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b611670813330876135f6565b505b600280546000919060ff60e01b1916600160e01b835b021790555050505050565b6002600054610100900460ff161580156116b4575060005460ff8083169116105b6117265760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401611052565b806000806101000a81548160ff021916908360ff1602179055506001600060016101000a81548160ff02191690831515021790555060016002600001601e6101000a81548160ff02191690831515021790555042601160006101000a81548163ffffffff021916908363ffffffff1602179055506040518060a00160405280683635c9adc5dea000006001600160801b031681526020014263ffffffff168152602001600663ffffffff1681526020016103e863ffffffff168152602001601260ff168152506012600080815260200190815260200160002060008201518160000160006101000a8154816001600160801b0302191690836001600160801b0316021790555060208201518160000160106101000a81548163ffffffff021916908363ffffffff16021790555060408201518160000160146101000a81548163ffffffff021916908363ffffffff16021790555060608201518160000160186101000a81548163ffffffff021916908363ffffffff160217905550608082015181600001601c6101000a81548160ff021916908360ff1602179055509050506040518060a0016040528069d3c21bcecceda10000006001600160801b031681526020014263ffffffff16815260200161277463ffffffff168152602001620f424063ffffffff168152602001601260ff16815250601260006001815260200190815260200160002060008201518160000160006101000a8154816001600160801b0302191690836001600160801b0316021790555060208201518160000160106101000a81548163ffffffff021916908363ffffffff16021790555060408201518160000160146101000a81548163ffffffff021916908363ffffffff16021790555060608201518160000160186101000a81548163ffffffff021916908363ffffffff160217905550608082015181600001601c6101000a81548160ff021916908360ff1602179055509050507f2c87e4aece114a15933668e808bd3756196c2fb05a4902851081ed8584f8690e600060066103e8604051611a3c939291909283526020830191909152604082015260600190565b60405180910390a160408051600181526127746020820152620f42408183015290517f2c87e4aece114a15933668e808bd3756196c2fb05a4902851081ed8584f8690e9181900360600190a1600080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00ff16905560405160ff821681527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a150565b600254600090600160e81b900460ff1615611b1757604051632a6ab56360e21b815260040160405180910390fd5b600254600160e01b900460ff166001816002811115611b3857611b38615ab7565b1415611f3c576000838152600c60205260409020805460019091015481611b8b576040517f973e3ae300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000611b9683613675565b9050600080600080611ba8858b6138e5565b60046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19a63ffffffff8c160154939750919550935091506001600160a01b031680611c21576040517fbb65988600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600c60008d815260200190815260200160002060000181905550600060405180606001604052808981526020018d81526020018860c0015167ffffffffffffffff1681525090506000806000846001600160a01b0316639b07d3428a8a8a8a89602001518a604001516040518763ffffffff1660e01b8152600401611cad96959493929190615b58565b6060604051808303816000875af1158015611ccc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611cf09190615bb2565b92509250925080611d26575050506020908101516000908152600c90915260408120989098555095975061133d95505050505050565b600082118015611d4b5750600086604001516003811115611d4957611d49615ab7565b145b15611d85576040517f26e939c600000000000000000000000000000000000000000000000000000000815260048101839052602401611052565b82158015611d91575081155b15611dc357611daa858a86600001518760200151613bcb565b611dbe858986600001518760200151613bcb565b611de3565b611dd38588858760200151613bcb565b611de38587848760200151613bcb565b6000845160208601516000851460008714161592506040518f81528160208201528260408201528660608201528560808201528360a08201526020600060c08360025afa505050507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051066002548060c01c6103ff168160d01c6103ff166102008183600101011115611e8357632c52558760e11b60005260046000fd5b50600081815260056020908152604080832095909555600190920160c090811b7ffffffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffff909416939093176002558882015189518551908152928301899052938201879052841515606083015260a0608083018190528201528f917f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c910160405180910390a360019e505050505050505050505050505061133d565b6000816002811115611f5057611f50615ab7565b1415612376576002805460ff60e01b1916600160e01b1790556000838152600c6020526040902080546001919091015481611fb7576040517f973e3ae300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000611fc283613675565b9050600080600080611fd4858b6138e5565b60046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19a63ffffffff8c160154939750919550935091506001600160a01b03168061204d576040517fbb65988600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600c60008d815260200190815260200160002060000181905550600060405180606001604052808981526020018d81526020018860c0015167ffffffffffffffff1681525090506000806000846001600160a01b0316639b07d3428a8a8a8a89602001518a604001516040518763ffffffff1660e01b81526004016120d996959493929190615b58565b6060604051808303816000875af11580156120f8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061211c9190615bb2565b92509250925080612152575050506020908101516000908152600c90915260408120989098555095975061236495505050505050565b600082118015612177575060008660400151600381111561217557612175615ab7565b145b156121b1576040517f26e939c600000000000000000000000000000000000000000000000000000000815260048101839052602401611052565b821580156121bd575081155b156121ef576121d6858a86600001518760200151613bcb565b6121ea858986600001518760200151613bcb565b61220f565b6121ff8588858760200151613bcb565b61220f8587848760200151613bcb565b6000845160208601516000851460008714161592506040518f81528160208201528260408201528660608201528560808201528360a08201526020600060c08360025afa505050507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051066002548060c01c6103ff168160d01c6103ff1661020081836001010111156122af57632c52558760e11b60005260046000fd5b50600081815260056020908152604080832095909555600190920160c090811b7ffffffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffff909416939093176002558882015189518551908152928301899052938201879052841515606083015260a0608083018190528201528f917f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c910160405180910390a360019e50505050505050505050505050505b6002805460ff60e01b1916905561133d565b604051631e7b117d60e01b815260040160405180910390fd5b600254600160e81b900460ff16156123ba57604051632a6ab56360e21b815260040160405180910390fd5b7fbf233dd2aafeb4d50879c4aa5c81e96d92f6e6945c906a58f9f2d1c1631b4b266123e48161312e565b600060028054600160e01b900460ff169081111561240457612404615ab7565b1461242257604051631e7b117d60e01b815260040160405180910390fd5b600280547fffff0000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff167d0102000000000000000000000000000000000000000000000000000000001790556040513381527f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a2589060200161116e565b600254600160e81b900460ff16156124c557604051632a6ab56360e21b815260040160405180910390fd5b3360009081527f65ab7acc1bb8390bd4d3ba8eb4987cf212c814cedeacf3ad4b0583b29d65f538602052604090205460ff1615801561250e5750600a54600160a01b900460ff16155b15612545576040517f11d74fb800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600060028054600160e01b900460ff169081111561256557612565615ab7565b1461258357604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b6125be576040516310a0493960e11b815260040160405180910390fd5b6188b88110806125d05750624c4b4081115b15612607576040517f037bbe6d00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600480546001810182557f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03851690811790915590546000818152600f6020908152604091829020859055905184815291929183917f0e62be7fe47a9095143143f8ee61bab3ade27b661223fed33e16122ffe1f284d91015b60405180910390a350600280546000919060ff60e01b1916600160e01b83610f30565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e6126ee8161312e565b600060028054600160e01b900460ff169081111561270e5761270e615ab7565b1461272c57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0383166000818152600b6020908152604091829020805460ff1916861515908117909155825190815291517f46359ce9dbb6c7f9a375b44072210287916d3de725fc8927a8e762047e4a84249281900390910190a250506002805460ff60e01b1916905550565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e6127d78161312e565b600060028054600160e01b900460ff16908111156127f7576127f7615ab7565b1461281557604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b179055600a8054831515600160a01b81027fffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffff909216919091179091556040519081527fad6b1fc8881be24fc1ad35119b136f0026a4496e6251980e325ddcf86dab394390602001610f11565b7ff94103142c1baabe9ac2b5d1487bf783de9e69cfeea9a72f5c9c94afd7877b8c6128bb8161312e565b600060028054600160e01b900460ff16908111156128db576128db615ab7565b146128f957604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556040805160a081019091528061293b61292685600a615ccf565b6129369063ffffffff8816615cde565b613c86565b6001600160801b03908116825263ffffffff4281166020808501919091528882166040808601829052898416606080880182905260ff8b81166080998a015260008f8152601287528490208a5181548c8901518d8801518e8701519e909d0151909416600160e01b0260ff60e01b199d8b16600160c01b027fffffffff00000000ffffffffffffffffffffffffffffffffffffffffffffffff9d8c16600160a01b029d909d167fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff95909b167001000000000000000000000000000000000273ffffffffffffffffffffffffffffffffffffffff1990921692909b169190911717919091169690961797909717979097169490941790925582518a815290810191909152908101929092527f2c87e4aece114a15933668e808bd3756196c2fb05a4902851081ed8584f8690e910160405180910390a150506002805460ff60e01b19169055505050565b60008043817f0000000000000000000000000000000000000000000000000000000000000000612af47f000000000000000000000000000000000000000000000000000000000000000084615d13565b1015905060008115612b8457601154612b1d9063ffffffff640100000000820481169116615d27565b421015612b2957600091505b612b537f000000000000000000000000000000000000000000000000000000000000000084615d13565b612b7d907f0000000000000000000000000000000000000000000000000000000000000000615acd565b9050612bdb565b612bae7f000000000000000000000000000000000000000000000000000000000000000084615d13565b612bd8907f0000000000000000000000000000000000000000000000000000000000000000615acd565b90505b9094909350915050565b7fb19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e612c0f8161312e565b600060028054600160e01b900460ff1690811115612c2f57612c2f615ab7565b14612c4d57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b612c88576040516310a0493960e11b815260040160405180910390fd5b600a805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0384169081179091556040519081527fc4fc5cbf094d63a6fb20dc7cb9b0236e7dba8c04667182ec259a00a74f95901890602001610f11565b60008281526001602081905260409091200154612cff8161312e565b610fd383836131c2565b60006004612d18600184615acd565b81548110612d2857612d28615ae4565b6000918252602090912001546001600160a01b031692915050565b600254600160e81b900460ff1615612d6e57604051632a6ab56360e21b815260040160405180910390fd5b336000526008602052604060002060205280600052600160406000205550565b600254600160e81b900460ff1615612db957604051632a6ab56360e21b815260040160405180910390fd5b600060028054600160e01b900460ff1690811115612dd957612dd9615ab7565b14612df757604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e01b179055336000908152600b602052604090205460ff1615612e4f57600254600160f01b900460ff1615612e4a576011805463ffffffff19164263ffffffff161790555b612e95565b6000612e59612aa4565b50905080612e93576040517f83633aab00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b505b6000806000612ea2613ccd565b9250925092506000612eb384614069565b9050612efa8487878080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250879150869050614088565b612f0484826140f2565b5050600280546000935090915060ff60e01b1916600160e01b83611688565b600254600160e81b900460ff1615612f4e57604051632a6ab56360e21b815260040160405180910390fd5b3360009081527f65ab7acc1bb8390bd4d3ba8eb4987cf212c814cedeacf3ad4b0583b29d65f538602052604090205460ff16158015612f975750600a54600160a01b900460ff16155b15612fce576040517f11d74fb800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600060028054600160e01b900460ff1690811115612fee57612fee615ab7565b1461300c57604051631e7b117d60e01b815260040160405180910390fd5b6002805460ff60e01b1916600160e11b1790556001600160a01b0382163b613047576040516310a0493960e11b815260040160405180910390fd5b61d6d881108061305957506216e36081115b15613090576040517f11e80d6c00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600380546001810182557fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b01805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b03851690811790915590546000818152600e6020908152604091829020859055905184815291929183917f85ac039d1da307b778050ca29271ac915424bac011342c9452960f6679b18ff091016126a1565b6131388133614177565b50565b60008281526001602090815260408083206001600160a01b038516845290915290205460ff166110655760008281526001602081815260408084206001600160a01b0386168086529252808420805460ff19169093179092559051339285917f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d9190a45050565b60008281526001602090815260408083206001600160a01b038516845290915290205460ff16156110655760008281526001602090815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b82631fffffff81111561326b57604051630104ef3360e21b815260040160405180910390fd5b60008481526007602090815260408083206001600160a01b0387168452909152902054600254600160f01b900460ff16156135be576000858152601260209081526040808320815160a08101835290546001600160801b038116825263ffffffff7001000000000000000000000000000000008204811694830194909452600160a01b8104841692820192909252600160c01b8204909216606083015260ff600160e01b909104166080820181905290919061332890600a615ccf565b9050816040015163ffffffff1660001480613360575080826040015163ffffffff166133549190615cde565b61335e8685615d27565b115b15613397576040517ffb1837c600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b606082015163ffffffff166133d8576040517fd014828600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600081836060015163ffffffff166133f09190615cde565b905060006134016201518083615d3f565b9050613426846020015163ffffffff164261341c9190615acd565b6129369083615cde565b84518590613435908390615d53565b6001600160801b0390811690915285511683101590506134645761345882613c86565b6001600160801b031684525b83516001600160801b03168711156134a8576040517fd014828600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6134b187613c86565b845185906134c0908390615d75565b6001600160801b0390811690915263ffffffff428116602080890191825260008e81526012909152604090819020895181549351928b015160608c015160808d015160ff16600160e01b0260ff60e01b19918816600160c01b027fffffffff00000000ffffffffffffffffffffffffffffffffffffffffffffffff938916600160a01b02939093167fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff969098167001000000000000000000000000000000000273ffffffffffffffffffffffffffffffffffffffff199097169390981692909217949094179290921693909317919091171691909117905550505050505b6135c88382615d27565b60009586526007602090815260408088206001600160a01b0390971688529590529390942092909255505050565b6040517f23b872dd000000000000000000000000000000000000000000000000000000008152836004820152826024820152816044820152843b613645576310a0493960e11b60005260046000fd5b602060006064836000895af190506001600051163d151780821661366d573d6000803e3d6000fd5b505050505050565b604080516101c081018252600060208083018290526101a083019190915263ffffffff8416808352633fffffff9185901c821693830193909352603e84901c81166060830152605c84901c81166080830152607a84901c1660a082015267ffffffffffffffff60b884901c1660c08201526001603d84901c811660e0830152605b84901c8116610100830152607984901c8116610120830152609784901c8116610140830152609884901c81168114610160830152609984901c81168114610180830152909160049161374791615acd565b8154811061375757613757615ae4565b60009182526020808320909101546001600160a01b03168382015282518252600f905260409020546101a082015261016081015115801561379c575060008160600151115b156137d3576040517f3448066300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8061018001511580156137ea575060008160a00151115b15613821576040517f3448066300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b806101600151801561383a575080606001518160400151145b156138795780604001516040517f760558e800000000000000000000000000000000000000000000000000000000815260040161105291815260200190565b600081610180015180156138905750816101400151155b90508080156138a657508160a001518260800151145b1561133d5781608001516040517ff23e3f9500000000000000000000000000000000000000000000000000000000815260040161105291815260200190565b61390660408051606081018252600080825260208201819052909182015290565b61392760408051606081018252600080825260208201819052909182015290565b61394860408051606081018252600080825260208201819052909182015290565b61396960408051606081018252600080825260208201819052909182015290565b8560e001511561399c57632000000086604001516139879190615acd565b845260006020850152600360408501526139fa565b6040860180518552516139ae90611297565b6001600160a01b031660208501819052156139ca5760026139cd565b60015b846040019060038111156139e3576139e3615ab7565b908160038111156139f6576139f6615ab7565b9052505b85610120015115613a1b578482526000602083015260036040830152613a79565b608086018051835251613a2d90611297565b6001600160a01b03166020830181905215613a49576002613a4c565b60015b82604001906003811115613a6257613a62615ab7565b90816003811115613a7557613a75615ab7565b9052505b85610100015115613ac35763200000008660600151613a989190615acd565b8352600060208401526040830160035b90816003811115613abb57613abb615ab7565b905250613b27565b85610160015115613b1557606086018051845251613ae090611297565b6001600160a01b03166020840181905215613afc576002613aff565b60015b83604001906003811115613aa857613aa8615ab7565b60008084526020840181905260408401525b85610140015115613b5e57848152600060208201526040810160035b90816003811115613b5657613b56615ab7565b905250613bc2565b85610180015115613bb05760a086018051825251613b7b90611297565b6001600160a01b03166020820181905215613b97576002613b9a565b60015b81604001906003811115613b4357613b43615ab7565b60008082526020820181905260408201525b92959194509250565b81613bd557613c80565b600183604001516003811115613bed57613bed615ab7565b1415613c4f576000818152600d6020526040902054821115613c3b576040517fcbbf6eca00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000818152600d6020526040812055613c80565b600283604001516003811115613c6757613c67615ab7565b1415613c80576020830151613c7e818630866135f6565b505b50505050565b60006001600160801b03821115613cc9576040517f7a781de100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5090565b6040805161010080820183526141ec82526141f360208084018290528385019190915261421e606084018190526080840181905260a0840181905260c084015261423360e084015283516111c46004359081013560448201359081046111c883013563ffffffff908116828104808402821415019092029096028481016111e0019098526111c08881018086529498919760009795968a0195602486019589948594615755949391926111cc013590911690888a376111c098909801976111a9888101988a97509091010193505b86841115613dd15760078735168089528060051b830151935050613dc387898563ffffffff16565b965061010088019750613d9b565b505050506111c088810151604051600092828604808c048082028d1415019384900393909261010084029260043560240182376111c08101905060208202810191505b81811015613e635760206000848960025afa613e2f57600080fd5b6000517f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000019006815295820195602001613e14565b8415613fe057600092508360208114613eaf5760108114613ed75760408114613eff5760018114613f275760028114613f4f5760048114613f775760088114613f9f5760019650613fc3565b7f0df0e06ab8a02ce2ff08babd7144ab23ca2e99ddf318080cf88602eeb8913d449350613fc3565b7f1c52c159b4dae66c3dcf33b44d4d61ead6bc4d260f882ac6ba34dccf78892ca49350613fc3565b7f1f83672815ac9b3ca31732d641784035834e96b269eaf6a2e759bf4fcc8e5bfd9350613fc3565b7f22dd983f8337d97d56071f7986209ab2ee6039a422242e89126701c6ee005af09350613fc3565b7f076a27c79e5ace2a3d47f9dd2e83e4ff6ea8872b3c2218f66c92b89b55f365609350613fc3565b7f2f0c70a5bf5460465e9902f9c96be324e8064e762a5de52589fdb97cbce3c6ee9350613fc3565b7f240ed0de145447ff0ceff2aa477f43e0e2ed7f3543ee3d8832f158ec76b183a993505b5060208502820191505b81811015613fe057828152602001613fcd565b6040519450602060008683038760025afa613ffa57600080fd5b50505050507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051069650801561405e576040517f3259ec1e00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b505050505050909192565b6111a08101516001600160a01b0381111561408357600080fd5b919050565b60006140948684614267565b90506140a1868587614338565b60006140ad8784614400565b9050817f14054a15b39bfd65ec00fc6d15c7e5f9cbc1dc6f452cbefa359b4da61ad89fb682336040516140e1929190615d9d565b60405180910390a250505050505050565b60005b6010811015610fd3576000614111848360200201610b80015190565b9050801561416e576000614125858461493e565b90508061413e57600080600080858861c350f15061416c565b600061414982611297565b905061416a818685600e60008781526020019081526020016000205461495a565b505b505b506001016140f5565b60008281526001602090815260408083206001600160a01b038516845290915290205460ff16611065576141aa816149aa565b6141b58360206149bc565b6040516020016141c6929190615e1d565b60408051601f198184030181529082905262461bcd60e51b825261105291600401615e9e565b5060010190565b600060a0602084016020840137601460c0840160cc840137600460d4840160fc840137505060b90190565b60006080602084016020840137505060810190565b60006040517fd0426f7b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60405160009063ffffffff600480356111cc810135929092168083016111ec01939290910135037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee38019060ac815360316001820153608c6002820153605d600382015360406004820152846024820152816044820152818360648301376001600160a01b03600254169250823b614309576310a0493960e11b60005260046000fd5b6000806064840183865afa9250505080614327573d6000803e3d6000fd5b5061433183614be5565b9392505050565b60006111e08085019061010085028601015b8082101561366d5760a082015180156143f357825160e084015160c085015160018314156143db5761010086206001600160a01b038216600090815260086020908152604080832084845290915290205460ff166143ce5788880180516060825260006143b684614d98565b90506143c3818487614eb1565b509052606097909701965b6143d9838387614ffd565b505b82600214156143ef576143ef84828461507e565b5050505b610100830192505061434a565b606060008061441185611180015190565b9050601054811461445c576010546040517f88011dd6000000000000000000000000000000000000000000000000000000008152611052918391600401918252602082015260400190565b6000614466615101565b90935090506144758184615acd565b600280547ffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffffffff1660d083901b1790556020878101519194506000935091506144bc9190615cde565b6040805160808082018352600080835260208301819052828401819052606090920182905282519081019092529192506101808701915b6020811015614870578251806145095750614870565b61040084015180614546576040517fb246041300000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600061455183613675565b9050600080600080614563858c6138e5565b93509350935093506040517f4bd947a800000000000000000000000000000000000000000000000000000000815260048101905060208601518082525084516020820152602085015160408201526040850151606082015283516080820152602084015160a0820152604084015160c0820152825160e082015260208301516101008201526040830151610120820152815161014082015260208201516101608201526040820151610180820152866101a08201528b6101c082015260c0860151806101e083015250600d6102008201528e610220820152600a54803b614655576310a0493960e11b60005260046000fd5b60008061024460048503846101a08c0151f490503d6000833e80600181146146955760008c52600060208d0152600060408d0152600060608d01526146b5565b82518c52602083015160208d0152604083015160408d0152600160608d01525b5050508461018001516146ca57600060208a01525b60408901516001811461480a576040518781528a51602082015260208b0151604082015260608b0151606082015260a0608082015260608b01511561473857600060a08201528c897f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c60c084a35b60608b0151614792573d60a08201523d602081066020038115150281600060c085013e60008260c0018401528e8b7f692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c83850160c00186a350505b8881528c60208201528760408201528a51606082015260208b0151608082015260608b015160a08201526020600060c08360025afa50507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001600051068d6000526006602052806040600020555060018d019c50614851565b6040518781528c897f38ce48f4c2f3454bcf130721f25a4262b2ff2c8e36af937b30edf01ba481eb1d602084a3508b600052600c6020526040600020888155876001820155505b5060018b019a5060208a019950876001019750505050505050506144f3565b506002548060c01c6103ff166103ff86820111801561489a57632c52558760e11b60005260046000fd5b506040516006602052600560605260005b828110156148cf5787810160009081526040828152808020549120556001016148ab565b506040527ffffffffffffffc00ffffffffffffffffffffffffffffffffffffffffffffffff90860160d01b167ffffffffffc00fc00ffffffffffffffffffffffffffffffffffffffffffffffff9091161760025560008061492e615123565b6010559998505050505050505050565b602081028201610980015163ffffffff811115610da657600080fd5b5a81156149645750805b6040517fa9059cbb00000000000000000000000000000000000000000000000000000000815284600482015283602482015260008060448360008a87f150505050505050565b6060610da66001600160a01b03831660145b606060006149cb836002615cde565b6149d6906002615d27565b67ffffffffffffffff8111156149ee576149ee615ed1565b6040519080825280601f01601f191660200182016040528015614a18576020820181803683370190505b5090507f300000000000000000000000000000000000000000000000000000000000000081600081518110614a4f57614a4f615ae4565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f780000000000000000000000000000000000000000000000000000000000000081600181518110614ab257614ab2615ae4565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506000614aee846002615cde565b614af9906001615d27565b90505b6001811115614b96577f303132333435363738396162636465660000000000000000000000000000000085600f1660108110614b3a57614b3a615ae4565b1a60f81b828281518110614b5057614b50615ae4565b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060049490941c93614b8f81615ee7565b9050614afc565b5083156143315760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e746044820152606401611052565b600080600080600080614bf7876151ff565b945094509450945094506009548414614c46576040517f34fddf400000000000000000000000000000000000000000000000000000000081526004810185905260248101849052604401611052565b60025463ffffffff600160a01b90910481169083168181614c6957614c69615cfd565b0663ffffffff1660001415614cd2578063ffffffff168263ffffffff1614614ccd576040517f7861e6c600000000000000000000000000000000000000000000000000000000815263ffffffff808416600483015282166024820152604401611052565b614d4c565b60008363ffffffff168263ffffffff1681614cef57614cef615cfd565b068483010363ffffffff169050808363ffffffff1614614d4a576040517f7861e6c600000000000000000000000000000000000000000000000000000000815263ffffffff8416600482015260248101829052604401611052565b505b506009929092556002805463ffffffff9390920192909216600160a01b027fffffffffffffffff00000000ffffffffffffffffffffffffffffffffffffffff9091161790555092915050565b600080614da4836152a8565b90506040517f19457468657265756d205369676e6564204d6573736167653a0a32313000000060208201527f5369676e696e672074686973206d6573736167652077696c6c20616c6c6f7720603d8201527f796f75722070656e64696e672066756e647320746f206265207370656e742069605d8201527f6e20417a746563207472616e73616374696f6e3a0a0a30780000000000000000607d82015260208201516095820152604082015160b58201527f0a0a494d504f5254414e543a204f6e6c79207369676e20746865206d6573736160d58201527f676520696620796f752074727573742074686520636c69656e7400000000000060f582015260ef602082012092505050919050565b6000806001600160a01b038316614ef4576040517fd57e351000000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8351858552606085015160408601518060608801526020870151604088015281602088015260208760808960015afa601c8314601b84141760608514167f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a183101616945050508451861460008114614f6b57614f70565b855192505b508452801519919091169081614fb2576040517f8a3e28aa00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b826001600160a01b0316816001600160a01b031614613c7e576040517fa3402a3800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b82631fffffff81111561502357604051630104ef3360e21b815260040160405180910390fd5b60008481526007602090815260408083209091528482529020805483810390915582118015613c7e576040517f8e8af4f900000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6001600160a01b0382166150be576040517f6df19fea00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b806150d5576000806000808686617530f150505050565b60006150e082611297565b9050613c80818486600e60008781526020019081526020016000205461495a565b6002546103ff60d082901c16908190602082111561511e57602091505b509091565b60606000806000615132615101565b909250905060006151438284615acd565b90506040519450602085016020610400018601604052828652600660205260005b83811015615188578281016000908152604090205460208202830152600101615164565b5b60208110156151c2577f2d25a1e3a51eb293004c4b56abe12ed0da6bca2b4a21936752a85d102593c1b460208202830152600101615189565b50602060006104008360025afa50507f30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f00000016000510693505050509091565b604081015160608201516000918291829160011b906020860163ffffffff808411908311171561522e57600080fd5b805195506040518681526060820151602082015260a0820151604082015260e08201516060820152610120820151608082015260a0812095506001870181526080820151602082015260c082015160408201526101008201516060820152610140820151608082015260a081209450505091939590929450565b606081615310576040519050604081527f303030303030303030303030303030303030303030303030303030303030303060208201527f3030303030303030303030303030303030303030303030303030303030303030604082015260608101604052919050565b506040517f3030303130323033303430353036303730383039306130623063306430653066607e8201527f3130313131323133313431353136313731383139316131623163316431653166609e8201527f323032313232323332343235323632373238323932613262326332643265326660be8201527f333033313332333333343335333633373338333933613362336333643365336660de8201527f343034313432343334343435343634373438343934613462346334643465346660fe8201527f353035313532353335343535353635373538353935613562356335643565356661011e8201527f363036313632363336343635363636373638363936613662366336643665366661013e8201527f373037313732373337343735373637373738373937613762376337643765376661015e8201527f383038313832383338343835383638373838383938613862386338643865386661017e8201527f393039313932393339343935393639373938393939613962396339643965396661019e8201527f61306131613261336134613561366137613861396161616261636164616561666101be8201527f62306231623262336234623562366237623862396261626262636264626562666101de8201527f63306331633263336334633563366337633863396361636263636364636563666101fe8201527f643064316432643364346435643664376438643964616462646364646465646661021e8201527f653065316532653365346535653665376538653965616562656365646565656661023e8201527f663066316632663366346635663666376638663966616662666366646665666661025e820152606081018260408352600181901b6101fe908116830151601e52600782901c8116830151601c52600f82901c8116830151601a52601782901c8116830151601852601f82901c8116830151601652602782901c8116830151601452602f82901c8116830151601252603782901c8116830151601052603f82901c8116830151600e52604782901c8116830151600c52604f82901c8116830151600a52605782901c8116830151600852605f82901c8116830151600652606782901c8116830151600452606f82901c8116830151600252607782901c16820151600052601e51604084015260801c61573f82826101fe600182901b8116830151601e52600782901c8116830151601c52600f82901c8116830151601a52601782901c8116830151601852601f82901c8116830151601652602782901c8116830151601452602f82901c8116830151601252603782901c8116830151601052603f82901c8116830151600e52604782901c8116830151600c52604f82901c8116830151600a52605782901c8116830151600852605f82901c8116830151600652606782901c8116830151600452606f82901c811683015160025260779190911c160151600052565b5050601e51602082015260608101604052919050565b61575d615efe565b565b60006020828403121561577157600080fd5b81357fffffffff000000000000000000000000000000000000000000000000000000008116811461433157600080fd5b6000602082840312156157b357600080fd5b5035919050565b801515811461313857600080fd5b6000602082840312156157da57600080fd5b8135614331816157ba565b60008083601f8401126157f757600080fd5b50813567ffffffffffffffff81111561580f57600080fd5b60208301915083602082850101111561582757600080fd5b9250929050565b60008060008060006080868803121561584657600080fd5b853594506020860135935060408601359250606086013567ffffffffffffffff81111561587257600080fd5b61587e888289016157e5565b969995985093965092949392505050565b80356001600160a01b038116811461408357600080fd5b600080604083850312156158b957600080fd5b823591506158c96020840161588f565b90509250929050565b6000602082840312156158e457600080fd5b6143318261588f565b803563ffffffff8116811461408357600080fd5b60006020828403121561591357600080fd5b614331826158ed565b6000806040838503121561592f57600080fd5b6159388361588f565b946020939093013593505050565b6000806000806080858703121561595c57600080fd5b84359350602085013592506159736040860161588f565b9396929550929360600135925050565b6000806040838503121561599657600080fd5b61599f8361588f565b915060208301356159af816157ba565b809150509250929050565b600080600080608085870312156159d057600080fd5b843593506159e0602086016158ed565b92506159ee604086016158ed565b9150606085013560ff81168114615a0457600080fd5b939692955090935050565b60008060008060408587031215615a2557600080fd5b843567ffffffffffffffff80821115615a3d57600080fd5b615a49888389016157e5565b90965094506020870135915080821115615a6257600080fd5b50615a6f878288016157e5565b95989497509550505050565b634e487b7160e01b600052601160045260246000fd5b600061ffff808316818516808303821115615aae57615aae615a7b565b01949350505050565b634e487b7160e01b600052602160045260246000fd5b600082821015615adf57615adf615a7b565b500390565b634e487b7160e01b600052603260045260246000fd5b600060208284031215615b0c57600080fd5b5051919050565b805182526001600160a01b036020820151166020830152604081015160048110615b4d57634e487b7160e01b600052602160045260246000fd5b806040840152505050565b6101c08101615b678289615b13565b615b746060830188615b13565b615b8160c0830187615b13565b615b8f610120830186615b13565b8361018083015267ffffffffffffffff83166101a0830152979650505050505050565b600080600060608486031215615bc757600080fd5b83519250602084015191506040840151615be0816157ba565b809150509250925092565b600181815b80851115615c26578160001904821115615c0c57615c0c615a7b565b80851615615c1957918102915b93841c9390800290615bf0565b509250929050565b600082615c3d57506001610da6565b81615c4a57506000610da6565b8160018114615c605760028114615c6a57615c86565b6001915050610da6565b60ff841115615c7b57615c7b615a7b565b50506001821b610da6565b5060208310610133831016604e8410600b8410161715615ca9575081810a610da6565b615cb38383615beb565b8060001904821115615cc757615cc7615a7b565b029392505050565b600061433160ff841683615c2e565b6000816000190483118215151615615cf857615cf8615a7b565b500290565b634e487b7160e01b600052601260045260246000fd5b600082615d2257615d22615cfd565b500690565b60008219821115615d3a57615d3a615a7b565b500190565b600082615d4e57615d4e615cfd565b500490565b60006001600160801b03808316818516808303821115615aae57615aae615a7b565b60006001600160801b0383811690831681811015615d9557615d95615a7b565b039392505050565b604080825283519082018190526000906020906060840190828701845b82811015615dd657815184529284019290840190600101615dba565b5050506001600160a01b039490941692019190915250919050565b60005b83811015615e0c578181015183820152602001615df4565b83811115613c805750506000910152565b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000815260008351615e55816017850160208801615df1565b7f206973206d697373696e6720726f6c65200000000000000000000000000000006017918401918201528351615e92816028840160208801615df1565b01602801949350505050565b6020815260008251806020840152615ebd816040850160208701615df1565b601f01601f19169190910160400192915050565b634e487b7160e01b600052604160045260246000fd5b600081615ef657615ef6615a7b565b506000190190565b634e487b7160e01b600052605160045260246000fdfea26469706673582212205b2062ba643b054618e4c3a88f6ea54b46e657df50c2bf6e1e5c0820877743c064736f6c634300080a0033","sourceMap":"1091:102992:119:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2606:202:78;;;;;;;;;;-1:-1:-1;2606:202:78;;;;;:::i;:::-;;:::i;:::-;;;516:14:173;;509:22;491:41;;479:2;464:18;2606:202:78;;;;;;;;63990:210:119;;;;;;;;;;;;;:::i;:::-;;;689:25:173;;;677:2;662:18;63990:210:119;543:177:173;15161:49:119;;;;;;;;;;-1:-1:-1;15161:49:119;;;;;:::i;:::-;;;;;;;;;;;;;;14227:57;;;;;;;;;;-1:-1:-1;14227:57:119;;;;-1:-1:-1;;;;;14227:57:119;;;;;;-1:-1:-1;;;;;1074:55:173;;;1056:74;;1044:2;1029:18;14227:57:119;910:226:173;21698:310:119;;;;;;;;;;-1:-1:-1;21698:310:119;;;;;:::i;:::-;;:::i;:::-;;29541:508;;;;;;:::i;:::-;29740:4;29733:31;;;29790:16;29784:4;29777:30;29848:4;29832:21;;30007:11;;30020;30003:29;29990:43;;29541:508;14117:57;;;;;;;;;;;;;;;;32906:274;;;;;;;;;;-1:-1:-1;32906:274:119;;;;;:::i;:::-;;:::i;15603:33::-;;;;;;;;;;-1:-1:-1;15603:33:119;;;;;;;;;;;2837:10:173;2825:23;;;2807:42;;2795:2;2780:18;15603:33:119;2663:192:173;12490:68:119;;;;;;;;;;;;12531:27;12490:68;;4378:129:78;;;;;;;;;;-1:-1:-1;4378:129:78;;;;;:::i;:::-;4452:7;4478:12;;;:6;:12;;;;;;;;:22;;;4378:129;64355:130:119;;;;;;;;;;-1:-1:-1;64457:11:119;:20;-1:-1:-1;;;;;64457:20:119;64355:130;;12632:62;;;;;;;;;;;;12670:24;12632:62;;4803:145:78;;;;;;;;;;-1:-1:-1;4803:145:78;;;;;:::i;:::-;;:::i;5912:214::-;;;;;;;;;;-1:-1:-1;5912:214:78;;;;;:::i;:::-;;:::i;13811:74:119:-;;;;;;;;;;-1:-1:-1;13811:74:119;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;21265:174;;;;;;;;;;;;;:::i;24095:305::-;;;;;;;;;;-1:-1:-1;24095:305:119;;;;;:::i;:::-;;:::i;14727:47::-;;;;;;;;;;-1:-1:-1;14727:47:119;;;;;:::i;:::-;;;;;;;;;;;;;;;;62717:125;;;;;;;;;;-1:-1:-1;62817:11:119;:18;-1:-1:-1;;;62817:18:119;;;;62717:125;;65651:569;;;;;;;;;;-1:-1:-1;65651:569:119;;;;;:::i;:::-;;:::i;23674:190::-;;;;;;;;;;-1:-1:-1;23674:190:119;;;;;:::i;:::-;;:::i;13996:73::-;;;;;;;;;;-1:-1:-1;13996:73:119;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;15450:66;;;;;;;;;;;;;;;;68254:169;;;;;;;;;;-1:-1:-1;68375:11:119;:41;-1:-1:-1;;;68375:41:119;;;;68254:169;;63046:133;;;;;;;;;;-1:-1:-1;63152:11:119;:20;-1:-1:-1;;;63152:20:119;;;;63046:133;;31286:1145;;;;;;:::i;:::-;;:::i;19864:867::-;;;;;;;;;;;;;:::i;33379:5970::-;;;;;;;;;;-1:-1:-1;33379:5970:119;;;;;:::i;:::-;;:::i;20994:175::-;;;;;;;;;;;;;:::i;26601:676::-;;;;;;;;;;-1:-1:-1;26601:676:119;;;;;:::i;:::-;;:::i;14859:79::-;;;;;;;;;;-1:-1:-1;14859:79:119;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;5400:25:173;;;5456:2;5441:18;;5434:34;;;;5373:18;14859:79:119;5226:248:173;2895:145:78;;;;;;;;;;-1:-1:-1;2895:145:78;;;;;:::i;:::-;2981:4;3004:12;;;:6;:12;;;;;;;;-1:-1:-1;;;;;3004:29:78;;;;;;;;;;;;;;;2895:145;22254:269:119;;;;;;;;;;-1:-1:-1;22254:269:119;;;;;:::i;:::-;;:::i;14457:36::-;;;;;;;;;;-1:-1:-1;14457:36:119;;;;-1:-1:-1;;;14457:36:119;;;;;;63338:126;;;;;;;;;;-1:-1:-1;63439:11:119;:18;-1:-1:-1;;;63439:18:119;;;;63338:126;;2027:49:78;;;;;;;;;;-1:-1:-1;2027:49:78;2072:4;2027:49;;24640:314:119;;;;;;;;;;-1:-1:-1;24640:314:119;;;;;:::i;:::-;;:::i;13653:56::-;;;;;;;;;;-1:-1:-1;13653:56:119;;;;;:::i;:::-;;;;;;;;;;;;;;64608:143;;;;;;;;;;-1:-1:-1;64721:16:119;:23;64608:143;;12737:46;;;;;;;;;;;;;;;22906:520;;;;;;;;;;-1:-1:-1;22906:520:119;;;;;:::i;:::-;;:::i;62465:105::-;;;;;;;;;;-1:-1:-1;62465:105:119;;62562:1;6428:36:173;;6416:2;6401:18;62465:105:119;6286:184:173;66438:790:119;;;;;;;;;;;;;:::i;:::-;;;;6668:14:173;;6661:22;6643:41;;6715:2;6700:18;;6693:34;;;;6616:18;66438:790:119;6475:258:173;65281:141:119;;;;;;;;;;-1:-1:-1;65393:15:119;:22;65281:141;;15776:40;;;;;;;;;;-1:-1:-1;15776:40:119;;;;;:::i;:::-;;;;;;;;;;;;-1:-1:-1;;;;;15776:40:119;;;;;;;;;;-1:-1:-1;;;15776:40:119;;;;;-1:-1:-1;;;15776:40:119;;;;;-1:-1:-1;;;15776:40:119;;;;;;;;;;-1:-1:-1;;;;;7005:47:173;;;6987:66;;7072:10;7118:15;;;7113:2;7098:18;;7091:43;7170:15;;;7150:18;;;7143:43;;;;7222:15;;;;7217:2;7202:18;;7195:43;7287:4;7275:17;7269:3;7254:19;;7247:46;6974:3;6959:19;15776:40:119;6738:561:173;15733:36:119;;;;;;;;;;-1:-1:-1;15733:36:119;;;;;;;;;;;25154:366;;;;;;;;;;-1:-1:-1;25154:366:119;;;;;:::i;:::-;;:::i;13438:61::-;;;;;;;;;;-1:-1:-1;13438:61:119;;;;;:::i;:::-;;;;;;;;;;;;;;5228:147:78;;;;;;;;;;-1:-1:-1;5228:147:78;;;;;:::i;:::-;;:::i;12789:46:119:-;;;;;;;;;;;;;;;67639:159;;;;;;;;;;-1:-1:-1;67755:11:119;:36;;;;;;67639:159;;15058:46;;;;;;;;;;-1:-1:-1;15058:46:119;;;;;:::i;:::-;;;;;;;;;;;;;;12564:62;;;;;;;;;;;;12602:24;12564:62;;64987:173;;;;;;;;;;-1:-1:-1;64987:173:119;;;;;:::i;:::-;;:::i;30323:476::-;;;;;;;;;;-1:-1:-1;30323:476:119;;;;;:::i;:::-;;:::i;12424:60::-;;;;;;;;;;;;12461:23;12424:60;;15274:50;;;;;;;;;;-1:-1:-1;15274:50:119;;;;;:::i;:::-;;;;;;;;;;;;;;28354:839;;;;;;;;;;-1:-1:-1;28354:839:119;;;;;:::i;:::-;;:::i;25747:631::-;;;;;;;;;;-1:-1:-1;25747:631:119;;;;;:::i;:::-;;:::i;2606:202:78:-;2691:4;2714:47;;;2729:32;2714:47;;:87;;-1:-1:-1;952:25:98;937:40;;;;2765:36:78;2707:94;2606:202;-1:-1:-1;;2606:202:78:o;63990:210:119:-;64157:11;:36;64087:7;;64113:80;;64157:36;;;;;;;-1:-1:-1;;;64113:41:119;;;:80;:::i;:::-;64106:87;;;;63990:210;:::o;21698:310::-;12461:23;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;16986:11;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16986:11:119;16967:30:::1;;::::0;;-1:-1:-1;21800:11:119::2;:18:::0;-1:-1:-1;;;21800:18:119;::::2;;;21787:31;;::::0;::::2;;;21783:44;;;21820:7;;21783:44;21841:9;21837:85;;;21866:19;:45:::0;;-1:-1:-1;;21866:45:119::2;21895:15;21866:45;;;::::0;;21837:85:::2;21932:11;:30:::0;;;::::2;;-1:-1:-1::0;;;21932:30:119::2;::::0;;;::::2;;::::0;;21977:24:::2;::::0;::::2;::::0;::::2;::::0;21953:9;516:14:173;509:22;491:41;;479:2;464:18;;351:187;21977:24:119::2;;;;;;;;17007:1;17018:11:::1;:32:::0;;17037:13:::1;::::0;17018:11;-1:-1:-1;;;;17018:32:119::1;-1:-1:-1::0;;;17037:13:119;17018:32:::1;;;;;;21698:310:::0;;:::o;32906:274::-;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;33116:57:::1;::::0;;8835:25:173;;;8891:2;8876:18;;8869:34;;;33162:10:119::1;8919:18:173::0;;;8912:83;33116:57:119;;33129:9;;33116:57:::1;::::0;;;;;8823:2:173;33116:57:119;;::::1;32906:274:::0;;;;;:::o;4803:145:78:-;4452:7;4478:12;;;:6;:12;;;;;;;;:22;;2505:16;2516:4;2505:10;:16::i;:::-;4916:25:::1;4927:4;4933:7;4916:10;:25::i;:::-;4803:145:::0;;;:::o;5912:214::-;-1:-1:-1;;;;;6007:23:78;;719:10:95;6007:23:78;5999:83;;;;-1:-1:-1;;;5999:83:78;;9208:2:173;5999:83:78;;;9190:21:173;9247:2;9227:18;;;9220:30;9286:34;9266:18;;;9259:62;9357:17;9337:18;;;9330:45;9392:19;;5999:83:78;;;;;;;;;6093:26;6105:4;6111:7;6093:11;:26::i;:::-;5912:214;;:::o;21265:174:119:-;16682:11;:18;-1:-1:-1;;;16682:18:119;;;;16677:69;;16723:12;;;;;;;;;;;;;;16677:69;12670:24:::1;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::2;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::2;;;::::0;:33;::::2;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::2;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;21371:26;;-1:-1:-1;;;21371:26:119;;;21412:20:::3;::::0;21421:10:::3;1056:74:173::0;;21412:20:119::3;::::0;1044:2:173;1029:18;21412:20:119::3;;;;;;;;-1:-1:-1::0;17018:11:119::2;:32:::0;;-1:-1:-1;;;;17018:32:119::2;::::0;;21265:174::o;24095:305::-;12461:23;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;-1:-1:-1;;;;;24214:21:119;::::2;;24210:89;;24263:25;;-1:-1:-1::0;;;24263:25:119::2;;;;;;;;;;;24210:89;24309:11;:43:::0;;-1:-1:-1;;24309:43:119::2;-1:-1:-1::0;;;;;24309:43:119;::::2;::::0;;::::2;::::0;;;24367:26:::2;::::0;::::2;::::0;-1:-1:-1;;24367:26:119::2;17018:11:::1;:32:::0;;17037:13:::1;::::0;17018:11;-1:-1:-1;;;;17018:32:119::1;-1:-1:-1::0;;;17037:13:119;17018:32:::1;::::0;65651:569;65822:7;65795:8;18518:10;18507:8;:21;18503:77;;;18551:18;;-1:-1:-1;;;18551:18:119;;;;;;;;;;;18503:77;65975:24;65971:74:::1;;66030:3;66015:19;;;;65971:74;66054:14;66071:15;66087:12;66098:1;66087:8:::0;:12:::1;:::i;:::-;66071:29;;;;;;;;:::i;:::-;;::::0;;;::::1;::::0;;;::::1;::::0;-1:-1:-1;;;;;66071:29:119::1;::::0;-1:-1:-1;66114:20:119;66110:81:::1;;66157:23;;;;;;;;;;;;;;66110:81;66207:6:::0;-1:-1:-1;18589:1:119::1;65651:569:::0;;;;:::o;23674:190::-;12461:23;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;23774:22:::2;:31:::0;;;::::2;::::0;::::2;::::0;::::2;::::0;;::::2;::::0;;;::::2;::::0;;;23820:37:::2;::::0;2807:42:173;;;23820:37:119::2;::::0;2795:2:173;2780:18;23820:37:119::2;2663:192:173::0;31286:1145:119;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;16892:13:::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;31559:24;;:48;::::2;;;;31600:7;31587:9;:20;;31559:48;31555:110;;;31630:24;;;;;;;;;;;;;;31555:110;31678:24:::0;;;::::2;::::0;:42:::2;;-1:-1:-1::0;31706:9:119::2;:14:::0;::::2;31678:42;31674:115;;;31743:35;;;;;;;;;;;;;;31674:115;31799:56;31829:8;31839:6;31847:7;31799:29;:56::i;:::-;31870:15:::0;;31866:45:::2;;31887:24;31900:10;31887:12;:24::i;:::-;31945:6;-1:-1:-1::0;;;;;31927:34:119::2;31935:8;31927:34;31953:7;31927:34;;;;689:25:173::0;;677:2;662:18;;543:177;31927:34:119::2;;;;;;;;31976:24:::0;;31972:453:::2;;32016:20;32039:27;32057:8;32039:17;:27::i;:::-;32182:57;::::0;;;;32213:10:::2;32182:57;::::0;::::2;9976:34:173::0;32233:4:119::2;10026:18:173::0;;;10019:43;32016:50:119;;-1:-1:-1;32242:7:119;;-1:-1:-1;;;;;32182:30:119;::::2;::::0;::::2;::::0;9888:18:173;;32182:57:119::2;;;;;;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:67;32178:142;;;32276:29;;;;;;;;;;;;;;32178:142;32333:81;32365:12;32379:10;32399:4;32406:7;32333:31;:81::i;:::-;32002:423;31972:453;17018:11:::1;:32:::0;;17037:13:::1;::::0;17018:11;-1:-1:-1;;;;17018:32:119::1;-1:-1:-1::0;;;17037:13:119;17018:32:::1;;;;;;31286:1145:::0;;;;:::o;19864:867::-;62562:1;4871:13:76;;;;;;;4870:14;:40;;;;-1:-1:-1;4888:12:76;;:22;;;;:12;;:22;4870:40;4862:99;;;;-1:-1:-1;;;4862:99:76;;10464:2:173;4862:99:76;;;10446:21:173;10503:2;10483:18;;;10476:30;10542:34;10522:18;;;10515:62;10613:16;10593:18;;;10586:44;10647:19;;4862:99:76;10262:410:173;4862:99:76;4986:7;4971:12;;:22;;;;;;;;;;;;;;;;;;5019:4;5003:13;;:20;;;;;;;;;;;;;;;;;;19968:4:119::1;19947:11;:18;;;:25;;;;;;;;;;;;;;;;;;20011:15;19982:19;;:45;;;;;;;;;;;;;;;;;;20128:202;;;;;;;;20170:7;-1:-1:-1::0;;;;;20128:202:119::1;;;;;20221:15;20128:202;;;;;;20263:1;20128:202;;;;;;20288:4;20128:202;;;;;;20317:2;20128:202;;;;::::0;20118:4:::1;:7;20123:1:::0;20118:7:::1;;;;;;;;;;;:212;;;;;;;;;;;;;-1:-1:-1::0;;;;;20118:212:119::1;;;;;-1:-1:-1::0;;;;;20118:212:119::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;20434:202;;;;;;;;20476:4;-1:-1:-1::0;;;;;20434:202:119::1;;;;;20524:15;20434:202;;;;;;20566:5;20434:202;;;;;;20595:3;20434:202;;;;;;20623:2;20434:202;;;;::::0;20424:4:::1;:7;20429:1;20424:7;;;;;;;;;;;:212;;;;;;;;;;;;;-1:-1:-1::0;;;;;20424:212:119::1;;;;;-1:-1:-1::0;;;;;20424:212:119::1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;20652:27;20668:1;20671;20674:4;20652:27;;;;;;;10906:25:173::0;;;10962:2;10947:18;;10940:34;;;;11005:2;10990:18;;10983:34;10894:2;10879:18;;10677:346;20652:27:119::1;;;;;;;;20694:30;::::0;;20710:1:::1;10906:25:173::0;;20713:5:119::1;10962:2:173::0;10947:18;;10940:34;20720:3:119::1;10990:18:173::0;;;10983:34;20694:30:119;;::::1;::::0;;;;10894:2:173;20694:30:119;;::::1;5060:5:76::0;5044:21;;;;;;5080:20;;6458:4:173;6446:17;;6428:36;;5080:20:76;;6416:2:173;6401:18;5080:20:76;;;;;;;19864:867:119;:::o;33379:5970::-;16479:11;:18;33560:4;;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;17616:11:::1;:16:::0;-1:-1:-1;;;17616:16:119;::::1;;;17654:24;17646:4;:32;;;;;;;;:::i;:::-;;17642:283;;;33580:29:::2;33675:31:::0;;;33732:28:::2;33726:4;33719:42:::0;33812:4:::2;33796:21:::0;;33856;;33935:4:::2;33915:25:::0;;::::2;33909:32:::0;33964:26;33960:90:::2;;34013:26;;;;;;;;;;;;;;33960:90;34059:44;34106;34128:21;34106;:44::i;:::-;34059:91;;34175:40;34229::::0;34283:41:::2;34338::::0;34392:57:::2;34411:18;34431:17;34392:18;:57::i;:::-;34601:21;34529:26;34588:35:::0;34782:42;34734:10:::2;34707:38:::0;::::2;34782:42:::0;34776:49;34161:288;;-1:-1:-1;34161:288:119;;-1:-1:-1;34161:288:119;-1:-1:-1;34161:288:119;-1:-1:-1;;;;;;34856:33:119::2;34912:37:::0;34908:99:::2;;34972:24;;;;;;;;;;;;;;34908:99;35370:1;35303:23;:42;35327:17;35303:42;;;;;;;;;;;:64;;:68;;;;35467:31;35513:89;;;;;;;;35531:15;35513:89;;;;35548:17;35513:89;;;;35574:18;:26;;;35513:89;;;;::::0;35467:135:::2;;35613:20;35635::::0;35657:25:::2;35686:14;-1:-1:-1::0;;;;;35686:23:119::2;;35723:11;35736;35749:12;35763;35777:6;:23;;;35802:6;:14;;;35686:140;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;35612:214;;;;;;35842:20;35837:172;;-1:-1:-1::0;;;35902:23:119::2;::::0;;::::2;::::0;35878:48:::2;::::0;;;:23:::2;:48:::0;;;;;;:94;;;;-1:-1:-1;35878:48:119;;-1:-1:-1;17642:283:119::1;::::0;-1:-1:-1;;;;;;17642:283:119::1;35837:172:::2;36038:1;36023:12;:16;:80;;;;-1:-1:-1::0;36069:34:119::2;36043:12;:22;;;:60;;;;;;;;:::i;:::-;;36023:80;36019:170;;;36126:52;::::0;::::2;::::0;;::::2;::::0;::::2;689:25:173::0;;;662:18;;36126:52:119::2;543:177:173::0;36019:170:119::2;36203:17:::0;;:38;::::2;;;-1:-1:-1::0;36224:17:119;;36203:38:::2;36199:620;;;36286:106;36314:14;36331:11;36344:6;:22;;;36368:6;:23;;;36286:19;:106::i;:::-;36406;36434:14;36451:11;36464:6;:22;;;36488:6;:23;;;36406:19;:106::i;:::-;36199:620;;;36600:97;36628:14;36645:12;36659;36673:6;:23;;;36600:19;:97::i;:::-;36711;36739:14;36756:12;36770;36784:6;:23;;;36711:19;:97::i;:::-;36922:11;37061:6;37055:13;37112:4;37104:6;37100:17;37094:24;37190:1;37176:12;37173:19;37169:1;37155:12;37152:19;37148:45;37141:53;37131:63;;37271:4;37265:11;37302:21;37296:4;37289:35;37361:5;37354:4;37348;37344:15;37337:30;37404:10;37397:4;37391;37387:15;37380:35;37452:12;37445:4;37439;37435:15;37428:37;37502:12;37495:4;37489;37485:15;37478:37;37552:6;37545:4;37539;37535:15;37528:31;37617:4;37611;37605;37599;37594:3;37587:5;37576:46;37572:51;;;;37680:15;37673:4;37667:11;37663:33;37796:16;37790:23;37986:5;37947:37;37943:49;37924:17;37920:73;38154:5;38120:32;38116:44;38097:17;38093:68;38394:3;38379:12;38363:13;38360:1;38356:21;38352:40;38349:49;38346:150;;;-1:-1:-1::0;;;38424:1:119::2;38417:34;38478:3;38475:1;38468:14;38346:150;-1:-1:-1::0;38596:4:119::2;38589:27:::0;;;38642:31:::2;38636:4;38629:45:::0;;;38710:4:::2;38694:21:::0;;;38687:50;;;;39012:4:::2;38993:24:::0;;::::2;38842:37;38950:68:::0;;::::2;38834:66:::0;38830:78;;::::2;38937:82:::0;;;::::2;39040:16;39033:34:::0;39159:23;;::::2;::::0;39196:22;;39091:229;;13450:25:173;;;13491:18;;;13484:34;;;13534:18;;;13527:34;;;13604:14;;13597:22;13592:2;13577:18;;13570:50;13657:3;13651;13636:19;;13629:32;;;13677:19;;13670:30;39124:21:119;;39091:229:::2;::::0;13717:19:173;39091:229:119::2;;;;;;;39338:4;39331:11;;;;;;;;;;;;;;;17642:283:::1;;;17724:13;17716:4;:21;;;;;;;;:::i;:::-;;17712:213;;;17753:11;:43:::0;;-1:-1:-1;;;;17753:43:119::1;-1:-1:-1::0;;;17753:43:119::1;::::0;;-1:-1:-1;33675:31:119;;;33732:28:::2;33726:4;33719:42:::0;33812:4:::2;33796:21:::0;;33856;;-1:-1:-1;33915:25:119;;;::::2;33909:32:::0;33856:21;33960:90:::2;;34013:26;;;;;;;;;;;;;;33960:90;34059:44;34106;34128:21;34106;:44::i;:::-;34059:91;;34175:40;34229::::0;34283:41:::2;34338::::0;34392:57:::2;34411:18;34431:17;34392:18;:57::i;:::-;34601:21;34529:26;34588:35:::0;34782:42;34734:10:::2;34707:38:::0;::::2;34782:42:::0;34776:49;34161:288;;-1:-1:-1;34161:288:119;;-1:-1:-1;34161:288:119;-1:-1:-1;34161:288:119;-1:-1:-1;;;;;;34856:33:119::2;34912:37:::0;34908:99:::2;;34972:24;;;;;;;;;;;;;;34908:99;35370:1;35303:23;:42;35327:17;35303:42;;;;;;;;;;;:64;;:68;;;;35467:31;35513:89;;;;;;;;35531:15;35513:89;;;;35548:17;35513:89;;;;35574:18;:26;;;35513:89;;;;::::0;35467:135:::2;;35613:20;35635::::0;35657:25:::2;35686:14;-1:-1:-1::0;;;;;35686:23:119::2;;35723:11;35736;35749:12;35763;35777:6;:23;;;35802:6;:14;;;35686:140;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;35612:214;;;;;;35842:20;35837:172;;-1:-1:-1::0;;;35902:23:119::2;::::0;;::::2;::::0;35878:48:::2;::::0;;;:23:::2;:48:::0;;;;;;:94;;;;-1:-1:-1;35878:48:119;;-1:-1:-1;35986:12:119::2;::::0;-1:-1:-1;;;;;;35986:12:119::2;35837:172;36038:1;36023:12;:16;:80;;;;-1:-1:-1::0;36069:34:119::2;36043:12;:22;;;:60;;;;;;;;:::i;:::-;;36023:80;36019:170;;;36126:52;::::0;::::2;::::0;;::::2;::::0;::::2;689:25:173::0;;;662:18;;36126:52:119::2;543:177:173::0;36019:170:119::2;36203:17:::0;;:38;::::2;;;-1:-1:-1::0;36224:17:119;;36203:38:::2;36199:620;;;36286:106;36314:14;36331:11;36344:6;:22;;;36368:6;:23;;;36286:19;:106::i;:::-;36406;36434:14;36451:11;36464:6;:22;;;36488:6;:23;;;36406:19;:106::i;:::-;36199:620;;;36600:97;36628:14;36645:12;36659;36673:6;:23;;;36600:19;:97::i;:::-;36711;36739:14;36756:12;36770;36784:6;:23;;;36711:19;:97::i;:::-;36922:11;37061:6;37055:13;37112:4;37104:6;37100:17;37094:24;37190:1;37176:12;37173:19;37169:1;37155:12;37152:19;37148:45;37141:53;37131:63;;37271:4;37265:11;37302:21;37296:4;37289:35;37361:5;37354:4;37348;37344:15;37337:30;37404:10;37397:4;37391;37387:15;37380:35;37452:12;37445:4;37439;37435:15;37428:37;37502:12;37495:4;37489;37485:15;37478:37;37552:6;37545:4;37539;37535:15;37528:31;37617:4;37611;37605;37599;37594:3;37587:5;37576:46;37572:51;;;;37680:15;37673:4;37667:11;37663:33;37796:16;37790:23;37986:5;37947:37;37943:49;37924:17;37920:73;38154:5;38120:32;38116:44;38097:17;38093:68;38394:3;38379:12;38363:13;38360:1;38356:21;38352:40;38349:49;38346:150;;;-1:-1:-1::0;;;38424:1:119::2;38417:34;38478:3;38475:1;38468:14;38346:150;-1:-1:-1::0;38596:4:119::2;38589:27:::0;;;38642:31:::2;38636:4;38629:45:::0;;;38710:4:::2;38694:21:::0;;;38687:50;;;;39012:4:::2;38993:24:::0;;::::2;38842:37;38950:68:::0;;::::2;38834:66:::0;38830:78;;::::2;38937:82:::0;;;::::2;39040:16;39033:34:::0;39159:23;;::::2;::::0;39196:22;;39091:229;;13450:25:173;;;13491:18;;;13484:34;;;13534:18;;;13527:34;;;13604:14;;13597:22;13592:2;13577:18;;13570:50;13657:3;13651;13636:19;;13629:32;;;13677:19;;13670:30;39124:21:119;;39091:229:::2;::::0;13717:19:173;39091:229:119::2;;;;;;;39338:4;39331:11;;;;;;;;;;;;;;;17810:1;17825:11:::1;:32:::0;;-1:-1:-1;;;;17825:32:119::1;::::0;;17712:213:::1;;;17895:19;;-1:-1:-1::0;;;17895:19:119::1;;;;;;;;;;;20994:175:::0;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;12531:27:::1;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::2;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::2;;;::::0;:33;::::2;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::2;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;21104:25;;;;;;21144:18:::3;::::0;21151:10:::3;1056:74:173::0;;21144:18:119::3;::::0;1044:2:173;1029:18;21144::119::3;910:226:173::0;26601:676:119;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;16228:10:::1;2981:4:78::0;3004:29;;;:12;;:29;:12;:29;;;;;16206:33:119::1;:62;;;;-1:-1:-1::0;16244:24:119::1;::::0;-1:-1:-1;;;16244:24:119;::::1;;;16243:25;16206:62;16202:136;;;16291:36;;;;;;;;;;;;;;16202:136;16892:13:::2;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::2;;;::::0;:33;::::2;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::2;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::2;-1:-1:-1::0;;;16967:30:119::2;::::0;;-1:-1:-1;;;;;26813:19:119;::::3;;26809:87;;26860:25;;-1:-1:-1::0;;;26860:25:119::3;;;;;;;;;;;26809:87;10789:5;26909:9;:32;:68;;;;10906:7;26945:9;:32;26909:68;26905:126;;;27000:20;;;;;;;;;;;;;;26905:126;27041:16;:30:::0;;::::3;::::0;::::3;::::0;;;::::3;::::0;;-1:-1:-1;;27041:30:119::3;-1:-1:-1::0;;;;;27041:30:119;::::3;::::0;;::::3;::::0;;;27107:23;;-1:-1:-1;27140:32:119;;;:15:::3;27041:30;27140:32:::0;;;;;;;;:44;;;27199:71;;689:25:173;;;27107:23:119;;27041:30;27107:23;;27199:71:::3;::::0;662:18:173;27199:71:119::3;;;;;;;;-1:-1:-1::0;17018:11:119::2;:32:::0;;17037:13:::2;::::0;17018:11;-1:-1:-1;;;;17018:32:119::2;-1:-1:-1::0;;;17037:13:119;17018:32:::2;::::0;22254:269;12461:23;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;-1:-1:-1;;;;;22426:26:119;::::2;-1:-1:-1::0;22426:26:119;;;:15:::2;:26;::::0;;;;;;;;:35;;-1:-1:-1;;22426:35:119::2;::::0;::::2;;::::0;;::::2;::::0;;;22476:40;;491:41:173;;;22476:40:119;;::::2;::::0;;;;;;;;::::2;-1:-1:-1::0;;17018:11:119::1;:32:::0;;-1:-1:-1;;;;17018:32:119::1;::::0;;-1:-1:-1;22254:269:119:o;24640:314::-;12461:23;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;24822:24:::2;:52:::0;;;::::2;;-1:-1:-1::0;;;24822:52:119;::::2;::::0;;;::::2;::::0;;;::::2;::::0;;;24889:58:::2;::::0;491:41:173;;;24889:58:119::2;::::0;479:2:173;464:18;24889:58:119::2;351:187:173::0;22906:520:119;12602:24;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;23097:257:::2;::::0;;::::2;::::0;::::2;::::0;;;;23131:48:::2;23153:16;23159:10:::0;23153:2:::2;:16;:::i;:::-;23132:37;::::0;:18:::2;::::0;::::2;:37;:::i;:::-;23131:46;:48::i;:::-;-1:-1:-1::0;;;;;23097:257:119;;::::2;::::0;;::::2;23222:15;23097:257:::0;::::2;;::::0;;::::2;::::0;;;;;;::::2;::::0;;;;;;;;;::::2;::::0;;;;;;;::::2;::::0;;::::2;::::0;;;;;-1:-1:-1;23080:14:119;;;:4:::2;:14:::0;;;;;:274;;;;;;::::2;::::0;;;::::2;::::0;;;::::2;::::0;;;;::::2;::::0;;;::::2;-1:-1:-1::0;;;23080:274:119::2;-1:-1:-1::0;;;;23080:274:119;;::::2;-1:-1:-1::0;;;23080:274:119::2;::::0;;;::::2;-1:-1:-1::0;;;23080:274:119::2;::::0;;;;;;;;::::2;::::0;::::2;-1:-1:-1::0;;23080:274:119;;;;;;::::2;::::0;;;;::::2;::::0;;;;;;;;;;;::::2;::::0;;;::::2;::::0;;;::::2;::::0;;;23370:49;;15683:25:173;;;15753:18;;;15746:43;;;;15805:18;;;15798:43;;;;23370:49:119::2;::::0;15656:18:173;23370:49:119::2;;;;;;;-1:-1:-1::0;;17018:11:119::1;:32:::0;;-1:-1:-1;;;;17018:32:119::1;::::0;;-1:-1:-1;;;22906:520:119:o;66438:790::-;66518:4;;66562:12;66518:4;66635:21;66599:32;66610:21;66562:12;66599:32;:::i;:::-;:57;;66585:71;;66666:23;66707:6;66703:477;;;66782:22;;66751:53;;66782:22;;;;;;;66759:19;66751:53;:::i;:::-;66733:15;:71;66729:124;;;66833:5;66824:14;;66729:124;66969:32;66980:21;66969:8;:32;:::i;:::-;66944:58;;:21;:58;:::i;:::-;66926:76;;66703:477;;;67136:32;67147:21;67136:8;:32;:::i;:::-;67111:58;;:21;:58;:::i;:::-;67093:76;;66703:477;67197:6;;67205:15;;-1:-1:-1;66438:790:119;-1:-1:-1;;66438:790:119:o;25154:366::-;12461:23;2505:16:78;2516:4;2505:10;:16::i;:::-;16892:13:119::1;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::1;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::1;-1:-1:-1::0;;;16967:30:119::1;::::0;;-1:-1:-1;;;;;25323:28:119;::::2;;25319:96;;25379:25;;-1:-1:-1::0;;;25379:25:119::2;;;;;;;;;;;25319:96;25424:15;:34:::0;;-1:-1:-1;;25424:34:119::2;-1:-1:-1::0;;;;;25424:34:119;::::2;::::0;;::::2;::::0;;;25473:40:::2;::::0;1056:74:173;;;25473:40:119::2;::::0;1044:2:173;1029:18;25473:40:119::2;910:226:173::0;5228:147:78;4452:7;4478:12;;;:6;:12;;;;;;;;:22;;2505:16;2516:4;2505:10;:16::i;:::-;5342:26:::1;5354:4;5360:7;5342:11;:26::i;64987:173:119:-:0;65089:7;65115:16;65132:20;65151:1;65132:16;:20;:::i;:::-;65115:38;;;;;;;;:::i;:::-;;;;;;;;;;;-1:-1:-1;;;;;65115:38:119;;64987:173;-1:-1:-1;;64987:173:119:o;30323:476::-;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;30591:8:::1;30585:4;30578:22;30626:26;30620:4;30613:40;30695:4;30689;30679:21;30673:4;30666:35;30727:10;30721:4;30714:24;30781:1;30774:4;30768;30758:21;30751:32;30323:476:::0;:::o;28354:839::-;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;17226:13:::1;17206:11;:16:::0;;-1:-1:-1;;;17206:16:119;::::1;;;::::0;:33;::::1;;;;;;:::i;:::-;;17202:90;;17262:19;;-1:-1:-1::0;;;17262:19:119::1;;;;;;;;;;;17202:90;17301:11;:43:::0;;-1:-1:-1;;;;17301:43:119::1;-1:-1:-1::0;;;17301:43:119::1;::::0;;28578:10:::2;-1:-1:-1::0;28562:27:119;;;:15:::2;:27;::::0;;;;;::::2;;28558:313;;;28609:11;:18:::0;-1:-1:-1;;;28609:18:119;::::2;;;28605:102;;;28647:19;:45:::0;;-1:-1:-1;;28647:45:119::2;28676:15;28647:45;;;::::0;;28605:102:::2;28558:313;;;28738:11;28754:22;:20;:22::i;:::-;28737:39;;;28795:6;28790:71;;28828:18;;;;;;;;;;;;;;28790:71;28723:148;28558:313;28882:22;28906:14:::0;28922:24:::2;28950:13;:11;:13::i;:::-;28881:82;;;;;;28973:25;29001:35;29026:9;29001:24;:35::i;:::-;28973:63;;29047:87;29066:9;29077:11;;29047:87;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;::::0;::::2;::::0;;;;-1:-1:-1;29090:6:119;;-1:-1:-1;29098:16:119;;-1:-1:-1;29116:17:119;;-1:-1:-1;29047:18:119::2;:87::i;:::-;29145:41;29157:9;29168:17;29145:11;:41::i;:::-;-1:-1:-1::0;;17365:11:119::1;:32:::0;;17384:13:::1;::::0;-1:-1:-1;17365:11:119;;-1:-1:-1;;;;;17365:32:119::1;-1:-1:-1::0;;;17384:13:119;17365:32:::1;::::0;25747:631;16479:11;:18;-1:-1:-1;;;16479:18:119;;;;16475:64;;;16520:8;;-1:-1:-1;;;16520:8:119;;;;;;;;;;;16475:64;16228:10:::1;2981:4:78::0;3004:29;;;:12;;:29;:12;:29;;;;;16206:33:119::1;:62;;;;-1:-1:-1::0;16244:24:119::1;::::0;-1:-1:-1;;;16244:24:119;::::1;;;16243:25;16206:62;16202:136;;;16291:36;;;;;;;;;;;;;;16202:136;16892:13:::2;16872:11;:16:::0;;-1:-1:-1;;;16872:16:119;::::2;;;::::0;:33;::::2;;;;;;:::i;:::-;;16868:90;;16928:19;;-1:-1:-1::0;;;16928:19:119::2;;;;;;;;;;;16868:90;16986:11;16967:30:::0;;-1:-1:-1;;;;16967:30:119::2;-1:-1:-1::0;;;16967:30:119::2;::::0;;-1:-1:-1;;;;;25957:18:119;::::3;;25953:86;;26003:25;;-1:-1:-1::0;;;26003:25:119::3;;;;;;;;;;;25953:86;10847:5;26052:9;:31;:66;;;;10966:7;26087:9;:31;26052:66;26048:123;;;26141:19;;;;;;;;;;;;;;26048:123;26181:15;:28:::0;;::::3;::::0;::::3;::::0;;;::::3;::::0;;-1:-1:-1;;26181:28:119::3;-1:-1:-1::0;;;;;26181:28:119;::::3;::::0;;::::3;::::0;;;26237:22;;-1:-1:-1;26269:23:119;;;:14:::3;26181:28;26269:23:::0;;;;;;;;:35;;;26319:52;;689:25:173;;;26237:22:119;;26181:28;26237:22;;26319:52:::3;::::0;662:18:173;26319:52:119::3;543:177:173::0;3334:103:78;3400:30;3411:4;719:10:95;3400::78;:30::i;:::-;3334:103;:::o;7461:233::-;2981:4;3004:12;;;:6;:12;;;;;;;;-1:-1:-1;;;;;3004:29:78;;;;;;;;;;;;7539:149;;7582:12;;;;7614:4;7582:12;;;;;;;;-1:-1:-1;;;;;7582:29:78;;;;;;;;;;:36;;-1:-1:-1;;7582:36:78;;;;;;;7637:40;;719:10:95;;7582:12:78;;7637:40;;7582:12;7637:40;7461:233;;:::o;7865:234::-;2981:4;3004:12;;;:6;:12;;;;;;;;-1:-1:-1;;;;;3004:29:78;;;;;;;;;;;;7944:149;;;8018:5;7986:12;;;:6;:12;;;;;;;;-1:-1:-1;;;;;7986:29:78;;;;;;;;;;:37;;-1:-1:-1;;7986:37:78;;;8042:40;719:10:95;;7986:12:78;;8042:40;;8018:5;8042:40;7865:234;;:::o;39898:1446:119:-;40041:8;18518:10;18507:8;:21;18503:77;;;18551:18;;-1:-1:-1;;;18551:18:119;;;;;;;;;;;18503:77;40065:15:::1;40083:29:::0;;;:19:::1;:29;::::0;;;;;;;-1:-1:-1;;;;;40083:37:119;::::1;::::0;;;;;;;;40135:11:::1;:18:::0;-1:-1:-1;;;40135:18:119;::::1;;;40131:1139;;;40169:19;40191:14:::0;;;:4:::1;:14;::::0;;;;;;;40169:36;;::::1;::::0;::::1;::::0;;;;-1:-1:-1;;;;;40169:36:119;::::1;::::0;;::::1;::::0;;::::1;::::0;::::1;::::0;;::::1;::::0;;;;-1:-1:-1;;;40169:36:119;::::1;::::0;::::1;::::0;;;;;;;-1:-1:-1;;;40169:36:119;::::1;::::0;;::::1;::::0;;;;::::1;-1:-1:-1::0;;;40169:36:119;;::::1;;::::0;;;;;;;;:19;40239::::1;::::0;:2:::1;:19;:::i;:::-;40219:39;;40277:3;:14;;;:19;;40295:1;40277:19;:78;;;;40346:9;40328:3;:14;;;40320:23;;:35;;;;:::i;:::-;40300:17;40310:7:::0;40300;:17:::1;:::i;:::-;:55;40277:78;40273:147;;;40382:23;;;;;;;;;;;;;;40273:147;40438:12;::::0;::::1;::::0;:17:::1;;40434:826;;40482:21;;;;;;;;;;;;;;40434:826;40611:14;40652:9;40636:3;:12;;;40628:21;;:33;;;;:::i;:::-;40611:50:::0;-1:-1:-1;40679:12:119::1;40694:15;40703:6;40611:50:::0;40694:15:::1;:::i;:::-;40679:30;;40744:62;40771:3;:24;;;40753:42;;:15;:42;;;;:::i;:::-;40745:51;::::0;:4;:51:::1;:::i;40744:62::-;40727:79:::0;;:3;;:79:::1;::::0;;;::::1;:::i;:::-;-1:-1:-1::0;;;;;40727:79:119;;::::1;::::0;;;40828:13;;:22:::1;::::0;-1:-1:-1;40824:100:119::1;::::0;-1:-1:-1;40824:100:119::1;;40890:15;:6;:13;:15::i;:::-;-1:-1:-1::0;;;;;40874:31:119::1;::::0;;40824:100:::1;40955:13:::0;;-1:-1:-1;;;;;40945:23:119::1;::::0;::::1;40941:98;;;40999:21;;;;;;;;;;;;;;40941:98;41123:16;:7;:14;:16::i;:::-;41106:33:::0;;:3;;:33:::1;::::0;;;::::1;:::i;:::-;-1:-1:-1::0;;;;;41106:33:119;;::::1;::::0;;;41157:50:::1;41191:15;41157:50:::0;::::1;:24;::::0;;::::1;:50:::0;;;41225:14:::1;::::0;;;:4:::1;:14:::0;;;;;;;;:20;;;;;;;;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;::::0;::::1;;-1:-1:-1::0;;;41225:20:119::1;-1:-1:-1::0;;;;41225:20:119;;::::1;-1:-1:-1::0;;;41225:20:119::1;::::0;;;::::1;-1:-1:-1::0;;;41225:20:119::1;::::0;;;;;;;;::::1;::::0;::::1;-1:-1:-1::0;;41225:20:119;;;;;;::::1;::::0;;;;;;;::::1;::::0;;;;;;;;;;;::::1;;::::0;;;::::1;::::0;;-1:-1:-1;;;40155:1115:119::1;;40131:1139;41320:17;41330:7:::0;41320;:17:::1;:::i;:::-;41280:29;::::0;;;:19:::1;:29;::::0;;;;;;;-1:-1:-1;;;;;41280:37:119;;::::1;::::0;;;;;;;;;:57;;;;-1:-1:-1;;;39898:1446:119:o;3746:921:117:-;3971:4;3965:11;4002:22;3996:4;3989:36;4062:6;4055:4;4049;4045:15;4038:31;4106:6;4099:4;4093;4089:15;4082:31;4150:6;4143:4;4137;4133:15;4126:31;4192:12;4180:25;4170:143;;-1:-1:-1;;;4232:1:117;4225:43;4295:3;4292:1;4285:14;4170:143;4393:4;4387;4381;4375;4372:1;4358:12;4351:5;4346:52;4326:72;;4476:1;4472;4466:8;4462:16;4443;4436:24;4433:46;4520:14;4506:12;4502:33;4492:159;;4576:16;4573:1;4570;4555:38;4620:16;4617:1;4610:27;4492:159;;;3746:921;;;;:::o;70665:4020:119:-;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;70913:20:119;70885:49;;70858:77;;;71095:16;71042:51;;;;71038:74;;-1:-1:-1;;;70967:159:119;;;;71235:22;71231:51;;;71227:74;;-1:-1:-1;;;71156:159:119;71424:23;71420:52;;;71416:75;;-1:-1:-1;;;71345:160:119;71615:23;71611:52;;;71607:75;-1:-1:-1;;;71536:160:119;71831:20;71790:14;71786:43;;;71782:70;-1:-1:-1;;;71727:139:119;72053:1;71970:56;71966:85;;;71962:93;;-1:-1:-1;;;71891:178:119;72216:56;72212:85;;;72208:93;;-1:-1:-1;;;72136:179:119;72463:57;72459:86;;;72455:94;;-1:-1:-1;;;72383:180:119;72712:57;72708:86;;;72704:94;;-1:-1:-1;;;72632:180:119;72907:15;72903:44;;;73195:17;;73192:24;;-1:-1:-1;;;73153:64:119;73317:17;;;;73313:25;;73310:32;;-1:-1:-1;;;73271:72:119;-1:-1:-1;;73446:16:119;;73463:38;;;:::i;:::-;73446:56;;;;;;;;:::i;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;73446:56:119;73411:32;;;:91;73564:34;;73548:51;;:15;:51;;;;;;73512:33;;;:87;73709:35;;;;73708:36;:76;;;;;73783:1;73748:18;:32;;;:36;73708:76;73704:145;;;73807:31;;;;;;;;;;;;;;73704:145;73863:18;:36;;;73862:37;:78;;;;;73939:1;73903:18;:33;;;:37;73862:78;73858:147;;;73963:31;;;;;;;;;;;;;;73858:147;74031:18;:35;;;:125;;;;;74123:18;:32;;;74087:18;:32;;;:68;74031:125;74014:253;;;74223:18;:32;;;74188:68;;;;;;;;;689:25:173;;677:2;662:18;;543:177;74014:253:119;74368:21;74392:18;:36;;;:79;;;;;74433:18;:38;;;74432:39;74392:79;74368:103;;74485:16;:90;;;;;74542:18;:33;;;74505:18;:33;;;:70;74485:90;74481:198;;;74634:18;:33;;;74598:70;;;;;;;;;689:25:173;;677:2;662:18;;543:177;75284:3530:119;75446:40;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;75446:40:119;75500;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;75500:40:119;75554:41;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;75554:41:119;75609;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;75609:41:119;75679:19;:37;;;75675:709;;;11552:11;75842:19;:33;;;:57;;;;:::i;:::-;75825:74;;:14;75913:24;;;:39;75990:33;75966:21;;;:57;75675:709;;;76071:33;;;;;76054:50;;76163:33;76145:52;;:17;:52::i;:::-;-1:-1:-1;;;;;76118:79:119;:24;;;:79;;;76235:40;:138;;76342:31;76235:138;;;76294:29;76235:138;76211:11;:21;;:162;;;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;75675:709:119;76397:19;:38;;;76393:624;;;76489:35;;;:15;76538:25;;;:40;76617:33;76592:22;;;:58;76393:624;;;76699:34;;;;;76681:52;;76793:34;76775:53;;:17;:53::i;:::-;-1:-1:-1;;;;;76747:81:119;:25;;;:81;;;76867:41;:139;;76975:31;76867:139;;;76927:29;76867:139;76842:12;:22;;:164;;;;;;;;;:::i;:::-;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;76393:624:119;77031:19;:38;;;77027:926;;;11552:11;77195:19;:33;;;:57;;;;:::i;:::-;77178:74;;:14;77266:24;;;:39;77319:21;;;77343:33;77319:57;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;77027:926:119;;;77397:19;:36;;;77393:560;;;77466:33;;;;;77449:50;;77558:33;77540:52;;:17;:52::i;:::-;-1:-1:-1;;;;;77513:79:119;:24;;;:79;;;77630:40;:138;;77737:31;77630:138;;;77689:29;77630:138;77606:11;:21;;:162;;;;;;;;;:::i;77393:560::-;77816:1;77799:18;;;77831:24;;;:39;;;77884:21;;;:58;77393:560;77967:19;:39;;;77963:845;;;78060:35;;;:15;78109:25;;;:40;78163:22;;;78188:33;78163:58;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;77963:845:119;;;78242:19;:37;;;78238:570;;;78313:34;;;;;78295:52;;78407:34;78389:53;;:17;:53::i;:::-;-1:-1:-1;;;;;78361:81:119;:25;;;:81;;;78481:41;:139;;78589:31;78481:139;;;78541:29;78481:139;78456:12;:22;;:164;;;;;;;;;:::i;78238:570::-;78669:1;78651:19;;;78684:25;;;:40;;;78738:22;;;:59;78238:570;75284:3530;;;;;;;:::o;58230:729::-;58423:17;58419:54;;58456:7;;58419:54;58506:29;58486:6;:16;;;:49;;;;;;;;:::i;:::-;;58482:471;;;58570:30;;;;:11;:30;;;;;;58555:45;;58551:117;;;58627:26;;;;;;;;;;;;;;58551:117;58714:1;58681:30;;;:11;:30;;;;;:34;58482:471;;;58756:31;58736:6;:16;;;:51;;;;;;;;:::i;:::-;;58732:221;;;58826:19;;;;58859:83;58826:19;58905:7;58922:4;58929:12;58859:31;:83::i;:::-;58789:164;58732:221;58230:729;;;;:::o;146:157:116:-;196:7;-1:-1:-1;;;;;219:21:116;;215:54;;;249:20;;;;;;;;;;;;;;215:54;-1:-1:-1;294:1:116;146:157::o;17959:14790:111:-;19683:4;19677:11;;19737:5;19718:25;;;19705:39;;19998:9;20552:25;;20080:19;20624:4;20605:24;;;20598:36;;;20662:24;;;20655:36;;;;20172:6;18005:22;20719:24;;20712:36;;;20795:4;20776:24;;20769:36;;;20852:4;20833:24;;20826:36;;;20909:4;20890:24;;20883:36;20426:9;20966:4;20947:24;;20940:36;23292:11;;22713:43;21400:3;21380:18;22713:43;;;22700:57;22242:16;;;22229:30;22797:32;;;21691:40;;;21678:54;21734:10;21674:71;;;22870:28;;;22965:37;;;22962:49;;22955:57;22934:79;23065:37;;;23061:66;;;23878:35;;;23893:19;23878:35;23865:49;;;22728:20;23156:53;;;24105:24;;;23292:11;;21674:71;;18029:14;;23156:53;;24225:17;;;21630:16;;;;18029:14;;;;19320:58;;19677:11;23061:66;;22079:44;;22066:58;22062:75;;;;21630:16;24225:17;24319:49;24537:20;24525:33;;;;;25708:16;;;;;24525:33;;-1:-1:-1;24977:32:111;;;25754:20;;-1:-1:-1;25829:1443:111;25848:5;25836:9;:17;25829:1443;;;26647:1;26639:5;26626:19;26622:27;26745:8;26737:6;26730:24;26938:8;26935:1;26931:16;26916:13;26912:36;26906:43;26894:55;;;27101:23;27110:5;27117:6;27101:8;:23;;:::i;:::-;27093:31;;6187:3;27221:32;;;;25829:1443;;;-1:-1:-1;;;;28962:20:111;28947:36;;;28941:43;29848:4;29842:11;28737:26;;29027:29;;;29289:35;;;29419:52;;;29416:64;;29409:72;29380:102;29762:42;;;;;29027:29;;29091:68;;;;30115:4;30102:18;30122:4;30098:29;29842:11;30067:83;30236:20;30218:16;30214:43;30194:63;;30435:4;30410:23;30406:34;30388:16;30384:57;30370:71;;30749:482;30777:6;30759:16;30756:28;30749:482;;;30997:4;30991;30975:14;30955:18;30949:4;30942:5;30931:71;30921:141;;31039:4;31033;31026:18;30921:141;31115:4;31109:11;31122:15;31105:33;;31080:59;;31178:39;;;;30829:4;30807:27;30749:482;;;31413:20;31406:28;31396:907;;31454:12;;;31490:22;31534:2;31529:51;;;;31602:2;31597:51;;;;31670:2;31665:51;;;;31738:1;31733:49;;;;31804:1;31799:49;;;;31870:1;31865:49;;;;31936:1;31931:49;;;;32032:4;32007:29;;31483:555;;31529:51;31551:27;31539:39;;31529:51;;31597;31619:27;31607:39;;31597:51;;31665;31687:27;31675:39;;31665:51;;31733:49;31754:26;31742:38;;31733:49;;31799;31820:26;31808:38;;31799:49;;31865;31886:26;31874:38;;31865:49;;31931;31952:26;31940:38;;31483:555;;32104:4;32082:20;32078:31;32070:6;32066:44;32056:54;;32127:162;32155:6;32137:16;32134:28;32127:162;;;32237:34;;;32207:4;32185:27;32127:162;;;32416:4;32410:11;32394:27;;32517:4;32511;32500:8;32482:16;32478:31;32468:8;32462:4;32455:5;32444:78;32434:140;;32555:4;32549;32542:18;32434:140;;;;;;32624:15;32617:4;32611:11;32607:33;32587:53;;32663:21;32659:84;;;32707:25;;;;;;;;;;;;;;32659:84;18071:14678;;;;;;17959:14790;;;:::o;37689:354::-;37874:25;37858:42;;37852:49;-1:-1:-1;;;;;37975:35:111;;37972:55;;;38023:1;38020;38013:12;37972:55;37689:354;;;:::o;43407:533:119:-;43623:16;43642:56;43668:10;43680:17;43642:25;:56::i;:::-;43623:75;;43708:63;43738:10;43750:7;43759:11;43708:29;:63::i;:::-;43781:31;43815:50;43834:10;43846:18;43815;:50::i;:::-;43781:84;;43896:8;43880:53;43906:14;43922:10;43880:53;;;;;;;:::i;:::-;;;;;;;;43613:327;;43407:533;;;;;:::o;59253:1412::-;59345:9;59340:1319;5756:2:111;59360:1:119;:20;59340:1319;;;59397:13;59413:32;59431:10;59443:1;39770:4:111;39766:15;39698:84;39702:62;39698:84;39692:91;;39536:263;59413:32:119;59397:48;-1:-1:-1;59463:9:119;;59459:1131;;59492:15;59510:32;59528:10;59540:1;59510:17;:32::i;:::-;59492:50;-1:-1:-1;59564:23:119;59560:1016;;60267:1;60264;60261;60258;60251:5;60237:12;60230:5;60225:44;60221:49;59560:1016;;;60338:20;60361:26;60379:7;60361:17;:26::i;:::-;60338:49;;60409:148;60477:12;60491;60505:5;60512:14;:23;60527:7;60512:23;;;;;;;;;;;;60409:42;:148::i;:::-;60316:260;59560:1016;59474:1116;59459:1131;-1:-1:-1;60631:3:119;;59340:1319;;3718:479:78;2981:4;3004:12;;;:6;:12;;;;;;;;-1:-1:-1;;;;;3004:29:78;;;;;;;;;;;;3801:390;;3989:28;4009:7;3989:19;:28::i;:::-;4088:38;4116:4;4123:2;4088:19;:38::i;:::-;3896:252;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;3896:252:78;;;;;;;;;;-1:-1:-1;;;3844:336:78;;;;;;;:::i;12699:148:111:-;-1:-1:-1;12826:3:111;12817:12;;12699:148::o;13231:819::-;13316:7;13582:4;13575;13567:6;13563:17;13556:4;13547:7;13543:18;13530:57;13717:4;13710;13702:6;13698:17;13691:4;13682:7;13678:18;13665:57;13860:3;13853:4;13845:6;13841:17;13834:4;13825:7;13821:18;13808:56;-1:-1:-1;;14028:4:111;14019:13;;13231:819::o;14507:305::-;14579:7;14673:4;14666;14658:6;14654:17;14647:4;14638:7;14634:18;14621:57;-1:-1:-1;;14790:4:111;14781:13;;14507:305::o;16565:116::-;16625:7;16651:23;;;;;;;;;;;;;;44365:5158:119;47788:4;47782:11;44486:16;;46783:10;46734:4;46721:18;;46713:67;;;46700:81;46696:98;;;;47546:55;;;;;;47247:29;;;;47234:43;47230:69;;;;48205:4;47782:11;48188:22;48251:4;48244;48235:7;48231:18;48223:33;48297:4;48290;48281:7;48277:18;48269:33;48343:4;48336;48327:7;48323:18;48315:33;48388:4;48381;48372:7;48368:18;48361:32;48433:17;48426:4;48417:7;48413:18;48406:45;48491:15;48484:4;48475:7;48471:18;48464:43;48606:15;48590:14;48583:4;48574:7;48570:18;48557:65;-1:-1:-1;;;;;48899:16:119;48893:23;48889:42;48866:65;;48966:15;48954:28;48944:146;;-1:-1:-1;;;49009:1:119;49002:43;49072:3;49069:1;49062:14;48944:146;49203:4;49197;49190;49173:15;49169:26;49160:7;49143:15;49136:5;49125:83;49103:105;;;;49273:14;49263:140;;49328:16;49325:1;49322;49307:38;49372:16;49369:1;49362:27;49263:140;;49476:40;49505:10;49476:28;:40::i;:::-;49465:51;44365:5158;-1:-1:-1;;;44365:5158:119:o;53094:4565::-;53232:16;53490:48;;;;;53685:22;53672:36;;53654:55;;;53851:3802;53873:3;53858:12;:18;53851:3802;;;54090:4;54072:23;;54066:30;54127:15;;54123:3322;;54307:19;;54382:4;54364:23;;54358:30;54448:4;54430:23;;54424:30;54505:1;54494:12;;54490:2821;;;54771:22;54747:47;;-1:-1:-1;;;;;55654:34:119;;54588:14;55654:34;;;:21;:34;;;;;;;;:42;;;;;;;;;;;55649:1558;;56396:26;;;56532:16;;56135:22;56679:23;;56183:12;56778:54;56825:6;56778:46;:54::i;:::-;56754:78;;56859:93;56914:13;56929:9;56940:11;56859:54;:93::i;:::-;-1:-1:-1;57076:23:119;;57154:4;57140:19;;;;;55649:1558;57228:64;57258:7;57267:11;57280;57228:29;:64::i;:::-;54508:2803;54490:2821;57333:7;57344:1;57333:12;57329:102;;;57369:43;57378:11;57391;57404:7;57369:8;:43::i;:::-;54144:3301;;;54123:3322;6187:3:111;57590:38:119;;;;53878:3775;53851:3802;;88243:15838;88358:35;88409;88708:36;88747:42;88778:10;36923:37:111;36907:54;36901:61;;36692:286;88747:42:119;88708:81;;88944:24;;88912:28;:56;88908:198;;89066:24;;88995:96;;;;;;;89036:28;;88995:96;;5400:25:173;;;5456:2;5441:18;;5434:34;5388:2;5373:18;;5226:248;88908:198:119;89119:30;89219:47;:45;:47::i;:::-;89163:103;;-1:-1:-1;89163:103:119;-1:-1:-1;89681:53:119;89163:103;;89681:53;:::i;:::-;89861:16;89855:23;;89915:61;89911:73;89923:32;90030:66;;;90017:80;90114:34;;5850:2:111;33179:21;;;33173:28;90030:66:119;;-1:-1:-1;;;;5850:2:111;-1:-1:-1;90208:48:119;;;;:::i;:::-;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;90513:11:119;;90550:23;;;90537:37;;;90181:75;;-1:-1:-1;90388:24:119;90372:41;;;90593:10277;5850:2:111;90613:1:119;:26;90593:10277;;;90751:19;;90801:26;90797:113;;90890:5;;;90797:113;91030:33;91012:52;;91006:59;91096:20;91092:90;;91143:24;;;;;;;;;;;;;;91092:90;91196:44;91243;91265:21;91243;:44::i;:::-;91196:91;;91320:40;91378;91436:41;91495;91553:56;91572:18;91592:16;91553:18;:56::i;:::-;91302:307;;;;;;;;92571:4;92565:11;92665:34;92659:4;92652:48;92735:4;92729;92725:15;92717:23;;92809:4;92789:18;92785:29;92779:36;92845:13;92839:4;92832:27;;92906:11;92900:18;92893:4;92887;92883:15;92876:43;92983:4;92970:11;92966:22;92960:29;92953:4;92947;92943:15;92936:54;93054:4;93041:11;93037:22;93031:29;93024:4;93018;93014:15;93007:54;93108:11;93102:18;93095:4;93089;93085:15;93078:43;93185:4;93172:11;93168:22;93162:29;93155:4;93149;93145:15;93138:54;93256:4;93243:11;93239:22;93233:29;93226:4;93220;93216:15;93209:54;93310:12;93304:19;93297:4;93291;93287:15;93280:44;93390:4;93376:12;93372:23;93366:30;93358:5;93352:4;93348:16;93341:56;93463:4;93449:12;93445:23;93439:30;93431:5;93425:4;93421:16;93414:56;93518:12;93512:19;93504:5;93498:4;93494:16;93487:45;93598:4;93584:12;93580:23;93574:30;93566:5;93560:4;93556:16;93549:56;93671:4;93657:12;93653:23;93647:30;93639:5;93633:4;93629:16;93622:56;93720:15;93712:5;93706:4;93702:16;93695:41;93778:16;93770:5;93764:4;93760:16;93753:42;93858:4;93838:18;93834:29;93828:36;93906:7;93898:5;93892:4;93888:16;93881:33;;93956:16;93948:5;93942:4;93938:16;93931:42;94015:18;94007:5;94001:4;93997:16;93990:44;94550:20;94544:27;94610:11;94598:24;94588:154;;-1:-1:-1;;;94653:1:119;94646:43;94720:3;94717:1;94710:14;94588:154;95068:1;95041;95010:5;94979:4;94973;94969:15;94932:11;94862:5;94842:18;94838:30;94832:37;94794:297;94759:332;;95132:16;95129:1;95123:4;95108:41;95174:7;95203:1;95198:341;;;;95825:1;95811:12;95804:23;95896:1;95889:4;95875:12;95871:23;95864:34;95967:1;95960:4;95946:12;95942:23;95935:34;96033:1;96026:4;96012:12;96008:23;96001:34;95167:897;;95198:341;95254:4;95248:11;95234:12;95227:33;95345:4;95339;95335:15;95329:22;95322:4;95308:12;95304:23;95297:55;95437:4;95431;95427:15;95421:22;95414:4;95400:12;95396:23;95389:55;95508:1;95501:4;95487:12;95483:23;95476:34;95167:897;;;;96097:18;:36;;;96092:105;;96181:1;96153:25;;;:29;96092:105;96500:4;96486:12;96482:23;96476:30;96562:1;96557:912;;;;97534:4;97528:11;98029:15;98023:4;98016:29;98100:12;98094:19;98087:4;98081;98077:15;98070:44;98203:4;98189:12;98185:23;98179:30;98172:4;98166;98162:15;98155:55;98299:4;98285:12;98281:23;98275:30;98268:4;98262;98258:15;98251:55;98366:4;98359;98353;98349:15;98342:29;98474:4;98460:12;98456:23;98450:30;98447:233;;;98535:1;98528:4;98522;98518:15;98511:26;98637:16;98614:21;98583:29;98577:4;98571;98566:88;98447:233;98739:4;98725:12;98721:23;98715:30;98705:760;;98801:16;98794:4;98788;98784:15;98777:41;98859:16;98965:2;98959:4;98955:13;98951:2;98947:22;98939:4;98932:12;98925:20;98921:49;99034:4;99031:1;99024:4;99018;99014:15;98999:40;99103:1;99095:4;99089;99085:15;99079:4;99075:26;99068:37;99393:16;99338:21;99275:29;99230:9;99224:4;99220:20;99214:4;99210:31;99172:4;99134:305;;;98705:760;99573:21;99567:4;99560:35;99640:16;99633:4;99627;99623:15;99616:41;99702:15;99695:4;99689;99685:15;99678:40;99769:12;99763:19;99756:4;99750;99746:15;99739:44;99868:4;99854:12;99850:23;99844:30;99837:4;99831;99827:15;99820:55;99960:4;99946:12;99942:23;99936:30;99929:4;99923;99919:15;99912:55;100044:4;100038;100032;100026;100021:3;100014:5;100003:46;99999:51;;100115:15;100108:4;100102:11;100098:33;100263:27;100257:4;100250:41;100325:26;100319:4;100312:40;100403:19;100396:4;100390;100380:21;100373:50;;100582:4;100553:27;100549:38;100518:69;;96469:4136;;96557:912;96604:4;96598:11;96796:15;96790:4;96783:29;96909:16;96886:21;96854:30;96848:4;96842;96837:89;96757:191;97118:16;97112:4;97105:30;97169:28;97163:4;97156:42;97274:4;97268;97258:21;97341;97308:31;97301:62;97435:15;97428:4;97395:31;97391:42;97384:67;;96469:4136;;100726:4;100708:16;100704:27;100684:47;;100782:4;100768:12;100764:23;100748:39;;100842:3;;;;;90642:10228;;;;;;;90593:10277;;;;101181:16;101175:23;101334:5;101295:37;101291:49;101272:17;101268:73;101530:17;101500:27;101466:32;101462:66;101459:89;102106:13;102103:114;;;-1:-1:-1;;;102145:1:119;102138:34;102199:3;102196:1;102189:14;102103:114;;102363:4;102357:11;102457:26;102451:4;102444:40;102510:31;102504:4;102497:45;102570:1;102555:379;102580:32;102577:1;102574:39;102555:379;;;102776:35;;;102770:4;102763:49;;;102836:4;102829:15;;;102897:21;;;102891:28;102868:21;;102861:59;102628:1;102621:9;102555:379;;;-1:-1:-1;103001:4:119;102994:21;103580:66;103357;;;103108:32;103294:151;103576:78;;;;;;103706:16;103699:31;103898:23;;103951:33;:31;:33::i;:::-;104031:24;:43;103897:87;88243:15838;-1:-1:-1;;;;;;;;;88243:15838:119:o;38548:433:111:-;38832:4;38828:15;;38741:103;;38745:81;38741:103;38714:148;38937:10;38925:23;;38922:43;;;38961:1;38958;38951:12;5042:476:117;5217:5;5238:9;5235:37;;;-1:-1:-1;5261:9:117;5235:37;5302:4;5296:11;5332:17;5327:3;5320:30;5385:2;5379:3;5374;5370:13;5363:25;5424:6;5417:4;5412:3;5408:14;5401:30;5496:4;5490;5484;5479:3;5476:1;5462:12;5453:7;5448:53;5444:58;;;5042:476;;;;:::o;2102:149:97:-;2160:13;2192:52;-1:-1:-1;;;;;2204:22:97;;311:2;1513:437;1588:13;1613:19;1645:10;1649:6;1645:1;:10;:::i;:::-;:14;;1658:1;1645:14;:::i;:::-;1635:25;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1635:25:97;;1613:47;;1670:15;:6;1677:1;1670:9;;;;;;;;:::i;:::-;;;;:15;;;;;;;;;;;1695;:6;1702:1;1695:9;;;;;;;;:::i;:::-;;;;:15;;;;;;;;;;-1:-1:-1;1725:9:97;1737:10;1741:6;1737:1;:10;:::i;:::-;:14;;1750:1;1737:14;:::i;:::-;1725:26;;1720:128;1757:1;1753;:5;1720:128;;;1791:8;1800:5;1808:3;1800:11;1791:21;;;;;;;:::i;:::-;;;;1779:6;1786:1;1779:9;;;;;;;;:::i;:::-;;;;:33;;;;;;;;;;-1:-1:-1;1836:1:97;1826:11;;;;;1760:3;;;:::i;:::-;;;1720:128;;;-1:-1:-1;1865:10:97;;1857:55;;;;-1:-1:-1;;;1857:55:97;;20030:2:173;1857:55:97;;;20012:21:173;;;20049:18;;;20042:30;20108:34;20088:18;;;20081:62;20160:18;;1857:55:97;19828:356:173;51604:1182:119;51685:7;51705:16;51723:20;51745;51767;51789:21;51826:29;51844:10;51826:17;:29::i;:::-;51704:151;;;;;;;;;;51886:15;;51870:12;:31;51866:117;;51924:48;;;;;;;;5400:25:173;;;5441:18;;;5434:34;;;5373:18;;51924:48:119;5226:248:173;51866:117:119;52041:11;:20;;-1:-1:-1;;;52041:20:119;;;;;;52148:30;;52041:20;52148:30;;;;;:::i;:::-;;:35;;52182:1;52148:35;52144:489;;;52225:14;52207:32;;:14;:32;;;52203:144;;52270:58;;;;;20371:10:173;20408:15;;;52270:58:119;;;20390:34:173;20460:15;;20440:18;;;20433:43;20334:18;;52270:58:119;20189:293:173;52203:144:119;52144:489;;;52385:16;52455:13;52438:30;;:14;:30;;;;;;;:::i;:::-;;52421:13;52404:14;:30;:65;52385:84;;;;52509:8;52491:14;:26;;;52487:132;;52548:52;;;;;20690:10:173;20678:23;;52548:52:119;;;20660:42:173;20718:18;;;20711:34;;;20633:18;;52548:52:119;20487:264:173;52487:132:119;52367:266;52144:489;-1:-1:-1;52647:15:119;:30;;;;52691:11;:53;;;52714:30;;;;52691:53;;;;-1:-1:-1;;;52691:53:119;;;;;;;;-1:-1:-1;52771:8:119;51604:1182;-1:-1:-1;;51604:1182:119:o;16760:882:106:-;16830:21;16913:27;16943:17;16955:4;16943:11;:17::i;:::-;16913:47;;17012:4;17006:11;17052:35;17047:2;17041:4;17037:13;17030:58;17123:34;17118:2;17112:4;17108:13;17101:57;17193:34;17188:2;17182:4;17178:13;17171:57;17264:28;17258:3;17252:4;17248:14;17241:52;17354:4;17339:13;17335:24;17329:31;17323:3;17317:4;17313:14;17306:55;17422:4;17407:13;17403:24;17397:31;17391:3;17385:4;17381:14;17374:55;17465:36;17459:3;17453:4;17449:14;17442:60;17538:28;17532:3;17526:4;17522:14;17515:52;17622:3;17617:2;17611:4;17607:13;17597:29;17580:46;;;16980:656;16760:882;;;:::o;4370:3417::-;4518:11;;-1:-1:-1;;;;;4591:22:106;;4587:87;;4636:27;;;;;;;;;;;;;;4587:87;5202:9;5196:16;5286:13;5275:9;5268:32;5481:4;5470:9;5466:20;5460:27;5530:4;5519:9;5515:20;5509:27;6263:1;6256:4;6245:9;6241:20;6234:31;6364:4;6353:9;6349:20;6343:27;6336:4;6325:9;6321:20;6314:57;6449:1;6442:4;6431:9;6427:20;6420:31;7138:4;7127:9;7121:4;7110:9;7104:4;7097:5;7086:57;6942:2;6939:1;6936:9;6931:2;6928:1;6925:9;6922:24;6828:4;6816:10;6813:20;6704:268;6611:66;6608:1;6605:73;6515:479;6490:671;6464:697;;;;7307:9;7301:16;7286:13;7283:35;7336:1;7331:46;;;;7276:101;;7331:46;7365:9;7359:16;7340:35;;7276:101;-1:-1:-1;7390:29:106;;7574:23;;7570:28;7558:41;;;;;;7618:72;;7652:27;;;;;;;;;;;;;;7618:72;7722:6;-1:-1:-1;;;;;7703:25:106;:15;-1:-1:-1;;;;;7703:25:106;;7699:82;;7751:19;;;;;;;;;;;;;;41766:885:119;41909:8;18518:10;18507:8;:21;18503:77;;;18551:18;;-1:-1:-1;;;18551:18:119;;;;;;;;;;;18503:77;41933:24:::1;42072:22:::0;;;42120:24:::1;42114:4;42107:38:::0;;;42187:4:::1;42171:21:::0;;;42158:35;;;42206:20;;;42269:21;;42329:29;;42458:32;;::::1;42504:42:::0;;;42395:31;-1:-1:-1;42566:79:119;::::1;;;42612:22;;;;;;;;;;;;;;61537:652:::0;-1:-1:-1;;;;;61639:23:119;;61635:87;;61685:26;;;;;;;;;;;;;;61635:87;61735:13;61731:452;;61843:1;61840;61837;61834;61818:14;61807:9;61800:5;61795:50;61791:55;4803:145:78;;;:::o;61731:452:119:-;61969:20;61992:27;62010:8;61992:17;:27::i;:::-;61969:50;;62033:139;62093:12;62107:9;62118:14;62134;:24;62149:8;62134:24;;;;;;;;;;;;62033:42;:139::i;79204:790::-;79588:16;79582:23;79671:17;79694:32;79690:44;;;79667:68;;;;79852:22;79825:50;;79822:142;;;79924:22;79898:48;;79822:142;79618:360;79204:790;;:::o;80348:6583::-;80438:23;80463:24;84743:35;84780:30;84826:47;:45;:47::i;:::-;84742:131;;-1:-1:-1;84742:131:119;-1:-1:-1;84883:14:119;84900:52;84742:131;;84900:52;:::i;:::-;84883:69;;85052:4;85046:11;85036:21;;85098:4;85090:6;85086:17;85368:4;85344:22;85340:33;85332:6;85328:46;85322:4;85315:60;85621:22;85613:6;85606:38;85760:26;85754:4;85747:40;85809:1;86060:268;86073:22;86070:1;86067:29;86060:268;;;86217:14;;;86211:4;86204:28;;;86307:4;86291:21;;86285:28;-1:-1:-1;86270:12:119;;86256:27;;86249:65;86111:4;86104:12;86060:268;;;86559:204;86572:22;86569:1;86566:29;86559:204;;;86727:21;86719:4;86712:12;;86698:27;;86691:58;86610:4;86603:12;86559:204;;;86563:2;86843:4;86837;86813:22;86803:8;86798:3;86791:5;86780:68;86776:73;;86899:15;86892:4;86886:11;86882:33;86862:53;;84971:1954;;;80348:6583;;:::o;34758:1681:111:-;35197:20;;;35191:27;35291:20;;;35285:27;34870:16;;;;;;35188:1;35184:35;;35104:4;35088:21;;35450:10;35400:29;;;35431:30;;;35397:65;35394:85;;;35475:1;35472;35465:12;35394:85;35510:9;35504:16;35492:28;;35552:4;35546:11;35584:8;35578:4;35571:22;35671:4;35660:9;35656:20;35650:27;35643:4;35637;35633:15;35626:52;35751:4;35740:9;35736:20;35730:27;35723:4;35717;35713:15;35706:52;35831:4;35820:9;35816:20;35810:27;35803:4;35797;35793:15;35786:52;35911:5;35900:9;35896:21;35890:28;35883:4;35877;35873:15;35866:53;35979:4;35973;35963:21;35947:37;;36025:4;36015:8;36011:19;36005:4;35998:33;36109:4;36098:9;36094:20;36088:27;36081:4;36075;36071:15;36064:52;36189:4;36178:9;36174:20;36168:27;36161:4;36155;36151:15;36144:52;36269:5;36258:9;36254:21;36248:28;36241:4;36235;36231:15;36224:53;36350:5;36339:9;36335:21;36329:28;36322:4;36316;36312:15;36305:53;36418:4;36412;36402:21;36386:37;;;;34758:1681;;;;;;;:::o;12102:4652:106:-;12159:20;12195:22;12191:446;;12276:4;12270:11;12260:21;;12313:4;12305:6;12298:20;12361:66;12354:4;12346:6;12342:17;12335:93;12471:66;12464:4;12456:6;12452:17;12445:93;12580:4;12572:6;12568:17;12562:4;12555:31;12102:4652;;;:::o;12191:446::-;-1:-1:-1;12685:4:106;12679:11;12970:66;12952:16;;;12945:92;13075:66;13057:16;;;13050:92;13180:66;13162:16;;;13155:92;13285:66;13267:16;;;13260:92;13390:66;13372:16;;;13365:92;13495:66;13477:16;;;13470:92;13600:66;13582:16;;;13575:92;13705:66;13687:16;;;13680:92;13811:66;13792:17;;;13785:93;13917:66;13898:17;;;13891:93;14023:66;14004:17;;;13997:93;14129:66;14110:17;;;14103:93;14235:66;14216:17;;;14209:93;14341:66;14322:17;;;14315:93;14447:66;14428:17;;;14421:93;14553:66;14534:17;;;14527:93;12728:4;12716:17;;15095:5;16490:4;16475:20;;15196:1;15192:20;;;;;;;15178:35;;15172:42;15166:4;15159:56;15265:28;;;;;;15251:43;;15245:50;15239:4;15232:64;15346:29;;;;;;15332:44;;15326:51;15320:4;15313:65;15428:29;;;;;;15414:44;;15408:51;15443:2;15395:65;15510:29;;;;;;15496:44;;15490:51;15484:4;15477:65;15592:29;;;;;;15578:44;;15572:51;15566:4;15559:65;15674:29;;;;;;15660:44;;15654:51;15648:4;15641:65;15756:29;;;;;;15742:44;;15736:51;15361:2;15723:65;15838:29;;;;;;15824:44;;15818:51;15812:4;15805:65;15920:29;;;;;;15906:44;;15900:51;15894:4;15887:65;16002:29;;;;;;15988:44;;15982:51;15976:4;15969:65;16084:29;;;;;;16070:44;;16064:51;15280:1;16051:65;16166:29;;;;;;16152:44;;16146:51;16140:4;16133:65;16248:30;;;;;;16234:45;;16228:52;16222:4;16215:66;16331:30;;;;;;16317:45;;16311:52;-1:-1:-1;16298:66:106;16414:30;;;;;16400:45;;16394:52;16388:4;16381:66;16571:4;16565:11;16558:4;16546:17;;16539:38;16602:3;16598:14;16625:18;16637:5;16598:14;15192:20;15196:1;15192:20;;;;;15178:35;;15172:42;15166:4;15159:56;15265:28;;;;;;15251:43;;15245:50;15239:4;15232:64;15346:29;;;;;;15332:44;;15326:51;15320:4;15313:65;15428:29;;;;;;15414:44;;15408:51;15443:2;15395:65;15510:29;;;;;;15496:44;;15490:51;15484:4;15477:65;15592:29;;;;;;15578:44;;15572:51;15566:4;15559:65;15674:29;;;;;;15660:44;;15654:51;15648:4;15641:65;15756:29;;;;;;15742:44;;15736:51;15361:2;15723:65;15838:29;;;;;;15824:44;;15818:51;15812:4;15805:65;15920:29;;;;;;15906:44;;15900:51;15894:4;15887:65;16002:29;;;;;;15988:44;;15982:51;15976:4;15969:65;16084:29;;;;;;16070:44;;16064:51;15280:1;16051:65;16166:29;;;;;;16152:44;;16146:51;16140:4;16133:65;16248:30;;;;;;16234:45;;16228:52;16222:4;16215:66;16331:30;;;;;;16317:45;;16311:52;-1:-1:-1;16298:66:106;16414:30;;;;;;16400:45;16394:52;16388:4;16381:66;15113:1348;16625:18;;;16688:4;16682:11;16675:4;16667:6;16663:17;16656:38;16732:4;16724:6;16720:17;16714:4;16707:31;12102:4652;;;:::o;-1:-1:-1:-;;;:::i;:::-;:::o;14:332:173:-;72:6;125:2;113:9;104:7;100:23;96:32;93:52;;;141:1;138;131:12;93:52;180:9;167:23;230:66;223:5;219:78;212:5;209:89;199:117;;312:1;309;302:12;725:180;784:6;837:2;825:9;816:7;812:23;808:32;805:52;;;853:1;850;843:12;805:52;-1:-1:-1;876:23:173;;725:180;-1:-1:-1;725:180:173:o;1141:118::-;1227:5;1220:13;1213:21;1206:5;1203:32;1193:60;;1249:1;1246;1239:12;1264:241;1320:6;1373:2;1361:9;1352:7;1348:23;1344:32;1341:52;;;1389:1;1386;1379:12;1341:52;1428:9;1415:23;1447:28;1469:5;1447:28;:::i;1692:347::-;1743:8;1753:6;1807:3;1800:4;1792:6;1788:17;1784:27;1774:55;;1825:1;1822;1815:12;1774:55;-1:-1:-1;1848:20:173;;1891:18;1880:30;;1877:50;;;1923:1;1920;1913:12;1877:50;1960:4;1952:6;1948:17;1936:29;;2012:3;2005:4;1996:6;1988;1984:19;1980:30;1977:39;1974:59;;;2029:1;2026;2019:12;1974:59;1692:347;;;;;:::o;2044:614::-;2141:6;2149;2157;2165;2173;2226:3;2214:9;2205:7;2201:23;2197:33;2194:53;;;2243:1;2240;2233:12;2194:53;2279:9;2266:23;2256:33;;2336:2;2325:9;2321:18;2308:32;2298:42;;2387:2;2376:9;2372:18;2359:32;2349:42;;2442:2;2431:9;2427:18;2414:32;2469:18;2461:6;2458:30;2455:50;;;2501:1;2498;2491:12;2455:50;2540:58;2590:7;2581:6;2570:9;2566:22;2540:58;:::i;:::-;2044:614;;;;-1:-1:-1;2044:614:173;;-1:-1:-1;2617:8:173;;2514:84;2044:614;-1:-1:-1;;;2044:614:173:o;3045:196::-;3113:20;;-1:-1:-1;;;;;3162:54:173;;3152:65;;3142:93;;3231:1;3228;3221:12;3246:254;3314:6;3322;3375:2;3363:9;3354:7;3350:23;3346:32;3343:52;;;3391:1;3388;3381:12;3343:52;3427:9;3414:23;3404:33;;3456:38;3490:2;3479:9;3475:18;3456:38;:::i;:::-;3446:48;;3246:254;;;;;:::o;3764:186::-;3823:6;3876:2;3864:9;3855:7;3851:23;3847:32;3844:52;;;3892:1;3889;3882:12;3844:52;3915:29;3934:9;3915:29;:::i;3955:163::-;4022:20;;4082:10;4071:22;;4061:33;;4051:61;;4108:1;4105;4098:12;4123:184;4181:6;4234:2;4222:9;4213:7;4209:23;4205:32;4202:52;;;4250:1;4247;4240:12;4202:52;4273:28;4291:9;4273:28;:::i;4312:254::-;4380:6;4388;4441:2;4429:9;4420:7;4416:23;4412:32;4409:52;;;4457:1;4454;4447:12;4409:52;4480:29;4499:9;4480:29;:::i;:::-;4470:39;4556:2;4541:18;;;;4528:32;;-1:-1:-1;;;4312:254:173:o;4571:391::-;4657:6;4665;4673;4681;4734:3;4722:9;4713:7;4709:23;4705:33;4702:53;;;4751:1;4748;4741:12;4702:53;4787:9;4774:23;4764:33;;4844:2;4833:9;4829:18;4816:32;4806:42;;4867:38;4901:2;4890:9;4886:18;4867:38;:::i;:::-;4571:391;;;;-1:-1:-1;4857:48:173;;4952:2;4937:18;4924:32;;-1:-1:-1;;4571:391:173:o;5479:315::-;5544:6;5552;5605:2;5593:9;5584:7;5580:23;5576:32;5573:52;;;5621:1;5618;5611:12;5573:52;5644:29;5663:9;5644:29;:::i;:::-;5634:39;;5723:2;5712:9;5708:18;5695:32;5736:28;5758:5;5736:28;:::i;:::-;5783:5;5773:15;;;5479:315;;;;;:::o;5799:482::-;5881:6;5889;5897;5905;5958:3;5946:9;5937:7;5933:23;5929:33;5926:53;;;5975:1;5972;5965:12;5926:53;6011:9;5998:23;5988:33;;6040:37;6073:2;6062:9;6058:18;6040:37;:::i;:::-;6030:47;;6096:37;6129:2;6118:9;6114:18;6096:37;:::i;:::-;6086:47;;6183:2;6172:9;6168:18;6155:32;6227:4;6220:5;6216:16;6209:5;6206:27;6196:55;;6247:1;6244;6237:12;6196:55;5799:482;;;;-1:-1:-1;5799:482:173;;-1:-1:-1;;5799:482:173:o;7304:717::-;7394:6;7402;7410;7418;7471:2;7459:9;7450:7;7446:23;7442:32;7439:52;;;7487:1;7484;7477:12;7439:52;7527:9;7514:23;7556:18;7597:2;7589:6;7586:14;7583:34;;;7613:1;7610;7603:12;7583:34;7652:58;7702:7;7693:6;7682:9;7678:22;7652:58;:::i;:::-;7729:8;;-1:-1:-1;7626:84:173;-1:-1:-1;7817:2:173;7802:18;;7789:32;;-1:-1:-1;7833:16:173;;;7830:36;;;7862:1;7859;7852:12;7830:36;;7901:60;7953:7;7942:8;7931:9;7927:24;7901:60;:::i;:::-;7304:717;;;;-1:-1:-1;7980:8:173;-1:-1:-1;;;;7304:717:173:o;8026:184::-;-1:-1:-1;;;8075:1:173;8068:88;8175:4;8172:1;8165:15;8199:4;8196:1;8189:15;8215:224;8254:3;8282:6;8315:2;8312:1;8308:10;8345:2;8342:1;8338:10;8376:3;8372:2;8368:12;8363:3;8360:21;8357:47;;;8384:18;;:::i;:::-;8420:13;;8215:224;-1:-1:-1;;;;8215:224:173:o;8444:184::-;-1:-1:-1;;;8493:1:173;8486:88;8593:4;8590:1;8583:15;8617:4;8614:1;8607:15;9422:125;9462:4;9490:1;9487;9484:8;9481:34;;;9495:18;;:::i;:::-;-1:-1:-1;9532:9:173;;9422:125::o;9552:184::-;-1:-1:-1;;;9601:1:173;9594:88;9701:4;9698:1;9691:15;9725:4;9722:1;9715:15;10073:184;10143:6;10196:2;10184:9;10175:7;10171:23;10167:32;10164:52;;;10212:1;10209;10202:12;10164:52;-1:-1:-1;10235:16:173;;10073:184;-1:-1:-1;10073:184:173:o;11386:513::-;11468:5;11462:12;11457:3;11450:25;-1:-1:-1;;;;;11528:4:173;11521:5;11517:16;11511:23;11507:72;11500:4;11495:3;11491:14;11484:96;11626:4;11619:5;11615:16;11609:23;11668:1;11654:12;11651:19;11641:207;;-1:-1:-1;;;11701:1:173;11694:88;11805:4;11802:1;11795:15;11833:4;11830:1;11823:15;11641:207;11880:12;11873:4;11868:3;11864:14;11857:36;;11386:513;;:::o;11904:880::-;12408:3;12393:19;;12421:47;12397:9;12450:6;12421:47;:::i;:::-;12477:56;12529:2;12518:9;12514:18;12506:6;12477:56;:::i;:::-;12542:57;12594:3;12583:9;12579:19;12571:6;12542:57;:::i;:::-;12608;12660:3;12649:9;12645:19;12637:6;12608:57;:::i;:::-;12702:6;12696:3;12685:9;12681:19;12674:35;12758:18;12750:6;12746:31;12740:3;12729:9;12725:19;12718:60;11904:880;;;;;;;;;:::o;12789:367::-;12874:6;12882;12890;12943:2;12931:9;12922:7;12918:23;12914:32;12911:52;;;12959:1;12956;12949:12;12911:52;12988:9;12982:16;12972:26;;13038:2;13027:9;13023:18;13017:25;13007:35;;13085:2;13074:9;13070:18;13064:25;13098:28;13120:5;13098:28;:::i;:::-;13145:5;13135:15;;;12789:367;;;;;:::o;13747:482::-;13836:1;13879:5;13836:1;13893:330;13914:7;13904:8;13901:21;13893:330;;;14033:4;-1:-1:-1;;13961:77:173;13955:4;13952:87;13949:113;;;14042:18;;:::i;:::-;14092:7;14082:8;14078:22;14075:55;;;14112:16;;;;14075:55;14191:22;;;;14151:15;;;;13893:330;;;13897:3;13747:482;;;;;:::o;14234:866::-;14283:5;14313:8;14303:80;;-1:-1:-1;14354:1:173;14368:5;;14303:80;14402:4;14392:76;;-1:-1:-1;14439:1:173;14453:5;;14392:76;14484:4;14502:1;14497:59;;;;14570:1;14565:130;;;;14477:218;;14497:59;14527:1;14518:10;;14541:5;;;14565:130;14602:3;14592:8;14589:17;14586:43;;;14609:18;;:::i;:::-;-1:-1:-1;;14665:1:173;14651:16;;14680:5;;14477:218;;14779:2;14769:8;14766:16;14760:3;14754:4;14751:13;14747:36;14741:2;14731:8;14728:16;14723:2;14717:4;14714:12;14710:35;14707:77;14704:159;;;-1:-1:-1;14816:19:173;;;14848:5;;14704:159;14895:34;14920:8;14914:4;14895:34;:::i;:::-;15025:6;-1:-1:-1;;14953:79:173;14944:7;14941:92;14938:118;;;15036:18;;:::i;:::-;15074:20;;14234:866;-1:-1:-1;;;14234:866:173:o;15105:140::-;15163:5;15192:47;15233:4;15223:8;15219:19;15213:4;15192:47;:::i;15250:228::-;15290:7;15416:1;-1:-1:-1;;15344:74:173;15341:1;15338:81;15333:1;15326:9;15319:17;15315:105;15312:131;;;15423:18;;:::i;:::-;-1:-1:-1;15463:9:173;;15250:228::o;15852:184::-;-1:-1:-1;;;15901:1:173;15894:88;16001:4;15998:1;15991:15;16025:4;16022:1;16015:15;16041:112;16073:1;16099;16089:35;;16104:18;;:::i;:::-;-1:-1:-1;16138:9:173;;16041:112::o;16158:128::-;16198:3;16229:1;16225:6;16222:1;16219:13;16216:39;;;16235:18;;:::i;:::-;-1:-1:-1;16271:9:173;;16158:128::o;16291:120::-;16331:1;16357;16347:35;;16362:18;;:::i;:::-;-1:-1:-1;16396:9:173;;16291:120::o;16416:253::-;16456:3;-1:-1:-1;;;;;16545:2:173;16542:1;16538:10;16575:2;16572:1;16568:10;16606:3;16602:2;16598:12;16593:3;16590:21;16587:47;;;16614:18;;:::i;16674:246::-;16714:4;-1:-1:-1;;;;;16827:10:173;;;;16797;;16849:12;;;16846:38;;;16864:18;;:::i;:::-;16901:13;;16674:246;-1:-1:-1;;;16674:246:173:o;16925:754::-;17143:2;17155:21;;;17225:13;;17128:18;;;17247:22;;;17095:4;;17322;;17300:2;17285:18;;;17349:15;;;17095:4;17392:169;17406:6;17403:1;17400:13;17392:169;;;17467:13;;17455:26;;17501:12;;;;17536:15;;;;17428:1;17421:9;17392:169;;;-1:-1:-1;;;;;;;;17617:55:173;;;;17597:18;;17590:83;;;;-1:-1:-1;17578:3:173;16925:754;-1:-1:-1;16925:754:173:o;17684:258::-;17756:1;17766:113;17780:6;17777:1;17774:13;17766:113;;;17856:11;;;17850:18;17837:11;;;17830:39;17802:2;17795:10;17766:113;;;17897:6;17894:1;17891:13;17888:48;;;-1:-1:-1;;17932:1:173;17914:16;;17907:27;17684:258::o;17947:786::-;18358:25;18353:3;18346:38;18328:3;18413:6;18407:13;18429:62;18484:6;18479:2;18474:3;18470:12;18463:4;18455:6;18451:17;18429:62;:::i;:::-;18555:19;18550:2;18510:16;;;18542:11;;;18535:40;18600:13;;18622:63;18600:13;18671:2;18663:11;;18656:4;18644:17;;18622:63;:::i;:::-;18705:17;18724:2;18701:26;;17947:786;-1:-1:-1;;;;17947:786:173:o;18738:442::-;18887:2;18876:9;18869:21;18850:4;18919:6;18913:13;18962:6;18957:2;18946:9;18942:18;18935:34;18978:66;19037:6;19032:2;19021:9;19017:18;19012:2;19004:6;19000:15;18978:66;:::i;:::-;19096:2;19084:15;-1:-1:-1;;19080:88:173;19065:104;;;;19171:2;19061:113;;18738:442;-1:-1:-1;;18738:442:173:o;19438:184::-;-1:-1:-1;;;19487:1:173;19480:88;19587:4;19584:1;19577:15;19611:4;19608:1;19601:15;19627:196;19666:3;19694:5;19684:39;;19703:18;;:::i;:::-;-1:-1:-1;;;19739:78:173;;19627:196::o;20756:184::-;-1:-1:-1;;;20805:1:173;20798:88;20905:4;20902:1;20895:15;20929:4;20926:1;20919:15","linkReferences":{},"immutableReferences":{"71979":[{"start":2434,"length":32},{"start":10923,"length":32},{"start":11188,"length":32}],"71981":[{"start":2936,"length":32},{"start":10959,"length":32},{"start":11054,"length":32},{"start":11097,"length":32},{"start":11145,"length":32}]}},"methodIdentifiers":{"DEFAULT_ADMIN_ROLE()":"a217fddf","EMERGENCY_ROLE()":"20df4359","LISTER_ROLE()":"deb26b94","OWNER_ROLE()":"e58378bb","RESUME_ROLE()":"2de03aa1","allowThirdPartyContracts()":"999e3614","approveProof(bytes32)":"e3936355","assetGasLimits(uint256)":"03561119","asyncDefiInteractionHashes(uint256)":"cd12bf62","bridgeGasLimits(uint256)":"f21c69bb","caps(uint256)":"c37c656d","defiBridgeProxy()":"0ceee68c","defiInteractionHashes(uint256)":"a33dc5e7","delayBeforeEscapeHatch()":"c4a7a35f","depositPendingFunds(uint256,uint256,address,bytes32)":"7ff48afb","depositProofApprovals(address,bytes32)":"781e0432","escapeBlockLowerBound()":"b045009c","escapeBlockUpperBound()":"d8ba3637","ethPayments(uint256)":"dcefed85","getAsyncDefiInteractionHashesLength()":"7baf7118","getCapped()":"9b60ae2b","getDataSize()":"7d036b27","getDefiInteractionHashesLength()":"db1533aa","getEscapeHatchStatus()":"be71f8a4","getImplementationVersion()":"bc327e40","getPendingDefiInteractionHashesLength()":"02f6ccd4","getRoleAdmin(bytes32)":"248a9ca3","getSupportedAsset(uint256)":"60a8b18a","getSupportedAssetsLength()":"c0fd22b7","getSupportedBridge(uint256)":"e0d16c32","getSupportedBridgesLength()":"a8d1eae7","grantRole(bytes32,address)":"2f2ff15d","hasRole(bytes32,address)":"91d14854","initialize()":"8129fc1c","lastRollupTimeStamp()":"20a23dd3","offchainData(uint256,uint256,uint256,bytes)":"20825443","pause()":"8456cb59","paused()":"5c975abb","pendingDefiInteractions(uint256)":"8afceb39","prevDefiInteractionsHash()":"7ba3e7ae","processAsyncDefiInteraction(uint256)":"8188f468","processRollup(bytes,bytes)":"f81cccbe","receiveEthFromBridge(uint256)":"12a53623","renounceRole(bytes32,address)":"36568abe","revokeRole(bytes32,address)":"d547741f","rollupProviders(address)":"5ad1def3","rollupStateHash()":"1ab9c603","setAllowThirdPartyContracts(bool)":"a2b096e4","setAssetCap(uint256,uint32,uint32,uint8)":"b3a07b98","setCapped(bool)":"0d698f6f","setDefiBridgeProxy(address)":"caa34553","setDelayBeforeEscapeHatch(uint32)":"6a0214a9","setRollupProvider(address,bool)":"91dfe78f","setSupportedAsset(address,uint256)":"fb0ce185","setSupportedBridge(address,uint256)":"8666c0a9","setVerifier(address)":"5437988d","supportsInterface(bytes4)":"01ffc9a7","unpause()":"3f4ba83a","userPendingDeposits(uint256,address)":"36ce0a92","verifier()":"2b7ac3f3"},"rawMetadata":"{\\"compiler\\":{\\"version\\":\\"0.8.10+commit.fc410830\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_escapeBlockLowerBound\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_escapeBlockUpperBound\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"},{\\"inputs\\":[],\\"name\\":\\"ARRAY_OVERFLOW\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"inputAssetId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"BRIDGE_WITH_IDENTICAL_INPUT_ASSETS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"outputAssetId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"BRIDGE_WITH_IDENTICAL_OUTPUT_ASSETS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"DAILY_CAP_SURPASSED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"DEPOSIT_TOKENS_WRONG_PAYMENT_TYPE\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"ENCODING_BYTE_INVALID\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INCONSISTENT_BRIDGE_CALL_DATA\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"providedIndex\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"expectedIndex\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"INCORRECT_DATA_START_INDEX\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"providedDefiInteractionHash\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"expectedDefiInteractionHash\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"INCORRECT_PREVIOUS_DEFI_INTERACTION_HASH\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"oldStateHash\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"newStateHash\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"INCORRECT_STATE_HASH\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INSUFFICIENT_DEPOSIT\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INSUFFICIENT_ETH_PAYMENT\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INSUFFICIENT_TOKEN_APPROVAL\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_ADDRESS_NO_CODE\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_ASSET_ADDRESS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_ASSET_GAS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_ASSET_ID\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_BRIDGE_ADDRESS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_BRIDGE_CALL_DATA\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_BRIDGE_GAS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_ESCAPE_BOUNDS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_PROVIDER\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_ROLLUP_TOPOLOGY\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"INVALID_SIGNATURE\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"LOCKED_NO_REENTER\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"MSG_VALUE_WRONG_AMOUNT\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"outputValue\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"NONZERO_OUTPUT_VALUE_ON_NOT_USED_ASSET\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"NOT_PAUSED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"PAUSED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"PENDING_CAP_SURPASSED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"PROOF_VERIFICATION_FAILED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"PUBLIC_INPUTS_HASH_VERIFICATION_FAILED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"SAFE_CAST_OVERFLOW\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"SIGNATURE_ADDRESS_IS_ZERO\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"SIGNATURE_RECOVERY_FAILED\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"THIRD_PARTY_CONTRACTS_FLAG_NOT_SET\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"WITHDRAW_TO_ZERO_ADDRESS\\",\\"type\\":\\"error\\"},{\\"inputs\\":[],\\"name\\":\\"ZERO_TOTAL_INPUT_VALUE\\",\\"type\\":\\"error\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"allowed\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"AllowThirdPartyContractsUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"assetId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"assetAddress\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"assetGasLimit\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"AssetAdded\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"assetId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"pendingCap\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"dailyCap\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"AssetCapUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"encodedBridgeCallData\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"nonce\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"totalInputValue\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"AsyncDefiBridgeProcessed\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"bridgeAddressId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"bridgeAddress\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"bridgeGasLimit\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"BridgeAdded\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"isCapped\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"CappedUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"encodedBridgeCallData\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"nonce\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"totalInputValue\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"totalOutputValueA\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"totalOutputValueB\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"result\\",\\"type\\":\\"bool\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes\\",\\"name\\":\\"errorReason\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"DefiBridgeProcessed\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"defiBridgeProxy\\",\\"type\\":\\"address\\"}],\\"name\\":\\"DefiBridgeProxyUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint32\\",\\"name\\":\\"delay\\",\\"type\\":\\"uint32\\"}],\\"name\\":\\"DelayBeforeEscapeHatchUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"assetId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"depositorAddress\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"depositValue\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"Deposit\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"uint8\\",\\"name\\":\\"version\\",\\"type\\":\\"uint8\\"}],\\"name\\":\\"Initialized\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"rollupId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"chunk\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"uint256\\",\\"name\\":\\"totalChunks\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"sender\\",\\"type\\":\\"address\\"}],\\"name\\":\\"OffchainData\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"}],\\"name\\":\\"Paused\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"indexed\\":true,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"previousAdminRole\\",\\"type\\":\\"bytes32\\"},{\\"indexed\\":true,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"newAdminRole\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"RoleAdminChanged\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"sender\\",\\"type\\":\\"address\\"}],\\"name\\":\\"RoleGranted\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"sender\\",\\"type\\":\\"address\\"}],\\"name\\":\\"RoleRevoked\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"uint256\\",\\"name\\":\\"rollupId\\",\\"type\\":\\"uint256\\"},{\\"indexed\\":false,\\"internalType\\":\\"bytes32[]\\",\\"name\\":\\"nextExpectedDefiHashes\\",\\"type\\":\\"bytes32[]\\"},{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"sender\\",\\"type\\":\\"address\\"}],\\"name\\":\\"RollupProcessed\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"providerAddress\\",\\"type\\":\\"address\\"},{\\"indexed\\":false,\\"internalType\\":\\"bool\\",\\"name\\":\\"valid\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"RollupProviderUpdated\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":false,\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"}],\\"name\\":\\"Unpaused\\",\\"type\\":\\"event\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"verifierAddress\\",\\"type\\":\\"address\\"}],\\"name\\":\\"VerifierUpdated\\",\\"type\\":\\"event\\"},{\\"inputs\\":[],\\"name\\":\\"DEFAULT_ADMIN_ROLE\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"EMERGENCY_ROLE\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"LISTER_ROLE\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"OWNER_ROLE\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"RESUME_ROLE\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"allowThirdPartyContracts\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_proofHash\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"approveProof\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"assetGasLimits\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"asyncDefiInteractionHashes\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"bridgeGasLimits\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"caps\\",\\"outputs\\":[{\\"internalType\\":\\"uint128\\",\\"name\\":\\"available\\",\\"type\\":\\"uint128\\"},{\\"internalType\\":\\"uint32\\",\\"name\\":\\"lastUpdatedTimestamp\\",\\"type\\":\\"uint32\\"},{\\"internalType\\":\\"uint32\\",\\"name\\":\\"pendingCap\\",\\"type\\":\\"uint32\\"},{\\"internalType\\":\\"uint32\\",\\"name\\":\\"dailyCap\\",\\"type\\":\\"uint32\\"},{\\"internalType\\":\\"uint8\\",\\"name\\":\\"precision\\",\\"type\\":\\"uint8\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"defiBridgeProxy\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"defiInteractionHashes\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"delayBeforeEscapeHatch\\",\\"outputs\\":[{\\"internalType\\":\\"uint32\\",\\"name\\":\\"\\",\\"type\\":\\"uint32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_assetId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_amount\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_proofHash\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"depositPendingFunds\\",\\"outputs\\":[],\\"stateMutability\\":\\"payable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"depositProofApprovals\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"escapeBlockLowerBound\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"escapeBlockUpperBound\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"ethPayments\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getAsyncDefiInteractionHashesLength\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getCapped\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"capped\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getDataSize\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"dataSize\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getDefiInteractionHashesLength\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getEscapeHatchStatus\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getImplementationVersion\\",\\"outputs\\":[{\\"internalType\\":\\"uint8\\",\\"name\\":\\"version\\",\\"type\\":\\"uint8\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getPendingDefiInteractionHashesLength\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"getRoleAdmin\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_assetId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getSupportedAsset\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getSupportedAssetsLength\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_bridgeAddressId\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"getSupportedBridge\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"getSupportedBridgesLength\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"}],\\"name\\":\\"grantRole\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"}],\\"name\\":\\"hasRole\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"initialize\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"lastRollupTimeStamp\\",\\"outputs\\":[{\\"internalType\\":\\"uint32\\",\\"name\\":\\"\\",\\"type\\":\\"uint32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_rollupId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_chunk\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_totalChunks\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"offchainData\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"pause\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"paused\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"isPaused\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"pendingDefiInteractions\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"encodedBridgeCallData\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"totalInputValue\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"prevDefiInteractionsHash\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_interactionNonce\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"processAsyncDefiInteraction\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes\\",\\"name\\":\\"\\",\\"type\\":\\"bytes\\"},{\\"internalType\\":\\"bytes\\",\\"name\\":\\"_signatures\\",\\"type\\":\\"bytes\\"}],\\"name\\":\\"processRollup\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_interactionNonce\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"receiveEthFromBridge\\",\\"outputs\\":[],\\"stateMutability\\":\\"payable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"}],\\"name\\":\\"renounceRole\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"role\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"account\\",\\"type\\":\\"address\\"}],\\"name\\":\\"revokeRole\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"name\\":\\"rollupProviders\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"rollupStateHash\\",\\"outputs\\":[{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"\\",\\"type\\":\\"bytes32\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"_allowThirdPartyContracts\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"setAllowThirdPartyContracts\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_assetId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint32\\",\\"name\\":\\"_pendingCap\\",\\"type\\":\\"uint32\\"},{\\"internalType\\":\\"uint32\\",\\"name\\":\\"_dailyCap\\",\\"type\\":\\"uint32\\"},{\\"internalType\\":\\"uint8\\",\\"name\\":\\"_precision\\",\\"type\\":\\"uint8\\"}],\\"name\\":\\"setAssetCap\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"_isCapped\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"setCapped\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_defiBridgeProxy\\",\\"type\\":\\"address\\"}],\\"name\\":\\"setDefiBridgeProxy\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint32\\",\\"name\\":\\"_delay\\",\\"type\\":\\"uint32\\"}],\\"name\\":\\"setDelayBeforeEscapeHatch\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_provider\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"bool\\",\\"name\\":\\"_valid\\",\\"type\\":\\"bool\\"}],\\"name\\":\\"setRollupProvider\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_token\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_gasLimit\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"setSupportedAsset\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_bridge\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_gasLimit\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"setSupportedBridge\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_verifier\\",\\"type\\":\\"address\\"}],\\"name\\":\\"setVerifier\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"bytes4\\",\\"name\\":\\"interfaceId\\",\\"type\\":\\"bytes4\\"}],\\"name\\":\\"supportsInterface\\",\\"outputs\\":[{\\"internalType\\":\\"bool\\",\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"unpause\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"name\\":\\"userPendingDeposits\\",\\"outputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"verifier\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"details\\":\\"Smart contract responsible for processing Aztec zkRollups, relaying them to a verifier      contract for validation and performing all the relevant ERC20 token transfers\\",\\"kind\\":\\"dev\\",\\"methods\\":{\\"approveProof(bytes32)\\":{\\"details\\":\\"this function is one way and must be called by the owner of the funds\\",\\"params\\":{\\"_proofHash\\":\\"keccak256 hash of the inner proof public inputs\\"}},\\"constructor\\":{\\"params\\":{\\"_escapeBlockLowerBound\\":\\"a block number which defines a start of the escape hatch window\\",\\"_escapeBlockUpperBound\\":\\"a block number which defines an end of the escape hatch window\\"}},\\"depositPendingFunds(uint256,uint256,address,bytes32)\\":{\\"details\\":\\"This is the first stage of a 2 stage deposit process. In the second stage funds are claimed by the user on      L2.\\",\\"params\\":{\\"_amount\\":\\"token deposit amount\\",\\"_assetId\\":\\"asset ID which was assigned during asset registration\\",\\"_owner\\":\\"address that can spend the deposited funds\\",\\"_proofHash\\":\\"32 byte transaction id that can spend the deposited funds\\"}},\\"getAsyncDefiInteractionHashesLength()\\":{\\"details\\":\\"A defi interaction hash represents an asynchronous defi interaction that has resolved, but whose interaction      result data has not yet been added into the Aztec Defi Merkle tree. This step is needed in order to convert      L2 Defi claim notes into L2 value notes.\\",\\"returns\\":{\\"_0\\":\\"- the number of pending async defi interaction hashes\\"}},\\"getCapped()\\":{\\"returns\\":{\\"capped\\":\\"- True if deposits are capped, false otherwise\\"}},\\"getDataSize()\\":{\\"returns\\":{\\"dataSize\\":\\"number of filled entries in the data tree (equivalent to the number of notes created on L2)\\"}},\\"getDefiInteractionHashesLength()\\":{\\"details\\":\\"A defi interaction hash represents a defi interaction that has resolved, but whose      result data has not yet been added into the Aztec Defi Merkle tree. This step is needed in order to convert      L2 Defi claim notes into L2 value notes.\\",\\"returns\\":{\\"_0\\":\\"- the number of pending defi interaction hashes\\"}},\\"getEscapeHatchStatus()\\":{\\"returns\\":{\\"_0\\":\\"True if escape hatch is open, false otherwise\\",\\"_1\\":\\"The number of blocks until the next opening/closing of escape hatch\\"}},\\"getImplementationVersion()\\":{\\"returns\\":{\\"version\\":\\"version number of the implementation\\"}},\\"getPendingDefiInteractionHashesLength()\\":{\\"details\\":\\"This value can never exceed 512. This limit is set in order to prevent griefing attacks - `processRollup`      iterates through `asyncDefiInteractionHashes` and copies their values into `defiInteractionHashes`. Loop      is bounded to < 512 so that tx does not exceed block gas limit.\\",\\"returns\\":{\\"_0\\":\\"- the number of pending interactions\\"}},\\"getRoleAdmin(bytes32)\\":{\\"details\\":\\"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role\'s admin, use {_setRoleAdmin}.\\"},\\"getSupportedAsset(uint256)\\":{\\"params\\":{\\"_assetId\\":\\"identifier used to denote a particular asset\\"},\\"returns\\":{\\"_0\\":\\"- the address of the matching asset\\"}},\\"getSupportedAssetsLength()\\":{\\"returns\\":{\\"_0\\":\\"- the number of supported assets\\"}},\\"getSupportedBridge(uint256)\\":{\\"params\\":{\\"_bridgeAddressId\\":\\"identifier used to denote a particular bridge\\"},\\"returns\\":{\\"_0\\":\\"- the address of the matching bridge contract\\"}},\\"getSupportedBridgesLength()\\":{\\"returns\\":{\\"_0\\":\\"- the number of supported bridges\\"}},\\"grantRole(bytes32,address)\\":{\\"details\\":\\"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``\'s admin role. May emit a {RoleGranted} event.\\"},\\"hasRole(bytes32,address)\\":{\\"details\\":\\"Returns `true` if `account` has been granted `role`.\\"},\\"offchainData(uint256,uint256,uint256,bytes)\\":{\\"details\\":\\"This function can be called multiple times to work around maximum tx size limitsThe data is expected to be reconstructed by the client\\",\\"params\\":{\\"\\":\\"- the data\\",\\"_chunk\\":\\"the chunk number, from 0 to totalChunks-1.\\",\\"_rollupId\\":\\"rollup id this data is related to\\",\\"_totalChunks\\":\\"the total number of chunks.\\"}},\\"paused()\\":{\\"returns\\":{\\"isPaused\\":\\"- True if paused, false otherwise\\"}},\\"processAsyncDefiInteraction(uint256)\\":{\\"params\\":{\\"_interactionNonce\\":\\"unique id of the interaction\\"},\\"returns\\":{\\"_0\\":\\"true if successful, false otherwise\\"}},\\"processRollup(bytes,bytes)\\":{\\"details\\":\\"Rollup processing consists of decoding a rollup, verifying the corresponding proof and updating relevant      state variablesThe `encodedProofData` is unnamed param as we are reading it directly from calldata when decoding      and creating the `proofData` in `Decoder::decodeProof()`.For the rollup to be processed `msg.sender` has to be an authorised rollup provider or escape hatch has      to be openThis function always transfers fees to the `rollupBeneficiary` encoded in the proof data\\",\\"params\\":{\\"\\":\\"- cryptographic proof data associated with a rollup\\",\\"_signatures\\":\\"a byte array of secp256k1 ECDSA signatures, authorising a transfer of tokens from                    the publicOwner for the particular inner proof in question Structure of each signature in the bytes array is: 0x00 - 0x20 : r 0x20 - 0x40 : s 0x40 - 0x60 : v (in form: 0x0000....0001b for example)\\"}},\\"receiveEthFromBridge(uint256)\\":{\\"params\\":{\\"_interactionNonce\\":\\"an interaction nonce that used as an ID of this payment\\"}},\\"renounceRole(bytes32,address)\\":{\\"details\\":\\"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function\'s purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `account`. May emit a {RoleRevoked} event.\\"},\\"revokeRole(bytes32,address)\\":{\\"details\\":\\"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``\'s admin role. May emit a {RoleRevoked} event.\\"},\\"setAllowThirdPartyContracts(bool)\\":{\\"params\\":{\\"_allowThirdPartyContracts\\":\\"A flag indicating true if allowing third parties to register, false otherwise\\"}},\\"setAssetCap(uint256,uint32,uint32,uint8)\\":{\\"params\\":{\\"_assetId\\":\\"The asset id to update the cap for\\",\\"_dailyCap\\":\\"The daily \\\\\\"accrual\\\\\\" to available deposits in whole tokens\\",\\"_pendingCap\\":\\"The pending cap in whole tokens\\",\\"_precision\\":\\"The precision (decimals) to multiply the caps with\\"}},\\"setCapped(bool)\\":{\\"details\\":\\"When going from uncapped to capped, will update `lastRollupTimeStamp`\\",\\"params\\":{\\"_isCapped\\":\\"a flag indicating whether caps are used or not\\"}},\\"setDefiBridgeProxy(address)\\":{\\"params\\":{\\"_defiBridgeProxy\\":\\"an address of `DefiBridgeProxy` contract\\"}},\\"setDelayBeforeEscapeHatch(uint32)\\":{\\"params\\":{\\"_delay\\":\\"the delay in seconds between last rollup by a provider, and escape hatch being possible\\"}},\\"setRollupProvider(address,bool)\\":{\\"params\\":{\\"_provider\\":\\"an address of the rollup provider\\",\\"_valid\\":\\"a flag indicating whether `_provider` is valid\\"}},\\"setSupportedAsset(address,uint256)\\":{\\"params\\":{\\"_gasLimit\\":\\"gas limit used when transferring the token (in withdraw or transferFee)\\",\\"_token\\":\\"address of the ERC20 token\\"}},\\"setSupportedBridge(address,uint256)\\":{\\"details\\":\\"Appends a bridge contract to the supportedBridges\\",\\"params\\":{\\"_bridge\\":\\"address of the bridge contract\\",\\"_gasLimit\\":\\"gas limit forwarded to the DefiBridgeProxy to perform convert\\"}},\\"setVerifier(address)\\":{\\"params\\":{\\"_verifier\\":\\"an address of the verification smart contract\\"}},\\"supportsInterface(bytes4)\\":{\\"details\\":\\"See {IERC165-supportsInterface}.\\"},\\"unpause()\\":{\\"details\\":\\"Allow the holders of the RESUME_ROLE to unpause the contract.\\"},\\"verifier()\\":{\\"returns\\":{\\"_0\\":\\"- address of the verification smart contract\\"}}},\\"title\\":\\"Rollup Processor\\",\\"version\\":1},\\"userdoc\\":{\\"kind\\":\\"user\\",\\"methods\\":{\\"approveProof(bytes32)\\":{\\"notice\\":\\"A function which approves a proofHash to spend the user\'s pending deposited funds\\"},\\"constructor\\":{\\"notice\\":\\"Constructor sets escape hatch window and ensure that the implementation cannot be initialized\\"},\\"depositPendingFunds(uint256,uint256,address,bytes32)\\":{\\"notice\\":\\"A function which deposits funds to the contract\\"},\\"getAsyncDefiInteractionHashesLength()\\":{\\"notice\\":\\"Gets the number of asynchronous defi interaction hashes\\"},\\"getCapped()\\":{\\"notice\\":\\"Returns true if deposits are capped, false otherwise\\"},\\"getDataSize()\\":{\\"notice\\":\\"Gets the number of filled entries in the data tree\\"},\\"getDefiInteractionHashesLength()\\":{\\"notice\\":\\"Gets the number of defi interaction hashes\\"},\\"getEscapeHatchStatus()\\":{\\"notice\\":\\"Gets the status of the escape hatch.\\"},\\"getImplementationVersion()\\":{\\"notice\\":\\"Get implementation\'s version number\\"},\\"getPendingDefiInteractionHashesLength()\\":{\\"notice\\":\\"Gets the number of pending defi interactions that have resolved but have not yet been added into the         DeFi tree\\"},\\"getSupportedAsset(uint256)\\":{\\"notice\\":\\"Gets the ERC20 token address of a supported asset for a given `_assetId`\\"},\\"getSupportedAssetsLength()\\":{\\"notice\\":\\"Gets the number of supported assets\\"},\\"getSupportedBridge(uint256)\\":{\\"notice\\":\\"Gets the bridge contract address for a given bridgeAddressId\\"},\\"getSupportedBridgesLength()\\":{\\"notice\\":\\"Gets the number of supported bridges\\"},\\"initialize()\\":{\\"notice\\":\\"Initialiser function which emulates constructor behaviour for upgradeable contracts\\"},\\"offchainData(uint256,uint256,uint256,bytes)\\":{\\"notice\\":\\"A function used to publish data that doesn\'t need to be accessible on-chain\\"},\\"pause()\\":{\\"notice\\":\\"A function which allow the holders of the EMERGENCY_ROLE role to pause the contract\\"},\\"paused()\\":{\\"notice\\":\\"Get true if the contract is paused, false otherwise\\"},\\"processAsyncDefiInteraction(uint256)\\":{\\"notice\\":\\"A function which process async bridge interaction\\"},\\"processRollup(bytes,bytes)\\":{\\"notice\\":\\"A function which processes a rollup\\"},\\"receiveEthFromBridge(uint256)\\":{\\"notice\\":\\"A function used by bridges to send ETH to the RollupProcessor during an interaction\\"},\\"setAllowThirdPartyContracts(bool)\\":{\\"notice\\":\\"A function which allows holders of OWNER_ROLE to set `allowThirdPartyContracts` flag\\"},\\"setAssetCap(uint256,uint32,uint32,uint8)\\":{\\"notice\\":\\"A function which allows holders of the LISTER_ROLE to update asset caps\\"},\\"setCapped(bool)\\":{\\"notice\\":\\"A function which allows holders of OWNER_ROLE to set the capped flag\\"},\\"setDefiBridgeProxy(address)\\":{\\"notice\\":\\"A function which allows holders of OWNER_ROLE to set address of `DefiBridgeProxy` contract\\"},\\"setDelayBeforeEscapeHatch(uint32)\\":{\\"notice\\":\\"A function which allows holders of the OWNER_ROLE to specify the delay before escapehatch is possible\\"},\\"setRollupProvider(address,bool)\\":{\\"notice\\":\\"A function which allows holders of OWNER_ROLE to add and remove a rollup provider.\\"},\\"setSupportedAsset(address,uint256)\\":{\\"notice\\":\\"Registers an ERC20 token as a supported asset\\"},\\"setVerifier(address)\\":{\\"notice\\":\\"A function which allows holders of OWNER_ROLE to set the address of the PLONK verification smart  (         contract\\"},\\"verifier()\\":{\\"notice\\":\\"Gets the address of the PLONK verification smart contract\\"}},\\"version\\":1}},\\"settings\\":{\\"compilationTarget\\":{\\"src/core/processors/RollupProcessorV2.sol\\":\\"RollupProcessorV2\\"},\\"evmVersion\\":\\"london\\",\\"libraries\\":{},\\"metadata\\":{\\"bytecodeHash\\":\\"ipfs\\"},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":2000},\\"remappings\\":[\\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\\",\\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\\",\\":@uniswap/v2-core/=lib/v2-core/\\",\\":@uniswap/v2-periphery/=lib/v2-periphery/\\",\\":aztec-connect-bridges/=lib/aztec-connect-bridges/src/\\",\\":bridge-deployments/=lib/aztec-connect-bridges/src/deployment/\\",\\":bridge-interfaces/=lib/aztec-connect-bridges/src/interfaces/\\",\\":bridge-tests/=lib/aztec-connect-bridges/src/test/\\",\\":core/=src/core/\\",\\":ds-test/=lib/forge-std/lib/ds-test/src/\\",\\":erc4626-tests/=lib/aztec-connect-bridges/lib/openzeppelin-contracts/lib/erc4626-tests/\\",\\":forge-std/=lib/forge-std/src/\\",\\":mocks/=src/test/mocks/\\",\\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\\",\\":openzeppelin-contracts/=lib/openzeppelin-contracts/\\",\\":periphery/=src/periphery/\\",\\":rollup-encoder/=lib/rollup-encoder/src/\\",\\":v2-core/=lib/v2-core/contracts/\\",\\":v2-periphery/=lib/v2-periphery/contracts/\\"]},\\"sources\\":{\\"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol\\":{\\"keccak256\\":\\"0xe798cadb41e2da274913e4b3183a80f50fb057a42238fe8467e077268100ec27\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://899f850f7df5a270bccfb765d70069959ca1c20d3a7381c1c3bda8a3ffee1935\\",\\"dweb:/ipfs/QmVdnAqwyX2L3nX2HDA5WKGtVBFyH1nKE9A1k7fZnPBkhP\\"]},\\"lib/openzeppelin-contracts-upgradeable/contracts/utils/AddressUpgradeable.sol\\":{\\"keccak256\\":\\"0x2edcb41c121abc510932e8d83ff8b82cf9cdde35e7c297622f5c29ef0af25183\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://72460c66cd1c3b1c11b863e0d8df0a1c56f37743019e468dc312c754f43e3b06\\",\\"dweb:/ipfs/QmPExYKiNb9PUsgktQBupPaM33kzDHxaYoVeJdLhv8s879\\"]},\\"lib/openzeppelin-contracts/contracts/access/AccessControl.sol\\":{\\"keccak256\\":\\"0x67e3daf189111d6d5b0464ed09cf9f0605a22c4b965a7fcecd707101faff008a\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://cbbb1a75e4064d564bf69e74970eef35064e51fcc09cbf3589aee7faa60d6afe\\",\\"dweb:/ipfs/QmYfAtQwFSGmxomnyAV3tpBDbfDwiFXV61osWW2zzQVg5Q\\"]},\\"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol\\":{\\"keccak256\\":\\"0x59ce320a585d7e1f163cd70390a0ef2ff9cec832e2aa544293a00692465a7a57\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://bb2c137c343ef0c4c7ce7b18c1d108afdc9d315a04e48307288d2d05adcbde3a\\",\\"dweb:/ipfs/QmUxhrAQM3MM3FF5j7AtcXLXguWCJBHJ14BRdVtuoQc8Fh\\"]},\\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\\":{\\"keccak256\\":\\"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34\\",\\"dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr\\"]},\\"lib/openzeppelin-contracts/contracts/utils/Context.sol\\":{\\"keccak256\\":\\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92\\",\\"dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3\\"]},\\"lib/openzeppelin-contracts/contracts/utils/Strings.sol\\":{\\"keccak256\\":\\"0xa4d1d62251f8574deb032a35fc948386a9b4de74b812d4f545a1ac120486b48a\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://8c969013129ba9e651a20735ef659fef6d8a1139ea3607bd4b26ddea2d645634\\",\\"dweb:/ipfs/QmVhVa6LGuzAcB8qgDtVHRkucn4ihj5UZr8xBLcJkP6ucb\\"]},\\"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol\\":{\\"keccak256\\":\\"0xd10975de010d89fd1c78dc5e8a9a7e7f496198085c151648f20cba166b32582b\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://fb0048dee081f6fffa5f74afc3fb328483c2a30504e94a0ddd2a5114d731ec4d\\",\\"dweb:/ipfs/QmZptt1nmYoA5SgjwnSgWqgUSDgm4q52Yos3xhnMv3MV43\\"]},\\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\\":{\\"keccak256\\":\\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\\",\\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\\"]},\\"lib/openzeppelin-contracts/contracts/utils/math/Math.sol\\":{\\"keccak256\\":\\"0xa1e8e83cd0087785df04ac79fb395d9f3684caeaf973d9e2c71caef723a3a5d6\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://33bbf48cc069be677705037ba7520c22b1b622c23b33e1a71495f2d36549d40b\\",\\"dweb:/ipfs/Qmct36zWXv3j7LZB83uwbg7TXwnZSN1fqHNDZ93GG98bGz\\"]},\\"lib/rollup-encoder/src/interfaces/IRollupProcessor.sol\\":{\\"keccak256\\":\\"0x7f8cc09c537d9c9b80b5e90c1ebe02d2fbb4efd5510bbe3a4df57940e368a71d\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://8d0e59e15799702bbdf118c00851ae154e01b329c625dc6f3097b0cd072770ef\\",\\"dweb:/ipfs/QmPsPp6Drzym9RAai34jMJbnuftV3XkDnDp35RX94hWh2u\\"]},\\"lib/rollup-encoder/src/interfaces/IRollupProcessorV2.sol\\":{\\"keccak256\\":\\"0xec5f01b1fc4358416cea59f1d8c5fa76a81f279b8fd410cce8af765b0efe7b5c\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://b300e855159d5291c1d5c75d77258bada6333ce91b33ad5ae436db0d0dfa3171\\",\\"dweb:/ipfs/QmapMkaf6TStM2FV1FL63TdnCJYXdTmuiENebLCroXAMWA\\"]},\\"lib/rollup-encoder/src/libraries/AztecTypes.sol\\":{\\"keccak256\\":\\"0xa11ad1ad795337be7761108304a21812aeedfac4b03969ee5f71a251e226cc77\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://5f6ea5409dcbe6c61d1c7a7153a4158bc88db92eae2c5c1041809b19c49c3ea7\\",\\"dweb:/ipfs/QmY7d8839N7SNyR5eGvFi6C6opNW3GW5oZEhTVKEWFvv56\\"]},\\"lib/rollup-encoder/src/libraries/RollupProcessorLibrary.sol\\":{\\"keccak256\\":\\"0x7555192f9084e8c08afa996af7c8edb35ff874c5c01999b673364e9c8550c60a\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://3b82099c8fbc05a84b5b7bf201b986e0bd42e29862891d855708892a87534549\\",\\"dweb:/ipfs/QmbWaZx2qJv1Qmjs5Z5haR4J9qEuxrGZu1Nmer7Dy4BHf2\\"]},\\"src/core/Decoder.sol\\":{\\"keccak256\\":\\"0xeec055308c78891fb655b48b6a2668d38c2f771b582967e0ec567a246a552c4c\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://8f77c596f2f04ab90ca10378290bcf7e913e8cd464cfdc179a388e0abf92d44b\\",\\"dweb:/ipfs/QmZBUrJ9dRiXPvNVPLpuDBV7g5D7MsPTPRy1fumminkEX9\\"]},\\"src/core/interfaces/IDefiBridge.sol\\":{\\"keccak256\\":\\"0x73147df7043deadedcddac410db524d0dc8731c13175e9519825f01b5d91b60b\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://7066b10fc30f9bb4754f101b2ef6978352623f60369d3a274e9f54466b7402ce\\",\\"dweb:/ipfs/QmcHnvMkCVdh2NNtmjhaMw58vEd7kvpWxQwR4Cp7c1GaYz\\"]},\\"src/core/interfaces/IVerifier.sol\\":{\\"keccak256\\":\\"0xcc5d6ceae8f19b3499a8bcaf145de554a79a3f1341367d3caa40be63e40b3cf6\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://a2148ed210ddc216e9a009a0afe4960f39b8182e408a49e865d2aabcb93d671a\\",\\"dweb:/ipfs/QmSkedro2zs9oNpFpxc7HEvABEC2ZopXXh7fcGi9cnpQT1\\"]},\\"src/core/libraries/SafeCast.sol\\":{\\"keccak256\\":\\"0x6a904473b3e60fcc7a30ad29af8eb0d90f5b0636cc0419e0af8b57e1ba88d39d\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://04775808bbf8fb969c987f76663b99a4141d2ccfdd0566e4fb80e98d3facf0dc\\",\\"dweb:/ipfs/QmcEU9FuEi1WFkUt6xgCVKDuim4iiLuCPFiEkuGJPg6qtk\\"]},\\"src/core/libraries/TokenTransfers.sol\\":{\\"keccak256\\":\\"0x21beffec9af91aa80eecd45f7717ac6d5a7fb6b7ade359cdf74be02a1da6ade3\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://8c79548340006356348e40ac58bd5bb7630c1a0f7e79c9004601efcdc56bef22\\",\\"dweb:/ipfs/QmUHYvo2i8LnQfvvJnpyo2HeUpNJpRsfXpuCqDNLRMcf6A\\"]},\\"src/core/processors/RollupProcessorV2.sol\\":{\\"keccak256\\":\\"0xa4f33df18150954419b3614de4c60e5e0e3f30a21260e3d6eedbdf39f211ccab\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://48002ca72c239d3a47f6fdf32b4a3cc888918c7af915520e2f3dcb4c72b20524\\",\\"dweb:/ipfs/QmUDsXBUjhvkRiku5SybF8oSQ2BqJtzkEpSeg5cLCZ78ya\\"]}},\\"version\\":1}","metadata":{"compiler":{"version":"0.8.10+commit.fc410830"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"_escapeBlockLowerBound","type":"uint256"},{"internalType":"uint256","name":"_escapeBlockUpperBound","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"ARRAY_OVERFLOW"},{"inputs":[{"internalType":"uint256","name":"inputAssetId","type":"uint256"}],"type":"error","name":"BRIDGE_WITH_IDENTICAL_INPUT_ASSETS"},{"inputs":[{"internalType":"uint256","name":"outputAssetId","type":"uint256"}],"type":"error","name":"BRIDGE_WITH_IDENTICAL_OUTPUT_ASSETS"},{"inputs":[],"type":"error","name":"DAILY_CAP_SURPASSED"},{"inputs":[],"type":"error","name":"DEPOSIT_TOKENS_WRONG_PAYMENT_TYPE"},{"inputs":[],"type":"error","name":"ENCODING_BYTE_INVALID"},{"inputs":[],"type":"error","name":"INCONSISTENT_BRIDGE_CALL_DATA"},{"inputs":[{"internalType":"uint256","name":"providedIndex","type":"uint256"},{"internalType":"uint256","name":"expectedIndex","type":"uint256"}],"type":"error","name":"INCORRECT_DATA_START_INDEX"},{"inputs":[{"internalType":"bytes32","name":"providedDefiInteractionHash","type":"bytes32"},{"internalType":"bytes32","name":"expectedDefiInteractionHash","type":"bytes32"}],"type":"error","name":"INCORRECT_PREVIOUS_DEFI_INTERACTION_HASH"},{"inputs":[{"internalType":"bytes32","name":"oldStateHash","type":"bytes32"},{"internalType":"bytes32","name":"newStateHash","type":"bytes32"}],"type":"error","name":"INCORRECT_STATE_HASH"},{"inputs":[],"type":"error","name":"INSUFFICIENT_DEPOSIT"},{"inputs":[],"type":"error","name":"INSUFFICIENT_ETH_PAYMENT"},{"inputs":[],"type":"error","name":"INSUFFICIENT_TOKEN_APPROVAL"},{"inputs":[],"type":"error","name":"INVALID_ADDRESS_NO_CODE"},{"inputs":[],"type":"error","name":"INVALID_ASSET_ADDRESS"},{"inputs":[],"type":"error","name":"INVALID_ASSET_GAS"},{"inputs":[],"type":"error","name":"INVALID_ASSET_ID"},{"inputs":[],"type":"error","name":"INVALID_BRIDGE_ADDRESS"},{"inputs":[],"type":"error","name":"INVALID_BRIDGE_CALL_DATA"},{"inputs":[],"type":"error","name":"INVALID_BRIDGE_GAS"},{"inputs":[],"type":"error","name":"INVALID_ESCAPE_BOUNDS"},{"inputs":[],"type":"error","name":"INVALID_PROVIDER"},{"inputs":[],"type":"error","name":"INVALID_ROLLUP_TOPOLOGY"},{"inputs":[],"type":"error","name":"INVALID_SIGNATURE"},{"inputs":[],"type":"error","name":"LOCKED_NO_REENTER"},{"inputs":[],"type":"error","name":"MSG_VALUE_WRONG_AMOUNT"},{"inputs":[{"internalType":"uint256","name":"outputValue","type":"uint256"}],"type":"error","name":"NONZERO_OUTPUT_VALUE_ON_NOT_USED_ASSET"},{"inputs":[],"type":"error","name":"NOT_PAUSED"},{"inputs":[],"type":"error","name":"PAUSED"},{"inputs":[],"type":"error","name":"PENDING_CAP_SURPASSED"},{"inputs":[],"type":"error","name":"PROOF_VERIFICATION_FAILED"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"type":"error","name":"PUBLIC_INPUTS_HASH_VERIFICATION_FAILED"},{"inputs":[],"type":"error","name":"SAFE_CAST_OVERFLOW"},{"inputs":[],"type":"error","name":"SIGNATURE_ADDRESS_IS_ZERO"},{"inputs":[],"type":"error","name":"SIGNATURE_RECOVERY_FAILED"},{"inputs":[],"type":"error","name":"THIRD_PARTY_CONTRACTS_FLAG_NOT_SET"},{"inputs":[],"type":"error","name":"WITHDRAW_TO_ZERO_ADDRESS"},{"inputs":[],"type":"error","name":"ZERO_TOTAL_INPUT_VALUE"},{"inputs":[{"internalType":"bool","name":"allowed","type":"bool","indexed":false}],"type":"event","name":"AllowThirdPartyContractsUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"assetId","type":"uint256","indexed":true},{"internalType":"address","name":"assetAddress","type":"address","indexed":true},{"internalType":"uint256","name":"assetGasLimit","type":"uint256","indexed":false}],"type":"event","name":"AssetAdded","anonymous":false},{"inputs":[{"internalType":"uint256","name":"assetId","type":"uint256","indexed":false},{"internalType":"uint256","name":"pendingCap","type":"uint256","indexed":false},{"internalType":"uint256","name":"dailyCap","type":"uint256","indexed":false}],"type":"event","name":"AssetCapUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"encodedBridgeCallData","type":"uint256","indexed":true},{"internalType":"uint256","name":"nonce","type":"uint256","indexed":true},{"internalType":"uint256","name":"totalInputValue","type":"uint256","indexed":false}],"type":"event","name":"AsyncDefiBridgeProcessed","anonymous":false},{"inputs":[{"internalType":"uint256","name":"bridgeAddressId","type":"uint256","indexed":true},{"internalType":"address","name":"bridgeAddress","type":"address","indexed":true},{"internalType":"uint256","name":"bridgeGasLimit","type":"uint256","indexed":false}],"type":"event","name":"BridgeAdded","anonymous":false},{"inputs":[{"internalType":"bool","name":"isCapped","type":"bool","indexed":false}],"type":"event","name":"CappedUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"encodedBridgeCallData","type":"uint256","indexed":true},{"internalType":"uint256","name":"nonce","type":"uint256","indexed":true},{"internalType":"uint256","name":"totalInputValue","type":"uint256","indexed":false},{"internalType":"uint256","name":"totalOutputValueA","type":"uint256","indexed":false},{"internalType":"uint256","name":"totalOutputValueB","type":"uint256","indexed":false},{"internalType":"bool","name":"result","type":"bool","indexed":false},{"internalType":"bytes","name":"errorReason","type":"bytes","indexed":false}],"type":"event","name":"DefiBridgeProcessed","anonymous":false},{"inputs":[{"internalType":"address","name":"defiBridgeProxy","type":"address","indexed":false}],"type":"event","name":"DefiBridgeProxyUpdated","anonymous":false},{"inputs":[{"internalType":"uint32","name":"delay","type":"uint32","indexed":false}],"type":"event","name":"DelayBeforeEscapeHatchUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"assetId","type":"uint256","indexed":true},{"internalType":"address","name":"depositorAddress","type":"address","indexed":true},{"internalType":"uint256","name":"depositValue","type":"uint256","indexed":false}],"type":"event","name":"Deposit","anonymous":false},{"inputs":[{"internalType":"uint8","name":"version","type":"uint8","indexed":false}],"type":"event","name":"Initialized","anonymous":false},{"inputs":[{"internalType":"uint256","name":"rollupId","type":"uint256","indexed":true},{"internalType":"uint256","name":"chunk","type":"uint256","indexed":false},{"internalType":"uint256","name":"totalChunks","type":"uint256","indexed":false},{"internalType":"address","name":"sender","type":"address","indexed":false}],"type":"event","name":"OffchainData","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false}],"type":"event","name":"Paused","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"previousAdminRole","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"newAdminRole","type":"bytes32","indexed":true}],"type":"event","name":"RoleAdminChanged","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleGranted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32","indexed":true},{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"address","name":"sender","type":"address","indexed":true}],"type":"event","name":"RoleRevoked","anonymous":false},{"inputs":[{"internalType":"uint256","name":"rollupId","type":"uint256","indexed":true},{"internalType":"bytes32[]","name":"nextExpectedDefiHashes","type":"bytes32[]","indexed":false},{"internalType":"address","name":"sender","type":"address","indexed":false}],"type":"event","name":"RollupProcessed","anonymous":false},{"inputs":[{"internalType":"address","name":"providerAddress","type":"address","indexed":true},{"internalType":"bool","name":"valid","type":"bool","indexed":false}],"type":"event","name":"RollupProviderUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":false}],"type":"event","name":"Unpaused","anonymous":false},{"inputs":[{"internalType":"address","name":"verifierAddress","type":"address","indexed":true}],"type":"event","name":"VerifierUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"EMERGENCY_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"LISTER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"OWNER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"RESUME_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"allowThirdPartyContracts","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes32","name":"_proofHash","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"approveProof"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"assetGasLimits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"asyncDefiInteractionHashes","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"bridgeGasLimits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"caps","outputs":[{"internalType":"uint128","name":"available","type":"uint128"},{"internalType":"uint32","name":"lastUpdatedTimestamp","type":"uint32"},{"internalType":"uint32","name":"pendingCap","type":"uint32"},{"internalType":"uint32","name":"dailyCap","type":"uint32"},{"internalType":"uint8","name":"precision","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"defiBridgeProxy","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"defiInteractionHashes","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"delayBeforeEscapeHatch","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"bytes32","name":"_proofHash","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"depositPendingFunds"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"depositProofApprovals","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"escapeBlockLowerBound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"escapeBlockUpperBound","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"ethPayments","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAsyncDefiInteractionHashesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getCapped","outputs":[{"internalType":"bool","name":"capped","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getDataSize","outputs":[{"internalType":"uint256","name":"dataSize","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getDefiInteractionHashesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getEscapeHatchStatus","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getImplementationVersion","outputs":[{"internalType":"uint8","name":"version","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPendingDefiInteractionHashesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSupportedAsset","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getSupportedAssetsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_bridgeAddressId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getSupportedBridge","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getSupportedBridgesLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"grantRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"view","type":"function","name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"lastRollupTimeStamp","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[{"internalType":"uint256","name":"_rollupId","type":"uint256"},{"internalType":"uint256","name":"_chunk","type":"uint256"},{"internalType":"uint256","name":"_totalChunks","type":"uint256"},{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"offchainData"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"pause"},{"inputs":[],"stateMutability":"view","type":"function","name":"paused","outputs":[{"internalType":"bool","name":"isPaused","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"pendingDefiInteractions","outputs":[{"internalType":"uint256","name":"encodedBridgeCallData","type":"uint256"},{"internalType":"uint256","name":"totalInputValue","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"prevDefiInteractionsHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"uint256","name":"_interactionNonce","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"processAsyncDefiInteraction","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"},{"internalType":"bytes","name":"_signatures","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"processRollup"},{"inputs":[{"internalType":"uint256","name":"_interactionNonce","type":"uint256"}],"stateMutability":"payable","type":"function","name":"receiveEthFromBridge"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"renounceRole"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"revokeRole"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"rollupProviders","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"rollupStateHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bool","name":"_allowThirdPartyContracts","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setAllowThirdPartyContracts"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint32","name":"_pendingCap","type":"uint32"},{"internalType":"uint32","name":"_dailyCap","type":"uint32"},{"internalType":"uint8","name":"_precision","type":"uint8"}],"stateMutability":"nonpayable","type":"function","name":"setAssetCap"},{"inputs":[{"internalType":"bool","name":"_isCapped","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setCapped"},{"inputs":[{"internalType":"address","name":"_defiBridgeProxy","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setDefiBridgeProxy"},{"inputs":[{"internalType":"uint32","name":"_delay","type":"uint32"}],"stateMutability":"nonpayable","type":"function","name":"setDelayBeforeEscapeHatch"},{"inputs":[{"internalType":"address","name":"_provider","type":"address"},{"internalType":"bool","name":"_valid","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setRollupProvider"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_gasLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setSupportedAsset"},{"inputs":[{"internalType":"address","name":"_bridge","type":"address"},{"internalType":"uint256","name":"_gasLimit","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setSupportedBridge"},{"inputs":[{"internalType":"address","name":"_verifier","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setVerifier"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"unpause"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"userPendingDeposits","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"verifier","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"approveProof(bytes32)":{"details":"this function is one way and must be called by the owner of the funds","params":{"_proofHash":"keccak256 hash of the inner proof public inputs"}},"constructor":{"params":{"_escapeBlockLowerBound":"a block number which defines a start of the escape hatch window","_escapeBlockUpperBound":"a block number which defines an end of the escape hatch window"}},"depositPendingFunds(uint256,uint256,address,bytes32)":{"details":"This is the first stage of a 2 stage deposit process. In the second stage funds are claimed by the user on      L2.","params":{"_amount":"token deposit amount","_assetId":"asset ID which was assigned during asset registration","_owner":"address that can spend the deposited funds","_proofHash":"32 byte transaction id that can spend the deposited funds"}},"getAsyncDefiInteractionHashesLength()":{"details":"A defi interaction hash represents an asynchronous defi interaction that has resolved, but whose interaction      result data has not yet been added into the Aztec Defi Merkle tree. This step is needed in order to convert      L2 Defi claim notes into L2 value notes.","returns":{"_0":"- the number of pending async defi interaction hashes"}},"getCapped()":{"returns":{"capped":"- True if deposits are capped, false otherwise"}},"getDataSize()":{"returns":{"dataSize":"number of filled entries in the data tree (equivalent to the number of notes created on L2)"}},"getDefiInteractionHashesLength()":{"details":"A defi interaction hash represents a defi interaction that has resolved, but whose      result data has not yet been added into the Aztec Defi Merkle tree. This step is needed in order to convert      L2 Defi claim notes into L2 value notes.","returns":{"_0":"- the number of pending defi interaction hashes"}},"getEscapeHatchStatus()":{"returns":{"_0":"True if escape hatch is open, false otherwise","_1":"The number of blocks until the next opening/closing of escape hatch"}},"getImplementationVersion()":{"returns":{"version":"version number of the implementation"}},"getPendingDefiInteractionHashesLength()":{"details":"This value can never exceed 512. This limit is set in order to prevent griefing attacks - `processRollup`      iterates through `asyncDefiInteractionHashes` and copies their values into `defiInteractionHashes`. Loop      is bounded to < 512 so that tx does not exceed block gas limit.","returns":{"_0":"- the number of pending interactions"}},"getRoleAdmin(bytes32)":{"details":"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role\'s admin, use {_setRoleAdmin}."},"getSupportedAsset(uint256)":{"params":{"_assetId":"identifier used to denote a particular asset"},"returns":{"_0":"- the address of the matching asset"}},"getSupportedAssetsLength()":{"returns":{"_0":"- the number of supported assets"}},"getSupportedBridge(uint256)":{"params":{"_bridgeAddressId":"identifier used to denote a particular bridge"},"returns":{"_0":"- the address of the matching bridge contract"}},"getSupportedBridgesLength()":{"returns":{"_0":"- the number of supported bridges"}},"grantRole(bytes32,address)":{"details":"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``\'s admin role. May emit a {RoleGranted} event."},"hasRole(bytes32,address)":{"details":"Returns `true` if `account` has been granted `role`."},"offchainData(uint256,uint256,uint256,bytes)":{"details":"This function can be called multiple times to work around maximum tx size limitsThe data is expected to be reconstructed by the client","params":{"":"- the data","_chunk":"the chunk number, from 0 to totalChunks-1.","_rollupId":"rollup id this data is related to","_totalChunks":"the total number of chunks."}},"paused()":{"returns":{"isPaused":"- True if paused, false otherwise"}},"processAsyncDefiInteraction(uint256)":{"params":{"_interactionNonce":"unique id of the interaction"},"returns":{"_0":"true if successful, false otherwise"}},"processRollup(bytes,bytes)":{"details":"Rollup processing consists of decoding a rollup, verifying the corresponding proof and updating relevant      state variablesThe `encodedProofData` is unnamed param as we are reading it directly from calldata when decoding      and creating the `proofData` in `Decoder::decodeProof()`.For the rollup to be processed `msg.sender` has to be an authorised rollup provider or escape hatch has      to be openThis function always transfers fees to the `rollupBeneficiary` encoded in the proof data","params":{"":"- cryptographic proof data associated with a rollup","_signatures":"a byte array of secp256k1 ECDSA signatures, authorising a transfer of tokens from                    the publicOwner for the particular inner proof in question Structure of each signature in the bytes array is: 0x00 - 0x20 : r 0x20 - 0x40 : s 0x40 - 0x60 : v (in form: 0x0000....0001b for example)"}},"receiveEthFromBridge(uint256)":{"params":{"_interactionNonce":"an interaction nonce that used as an ID of this payment"}},"renounceRole(bytes32,address)":{"details":"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function\'s purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `account`. May emit a {RoleRevoked} event."},"revokeRole(bytes32,address)":{"details":"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``\'s admin role. May emit a {RoleRevoked} event."},"setAllowThirdPartyContracts(bool)":{"params":{"_allowThirdPartyContracts":"A flag indicating true if allowing third parties to register, false otherwise"}},"setAssetCap(uint256,uint32,uint32,uint8)":{"params":{"_assetId":"The asset id to update the cap for","_dailyCap":"The daily \\"accrual\\" to available deposits in whole tokens","_pendingCap":"The pending cap in whole tokens","_precision":"The precision (decimals) to multiply the caps with"}},"setCapped(bool)":{"details":"When going from uncapped to capped, will update `lastRollupTimeStamp`","params":{"_isCapped":"a flag indicating whether caps are used or not"}},"setDefiBridgeProxy(address)":{"params":{"_defiBridgeProxy":"an address of `DefiBridgeProxy` contract"}},"setDelayBeforeEscapeHatch(uint32)":{"params":{"_delay":"the delay in seconds between last rollup by a provider, and escape hatch being possible"}},"setRollupProvider(address,bool)":{"params":{"_provider":"an address of the rollup provider","_valid":"a flag indicating whether `_provider` is valid"}},"setSupportedAsset(address,uint256)":{"params":{"_gasLimit":"gas limit used when transferring the token (in withdraw or transferFee)","_token":"address of the ERC20 token"}},"setSupportedBridge(address,uint256)":{"details":"Appends a bridge contract to the supportedBridges","params":{"_bridge":"address of the bridge contract","_gasLimit":"gas limit forwarded to the DefiBridgeProxy to perform convert"}},"setVerifier(address)":{"params":{"_verifier":"an address of the verification smart contract"}},"supportsInterface(bytes4)":{"details":"See {IERC165-supportsInterface}."},"unpause()":{"details":"Allow the holders of the RESUME_ROLE to unpause the contract."},"verifier()":{"returns":{"_0":"- address of the verification smart contract"}}},"version":1},"userdoc":{"kind":"user","methods":{"approveProof(bytes32)":{"notice":"A function which approves a proofHash to spend the user\'s pending deposited funds"},"constructor":{"notice":"Constructor sets escape hatch window and ensure that the implementation cannot be initialized"},"depositPendingFunds(uint256,uint256,address,bytes32)":{"notice":"A function which deposits funds to the contract"},"getAsyncDefiInteractionHashesLength()":{"notice":"Gets the number of asynchronous defi interaction hashes"},"getCapped()":{"notice":"Returns true if deposits are capped, false otherwise"},"getDataSize()":{"notice":"Gets the number of filled entries in the data tree"},"getDefiInteractionHashesLength()":{"notice":"Gets the number of defi interaction hashes"},"getEscapeHatchStatus()":{"notice":"Gets the status of the escape hatch."},"getImplementationVersion()":{"notice":"Get implementation\'s version number"},"getPendingDefiInteractionHashesLength()":{"notice":"Gets the number of pending defi interactions that have resolved but have not yet been added into the         DeFi tree"},"getSupportedAsset(uint256)":{"notice":"Gets the ERC20 token address of a supported asset for a given `_assetId`"},"getSupportedAssetsLength()":{"notice":"Gets the number of supported assets"},"getSupportedBridge(uint256)":{"notice":"Gets the bridge contract address for a given bridgeAddressId"},"getSupportedBridgesLength()":{"notice":"Gets the number of supported bridges"},"initialize()":{"notice":"Initialiser function which emulates constructor behaviour for upgradeable contracts"},"offchainData(uint256,uint256,uint256,bytes)":{"notice":"A function used to publish data that doesn\'t need to be accessible on-chain"},"pause()":{"notice":"A function which allow the holders of the EMERGENCY_ROLE role to pause the contract"},"paused()":{"notice":"Get true if the contract is paused, false otherwise"},"processAsyncDefiInteraction(uint256)":{"notice":"A function which process async bridge interaction"},"processRollup(bytes,bytes)":{"notice":"A function which processes a rollup"},"receiveEthFromBridge(uint256)":{"notice":"A function used by bridges to send ETH to the RollupProcessor during an interaction"},"setAllowThirdPartyContracts(bool)":{"notice":"A function which allows holders of OWNER_ROLE to set `allowThirdPartyContracts` flag"},"setAssetCap(uint256,uint32,uint32,uint8)":{"notice":"A function which allows holders of the LISTER_ROLE to update asset caps"},"setCapped(bool)":{"notice":"A function which allows holders of OWNER_ROLE to set the capped flag"},"setDefiBridgeProxy(address)":{"notice":"A function which allows holders of OWNER_ROLE to set address of `DefiBridgeProxy` contract"},"setDelayBeforeEscapeHatch(uint32)":{"notice":"A function which allows holders of the OWNER_ROLE to specify the delay before escapehatch is possible"},"setRollupProvider(address,bool)":{"notice":"A function which allows holders of OWNER_ROLE to add and remove a rollup provider."},"setSupportedAsset(address,uint256)":{"notice":"Registers an ERC20 token as a supported asset"},"setVerifier(address)":{"notice":"A function which allows holders of OWNER_ROLE to set the address of the PLONK verification smart  (         contract"},"verifier()":{"notice":"Gets the address of the PLONK verification smart contract"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v2-core/=lib/v2-core/","@uniswap/v2-periphery/=lib/v2-periphery/","aztec-connect-bridges/=lib/aztec-connect-bridges/src/","bridge-deployments/=lib/aztec-connect-bridges/src/deployment/","bridge-interfaces/=lib/aztec-connect-bridges/src/interfaces/","bridge-tests/=lib/aztec-connect-bridges/src/test/","core/=src/core/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/aztec-connect-bridges/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","mocks/=src/test/mocks/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","periphery/=src/periphery/","rollup-encoder/=lib/rollup-encoder/src/","v2-core/=lib/v2-core/contracts/","v2-periphery/=lib/v2-periphery/contracts/"],"optimizer":{"enabled":true,"runs":2000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/core/processors/RollupProcessorV2.sol":"RollupProcessorV2"},"libraries":{}},"sources":{"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol":{"keccak256":"0xe798cadb41e2da274913e4b3183a80f50fb057a42238fe8467e077268100ec27","urls":["bzz-raw://899f850f7df5a270bccfb765d70069959ca1c20d3a7381c1c3bda8a3ffee1935","dweb:/ipfs/QmVdnAqwyX2L3nX2HDA5WKGtVBFyH1nKE9A1k7fZnPBkhP"],"license":"MIT"},"lib/openzeppelin-contracts-upgradeable/contracts/utils/AddressUpgradeable.sol":{"keccak256":"0x2edcb41c121abc510932e8d83ff8b82cf9cdde35e7c297622f5c29ef0af25183","urls":["bzz-raw://72460c66cd1c3b1c11b863e0d8df0a1c56f37743019e468dc312c754f43e3b06","dweb:/ipfs/QmPExYKiNb9PUsgktQBupPaM33kzDHxaYoVeJdLhv8s879"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/AccessControl.sol":{"keccak256":"0x67e3daf189111d6d5b0464ed09cf9f0605a22c4b965a7fcecd707101faff008a","urls":["bzz-raw://cbbb1a75e4064d564bf69e74970eef35064e51fcc09cbf3589aee7faa60d6afe","dweb:/ipfs/QmYfAtQwFSGmxomnyAV3tpBDbfDwiFXV61osWW2zzQVg5Q"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/IAccessControl.sol":{"keccak256":"0x59ce320a585d7e1f163cd70390a0ef2ff9cec832e2aa544293a00692465a7a57","urls":["bzz-raw://bb2c137c343ef0c4c7ce7b18c1d108afdc9d315a04e48307288d2d05adcbde3a","dweb:/ipfs/QmUxhrAQM3MM3FF5j7AtcXLXguWCJBHJ14BRdVtuoQc8Fh"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b","urls":["bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34","dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7","urls":["bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92","dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Strings.sol":{"keccak256":"0xa4d1d62251f8574deb032a35fc948386a9b4de74b812d4f545a1ac120486b48a","urls":["bzz-raw://8c969013129ba9e651a20735ef659fef6d8a1139ea3607bd4b26ddea2d645634","dweb:/ipfs/QmVhVa6LGuzAcB8qgDtVHRkucn4ihj5UZr8xBLcJkP6ucb"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/ERC165.sol":{"keccak256":"0xd10975de010d89fd1c78dc5e8a9a7e7f496198085c151648f20cba166b32582b","urls":["bzz-raw://fb0048dee081f6fffa5f74afc3fb328483c2a30504e94a0ddd2a5114d731ec4d","dweb:/ipfs/QmZptt1nmYoA5SgjwnSgWqgUSDgm4q52Yos3xhnMv3MV43"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/math/Math.sol":{"keccak256":"0xa1e8e83cd0087785df04ac79fb395d9f3684caeaf973d9e2c71caef723a3a5d6","urls":["bzz-raw://33bbf48cc069be677705037ba7520c22b1b622c23b33e1a71495f2d36549d40b","dweb:/ipfs/Qmct36zWXv3j7LZB83uwbg7TXwnZSN1fqHNDZ93GG98bGz"],"license":"MIT"},"lib/rollup-encoder/src/interfaces/IRollupProcessor.sol":{"keccak256":"0x7f8cc09c537d9c9b80b5e90c1ebe02d2fbb4efd5510bbe3a4df57940e368a71d","urls":["bzz-raw://8d0e59e15799702bbdf118c00851ae154e01b329c625dc6f3097b0cd072770ef","dweb:/ipfs/QmPsPp6Drzym9RAai34jMJbnuftV3XkDnDp35RX94hWh2u"],"license":"Apache-2.0"},"lib/rollup-encoder/src/interfaces/IRollupProcessorV2.sol":{"keccak256":"0xec5f01b1fc4358416cea59f1d8c5fa76a81f279b8fd410cce8af765b0efe7b5c","urls":["bzz-raw://b300e855159d5291c1d5c75d77258bada6333ce91b33ad5ae436db0d0dfa3171","dweb:/ipfs/QmapMkaf6TStM2FV1FL63TdnCJYXdTmuiENebLCroXAMWA"],"license":"Apache-2.0"},"lib/rollup-encoder/src/libraries/AztecTypes.sol":{"keccak256":"0xa11ad1ad795337be7761108304a21812aeedfac4b03969ee5f71a251e226cc77","urls":["bzz-raw://5f6ea5409dcbe6c61d1c7a7153a4158bc88db92eae2c5c1041809b19c49c3ea7","dweb:/ipfs/QmY7d8839N7SNyR5eGvFi6C6opNW3GW5oZEhTVKEWFvv56"],"license":"Apache-2.0"},"lib/rollup-encoder/src/libraries/RollupProcessorLibrary.sol":{"keccak256":"0x7555192f9084e8c08afa996af7c8edb35ff874c5c01999b673364e9c8550c60a","urls":["bzz-raw://3b82099c8fbc05a84b5b7bf201b986e0bd42e29862891d855708892a87534549","dweb:/ipfs/QmbWaZx2qJv1Qmjs5Z5haR4J9qEuxrGZu1Nmer7Dy4BHf2"],"license":"Apache-2.0"},"src/core/Decoder.sol":{"keccak256":"0xeec055308c78891fb655b48b6a2668d38c2f771b582967e0ec567a246a552c4c","urls":["bzz-raw://8f77c596f2f04ab90ca10378290bcf7e913e8cd464cfdc179a388e0abf92d44b","dweb:/ipfs/QmZBUrJ9dRiXPvNVPLpuDBV7g5D7MsPTPRy1fumminkEX9"],"license":"Apache-2.0"},"src/core/interfaces/IDefiBridge.sol":{"keccak256":"0x73147df7043deadedcddac410db524d0dc8731c13175e9519825f01b5d91b60b","urls":["bzz-raw://7066b10fc30f9bb4754f101b2ef6978352623f60369d3a274e9f54466b7402ce","dweb:/ipfs/QmcHnvMkCVdh2NNtmjhaMw58vEd7kvpWxQwR4Cp7c1GaYz"],"license":"Apache-2.0"},"src/core/interfaces/IVerifier.sol":{"keccak256":"0xcc5d6ceae8f19b3499a8bcaf145de554a79a3f1341367d3caa40be63e40b3cf6","urls":["bzz-raw://a2148ed210ddc216e9a009a0afe4960f39b8182e408a49e865d2aabcb93d671a","dweb:/ipfs/QmSkedro2zs9oNpFpxc7HEvABEC2ZopXXh7fcGi9cnpQT1"],"license":"Apache-2.0"},"src/core/libraries/SafeCast.sol":{"keccak256":"0x6a904473b3e60fcc7a30ad29af8eb0d90f5b0636cc0419e0af8b57e1ba88d39d","urls":["bzz-raw://04775808bbf8fb969c987f76663b99a4141d2ccfdd0566e4fb80e98d3facf0dc","dweb:/ipfs/QmcEU9FuEi1WFkUt6xgCVKDuim4iiLuCPFiEkuGJPg6qtk"],"license":"Apache-2.0"},"src/core/libraries/TokenTransfers.sol":{"keccak256":"0x21beffec9af91aa80eecd45f7717ac6d5a7fb6b7ade359cdf74be02a1da6ade3","urls":["bzz-raw://8c79548340006356348e40ac58bd5bb7630c1a0f7e79c9004601efcdc56bef22","dweb:/ipfs/QmUHYvo2i8LnQfvvJnpyo2HeUpNJpRsfXpuCqDNLRMcf6A"],"license":"Apache-2.0"},"src/core/processors/RollupProcessorV2.sol":{"keccak256":"0xa4f33df18150954419b3614de4c60e5e0e3f30a21260e3d6eedbdf39f211ccab","urls":["bzz-raw://48002ca72c239d3a47f6fdf32b4a3cc888918c7af915520e2f3dcb4c72b20524","dweb:/ipfs/QmUDsXBUjhvkRiku5SybF8oSQ2BqJtzkEpSeg5cLCZ78ya"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"src/core/processors/RollupProcessorV2.sol","id":74678,"exportedSymbols":{"AccessControl":[60921],"AztecTypes":[66578],"Decoder":[68032],"IDefiBridge":[68360],"IERC20":[62651],"IRollupProcessor":[66543],"IRollupProcessorV2":[66562],"IVerifier":[68427],"Initializable":[60321],"RollupProcessorLibrary":[66974],"RollupProcessorV2":[74677],"SafeCast":[68456],"TokenTransfers":[68527]},"nodeType":"SourceUnit","src":"64:104020:119","nodes":[{"id":71561,"nodeType":"PragmaDirective","src":"64:24:119","nodes":[],"literals":["solidity",">=","0.8",".4"]},{"id":71563,"nodeType":"ImportDirective","src":"90:70:119","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"@openzeppelin/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":62652,"symbolAliases":[{"foreign":{"id":71562,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"src":"98:6:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71565,"nodeType":"ImportDirective","src":"161:79:119","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/AccessControl.sol","file":"@openzeppelin/contracts/access/AccessControl.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":60922,"symbolAliases":[{"foreign":{"id":71564,"name":"AccessControl","nodeType":"Identifier","overloadedDeclarations":[],"src":"169:13:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71567,"nodeType":"ImportDirective","src":"241:96:119","nodes":[],"absolutePath":"lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol","file":"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":60322,"symbolAliases":[{"foreign":{"id":71566,"name":"Initializable","nodeType":"Identifier","overloadedDeclarations":[],"src":"249:13:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71569,"nodeType":"ImportDirective","src":"339:54:119","nodes":[],"absolutePath":"src/core/interfaces/IVerifier.sol","file":"../interfaces/IVerifier.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":68428,"symbolAliases":[{"foreign":{"id":71568,"name":"IVerifier","nodeType":"Identifier","overloadedDeclarations":[],"src":"347:9:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71572,"nodeType":"ImportDirective","src":"394:102:119","nodes":[],"absolutePath":"lib/rollup-encoder/src/interfaces/IRollupProcessorV2.sol","file":"rollup-encoder/interfaces/IRollupProcessorV2.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":66563,"symbolAliases":[{"foreign":{"id":71570,"name":"IRollupProcessorV2","nodeType":"Identifier","overloadedDeclarations":[],"src":"402:18:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":71571,"name":"IRollupProcessor","nodeType":"Identifier","overloadedDeclarations":[],"src":"422:16:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71574,"nodeType":"ImportDirective","src":"497:58:119","nodes":[],"absolutePath":"src/core/interfaces/IDefiBridge.sol","file":"../interfaces/IDefiBridge.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":68361,"symbolAliases":[{"foreign":{"id":71573,"name":"IDefiBridge","nodeType":"Identifier","overloadedDeclarations":[],"src":"505:11:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71576,"nodeType":"ImportDirective","src":"557:39:119","nodes":[],"absolutePath":"src/core/Decoder.sol","file":"../Decoder.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":68033,"symbolAliases":[{"foreign":{"id":71575,"name":"Decoder","nodeType":"Identifier","overloadedDeclarations":[],"src":"565:7:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71578,"nodeType":"ImportDirective","src":"597:67:119","nodes":[],"absolutePath":"lib/rollup-encoder/src/libraries/AztecTypes.sol","file":"rollup-encoder/libraries/AztecTypes.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":66579,"symbolAliases":[{"foreign":{"id":71577,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"src":"605:10:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71580,"nodeType":"ImportDirective","src":"666:63:119","nodes":[],"absolutePath":"src/core/libraries/TokenTransfers.sol","file":"../libraries/TokenTransfers.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":68528,"symbolAliases":[{"foreign":{"id":71579,"name":"TokenTransfers","nodeType":"Identifier","overloadedDeclarations":[],"src":"674:14:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71582,"nodeType":"ImportDirective","src":"730:91:119","nodes":[],"absolutePath":"lib/rollup-encoder/src/libraries/RollupProcessorLibrary.sol","file":"rollup-encoder/libraries/RollupProcessorLibrary.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":66975,"symbolAliases":[{"foreign":{"id":71581,"name":"RollupProcessorLibrary","nodeType":"Identifier","overloadedDeclarations":[],"src":"738:22:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":71584,"nodeType":"ImportDirective","src":"822:51:119","nodes":[],"absolutePath":"src/core/libraries/SafeCast.sol","file":"../libraries/SafeCast.sol","nameLocation":"-1:-1:-1","scope":74678,"sourceUnit":68457,"symbolAliases":[{"foreign":{"id":71583,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"src":"830:8:119","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":74677,"nodeType":"ContractDefinition","src":"1091:102992:119","nodes":[{"id":71596,"nodeType":"UsingForDirective","src":"1185:27:119","nodes":[],"libraryName":{"id":71594,"name":"SafeCast","nodeType":"IdentifierPath","referencedDeclaration":68456,"src":"1191:8:119"},"typeName":{"id":71595,"name":"uint256","nodeType":"ElementaryTypeName","src":"1204:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":71598,"nodeType":"ErrorDefinition","src":"1331:15:119","nodes":[],"name":"PAUSED","nameLocation":"1337:6:119","parameters":{"id":71597,"nodeType":"ParameterList","parameters":[],"src":"1343:2:119"}},{"id":71600,"nodeType":"ErrorDefinition","src":"1351:19:119","nodes":[],"name":"NOT_PAUSED","nameLocation":"1357:10:119","parameters":{"id":71599,"nodeType":"ParameterList","parameters":[],"src":"1367:2:119"}},{"id":71602,"nodeType":"ErrorDefinition","src":"1375:26:119","nodes":[],"name":"LOCKED_NO_REENTER","nameLocation":"1381:17:119","parameters":{"id":71601,"nodeType":"ParameterList","parameters":[],"src":"1398:2:119"}},{"id":71604,"nodeType":"ErrorDefinition","src":"1406:25:119","nodes":[],"name":"INVALID_PROVIDER","nameLocation":"1412:16:119","parameters":{"id":71603,"nodeType":"ParameterList","parameters":[],"src":"1428:2:119"}},{"id":71606,"nodeType":"ErrorDefinition","src":"1436:43:119","nodes":[],"name":"THIRD_PARTY_CONTRACTS_FLAG_NOT_SET","nameLocation":"1442:34:119","parameters":{"id":71605,"nodeType":"ParameterList","parameters":[],"src":"1476:2:119"}},{"id":71608,"nodeType":"ErrorDefinition","src":"1484:29:119","nodes":[],"name":"INSUFFICIENT_DEPOSIT","nameLocation":"1490:20:119","parameters":{"id":71607,"nodeType":"ParameterList","parameters":[],"src":"1510:2:119"}},{"id":71610,"nodeType":"ErrorDefinition","src":"1518:32:119","nodes":[],"name":"INVALID_ADDRESS_NO_CODE","nameLocation":"1524:23:119","parameters":{"id":71609,"nodeType":"ParameterList","parameters":[],"src":"1547:2:119"}},{"id":71612,"nodeType":"ErrorDefinition","src":"1555:26:119","nodes":[],"name":"INVALID_ASSET_GAS","nameLocation":"1561:17:119","parameters":{"id":71611,"nodeType":"ParameterList","parameters":[],"src":"1578:2:119"}},{"id":71614,"nodeType":"ErrorDefinition","src":"1586:25:119","nodes":[],"name":"INVALID_ASSET_ID","nameLocation":"1592:16:119","parameters":{"id":71613,"nodeType":"ParameterList","parameters":[],"src":"1608:2:119"}},{"id":71616,"nodeType":"ErrorDefinition","src":"1616:30:119","nodes":[],"name":"INVALID_ASSET_ADDRESS","nameLocation":"1622:21:119","parameters":{"id":71615,"nodeType":"ParameterList","parameters":[],"src":"1643:2:119"}},{"id":71618,"nodeType":"ErrorDefinition","src":"1651:27:119","nodes":[],"name":"INVALID_BRIDGE_GAS","nameLocation":"1657:18:119","parameters":{"id":71617,"nodeType":"ParameterList","parameters":[],"src":"1675:2:119"}},{"id":71620,"nodeType":"ErrorDefinition","src":"1683:33:119","nodes":[],"name":"INVALID_BRIDGE_CALL_DATA","nameLocation":"1689:24:119","parameters":{"id":71619,"nodeType":"ParameterList","parameters":[],"src":"1713:2:119"}},{"id":71622,"nodeType":"ErrorDefinition","src":"1721:31:119","nodes":[],"name":"INVALID_BRIDGE_ADDRESS","nameLocation":"1727:22:119","parameters":{"id":71621,"nodeType":"ParameterList","parameters":[],"src":"1749:2:119"}},{"id":71624,"nodeType":"ErrorDefinition","src":"1757:30:119","nodes":[],"name":"INVALID_ESCAPE_BOUNDS","nameLocation":"1763:21:119","parameters":{"id":71623,"nodeType":"ParameterList","parameters":[],"src":"1784:2:119"}},{"id":71626,"nodeType":"ErrorDefinition","src":"1792:38:119","nodes":[],"name":"INCONSISTENT_BRIDGE_CALL_DATA","nameLocation":"1798:29:119","parameters":{"id":71625,"nodeType":"ParameterList","parameters":[],"src":"1827:2:119"}},{"id":71630,"nodeType":"ErrorDefinition","src":"1835:63:119","nodes":[],"name":"BRIDGE_WITH_IDENTICAL_INPUT_ASSETS","nameLocation":"1841:34:119","parameters":{"id":71629,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71628,"mutability":"mutable","name":"inputAssetId","nameLocation":"1884:12:119","nodeType":"VariableDeclaration","scope":71630,"src":"1876:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71627,"name":"uint256","nodeType":"ElementaryTypeName","src":"1876:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1875:22:119"}},{"id":71634,"nodeType":"ErrorDefinition","src":"1903:65:119","nodes":[],"name":"BRIDGE_WITH_IDENTICAL_OUTPUT_ASSETS","nameLocation":"1909:35:119","parameters":{"id":71633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71632,"mutability":"mutable","name":"outputAssetId","nameLocation":"1953:13:119","nodeType":"VariableDeclaration","scope":71634,"src":"1945:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71631,"name":"uint256","nodeType":"ElementaryTypeName","src":"1945:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1944:23:119"}},{"id":71636,"nodeType":"ErrorDefinition","src":"1973:31:119","nodes":[],"name":"ZERO_TOTAL_INPUT_VALUE","nameLocation":"1979:22:119","parameters":{"id":71635,"nodeType":"ParameterList","parameters":[],"src":"2001:2:119"}},{"id":71638,"nodeType":"ErrorDefinition","src":"2009:23:119","nodes":[],"name":"ARRAY_OVERFLOW","nameLocation":"2015:14:119","parameters":{"id":71637,"nodeType":"ParameterList","parameters":[],"src":"2029:2:119"}},{"id":71640,"nodeType":"ErrorDefinition","src":"2037:31:119","nodes":[],"name":"MSG_VALUE_WRONG_AMOUNT","nameLocation":"2043:22:119","parameters":{"id":71639,"nodeType":"ParameterList","parameters":[],"src":"2065:2:119"}},{"id":71642,"nodeType":"ErrorDefinition","src":"2073:33:119","nodes":[],"name":"INSUFFICIENT_ETH_PAYMENT","nameLocation":"2079:24:119","parameters":{"id":71641,"nodeType":"ParameterList","parameters":[],"src":"2103:2:119"}},{"id":71644,"nodeType":"ErrorDefinition","src":"2111:33:119","nodes":[],"name":"WITHDRAW_TO_ZERO_ADDRESS","nameLocation":"2117:24:119","parameters":{"id":71643,"nodeType":"ParameterList","parameters":[],"src":"2141:2:119"}},{"id":71646,"nodeType":"ErrorDefinition","src":"2149:42:119","nodes":[],"name":"DEPOSIT_TOKENS_WRONG_PAYMENT_TYPE","nameLocation":"2155:33:119","parameters":{"id":71645,"nodeType":"ParameterList","parameters":[],"src":"2188:2:119"}},{"id":71648,"nodeType":"ErrorDefinition","src":"2196:36:119","nodes":[],"name":"INSUFFICIENT_TOKEN_APPROVAL","nameLocation":"2202:27:119","parameters":{"id":71647,"nodeType":"ParameterList","parameters":[],"src":"2229:2:119"}},{"id":71652,"nodeType":"ErrorDefinition","src":"2237:66:119","nodes":[],"name":"NONZERO_OUTPUT_VALUE_ON_NOT_USED_ASSET","nameLocation":"2243:38:119","parameters":{"id":71651,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71650,"mutability":"mutable","name":"outputValue","nameLocation":"2290:11:119","nodeType":"VariableDeclaration","scope":71652,"src":"2282:19:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71649,"name":"uint256","nodeType":"ElementaryTypeName","src":"2282:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2281:21:119"}},{"id":71658,"nodeType":"ErrorDefinition","src":"2308:71:119","nodes":[],"name":"INCORRECT_STATE_HASH","nameLocation":"2314:20:119","parameters":{"id":71657,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71654,"mutability":"mutable","name":"oldStateHash","nameLocation":"2343:12:119","nodeType":"VariableDeclaration","scope":71658,"src":"2335:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71653,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2335:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":71656,"mutability":"mutable","name":"newStateHash","nameLocation":"2365:12:119","nodeType":"VariableDeclaration","scope":71658,"src":"2357:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71655,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2357:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2334:44:119"}},{"id":71664,"nodeType":"ErrorDefinition","src":"2384:79:119","nodes":[],"name":"INCORRECT_DATA_START_INDEX","nameLocation":"2390:26:119","parameters":{"id":71663,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71660,"mutability":"mutable","name":"providedIndex","nameLocation":"2425:13:119","nodeType":"VariableDeclaration","scope":71664,"src":"2417:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71659,"name":"uint256","nodeType":"ElementaryTypeName","src":"2417:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71662,"mutability":"mutable","name":"expectedIndex","nameLocation":"2448:13:119","nodeType":"VariableDeclaration","scope":71664,"src":"2440:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71661,"name":"uint256","nodeType":"ElementaryTypeName","src":"2440:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2416:46:119"}},{"id":71670,"nodeType":"ErrorDefinition","src":"2468:135:119","nodes":[],"name":"INCORRECT_PREVIOUS_DEFI_INTERACTION_HASH","nameLocation":"2474:40:119","parameters":{"id":71669,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71666,"mutability":"mutable","name":"providedDefiInteractionHash","nameLocation":"2532:27:119","nodeType":"VariableDeclaration","scope":71670,"src":"2524:35:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71665,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2524:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":71668,"mutability":"mutable","name":"expectedDefiInteractionHash","nameLocation":"2569:27:119","nodeType":"VariableDeclaration","scope":71670,"src":"2561:35:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71667,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2561:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2514:88:119"}},{"id":71676,"nodeType":"ErrorDefinition","src":"2608:63:119","nodes":[],"name":"PUBLIC_INPUTS_HASH_VERIFICATION_FAILED","nameLocation":"2614:38:119","parameters":{"id":71675,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71672,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":71676,"src":"2653:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71671,"name":"uint256","nodeType":"ElementaryTypeName","src":"2653:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71674,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":71676,"src":"2662:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71673,"name":"uint256","nodeType":"ElementaryTypeName","src":"2662:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2652:18:119"}},{"id":71678,"nodeType":"ErrorDefinition","src":"2676:34:119","nodes":[],"name":"PROOF_VERIFICATION_FAILED","nameLocation":"2682:25:119","parameters":{"id":71677,"nodeType":"ParameterList","parameters":[],"src":"2707:2:119"}},{"id":71680,"nodeType":"ErrorDefinition","src":"2715:30:119","nodes":[],"name":"PENDING_CAP_SURPASSED","nameLocation":"2721:21:119","parameters":{"id":71679,"nodeType":"ParameterList","parameters":[],"src":"2742:2:119"}},{"id":71682,"nodeType":"ErrorDefinition","src":"2750:28:119","nodes":[],"name":"DAILY_CAP_SURPASSED","nameLocation":"2756:19:119","parameters":{"id":71681,"nodeType":"ParameterList","parameters":[],"src":"2775:2:119"}},{"id":71692,"nodeType":"EventDefinition","src":"2893:97:119","nodes":[],"anonymous":false,"name":"OffchainData","nameLocation":"2899:12:119","parameters":{"id":71691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71684,"indexed":true,"mutability":"mutable","name":"rollupId","nameLocation":"2928:8:119","nodeType":"VariableDeclaration","scope":71692,"src":"2912:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71683,"name":"uint256","nodeType":"ElementaryTypeName","src":"2912:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71686,"indexed":false,"mutability":"mutable","name":"chunk","nameLocation":"2946:5:119","nodeType":"VariableDeclaration","scope":71692,"src":"2938:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71685,"name":"uint256","nodeType":"ElementaryTypeName","src":"2938:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71688,"indexed":false,"mutability":"mutable","name":"totalChunks","nameLocation":"2961:11:119","nodeType":"VariableDeclaration","scope":71692,"src":"2953:19:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71687,"name":"uint256","nodeType":"ElementaryTypeName","src":"2953:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71690,"indexed":false,"mutability":"mutable","name":"sender","nameLocation":"2982:6:119","nodeType":"VariableDeclaration","scope":71692,"src":"2974:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71689,"name":"address","nodeType":"ElementaryTypeName","src":"2974:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2911:78:119"}},{"id":71701,"nodeType":"EventDefinition","src":"2995:98:119","nodes":[],"anonymous":false,"name":"RollupProcessed","nameLocation":"3001:15:119","parameters":{"id":71700,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71694,"indexed":true,"mutability":"mutable","name":"rollupId","nameLocation":"3033:8:119","nodeType":"VariableDeclaration","scope":71701,"src":"3017:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71693,"name":"uint256","nodeType":"ElementaryTypeName","src":"3017:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71697,"indexed":false,"mutability":"mutable","name":"nextExpectedDefiHashes","nameLocation":"3053:22:119","nodeType":"VariableDeclaration","scope":71701,"src":"3043:32:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":71695,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3043:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":71696,"nodeType":"ArrayTypeName","src":"3043:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":71699,"indexed":false,"mutability":"mutable","name":"sender","nameLocation":"3085:6:119","nodeType":"VariableDeclaration","scope":71701,"src":"3077:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71698,"name":"address","nodeType":"ElementaryTypeName","src":"3077:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3016:76:119"}},{"id":71717,"nodeType":"EventDefinition","src":"3098:261:119","nodes":[],"anonymous":false,"name":"DefiBridgeProcessed","nameLocation":"3104:19:119","parameters":{"id":71716,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71703,"indexed":true,"mutability":"mutable","name":"encodedBridgeCallData","nameLocation":"3149:21:119","nodeType":"VariableDeclaration","scope":71717,"src":"3133:37:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71702,"name":"uint256","nodeType":"ElementaryTypeName","src":"3133:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71705,"indexed":true,"mutability":"mutable","name":"nonce","nameLocation":"3196:5:119","nodeType":"VariableDeclaration","scope":71717,"src":"3180:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71704,"name":"uint256","nodeType":"ElementaryTypeName","src":"3180:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71707,"indexed":false,"mutability":"mutable","name":"totalInputValue","nameLocation":"3219:15:119","nodeType":"VariableDeclaration","scope":71717,"src":"3211:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71706,"name":"uint256","nodeType":"ElementaryTypeName","src":"3211:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71709,"indexed":false,"mutability":"mutable","name":"totalOutputValueA","nameLocation":"3252:17:119","nodeType":"VariableDeclaration","scope":71717,"src":"3244:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71708,"name":"uint256","nodeType":"ElementaryTypeName","src":"3244:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71711,"indexed":false,"mutability":"mutable","name":"totalOutputValueB","nameLocation":"3287:17:119","nodeType":"VariableDeclaration","scope":71717,"src":"3279:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71710,"name":"uint256","nodeType":"ElementaryTypeName","src":"3279:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71713,"indexed":false,"mutability":"mutable","name":"result","nameLocation":"3319:6:119","nodeType":"VariableDeclaration","scope":71717,"src":"3314:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71712,"name":"bool","nodeType":"ElementaryTypeName","src":"3314:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71715,"indexed":false,"mutability":"mutable","name":"errorReason","nameLocation":"3341:11:119","nodeType":"VariableDeclaration","scope":71717,"src":"3335:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":71714,"name":"bytes","nodeType":"ElementaryTypeName","src":"3335:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3123:235:119"}},{"id":71725,"nodeType":"EventDefinition","src":"3364:132:119","nodes":[],"anonymous":false,"name":"AsyncDefiBridgeProcessed","nameLocation":"3370:24:119","parameters":{"id":71724,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71719,"indexed":true,"mutability":"mutable","name":"encodedBridgeCallData","nameLocation":"3420:21:119","nodeType":"VariableDeclaration","scope":71725,"src":"3404:37:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71718,"name":"uint256","nodeType":"ElementaryTypeName","src":"3404:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71721,"indexed":true,"mutability":"mutable","name":"nonce","nameLocation":"3459:5:119","nodeType":"VariableDeclaration","scope":71725,"src":"3443:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71720,"name":"uint256","nodeType":"ElementaryTypeName","src":"3443:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71723,"indexed":false,"mutability":"mutable","name":"totalInputValue","nameLocation":"3474:15:119","nodeType":"VariableDeclaration","scope":71725,"src":"3466:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71722,"name":"uint256","nodeType":"ElementaryTypeName","src":"3466:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3394:101:119"}},{"id":71733,"nodeType":"EventDefinition","src":"3501:95:119","nodes":[],"anonymous":false,"name":"Deposit","nameLocation":"3507:7:119","parameters":{"id":71732,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71727,"indexed":true,"mutability":"mutable","name":"assetId","nameLocation":"3531:7:119","nodeType":"VariableDeclaration","scope":71733,"src":"3515:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71726,"name":"uint256","nodeType":"ElementaryTypeName","src":"3515:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71729,"indexed":true,"mutability":"mutable","name":"depositorAddress","nameLocation":"3556:16:119","nodeType":"VariableDeclaration","scope":71733,"src":"3540:32:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71728,"name":"address","nodeType":"ElementaryTypeName","src":"3540:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":71731,"indexed":false,"mutability":"mutable","name":"depositValue","nameLocation":"3582:12:119","nodeType":"VariableDeclaration","scope":71733,"src":"3574:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71730,"name":"uint256","nodeType":"ElementaryTypeName","src":"3574:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3514:81:119"}},{"id":71741,"nodeType":"EventDefinition","src":"3601:95:119","nodes":[],"anonymous":false,"name":"AssetAdded","nameLocation":"3607:10:119","parameters":{"id":71740,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71735,"indexed":true,"mutability":"mutable","name":"assetId","nameLocation":"3634:7:119","nodeType":"VariableDeclaration","scope":71741,"src":"3618:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71734,"name":"uint256","nodeType":"ElementaryTypeName","src":"3618:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71737,"indexed":true,"mutability":"mutable","name":"assetAddress","nameLocation":"3659:12:119","nodeType":"VariableDeclaration","scope":71741,"src":"3643:28:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71736,"name":"address","nodeType":"ElementaryTypeName","src":"3643:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":71739,"indexed":false,"mutability":"mutable","name":"assetGasLimit","nameLocation":"3681:13:119","nodeType":"VariableDeclaration","scope":71741,"src":"3673:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71738,"name":"uint256","nodeType":"ElementaryTypeName","src":"3673:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3617:78:119"}},{"id":71749,"nodeType":"EventDefinition","src":"3701:106:119","nodes":[],"anonymous":false,"name":"BridgeAdded","nameLocation":"3707:11:119","parameters":{"id":71748,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71743,"indexed":true,"mutability":"mutable","name":"bridgeAddressId","nameLocation":"3735:15:119","nodeType":"VariableDeclaration","scope":71749,"src":"3719:31:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71742,"name":"uint256","nodeType":"ElementaryTypeName","src":"3719:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71745,"indexed":true,"mutability":"mutable","name":"bridgeAddress","nameLocation":"3768:13:119","nodeType":"VariableDeclaration","scope":71749,"src":"3752:29:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71744,"name":"address","nodeType":"ElementaryTypeName","src":"3752:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":71747,"indexed":false,"mutability":"mutable","name":"bridgeGasLimit","nameLocation":"3791:14:119","nodeType":"VariableDeclaration","scope":71749,"src":"3783:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71746,"name":"uint256","nodeType":"ElementaryTypeName","src":"3783:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3718:88:119"}},{"id":71755,"nodeType":"EventDefinition","src":"3812:73:119","nodes":[],"anonymous":false,"name":"RollupProviderUpdated","nameLocation":"3818:21:119","parameters":{"id":71754,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71751,"indexed":true,"mutability":"mutable","name":"providerAddress","nameLocation":"3856:15:119","nodeType":"VariableDeclaration","scope":71755,"src":"3840:31:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71750,"name":"address","nodeType":"ElementaryTypeName","src":"3840:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":71753,"indexed":false,"mutability":"mutable","name":"valid","nameLocation":"3878:5:119","nodeType":"VariableDeclaration","scope":71755,"src":"3873:10:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71752,"name":"bool","nodeType":"ElementaryTypeName","src":"3873:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3839:45:119"}},{"id":71759,"nodeType":"EventDefinition","src":"3890:55:119","nodes":[],"anonymous":false,"name":"VerifierUpdated","nameLocation":"3896:15:119","parameters":{"id":71758,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71757,"indexed":true,"mutability":"mutable","name":"verifierAddress","nameLocation":"3928:15:119","nodeType":"VariableDeclaration","scope":71759,"src":"3912:31:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71756,"name":"address","nodeType":"ElementaryTypeName","src":"3912:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3911:33:119"}},{"id":71763,"nodeType":"EventDefinition","src":"3950:52:119","nodes":[],"anonymous":false,"name":"AllowThirdPartyContractsUpdated","nameLocation":"3956:31:119","parameters":{"id":71762,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71761,"indexed":false,"mutability":"mutable","name":"allowed","nameLocation":"3993:7:119","nodeType":"VariableDeclaration","scope":71763,"src":"3988:12:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71760,"name":"bool","nodeType":"ElementaryTypeName","src":"3988:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3987:14:119"}},{"id":71767,"nodeType":"EventDefinition","src":"4007:54:119","nodes":[],"anonymous":false,"name":"DefiBridgeProxyUpdated","nameLocation":"4013:22:119","parameters":{"id":71766,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71765,"indexed":false,"mutability":"mutable","name":"defiBridgeProxy","nameLocation":"4044:15:119","nodeType":"VariableDeclaration","scope":71767,"src":"4036:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71764,"name":"address","nodeType":"ElementaryTypeName","src":"4036:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4035:25:119"}},{"id":71771,"nodeType":"EventDefinition","src":"4066:30:119","nodes":[],"anonymous":false,"name":"Paused","nameLocation":"4072:6:119","parameters":{"id":71770,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71769,"indexed":false,"mutability":"mutable","name":"account","nameLocation":"4087:7:119","nodeType":"VariableDeclaration","scope":71771,"src":"4079:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71768,"name":"address","nodeType":"ElementaryTypeName","src":"4079:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4078:17:119"}},{"id":71775,"nodeType":"EventDefinition","src":"4101:32:119","nodes":[],"anonymous":false,"name":"Unpaused","nameLocation":"4107:8:119","parameters":{"id":71774,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71773,"indexed":false,"mutability":"mutable","name":"account","nameLocation":"4124:7:119","nodeType":"VariableDeclaration","scope":71775,"src":"4116:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71772,"name":"address","nodeType":"ElementaryTypeName","src":"4116:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4115:17:119"}},{"id":71779,"nodeType":"EventDefinition","src":"4138:50:119","nodes":[],"anonymous":false,"name":"DelayBeforeEscapeHatchUpdated","nameLocation":"4144:29:119","parameters":{"id":71778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71777,"indexed":false,"mutability":"mutable","name":"delay","nameLocation":"4181:5:119","nodeType":"VariableDeclaration","scope":71779,"src":"4174:12:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":71776,"name":"uint32","nodeType":"ElementaryTypeName","src":"4174:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"4173:14:119"}},{"id":71787,"nodeType":"EventDefinition","src":"4193:77:119","nodes":[],"anonymous":false,"name":"AssetCapUpdated","nameLocation":"4199:15:119","parameters":{"id":71786,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71781,"indexed":false,"mutability":"mutable","name":"assetId","nameLocation":"4223:7:119","nodeType":"VariableDeclaration","scope":71787,"src":"4215:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71780,"name":"uint256","nodeType":"ElementaryTypeName","src":"4215:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71783,"indexed":false,"mutability":"mutable","name":"pendingCap","nameLocation":"4240:10:119","nodeType":"VariableDeclaration","scope":71787,"src":"4232:18:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71782,"name":"uint256","nodeType":"ElementaryTypeName","src":"4232:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71785,"indexed":false,"mutability":"mutable","name":"dailyCap","nameLocation":"4260:8:119","nodeType":"VariableDeclaration","scope":71787,"src":"4252:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71784,"name":"uint256","nodeType":"ElementaryTypeName","src":"4252:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4214:55:119"}},{"id":71791,"nodeType":"EventDefinition","src":"4275:35:119","nodes":[],"anonymous":false,"name":"CappedUpdated","nameLocation":"4281:13:119","parameters":{"id":71790,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71789,"indexed":false,"mutability":"mutable","name":"isCapped","nameLocation":"4300:8:119","nodeType":"VariableDeclaration","scope":71791,"src":"4295:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71788,"name":"bool","nodeType":"ElementaryTypeName","src":"4295:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4294:15:119"}},{"id":71795,"nodeType":"EnumDefinition","src":"4586:79:119","nodes":[],"canonicalName":"RollupProcessorV2.Lock","members":[{"id":71792,"name":"UNLOCKED","nameLocation":"4606:8:119","nodeType":"EnumValue","src":"4606:8:119"},{"id":71793,"name":"ALLOW_ASYNC_REENTER","nameLocation":"4624:19:119","nodeType":"EnumValue","src":"4624:19:119"},{"id":71794,"name":"LOCKED","nameLocation":"4653:6:119","nodeType":"EnumValue","src":"4653:6:119"}],"name":"Lock","nameLocation":"4591:4:119"},{"id":71812,"nodeType":"StructDefinition","src":"5720:227:119","nodes":[],"canonicalName":"RollupProcessorV2.RollupState","members":[{"constant":false,"id":71798,"mutability":"mutable","name":"verifier","nameLocation":"5759:8:119","nodeType":"VariableDeclaration","scope":71812,"src":"5749:18:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"},"typeName":{"id":71797,"nodeType":"UserDefinedTypeName","pathNode":{"id":71796,"name":"IVerifier","nodeType":"IdentifierPath","referencedDeclaration":68427,"src":"5749:9:119"},"referencedDeclaration":68427,"src":"5749:9:119","typeDescriptions":{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"}},"visibility":"internal"},{"constant":false,"id":71800,"mutability":"mutable","name":"datasize","nameLocation":"5784:8:119","nodeType":"VariableDeclaration","scope":71812,"src":"5777:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":71799,"name":"uint32","nodeType":"ElementaryTypeName","src":"5777:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":71802,"mutability":"mutable","name":"numAsyncDefiInteractionHashes","nameLocation":"5809:29:119","nodeType":"VariableDeclaration","scope":71812,"src":"5802:36:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":71801,"name":"uint16","nodeType":"ElementaryTypeName","src":"5802:6:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":71804,"mutability":"mutable","name":"numDefiInteractionHashes","nameLocation":"5855:24:119","nodeType":"VariableDeclaration","scope":71812,"src":"5848:31:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":71803,"name":"uint16","nodeType":"ElementaryTypeName","src":"5848:6:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":71807,"mutability":"mutable","name":"lock","nameLocation":"5894:4:119","nodeType":"VariableDeclaration","scope":71812,"src":"5889:9:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"},"typeName":{"id":71806,"nodeType":"UserDefinedTypeName","pathNode":{"id":71805,"name":"Lock","nodeType":"IdentifierPath","referencedDeclaration":71795,"src":"5889:4:119"},"referencedDeclaration":71795,"src":"5889:4:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"visibility":"internal"},{"constant":false,"id":71809,"mutability":"mutable","name":"paused","nameLocation":"5913:6:119","nodeType":"VariableDeclaration","scope":71812,"src":"5908:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71808,"name":"bool","nodeType":"ElementaryTypeName","src":"5908:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71811,"mutability":"mutable","name":"capped","nameLocation":"5934:6:119","nodeType":"VariableDeclaration","scope":71812,"src":"5929:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71810,"name":"bool","nodeType":"ElementaryTypeName","src":"5929:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"RollupState","nameLocation":"5727:11:119","scope":74677,"visibility":"public"},{"id":71841,"nodeType":"StructDefinition","src":"6045:475:119","nodes":[],"canonicalName":"RollupProcessorV2.FullBridgeCallData","members":[{"constant":false,"id":71814,"mutability":"mutable","name":"bridgeAddressId","nameLocation":"6089:15:119","nodeType":"VariableDeclaration","scope":71841,"src":"6081:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71813,"name":"uint256","nodeType":"ElementaryTypeName","src":"6081:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71816,"mutability":"mutable","name":"bridgeAddress","nameLocation":"6122:13:119","nodeType":"VariableDeclaration","scope":71841,"src":"6114:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":71815,"name":"address","nodeType":"ElementaryTypeName","src":"6114:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":71818,"mutability":"mutable","name":"inputAssetIdA","nameLocation":"6153:13:119","nodeType":"VariableDeclaration","scope":71841,"src":"6145:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71817,"name":"uint256","nodeType":"ElementaryTypeName","src":"6145:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71820,"mutability":"mutable","name":"inputAssetIdB","nameLocation":"6184:13:119","nodeType":"VariableDeclaration","scope":71841,"src":"6176:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71819,"name":"uint256","nodeType":"ElementaryTypeName","src":"6176:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71822,"mutability":"mutable","name":"outputAssetIdA","nameLocation":"6215:14:119","nodeType":"VariableDeclaration","scope":71841,"src":"6207:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71821,"name":"uint256","nodeType":"ElementaryTypeName","src":"6207:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71824,"mutability":"mutable","name":"outputAssetIdB","nameLocation":"6247:14:119","nodeType":"VariableDeclaration","scope":71841,"src":"6239:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71823,"name":"uint256","nodeType":"ElementaryTypeName","src":"6239:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71826,"mutability":"mutable","name":"auxData","nameLocation":"6279:7:119","nodeType":"VariableDeclaration","scope":71841,"src":"6271:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71825,"name":"uint256","nodeType":"ElementaryTypeName","src":"6271:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71828,"mutability":"mutable","name":"firstInputVirtual","nameLocation":"6301:17:119","nodeType":"VariableDeclaration","scope":71841,"src":"6296:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71827,"name":"bool","nodeType":"ElementaryTypeName","src":"6296:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71830,"mutability":"mutable","name":"secondInputVirtual","nameLocation":"6333:18:119","nodeType":"VariableDeclaration","scope":71841,"src":"6328:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71829,"name":"bool","nodeType":"ElementaryTypeName","src":"6328:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71832,"mutability":"mutable","name":"firstOutputVirtual","nameLocation":"6366:18:119","nodeType":"VariableDeclaration","scope":71841,"src":"6361:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71831,"name":"bool","nodeType":"ElementaryTypeName","src":"6361:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71834,"mutability":"mutable","name":"secondOutputVirtual","nameLocation":"6399:19:119","nodeType":"VariableDeclaration","scope":71841,"src":"6394:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71833,"name":"bool","nodeType":"ElementaryTypeName","src":"6394:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71836,"mutability":"mutable","name":"secondInputInUse","nameLocation":"6433:16:119","nodeType":"VariableDeclaration","scope":71841,"src":"6428:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71835,"name":"bool","nodeType":"ElementaryTypeName","src":"6428:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71838,"mutability":"mutable","name":"secondOutputInUse","nameLocation":"6464:17:119","nodeType":"VariableDeclaration","scope":71841,"src":"6459:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71837,"name":"bool","nodeType":"ElementaryTypeName","src":"6459:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71840,"mutability":"mutable","name":"bridgeGasLimit","nameLocation":"6499:14:119","nodeType":"VariableDeclaration","scope":71841,"src":"6491:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71839,"name":"uint256","nodeType":"ElementaryTypeName","src":"6491:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"FullBridgeCallData","nameLocation":"6052:18:119","scope":74677,"visibility":"public"},{"id":71846,"nodeType":"StructDefinition","src":"6774:115:119","nodes":[],"canonicalName":"RollupProcessorV2.PendingDefiBridgeInteraction","members":[{"constant":false,"id":71843,"mutability":"mutable","name":"encodedBridgeCallData","nameLocation":"6828:21:119","nodeType":"VariableDeclaration","scope":71846,"src":"6820:29:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71842,"name":"uint256","nodeType":"ElementaryTypeName","src":"6820:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71845,"mutability":"mutable","name":"totalInputValue","nameLocation":"6867:15:119","nodeType":"VariableDeclaration","scope":71846,"src":"6859:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71844,"name":"uint256","nodeType":"ElementaryTypeName","src":"6859:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"PendingDefiBridgeInteraction","nameLocation":"6781:28:119","scope":74677,"visibility":"public"},{"id":71855,"nodeType":"StructDefinition","src":"7302:131:119","nodes":[],"canonicalName":"RollupProcessorV2.BridgeResult","members":[{"constant":false,"id":71848,"mutability":"mutable","name":"outputValueA","nameLocation":"7340:12:119","nodeType":"VariableDeclaration","scope":71855,"src":"7332:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71847,"name":"uint256","nodeType":"ElementaryTypeName","src":"7332:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71850,"mutability":"mutable","name":"outputValueB","nameLocation":"7370:12:119","nodeType":"VariableDeclaration","scope":71855,"src":"7362:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71849,"name":"uint256","nodeType":"ElementaryTypeName","src":"7362:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71852,"mutability":"mutable","name":"isAsync","nameLocation":"7397:7:119","nodeType":"VariableDeclaration","scope":71855,"src":"7392:12:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71851,"name":"bool","nodeType":"ElementaryTypeName","src":"7392:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":71854,"mutability":"mutable","name":"success","nameLocation":"7419:7:119","nodeType":"VariableDeclaration","scope":71855,"src":"7414:12:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":71853,"name":"bool","nodeType":"ElementaryTypeName","src":"7414:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"BridgeResult","nameLocation":"7309:12:119","scope":74677,"visibility":"public"},{"id":71862,"nodeType":"StructDefinition","src":"7723:123:119","nodes":[],"canonicalName":"RollupProcessorV2.InteractionInputs","members":[{"constant":false,"id":71857,"mutability":"mutable","name":"totalInputValue","nameLocation":"7766:15:119","nodeType":"VariableDeclaration","scope":71862,"src":"7758:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71856,"name":"uint256","nodeType":"ElementaryTypeName","src":"7758:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71859,"mutability":"mutable","name":"interactionNonce","nameLocation":"7799:16:119","nodeType":"VariableDeclaration","scope":71862,"src":"7791:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71858,"name":"uint256","nodeType":"ElementaryTypeName","src":"7791:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":71861,"mutability":"mutable","name":"auxData","nameLocation":"7832:7:119","nodeType":"VariableDeclaration","scope":71862,"src":"7825:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":71860,"name":"uint64","nodeType":"ElementaryTypeName","src":"7825:6:119","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"name":"InteractionInputs","nameLocation":"7730:17:119","scope":74677,"visibility":"public"},{"id":71873,"nodeType":"StructDefinition","src":"8491:164:119","nodes":[],"canonicalName":"RollupProcessorV2.AssetCap","members":[{"constant":false,"id":71864,"mutability":"mutable","name":"available","nameLocation":"8525:9:119","nodeType":"VariableDeclaration","scope":71873,"src":"8517:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":71863,"name":"uint128","nodeType":"ElementaryTypeName","src":"8517:7:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":71866,"mutability":"mutable","name":"lastUpdatedTimestamp","nameLocation":"8551:20:119","nodeType":"VariableDeclaration","scope":71873,"src":"8544:27:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":71865,"name":"uint32","nodeType":"ElementaryTypeName","src":"8544:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":71868,"mutability":"mutable","name":"pendingCap","nameLocation":"8588:10:119","nodeType":"VariableDeclaration","scope":71873,"src":"8581:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":71867,"name":"uint32","nodeType":"ElementaryTypeName","src":"8581:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":71870,"mutability":"mutable","name":"dailyCap","nameLocation":"8615:8:119","nodeType":"VariableDeclaration","scope":71873,"src":"8608:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":71869,"name":"uint32","nodeType":"ElementaryTypeName","src":"8608:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":71872,"mutability":"mutable","name":"precision","nameLocation":"8639:9:119","nodeType":"VariableDeclaration","scope":71873,"src":"8633:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":71871,"name":"uint8","nodeType":"ElementaryTypeName","src":"8633:5:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"name":"AssetCap","nameLocation":"8498:8:119","scope":74677,"visibility":"public"},{"id":71876,"nodeType":"VariableDeclaration","src":"9488:71:119","nodes":[],"constant":true,"mutability":"constant","name":"DEFI_BRIDGE_PROXY_CONVERT_SELECTOR","nameLocation":"9512:34:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":71874,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9488:6:119","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":{"hexValue":"30783462643934376138","id":71875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9549:10:119","typeDescriptions":{"typeIdentifier":"t_rational_1272530856_by_1","typeString":"int_const 1272530856"},"value":"0x4bd947a8"},"visibility":"private"},{"id":71879,"nodeType":"VariableDeclaration","src":"9566:69:119","nodes":[],"constant":true,"mutability":"constant","name":"INVALID_ADDRESS_NO_CODE_SELECTOR","nameLocation":"9590:32:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":71877,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9566:6:119","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":{"hexValue":"30783231343039323732","id":71878,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9625:10:119","typeDescriptions":{"typeIdentifier":"t_rational_557879922_by_1","typeString":"int_const 557879922"},"value":"0x21409272"},"visibility":"private"},{"id":71882,"nodeType":"VariableDeclaration","src":"9693:60:119","nodes":[],"constant":true,"mutability":"constant","name":"ARRAY_OVERFLOW_SELECTOR","nameLocation":"9717:23:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":71880,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9693:6:119","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":{"hexValue":"30783538613461623065","id":71881,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9743:10:119","typeDescriptions":{"typeIdentifier":"t_rational_1487186702_by_1","typeString":"int_const 1487186702"},"value":"0x58a4ab0e"},"visibility":"private"},{"id":71885,"nodeType":"VariableDeclaration","src":"9929:41:119","nodes":[],"constant":true,"mutability":"constant","name":"ETH_ASSET_ID","nameLocation":"9954:12:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71883,"name":"uint256","nodeType":"ElementaryTypeName","src":"9929:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"30","id":71884,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9969:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"visibility":"private"},{"id":71888,"nodeType":"VariableDeclaration","src":"10117:108:119","nodes":[],"constant":true,"mutability":"constant","name":"INIT_DEFI_ROOT","nameLocation":"10142:14:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71886,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10117:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307832653461623738383961623331333932303439343566396537323263376138666462383465363634333964373837626430363663336438393664626130346561","id":71887,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10159:66:119","typeDescriptions":{"typeIdentifier":"t_rational_20938404420049824405512104101634192696423039522504542078738967997628609594602_by_1","typeString":"int_const 2093...(69 digits omitted)...4602"},"value":"0x2e4ab7889ab3139204945f9e722c7a8fdb84e66439d787bd066c3d896dba04ea"},"visibility":"private"},{"id":71891,"nodeType":"VariableDeclaration","src":"10232:131:119","nodes":[],"constant":true,"mutability":"constant","name":"DEFI_BRIDGE_PROCESSED_SIGHASH","nameLocation":"10257:29:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71889,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10232:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307836393263663538323261303266356564663038346463373234396233613036323933363231653036396631313937356564373039303865643130656432653263","id":71890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10297:66:119","typeDescriptions":{"typeIdentifier":"t_rational_47572284809165584303161322359436360823549967381859985050843101437408798649900_by_1","typeString":"int_const 4757...(69 digits omitted)...9900"},"value":"0x692cf5822a02f5edf084dc7249b3a06293621e069f11975ed70908ed10ed2e2c"},"visibility":"private"},{"id":71894,"nodeType":"VariableDeclaration","src":"10370:132:119","nodes":[],"constant":true,"mutability":"constant","name":"ASYNC_BRIDGE_PROCESSED_SIGHASH","nameLocation":"10395:30:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71892,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10370:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307833386365343866346332663334353462636631333037323166323561343236326232666632633865333661663933376233306564663031626134383165623164","id":71893,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10436:66:119","typeDescriptions":{"typeIdentifier":"t_rational_25693993540501880966291606706191046554730412380271170546270422775306668600093_by_1","typeString":"int_const 2569...(69 digits omitted)...0093"},"value":"0x38ce48f4c2f3454bcf130721f25a4262b2ff2c8e36af937b30edf01ba481eb1d"},"visibility":"private"},{"id":71897,"nodeType":"VariableDeclaration","src":"10741:53:119","nodes":[],"constant":true,"mutability":"constant","name":"MIN_BRIDGE_GAS_LIMIT","nameLocation":"10766:20:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71895,"name":"uint256","nodeType":"ElementaryTypeName","src":"10741:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3335303030","id":71896,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10789:5:119","typeDescriptions":{"typeIdentifier":"t_rational_35000_by_1","typeString":"int_const 35000"},"value":"35000"},"visibility":"private"},{"id":71900,"nodeType":"VariableDeclaration","src":"10800:52:119","nodes":[],"constant":true,"mutability":"constant","name":"MIN_ERC20_GAS_LIMIT","nameLocation":"10825:19:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71898,"name":"uint256","nodeType":"ElementaryTypeName","src":"10800:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3535303030","id":71899,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10847:5:119","typeDescriptions":{"typeIdentifier":"t_rational_55000_by_1","typeString":"int_const 55000"},"value":"55000"},"visibility":"private"},{"id":71903,"nodeType":"VariableDeclaration","src":"10858:55:119","nodes":[],"constant":true,"mutability":"constant","name":"MAX_BRIDGE_GAS_LIMIT","nameLocation":"10883:20:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71901,"name":"uint256","nodeType":"ElementaryTypeName","src":"10858:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"35303030303030","id":71902,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10906:7:119","typeDescriptions":{"typeIdentifier":"t_rational_5000000_by_1","typeString":"int_const 5000000"},"value":"5000000"},"visibility":"private"},{"id":71906,"nodeType":"VariableDeclaration","src":"10919:54:119","nodes":[],"constant":true,"mutability":"constant","name":"MAX_ERC20_GAS_LIMIT","nameLocation":"10944:19:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71904,"name":"uint256","nodeType":"ElementaryTypeName","src":"10919:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31353030303030","id":71905,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10966:7:119","typeDescriptions":{"typeIdentifier":"t_rational_1500000_by_1","typeString":"int_const 1500000"},"value":"1500000"},"visibility":"private"},{"id":71909,"nodeType":"VariableDeclaration","src":"11102:52:119","nodes":[],"constant":true,"mutability":"constant","name":"INPUT_ASSET_ID_A_SHIFT","nameLocation":"11127:22:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71907,"name":"uint256","nodeType":"ElementaryTypeName","src":"11102:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3332","id":71908,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11152:2:119","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"visibility":"private"},{"id":71912,"nodeType":"VariableDeclaration","src":"11160:52:119","nodes":[],"constant":true,"mutability":"constant","name":"INPUT_ASSET_ID_B_SHIFT","nameLocation":"11185:22:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71910,"name":"uint256","nodeType":"ElementaryTypeName","src":"11160:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3632","id":71911,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11210:2:119","typeDescriptions":{"typeIdentifier":"t_rational_62_by_1","typeString":"int_const 62"},"value":"62"},"visibility":"private"},{"id":71915,"nodeType":"VariableDeclaration","src":"11218:53:119","nodes":[],"constant":true,"mutability":"constant","name":"OUTPUT_ASSET_ID_A_SHIFT","nameLocation":"11243:23:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71913,"name":"uint256","nodeType":"ElementaryTypeName","src":"11218:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3932","id":71914,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11269:2:119","typeDescriptions":{"typeIdentifier":"t_rational_92_by_1","typeString":"int_const 92"},"value":"92"},"visibility":"private"},{"id":71918,"nodeType":"VariableDeclaration","src":"11277:54:119","nodes":[],"constant":true,"mutability":"constant","name":"OUTPUT_ASSET_ID_B_SHIFT","nameLocation":"11302:23:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71916,"name":"uint256","nodeType":"ElementaryTypeName","src":"11277:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313232","id":71917,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11328:3:119","typeDescriptions":{"typeIdentifier":"t_rational_122_by_1","typeString":"int_const 122"},"value":"122"},"visibility":"private"},{"id":71921,"nodeType":"VariableDeclaration","src":"11337:46:119","nodes":[],"constant":true,"mutability":"constant","name":"BITCONFIG_SHIFT","nameLocation":"11362:15:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71919,"name":"uint256","nodeType":"ElementaryTypeName","src":"11337:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313532","id":71920,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11380:3:119","typeDescriptions":{"typeIdentifier":"t_rational_152_by_1","typeString":"int_const 152"},"value":"152"},"visibility":"private"},{"id":71924,"nodeType":"VariableDeclaration","src":"11389:45:119","nodes":[],"constant":true,"mutability":"constant","name":"AUX_DATA_SHIFT","nameLocation":"11414:14:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71922,"name":"uint256","nodeType":"ElementaryTypeName","src":"11389:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313834","id":71923,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11431:3:119","typeDescriptions":{"typeIdentifier":"t_rational_184_by_1","typeString":"int_const 184"},"value":"184"},"visibility":"private"},{"id":71927,"nodeType":"VariableDeclaration","src":"11440:57:119","nodes":[],"constant":true,"mutability":"constant","name":"VIRTUAL_ASSET_ID_FLAG_SHIFT","nameLocation":"11465:27:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71925,"name":"uint256","nodeType":"ElementaryTypeName","src":"11440:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3239","id":71926,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11495:2:119","typeDescriptions":{"typeIdentifier":"t_rational_29_by_1","typeString":"int_const 29"},"value":"29"},"visibility":"private"},{"id":71930,"nodeType":"VariableDeclaration","src":"11503:60:119","nodes":[],"constant":true,"mutability":"constant","name":"VIRTUAL_ASSET_ID_FLAG","nameLocation":"11528:21:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71928,"name":"uint256","nodeType":"ElementaryTypeName","src":"11503:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078323030305f30303030","id":71929,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11552:11:119","typeDescriptions":{"typeIdentifier":"t_rational_536870912_by_1","typeString":"int_const 536870912"},"value":"0x2000_0000"},"visibility":"private"},{"id":71933,"nodeType":"VariableDeclaration","src":"11580:59:119","nodes":[],"constant":true,"mutability":"constant","name":"MASK_THIRTY_TWO_BITS","nameLocation":"11605:20:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71931,"name":"uint256","nodeType":"ElementaryTypeName","src":"11580:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078666666665f66666666","id":71932,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11628:11:119","typeDescriptions":{"typeIdentifier":"t_rational_4294967295_by_1","typeString":"int_const 4294967295"},"value":"0xffff_ffff"},"visibility":"private"},{"id":71936,"nodeType":"VariableDeclaration","src":"11645:55:119","nodes":[],"constant":true,"mutability":"constant","name":"MASK_THIRTY_BITS","nameLocation":"11670:16:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71934,"name":"uint256","nodeType":"ElementaryTypeName","src":"11645:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078336666665f66666666","id":71935,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11689:11:119","typeDescriptions":{"typeIdentifier":"t_rational_1073741823_by_1","typeString":"int_const 1073741823"},"value":"0x3fff_ffff"},"visibility":"private"},{"id":71939,"nodeType":"VariableDeclaration","src":"11706:69:119","nodes":[],"constant":true,"mutability":"constant","name":"MASK_SIXTY_FOUR_BITS","nameLocation":"11731:20:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71937,"name":"uint256","nodeType":"ElementaryTypeName","src":"11706:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078666666665f666666665f666666665f66666666","id":71938,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11754:21:119","typeDescriptions":{"typeIdentifier":"t_rational_18446744073709551615_by_1","typeString":"int_const 18446744073709551615"},"value":"0xffff_ffff_ffff_ffff"},"visibility":"private"},{"id":71942,"nodeType":"VariableDeclaration","src":"11881:50:119","nodes":[],"constant":true,"mutability":"constant","name":"DATASIZE_BIT_OFFSET","nameLocation":"11906:19:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71940,"name":"uint256","nodeType":"ElementaryTypeName","src":"11881:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313630","id":71941,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11928:3:119","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"visibility":"private"},{"id":71945,"nodeType":"VariableDeclaration","src":"11937:68:119","nodes":[],"constant":true,"mutability":"constant","name":"ASYNCDEFIINTERACTIONHASHES_BIT_OFFSET","nameLocation":"11962:37:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71943,"name":"uint256","nodeType":"ElementaryTypeName","src":"11937:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"313932","id":71944,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12002:3:119","typeDescriptions":{"typeIdentifier":"t_rational_192_by_1","typeString":"int_const 192"},"value":"192"},"visibility":"private"},{"id":71948,"nodeType":"VariableDeclaration","src":"12011:63:119","nodes":[],"constant":true,"mutability":"constant","name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nameLocation":"12036:32:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71946,"name":"uint256","nodeType":"ElementaryTypeName","src":"12011:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"323038","id":71947,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12071:3:119","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"},"value":"208"},"visibility":"private"},{"id":71951,"nodeType":"VariableDeclaration","src":"12080:50:119","nodes":[],"constant":true,"mutability":"constant","name":"ARRAY_LENGTH_MASK","nameLocation":"12105:17:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71949,"name":"uint256","nodeType":"ElementaryTypeName","src":"12080:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078336666","id":71950,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12125:5:119","typeDescriptions":{"typeIdentifier":"t_rational_1023_by_1","typeString":"int_const 1023"},"value":"0x3ff"},"visibility":"private"},{"id":71954,"nodeType":"VariableDeclaration","src":"12144:52:119","nodes":[],"constant":true,"mutability":"constant","name":"DATASIZE_MASK","nameLocation":"12169:13:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71952,"name":"uint256","nodeType":"ElementaryTypeName","src":"12144:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3078666666665f66666666","id":71953,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12185:11:119","typeDescriptions":{"typeIdentifier":"t_rational_4294967295_by_1","typeString":"int_const 4294967295"},"value":"0xffff_ffff"},"visibility":"private"},{"id":71957,"nodeType":"VariableDeclaration","src":"12266:115:119","nodes":[],"constant":true,"mutability":"constant","name":"DEFI_RESULT_ZERO_HASH","nameLocation":"12291:21:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71955,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12266:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307832643235613165336135316562323933303034633462353661626531326564306461366263613262346132313933363735326138356431303235393363316234","id":71956,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12315:66:119","typeDescriptions":{"typeIdentifier":"t_rational_20420568846102670788164165195096865935346167473586480340844083644837783650740_by_1","typeString":"int_const 2042...(69 digits omitted)...0740"},"value":"0x2d25a1e3a51eb293004c4b56abe12ed0da6bca2b4a21936752a85d102593c1b4"},"visibility":"private"},{"id":71962,"nodeType":"VariableDeclaration","src":"12424:60:119","nodes":[],"constant":true,"functionSelector":"e58378bb","mutability":"constant","name":"OWNER_ROLE","nameLocation":"12448:10:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71958,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12424:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"4f574e45525f524f4c45","id":71960,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12471:12:119","typeDescriptions":{"typeIdentifier":"t_stringliteral_b19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e","typeString":"literal_string \\"OWNER_ROLE\\""},"value":"OWNER_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_b19546dff01e856fb3f010c267a7b1c60363cf8a4664e21cc89c26224620214e","typeString":"literal_string \\"OWNER_ROLE\\""}],"id":71959,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"12461:9:119","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":71961,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12461:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":71967,"nodeType":"VariableDeclaration","src":"12490:68:119","nodes":[],"constant":true,"functionSelector":"20df4359","mutability":"constant","name":"EMERGENCY_ROLE","nameLocation":"12514:14:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71963,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12490:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"454d455247454e43595f524f4c45","id":71965,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12541:16:119","typeDescriptions":{"typeIdentifier":"t_stringliteral_bf233dd2aafeb4d50879c4aa5c81e96d92f6e6945c906a58f9f2d1c1631b4b26","typeString":"literal_string \\"EMERGENCY_ROLE\\""},"value":"EMERGENCY_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_bf233dd2aafeb4d50879c4aa5c81e96d92f6e6945c906a58f9f2d1c1631b4b26","typeString":"literal_string \\"EMERGENCY_ROLE\\""}],"id":71964,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"12531:9:119","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":71966,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12531:27:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":71972,"nodeType":"VariableDeclaration","src":"12564:62:119","nodes":[],"constant":true,"functionSelector":"deb26b94","mutability":"constant","name":"LISTER_ROLE","nameLocation":"12588:11:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71968,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12564:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"4c49535445525f524f4c45","id":71970,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12612:13:119","typeDescriptions":{"typeIdentifier":"t_stringliteral_f94103142c1baabe9ac2b5d1487bf783de9e69cfeea9a72f5c9c94afd7877b8c","typeString":"literal_string \\"LISTER_ROLE\\""},"value":"LISTER_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_f94103142c1baabe9ac2b5d1487bf783de9e69cfeea9a72f5c9c94afd7877b8c","typeString":"literal_string \\"LISTER_ROLE\\""}],"id":71969,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"12602:9:119","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":71971,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12602:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":71977,"nodeType":"VariableDeclaration","src":"12632:62:119","nodes":[],"constant":true,"functionSelector":"2de03aa1","mutability":"constant","name":"RESUME_ROLE","nameLocation":"12656:11:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":71973,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12632:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"524553554d455f524f4c45","id":71975,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12680:13:119","typeDescriptions":{"typeIdentifier":"t_stringliteral_2fc10cc8ae19568712f7a176fb4978616a610650813c9d05326c34abb62749c7","typeString":"literal_string \\"RESUME_ROLE\\""},"value":"RESUME_ROLE"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_2fc10cc8ae19568712f7a176fb4978616a610650813c9d05326c34abb62749c7","typeString":"literal_string \\"RESUME_ROLE\\""}],"id":71974,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"12670:9:119","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":71976,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"12670:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":71979,"nodeType":"VariableDeclaration","src":"12737:46:119","nodes":[],"constant":false,"functionSelector":"b045009c","mutability":"immutable","name":"escapeBlockLowerBound","nameLocation":"12762:21:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71978,"name":"uint256","nodeType":"ElementaryTypeName","src":"12737:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":71981,"nodeType":"VariableDeclaration","src":"12789:46:119","nodes":[],"constant":false,"functionSelector":"d8ba3637","mutability":"immutable","name":"escapeBlockUpperBound","nameLocation":"12814:21:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":71980,"name":"uint256","nodeType":"ElementaryTypeName","src":"12789:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"public"},{"id":71984,"nodeType":"VariableDeclaration","src":"12960:32:119","nodes":[],"constant":false,"mutability":"mutable","name":"rollupState","nameLocation":"12981:11:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState"},"typeName":{"id":71983,"nodeType":"UserDefinedTypeName","pathNode":{"id":71982,"name":"RollupState","nodeType":"IdentifierPath","referencedDeclaration":71812,"src":"12960:11:119"},"referencedDeclaration":71812,"src":"12960:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage_ptr","typeString":"struct RollupProcessorV2.RollupState"}},"visibility":"internal"},{"id":71987,"nodeType":"VariableDeclaration","src":"13054:34:119","nodes":[],"constant":false,"mutability":"mutable","name":"supportedAssets","nameLocation":"13073:15:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[]"},"typeName":{"baseType":{"id":71985,"name":"address","nodeType":"ElementaryTypeName","src":"13054:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":71986,"nodeType":"ArrayTypeName","src":"13054:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"id":71990,"nodeType":"VariableDeclaration","src":"13242:35:119","nodes":[],"constant":false,"mutability":"mutable","name":"supportedBridges","nameLocation":"13261:16:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[]"},"typeName":{"baseType":{"id":71988,"name":"address","nodeType":"ElementaryTypeName","src":"13242:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":71989,"nodeType":"ArrayTypeName","src":"13242:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"id":71994,"nodeType":"VariableDeclaration","src":"13438:61:119","nodes":[],"constant":false,"functionSelector":"cd12bf62","mutability":"mutable","name":"asyncDefiInteractionHashes","nameLocation":"13473:26:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"typeName":{"id":71993,"keyType":{"id":71991,"name":"uint256","nodeType":"ElementaryTypeName","src":"13446:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"13438:27:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"valueType":{"id":71992,"name":"bytes32","nodeType":"ElementaryTypeName","src":"13457:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"visibility":"public"},{"id":71998,"nodeType":"VariableDeclaration","src":"13653:56:119","nodes":[],"baseFunctions":[66561],"constant":false,"functionSelector":"a33dc5e7","mutability":"mutable","name":"defiInteractionHashes","nameLocation":"13688:21:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"typeName":{"id":71997,"keyType":{"id":71995,"name":"uint256","nodeType":"ElementaryTypeName","src":"13661:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"13653:27:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes32_$","typeString":"mapping(uint256 => bytes32)"},"valueType":{"id":71996,"name":"bytes32","nodeType":"ElementaryTypeName","src":"13672:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},"visibility":"public"},{"id":72004,"nodeType":"VariableDeclaration","src":"13811:74:119","nodes":[],"baseFunctions":[66452],"constant":false,"functionSelector":"36ce0a92","mutability":"mutable","name":"userPendingDeposits","nameLocation":"13866:19:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"},"typeName":{"id":72003,"keyType":{"id":71999,"name":"uint256","nodeType":"ElementaryTypeName","src":"13819:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"13811:47:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"},"valueType":{"id":72002,"keyType":{"id":72000,"name":"address","nodeType":"ElementaryTypeName","src":"13838:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"13830:27:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"},"valueType":{"id":72001,"name":"uint256","nodeType":"ElementaryTypeName","src":"13849:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}},"visibility":"public"},{"id":72010,"nodeType":"VariableDeclaration","src":"13996:73:119","nodes":[],"constant":false,"functionSelector":"781e0432","mutability":"mutable","name":"depositProofApprovals","nameLocation":"14048:21:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"},"typeName":{"id":72009,"keyType":{"id":72005,"name":"address","nodeType":"ElementaryTypeName","src":"14004:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"13996:44:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"},"valueType":{"id":72008,"keyType":{"id":72006,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14023:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"14015:24:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"},"valueType":{"id":72007,"name":"bool","nodeType":"ElementaryTypeName","src":"14034:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}}},"visibility":"public"},{"id":72014,"nodeType":"VariableDeclaration","src":"14117:57:119","nodes":[],"baseFunctions":[66443],"constant":false,"functionSelector":"1ab9c603","mutability":"mutable","name":"rollupStateHash","nameLocation":"14159:15:119","overrides":{"id":72013,"nodeType":"OverrideSpecifier","overrides":[{"id":72012,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"14141:16:119"}],"src":"14132:26:119"},"scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72011,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14117:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":72018,"nodeType":"VariableDeclaration","src":"14227:57:119","nodes":[],"baseFunctions":[66457],"constant":false,"functionSelector":"0ceee68c","mutability":"mutable","name":"defiBridgeProxy","nameLocation":"14269:15:119","overrides":{"id":72017,"nodeType":"OverrideSpecifier","overrides":[{"id":72016,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"14251:16:119"}],"src":"14242:26:119"},"scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72015,"name":"address","nodeType":"ElementaryTypeName","src":"14227:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":72020,"nodeType":"VariableDeclaration","src":"14457:36:119","nodes":[],"baseFunctions":[66542],"constant":false,"functionSelector":"999e3614","mutability":"mutable","name":"allowThirdPartyContracts","nameLocation":"14469:24:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":72019,"name":"bool","nodeType":"ElementaryTypeName","src":"14457:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"public"},{"id":72024,"nodeType":"VariableDeclaration","src":"14727:47:119","nodes":[],"constant":false,"functionSelector":"5ad1def3","mutability":"mutable","name":"rollupProviders","nameLocation":"14759:15:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":72023,"keyType":{"id":72021,"name":"address","nodeType":"ElementaryTypeName","src":"14735:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"14727:24:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":72022,"name":"bool","nodeType":"ElementaryTypeName","src":"14746:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"public"},{"id":72029,"nodeType":"VariableDeclaration","src":"14859:79:119","nodes":[],"constant":false,"functionSelector":"8afceb39","mutability":"mutable","name":"pendingDefiInteractions","nameLocation":"14915:23:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PendingDefiBridgeInteraction_$71846_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.PendingDefiBridgeInteraction)"},"typeName":{"id":72028,"keyType":{"id":72025,"name":"uint256","nodeType":"ElementaryTypeName","src":"14867:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"14859:48:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PendingDefiBridgeInteraction_$71846_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.PendingDefiBridgeInteraction)"},"valueType":{"id":72027,"nodeType":"UserDefinedTypeName","pathNode":{"id":72026,"name":"PendingDefiBridgeInteraction","nodeType":"IdentifierPath","referencedDeclaration":71846,"src":"14878:28:119"},"referencedDeclaration":71846,"src":"14878:28:119","typeDescriptions":{"typeIdentifier":"t_struct$_PendingDefiBridgeInteraction_$71846_storage_ptr","typeString":"struct RollupProcessorV2.PendingDefiBridgeInteraction"}}},"visibility":"public"},{"id":72033,"nodeType":"VariableDeclaration","src":"15058:46:119","nodes":[],"constant":false,"functionSelector":"dcefed85","mutability":"mutable","name":"ethPayments","nameLocation":"15093:11:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":72032,"keyType":{"id":72030,"name":"uint256","nodeType":"ElementaryTypeName","src":"15066:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"15058:27:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":72031,"name":"uint256","nodeType":"ElementaryTypeName","src":"15077:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":72037,"nodeType":"VariableDeclaration","src":"15161:49:119","nodes":[],"baseFunctions":[66530],"constant":false,"functionSelector":"03561119","mutability":"mutable","name":"assetGasLimits","nameLocation":"15196:14:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":72036,"keyType":{"id":72034,"name":"uint256","nodeType":"ElementaryTypeName","src":"15169:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"15161:27:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":72035,"name":"uint256","nodeType":"ElementaryTypeName","src":"15180:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":72041,"nodeType":"VariableDeclaration","src":"15274:50:119","nodes":[],"baseFunctions":[66537],"constant":false,"functionSelector":"f21c69bb","mutability":"mutable","name":"bridgeGasLimits","nameLocation":"15309:15:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"typeName":{"id":72040,"keyType":{"id":72038,"name":"uint256","nodeType":"ElementaryTypeName","src":"15282:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"15274:27:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":72039,"name":"uint256","nodeType":"ElementaryTypeName","src":"15293:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},"visibility":"public"},{"id":72045,"nodeType":"VariableDeclaration","src":"15450:66:119","nodes":[],"baseFunctions":[66462],"constant":false,"functionSelector":"7ba3e7ae","mutability":"mutable","name":"prevDefiInteractionsHash","nameLocation":"15492:24:119","overrides":{"id":72044,"nodeType":"OverrideSpecifier","overrides":[{"id":72043,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"15474:16:119"}],"src":"15465:26:119"},"scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72042,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15450:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"public"},{"id":72047,"nodeType":"VariableDeclaration","src":"15603:33:119","nodes":[],"constant":false,"functionSelector":"20a23dd3","mutability":"mutable","name":"lastRollupTimeStamp","nameLocation":"15617:19:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":72046,"name":"uint32","nodeType":"ElementaryTypeName","src":"15603:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"public"},{"id":72049,"nodeType":"VariableDeclaration","src":"15733:36:119","nodes":[],"constant":false,"functionSelector":"c4a7a35f","mutability":"mutable","name":"delayBeforeEscapeHatch","nameLocation":"15747:22:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":72048,"name":"uint32","nodeType":"ElementaryTypeName","src":"15733:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"public"},{"id":72054,"nodeType":"VariableDeclaration","src":"15776:40:119","nodes":[],"constant":false,"functionSelector":"c37c656d","mutability":"mutable","name":"caps","nameLocation":"15812:4:119","scope":74677,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap)"},"typeName":{"id":72053,"keyType":{"id":72050,"name":"uint256","nodeType":"ElementaryTypeName","src":"15784:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"15776:28:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap)"},"valueType":{"id":72052,"nodeType":"UserDefinedTypeName","pathNode":{"id":72051,"name":"AssetCap","nodeType":"IdentifierPath","referencedDeclaration":71873,"src":"15795:8:119"},"referencedDeclaration":71873,"src":"15795:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage_ptr","typeString":"struct RollupProcessorV2.AssetCap"}}},"visibility":"public"},{"id":72073,"nodeType":"ModifierDefinition","src":"16151:204:119","nodes":[],"body":{"id":72072,"nodeType":"Block","src":"16192:163:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72065,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72062,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"16206:33:119","subExpression":{"arguments":[{"id":72058,"name":"LISTER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71972,"src":"16215:11:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"expression":{"id":72059,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"16228:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"16228:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"}],"id":72057,"name":"hasRole","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60685,"src":"16207:7:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$_t_address_$returns$_t_bool_$","typeString":"function (bytes32,address) view returns (bool)"}},"id":72061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16207:32:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"id":72064,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"16243:25:119","subExpression":{"id":72063,"name":"allowThirdPartyContracts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72020,"src":"16244:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"16206:62:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72070,"nodeType":"IfStatement","src":"16202:136:119","trueBody":{"id":72069,"nodeType":"Block","src":"16270:68:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72066,"name":"THIRD_PARTY_CONTRACTS_FLAG_NOT_SET","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71606,"src":"16291:34:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72067,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16291:36:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72068,"nodeType":"RevertStatement","src":"16284:43:119"}]}},{"id":72071,"nodeType":"PlaceholderStatement","src":"16347:1:119"}]},"documentation":{"id":72055,"nodeType":"StructuredDocumentation","src":"15935:211:119","text":" @notice A modifier forbidding functions from being called by addresses without LISTER role when Aztec Connect\\n         is still in BETA (`allowThirdPartyContracts` variable set to false)"},"name":"checkThirdPartyContractStatus","nameLocation":"16160:29:119","parameters":{"id":72056,"nodeType":"ParameterList","parameters":[],"src":"16189:2:119"},"virtual":false,"visibility":"internal"},{"id":72085,"nodeType":"ModifierDefinition","src":"16440:116:119","nodes":[],"body":{"id":72084,"nodeType":"Block","src":"16465:91:119","nodes":[],"statements":[{"condition":{"expression":{"id":72076,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"16479:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72077,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paused","nodeType":"MemberAccess","referencedDeclaration":71809,"src":"16479:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72082,"nodeType":"IfStatement","src":"16475:64:119","trueBody":{"id":72081,"nodeType":"Block","src":"16499:40:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72078,"name":"PAUSED","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71598,"src":"16520:6:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72079,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16520:8:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72080,"nodeType":"RevertStatement","src":"16513:15:119"}]}},{"id":72083,"nodeType":"PlaceholderStatement","src":"16548:1:119"}]},"documentation":{"id":72074,"nodeType":"StructuredDocumentation","src":"16361:74:119","text":" @notice A modifier reverting if this contract is paused"},"name":"whenNotPaused","nameLocation":"16449:13:119","parameters":{"id":72075,"nodeType":"ParameterList","parameters":[],"src":"16462:2:119"},"virtual":false,"visibility":"internal"},{"id":72098,"nodeType":"ModifierDefinition","src":"16645:118:119","nodes":[],"body":{"id":72097,"nodeType":"Block","src":"16667:96:119","nodes":[],"statements":[{"condition":{"id":72090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"16681:19:119","subExpression":{"expression":{"id":72088,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"16682:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72089,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paused","nodeType":"MemberAccess","referencedDeclaration":71809,"src":"16682:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72095,"nodeType":"IfStatement","src":"16677:69:119","trueBody":{"id":72094,"nodeType":"Block","src":"16702:44:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72091,"name":"NOT_PAUSED","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71600,"src":"16723:10:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16723:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72093,"nodeType":"RevertStatement","src":"16716:19:119"}]}},{"id":72096,"nodeType":"PlaceholderStatement","src":"16755:1:119"}]},"documentation":{"id":72086,"nodeType":"StructuredDocumentation","src":"16562:78:119","text":" @notice A modifier reverting if this contract is NOT paused"},"name":"whenPaused","nameLocation":"16654:10:119","parameters":{"id":72087,"nodeType":"ParameterList","parameters":[],"src":"16664:2:119"},"virtual":false,"visibility":"internal"},{"id":72127,"nodeType":"ModifierDefinition","src":"16837:220:119","nodes":[],"body":{"id":72126,"nodeType":"Block","src":"16858:199:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"},"id":72105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72101,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"16872:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72102,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"16872:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":72103,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"16892:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72104,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"UNLOCKED","nodeType":"MemberAccess","referencedDeclaration":71792,"src":"16892:13:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"16872:33:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72110,"nodeType":"IfStatement","src":"16868:90:119","trueBody":{"id":72109,"nodeType":"Block","src":"16907:51:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72106,"name":"LOCKED_NO_REENTER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71602,"src":"16928:17:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72107,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16928:19:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72108,"nodeType":"RevertStatement","src":"16921:26:119"}]}},{"expression":{"id":72116,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72111,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"16967:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72113,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"16967:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":72114,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"16986:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72115,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"LOCKED","nodeType":"MemberAccess","referencedDeclaration":71794,"src":"16986:11:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"16967:30:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"id":72117,"nodeType":"ExpressionStatement","src":"16967:30:119"},{"id":72118,"nodeType":"PlaceholderStatement","src":"17007:1:119"},{"expression":{"id":72124,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72119,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17018:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72121,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17018:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":72122,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17037:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72123,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"UNLOCKED","nodeType":"MemberAccess","referencedDeclaration":71792,"src":"17037:13:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17018:32:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"id":72125,"nodeType":"ExpressionStatement","src":"17018:32:119"}]},"documentation":{"id":72099,"nodeType":"StructuredDocumentation","src":"16769:63:119","text":" @notice A modifier reverting on any re-enter"},"name":"noReenter","nameLocation":"16846:9:119","parameters":{"id":72100,"nodeType":"ParameterList","parameters":[],"src":"16855:2:119"},"virtual":false,"visibility":"internal"},{"id":72156,"nodeType":"ModifierDefinition","src":"17163:241:119","nodes":[],"body":{"id":72155,"nodeType":"Block","src":"17192:212:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"},"id":72134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72130,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17206:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72131,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17206:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":72132,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17226:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72133,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"UNLOCKED","nodeType":"MemberAccess","referencedDeclaration":71792,"src":"17226:13:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17206:33:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72139,"nodeType":"IfStatement","src":"17202:90:119","trueBody":{"id":72138,"nodeType":"Block","src":"17241:51:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72135,"name":"LOCKED_NO_REENTER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71602,"src":"17262:17:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72136,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"17262:19:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72137,"nodeType":"RevertStatement","src":"17255:26:119"}]}},{"expression":{"id":72145,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72140,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17301:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72142,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17301:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":72143,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17320:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72144,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ALLOW_ASYNC_REENTER","nodeType":"MemberAccess","referencedDeclaration":71793,"src":"17320:24:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17301:43:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"id":72146,"nodeType":"ExpressionStatement","src":"17301:43:119"},{"id":72147,"nodeType":"PlaceholderStatement","src":"17354:1:119"},{"expression":{"id":72153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72148,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17365:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72150,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17365:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":72151,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17384:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72152,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"UNLOCKED","nodeType":"MemberAccess","referencedDeclaration":71792,"src":"17384:13:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17365:32:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"id":72154,"nodeType":"ExpressionStatement","src":"17365:32:119"}]},"documentation":{"id":72128,"nodeType":"StructuredDocumentation","src":"17063:95:119","text":" @notice A modifier reverting on any re-enter but allowing async to be called"},"name":"allowAsyncReenter","nameLocation":"17172:17:119","parameters":{"id":72129,"nodeType":"ParameterList","parameters":[],"src":"17189:2:119"},"virtual":false,"visibility":"internal"},{"id":72198,"nodeType":"ModifierDefinition","src":"17565:366:119","nodes":[],"body":{"id":72197,"nodeType":"Block","src":"17594:337:119","nodes":[],"statements":[{"assignments":[72161],"declarations":[{"constant":false,"id":72161,"mutability":"mutable","name":"lock","nameLocation":"17609:4:119","nodeType":"VariableDeclaration","scope":72197,"src":"17604:9:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"},"typeName":{"id":72160,"nodeType":"UserDefinedTypeName","pathNode":{"id":72159,"name":"Lock","nodeType":"IdentifierPath","referencedDeclaration":71795,"src":"17604:4:119"},"referencedDeclaration":71795,"src":"17604:4:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"visibility":"internal"}],"id":72164,"initialValue":{"expression":{"id":72162,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17616:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72163,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17616:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"VariableDeclarationStatement","src":"17604:28:119"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"},"id":72168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72165,"name":"lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72161,"src":"17646:4:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":72166,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17654:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72167,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ALLOW_ASYNC_REENTER","nodeType":"MemberAccess","referencedDeclaration":71793,"src":"17654:24:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17646:32:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"},"id":72174,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72171,"name":"lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72161,"src":"17716:4:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":72172,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17724:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72173,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"UNLOCKED","nodeType":"MemberAccess","referencedDeclaration":71792,"src":"17724:13:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17716:21:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":72194,"nodeType":"Block","src":"17874:51:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72191,"name":"LOCKED_NO_REENTER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71602,"src":"17895:17:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72192,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"17895:19:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72193,"nodeType":"RevertStatement","src":"17888:26:119"}]},"id":72195,"nodeType":"IfStatement","src":"17712:213:119","trueBody":{"id":72190,"nodeType":"Block","src":"17739:129:119","statements":[{"expression":{"id":72180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72175,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17753:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72177,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17753:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":72178,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17772:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72179,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ALLOW_ASYNC_REENTER","nodeType":"MemberAccess","referencedDeclaration":71793,"src":"17772:24:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17753:43:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"id":72181,"nodeType":"ExpressionStatement","src":"17753:43:119"},{"id":72182,"nodeType":"PlaceholderStatement","src":"17810:1:119"},{"expression":{"id":72188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72183,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"17825:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72185,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lock","nodeType":"MemberAccess","referencedDeclaration":71807,"src":"17825:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":72186,"name":"Lock","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71795,"src":"17844:4:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_Lock_$71795_$","typeString":"type(enum RollupProcessorV2.Lock)"}},"id":72187,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"UNLOCKED","nodeType":"MemberAccess","referencedDeclaration":71792,"src":"17844:13:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"src":"17825:32:119","typeDescriptions":{"typeIdentifier":"t_enum$_Lock_$71795","typeString":"enum RollupProcessorV2.Lock"}},"id":72189,"nodeType":"ExpressionStatement","src":"17825:32:119"}]}},"id":72196,"nodeType":"IfStatement","src":"17642:283:119","trueBody":{"id":72170,"nodeType":"Block","src":"17680:26:119","statements":[{"id":72169,"nodeType":"PlaceholderStatement","src":"17694:1:119"}]}}]},"documentation":{"id":72157,"nodeType":"StructuredDocumentation","src":"17410:150:119","text":" @notice A modifier reverting if re-entering after locking, but passes if unlocked or if async is re-enter is\\n         allowed"},"name":"noReenterButAsync","nameLocation":"17574:17:119","parameters":{"id":72158,"nodeType":"ParameterList","parameters":[],"src":"17591:2:119"},"virtual":false,"visibility":"internal"},{"id":72213,"nodeType":"ModifierDefinition","src":"18438:159:119","nodes":[],"body":{"id":72212,"nodeType":"Block","src":"18493:104:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72205,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72203,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72201,"src":"18507:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30783166666666666666","id":72204,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18518:10:119","typeDescriptions":{"typeIdentifier":"t_rational_536870911_by_1","typeString":"int_const 536870911"},"value":"0x1fffffff"},"src":"18507:21:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72210,"nodeType":"IfStatement","src":"18503:77:119","trueBody":{"id":72209,"nodeType":"Block","src":"18530:50:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72206,"name":"INVALID_ASSET_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71614,"src":"18551:16:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"18551:18:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72208,"nodeType":"RevertStatement","src":"18544:25:119"}]}},{"id":72211,"nodeType":"PlaceholderStatement","src":"18589:1:119"}]},"documentation":{"id":72199,"nodeType":"StructuredDocumentation","src":"17937:496:119","text":" @notice A modifier which reverts if a given `_assetId` represents a virtual asset\\n @param _assetId 30-bit integer that describes the asset\\n @dev If _assetId\'s 29th bit is set, it represents a virtual asset with no ERC20 equivalent\\n      Virtual assets are used by the bridges to track non-token data. E.g. to represent a loan.\\n      If an _assetId is *not* a virtual asset, its ERC20 address can be recovered from\\n      `supportedAssets[_assetId]`"},"name":"validateAssetIdIsNotVirtual","nameLocation":"18447:27:119","parameters":{"id":72202,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72201,"mutability":"mutable","name":"_assetId","nameLocation":"18483:8:119","nodeType":"VariableDeclaration","scope":72213,"src":"18475:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72200,"name":"uint256","nodeType":"ElementaryTypeName","src":"18475:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"18474:18:119"},"virtual":false,"visibility":"internal"},{"id":72251,"nodeType":"FunctionDefinition","src":"19059:684:119","nodes":[],"body":{"id":72250,"nodeType":"Block","src":"19135:608:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72227,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72221,"name":"_escapeBlockLowerBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72216,"src":"19149:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72222,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19175:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"19149:27:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72224,"name":"_escapeBlockLowerBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72216,"src":"19180:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":72225,"name":"_escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72218,"src":"19206:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19180:48:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"19149:79:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72232,"nodeType":"IfStatement","src":"19145:140:119","trueBody":{"id":72231,"nodeType":"Block","src":"19230:55:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72228,"name":"INVALID_ESCAPE_BOUNDS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71624,"src":"19251:21:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72229,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"19251:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72230,"nodeType":"RevertStatement","src":"19244:30:119"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":72233,"name":"_disableInitializers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60302,"src":"19486:20:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$__$returns$__$","typeString":"function ()"}},"id":72234,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"19486:22:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72235,"nodeType":"ExpressionStatement","src":"19486:22:119"},{"expression":{"id":72240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72236,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"19518:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72238,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"paused","nodeType":"MemberAccess","referencedDeclaration":71809,"src":"19518:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":72239,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"19539:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"19518:25:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72241,"nodeType":"ExpressionStatement","src":"19518:25:119"},{"expression":{"id":72244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72242,"name":"escapeBlockLowerBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71979,"src":"19634:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72243,"name":"_escapeBlockLowerBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72216,"src":"19658:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19634:46:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72245,"nodeType":"ExpressionStatement","src":"19634:46:119"},{"expression":{"id":72248,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72246,"name":"escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71981,"src":"19690:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72247,"name":"_escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72218,"src":"19714:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"19690:46:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72249,"nodeType":"ExpressionStatement","src":"19690:46:119"}]},"documentation":{"id":72214,"nodeType":"StructuredDocumentation","src":"18733:321:119","text":" @notice Constructor sets escape hatch window and ensure that the implementation cannot be initialized\\n @param _escapeBlockLowerBound a block number which defines a start of the escape hatch window\\n @param _escapeBlockUpperBound a block number which defines an end of the escape hatch window"},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":72219,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72216,"mutability":"mutable","name":"_escapeBlockLowerBound","nameLocation":"19079:22:119","nodeType":"VariableDeclaration","scope":72251,"src":"19071:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72215,"name":"uint256","nodeType":"ElementaryTypeName","src":"19071:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72218,"mutability":"mutable","name":"_escapeBlockUpperBound","nameLocation":"19111:22:119","nodeType":"VariableDeclaration","scope":72251,"src":"19103:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72217,"name":"uint256","nodeType":"ElementaryTypeName","src":"19103:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"19070:64:119"},"returnParameters":{"id":72220,"nodeType":"ParameterList","parameters":[],"src":"19135:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":72324,"nodeType":"FunctionDefinition","src":"19864:867:119","nodes":[],"body":{"id":72323,"nodeType":"Block","src":"19937:794:119","nodes":[],"statements":[{"expression":{"id":72263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72259,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"19947:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72261,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"capped","nodeType":"MemberAccess","referencedDeclaration":71811,"src":"19947:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":72262,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"19968:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"19947:25:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72264,"nodeType":"ExpressionStatement","src":"19947:25:119"},{"expression":{"id":72271,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72265,"name":"lastRollupTimeStamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72047,"src":"19982:19:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":72268,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"20011:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"20011:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72267,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20004:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":72266,"name":"uint32","nodeType":"ElementaryTypeName","src":"20004:6:119","typeDescriptions":{}}},"id":72270,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20004:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"19982:45:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":72272,"nodeType":"ExpressionStatement","src":"19982:45:119"},{"expression":{"id":72290,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":72273,"name":"caps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72054,"src":"20118:4:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap storage ref)"}},"id":72275,"indexExpression":{"hexValue":"30","id":72274,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20123:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"20118:7:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"hexValue":"31303030653138","id":72279,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20170:7:119","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000000_by_1","typeString":"int_const 1000000000000000000000"},"value":"1000e18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1000000000000000000000_by_1","typeString":"int_const 1000000000000000000000"}],"id":72278,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20162:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":72277,"name":"uint128","nodeType":"ElementaryTypeName","src":"20162:7:119","typeDescriptions":{}}},"id":72280,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20162:16:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"arguments":[{"expression":{"id":72283,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"20221:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72284,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"20221:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72282,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20214:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":72281,"name":"uint32","nodeType":"ElementaryTypeName","src":"20214:6:119","typeDescriptions":{}}},"id":72285,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20214:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"hexValue":"36","id":72286,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20263:1:119","typeDescriptions":{"typeIdentifier":"t_rational_6_by_1","typeString":"int_const 6"},"value":"6"},{"hexValue":"31303030","id":72287,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20288:4:119","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},{"hexValue":"3138","id":72288,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20317:2:119","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_rational_6_by_1","typeString":"int_const 6"},{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"}],"id":72276,"name":"AssetCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71873,"src":"20128:8:119","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_AssetCap_$71873_storage_ptr_$","typeString":"type(struct RollupProcessorV2.AssetCap storage pointer)"}},"id":72289,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["available","lastUpdatedTimestamp","pendingCap","dailyCap","precision"],"nodeType":"FunctionCall","src":"20128:202:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"src":"20118:212:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"id":72291,"nodeType":"ExpressionStatement","src":"20118:212:119"},{"expression":{"id":72309,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":72292,"name":"caps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72054,"src":"20424:4:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap storage ref)"}},"id":72294,"indexExpression":{"hexValue":"31","id":72293,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20429:1:119","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"20424:7:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"hexValue":"31653234","id":72298,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20476:4:119","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000000000_by_1","typeString":"int_const 1000000000000000000000000"},"value":"1e24"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1000000000000000000000000_by_1","typeString":"int_const 1000000000000000000000000"}],"id":72297,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20468:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":72296,"name":"uint128","nodeType":"ElementaryTypeName","src":"20468:7:119","typeDescriptions":{}}},"id":72299,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20468:13:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"arguments":[{"expression":{"id":72302,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"20524:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"20524:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72301,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"20517:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":72300,"name":"uint32","nodeType":"ElementaryTypeName","src":"20517:6:119","typeDescriptions":{}}},"id":72304,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20517:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"hexValue":"3130313030","id":72305,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20566:5:119","typeDescriptions":{"typeIdentifier":"t_rational_10100_by_1","typeString":"int_const 10100"},"value":"10100"},{"hexValue":"316536","id":72306,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20595:3:119","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1e6"},{"hexValue":"3138","id":72307,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20623:2:119","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_rational_10100_by_1","typeString":"int_const 10100"},{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"}],"id":72295,"name":"AssetCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71873,"src":"20434:8:119","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_AssetCap_$71873_storage_ptr_$","typeString":"type(struct RollupProcessorV2.AssetCap storage pointer)"}},"id":72308,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["available","lastUpdatedTimestamp","pendingCap","dailyCap","precision"],"nodeType":"FunctionCall","src":"20434:202:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"src":"20424:212:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"id":72310,"nodeType":"ExpressionStatement","src":"20424:212:119"},{"eventCall":{"arguments":[{"hexValue":"30","id":72312,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20668:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"36","id":72313,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20671:1:119","typeDescriptions":{"typeIdentifier":"t_rational_6_by_1","typeString":"int_const 6"},"value":"6"},{"hexValue":"31303030","id":72314,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20674:4:119","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_rational_6_by_1","typeString":"int_const 6"},{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"}],"id":72311,"name":"AssetCapUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71787,"src":"20652:15:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":72315,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20652:27:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72316,"nodeType":"EmitStatement","src":"20647:32:119"},{"eventCall":{"arguments":[{"hexValue":"31","id":72318,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20710:1:119","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"hexValue":"3130313030","id":72319,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20713:5:119","typeDescriptions":{"typeIdentifier":"t_rational_10100_by_1","typeString":"int_const 10100"},"value":"10100"},{"hexValue":"316536","id":72320,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20720:3:119","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1e6"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},{"typeIdentifier":"t_rational_10100_by_1","typeString":"int_const 10100"},{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"}],"id":72317,"name":"AssetCapUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71787,"src":"20694:15:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":72321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"20694:30:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72322,"nodeType":"EmitStatement","src":"20689:35:119"}]},"documentation":{"id":72252,"nodeType":"StructuredDocumentation","src":"19749:110:119","text":" @notice Initialiser function which emulates constructor behaviour for upgradeable contracts"},"functionSelector":"8129fc1c","implemented":true,"kind":"function","modifiers":[{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":72255,"name":"getImplementationVersion","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73810,"src":"19909:24:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint8_$","typeString":"function () view returns (uint8)"}},"id":72256,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"19909:26:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"id":72257,"kind":"modifierInvocation","modifierName":{"id":72254,"name":"reinitializer","nodeType":"IdentifierPath","referencedDeclaration":60256,"src":"19895:13:119"},"nodeType":"ModifierInvocation","src":"19895:41:119"}],"name":"initialize","nameLocation":"19873:10:119","parameters":{"id":72253,"nodeType":"ParameterList","parameters":[],"src":"19883:2:119"},"returnParameters":{"id":72258,"nodeType":"ParameterList","parameters":[],"src":"19937:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72349,"nodeType":"FunctionDefinition","src":"20994:175:119","nodes":[],"body":{"id":72348,"nodeType":"Block","src":"21094:75:119","nodes":[],"statements":[{"expression":{"id":72341,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72337,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"21104:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72339,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"paused","nodeType":"MemberAccess","referencedDeclaration":71809,"src":"21104:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":72340,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"21125:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"21104:25:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72342,"nodeType":"ExpressionStatement","src":"21104:25:119"},{"eventCall":{"arguments":[{"expression":{"id":72344,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"21151:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72345,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"21151:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":72343,"name":"Paused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71771,"src":"21144:6:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":72346,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21144:18:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72347,"nodeType":"EmitStatement","src":"21139:23:119"}]},"baseFunctions":[66353],"documentation":{"id":72325,"nodeType":"StructuredDocumentation","src":"20879:110:119","text":" @notice A function which allow the holders of the EMERGENCY_ROLE role to pause the contract"},"functionSelector":"8456cb59","implemented":true,"kind":"function","modifiers":[{"id":72330,"kind":"modifierInvocation","modifierName":{"id":72329,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"21045:13:119"},"nodeType":"ModifierInvocation","src":"21045:13:119"},{"arguments":[{"id":72332,"name":"EMERGENCY_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71967,"src":"21068:14:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72333,"kind":"modifierInvocation","modifierName":{"id":72331,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"21059:8:119"},"nodeType":"ModifierInvocation","src":"21059:24:119"},{"id":72335,"kind":"modifierInvocation","modifierName":{"id":72334,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"21084:9:119"},"nodeType":"ModifierInvocation","src":"21084:9:119"}],"name":"pause","nameLocation":"21003:5:119","overrides":{"id":72328,"nodeType":"OverrideSpecifier","overrides":[{"id":72327,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"21027:16:119"}],"src":"21018:26:119"},"parameters":{"id":72326,"nodeType":"ParameterList","parameters":[],"src":"21008:2:119"},"returnParameters":{"id":72336,"nodeType":"ParameterList","parameters":[],"src":"21094:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":72374,"nodeType":"FunctionDefinition","src":"21265:174:119","nodes":[],"body":{"id":72373,"nodeType":"Block","src":"21361:78:119","nodes":[],"statements":[{"expression":{"id":72366,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72362,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"21371:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72364,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"paused","nodeType":"MemberAccess","referencedDeclaration":71809,"src":"21371:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"66616c7365","id":72365,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"21392:5:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"21371:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72367,"nodeType":"ExpressionStatement","src":"21371:26:119"},{"eventCall":{"arguments":[{"expression":{"id":72369,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"21421:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72370,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"21421:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":72368,"name":"Unpaused","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71775,"src":"21412:8:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":72371,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21412:20:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72372,"nodeType":"EmitStatement","src":"21407:25:119"}]},"baseFunctions":[66356],"documentation":{"id":72350,"nodeType":"StructuredDocumentation","src":"21175:85:119","text":" @dev Allow the holders of the RESUME_ROLE to unpause the contract."},"functionSelector":"3f4ba83a","implemented":true,"kind":"function","modifiers":[{"id":72355,"kind":"modifierInvocation","modifierName":{"id":72354,"name":"whenPaused","nodeType":"IdentifierPath","referencedDeclaration":72098,"src":"21318:10:119"},"nodeType":"ModifierInvocation","src":"21318:10:119"},{"arguments":[{"id":72357,"name":"RESUME_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71977,"src":"21338:11:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72358,"kind":"modifierInvocation","modifierName":{"id":72356,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"21329:8:119"},"nodeType":"ModifierInvocation","src":"21329:21:119"},{"id":72360,"kind":"modifierInvocation","modifierName":{"id":72359,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"21351:9:119"},"nodeType":"ModifierInvocation","src":"21351:9:119"}],"name":"unpause","nameLocation":"21274:7:119","overrides":{"id":72353,"nodeType":"OverrideSpecifier","overrides":[{"id":72352,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"21300:16:119"}],"src":"21291:26:119"},"parameters":{"id":72351,"nodeType":"ParameterList","parameters":[],"src":"21281:2:119"},"returnParameters":{"id":72361,"nodeType":"ParameterList","parameters":[],"src":"21361:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":72413,"nodeType":"FunctionDefinition","src":"21698:310:119","nodes":[],"body":{"id":72412,"nodeType":"Block","src":"21773:235:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72388,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72385,"name":"_isCapped","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72377,"src":"21787:9:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":72386,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"21800:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72387,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"capped","nodeType":"MemberAccess","referencedDeclaration":71811,"src":"21800:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"21787:31:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72390,"nodeType":"IfStatement","src":"21783:44:119","trueBody":{"functionReturnParameters":72384,"id":72389,"nodeType":"Return","src":"21820:7:119"}},{"condition":{"id":72391,"name":"_isCapped","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72377,"src":"21841:9:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72401,"nodeType":"IfStatement","src":"21837:85:119","trueBody":{"id":72400,"nodeType":"Block","src":"21852:70:119","statements":[{"expression":{"id":72398,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72392,"name":"lastRollupTimeStamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72047,"src":"21866:19:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":72395,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"21895:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"21895:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72394,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"21888:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":72393,"name":"uint32","nodeType":"ElementaryTypeName","src":"21888:6:119","typeDescriptions":{}}},"id":72397,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21888:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"21866:45:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":72399,"nodeType":"ExpressionStatement","src":"21866:45:119"}]}},{"expression":{"id":72406,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72402,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"21932:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"capped","nodeType":"MemberAccess","referencedDeclaration":71811,"src":"21932:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72405,"name":"_isCapped","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72377,"src":"21953:9:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"21932:30:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72407,"nodeType":"ExpressionStatement","src":"21932:30:119"},{"eventCall":{"arguments":[{"id":72409,"name":"_isCapped","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72377,"src":"21991:9:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":72408,"name":"CappedUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71791,"src":"21977:13:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bool_$returns$__$","typeString":"function (bool)"}},"id":72410,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"21977:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72411,"nodeType":"EmitStatement","src":"21972:29:119"}]},"documentation":{"id":72375,"nodeType":"StructuredDocumentation","src":"21445:248:119","text":" @notice A function which allows holders of OWNER_ROLE to set the capped flag\\n @dev When going from uncapped to capped, will update `lastRollupTimeStamp`\\n @param _isCapped a flag indicating whether caps are used or not"},"functionSelector":"0d698f6f","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72380,"name":"OWNER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71962,"src":"21751:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72381,"kind":"modifierInvocation","modifierName":{"id":72379,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"21742:8:119"},"nodeType":"ModifierInvocation","src":"21742:20:119"},{"id":72383,"kind":"modifierInvocation","modifierName":{"id":72382,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"21763:9:119"},"nodeType":"ModifierInvocation","src":"21763:9:119"}],"name":"setCapped","nameLocation":"21707:9:119","parameters":{"id":72378,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72377,"mutability":"mutable","name":"_isCapped","nameLocation":"21722:9:119","nodeType":"VariableDeclaration","scope":72413,"src":"21717:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":72376,"name":"bool","nodeType":"ElementaryTypeName","src":"21717:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"21716:16:119"},"returnParameters":{"id":72384,"nodeType":"ParameterList","parameters":[],"src":"21773:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72440,"nodeType":"FunctionDefinition","src":"22254:269:119","nodes":[],"body":{"id":72439,"nodeType":"Block","src":"22416:107:119","nodes":[],"statements":[{"expression":{"id":72432,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":72428,"name":"rollupProviders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72024,"src":"22426:15:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":72430,"indexExpression":{"id":72429,"name":"_provider","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72416,"src":"22442:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"22426:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72431,"name":"_valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72418,"src":"22455:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"22426:35:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72433,"nodeType":"ExpressionStatement","src":"22426:35:119"},{"eventCall":{"arguments":[{"id":72435,"name":"_provider","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72416,"src":"22498:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":72436,"name":"_valid","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72418,"src":"22509:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":72434,"name":"RollupProviderUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71755,"src":"22476:21:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_bool_$returns$__$","typeString":"function (address,bool)"}},"id":72437,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"22476:40:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72438,"nodeType":"EmitStatement","src":"22471:45:119"}]},"baseFunctions":[66363],"documentation":{"id":72414,"nodeType":"StructuredDocumentation","src":"22014:235:119","text":" @notice A function which allows holders of OWNER_ROLE to add and remove a rollup provider.\\n @param _provider an address of the rollup provider\\n @param _valid a flag indicating whether `_provider` is valid"},"functionSelector":"91dfe78f","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72423,"name":"OWNER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71962,"src":"22382:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72424,"kind":"modifierInvocation","modifierName":{"id":72422,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"22373:8:119"},"nodeType":"ModifierInvocation","src":"22373:20:119"},{"id":72426,"kind":"modifierInvocation","modifierName":{"id":72425,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"22402:9:119"},"nodeType":"ModifierInvocation","src":"22402:9:119"}],"name":"setRollupProvider","nameLocation":"22263:17:119","overrides":{"id":72421,"nodeType":"OverrideSpecifier","overrides":[{"id":72420,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"22347:16:119"}],"src":"22338:26:119"},"parameters":{"id":72419,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72416,"mutability":"mutable","name":"_provider","nameLocation":"22289:9:119","nodeType":"VariableDeclaration","scope":72440,"src":"22281:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72415,"name":"address","nodeType":"ElementaryTypeName","src":"22281:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":72418,"mutability":"mutable","name":"_valid","nameLocation":"22305:6:119","nodeType":"VariableDeclaration","scope":72440,"src":"22300:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":72417,"name":"bool","nodeType":"ElementaryTypeName","src":"22300:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"22280:32:119"},"returnParameters":{"id":72427,"nodeType":"ParameterList","parameters":[],"src":"22416:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72490,"nodeType":"FunctionDefinition","src":"22906:520:119","nodes":[],"body":{"id":72489,"nodeType":"Block","src":"23070:356:119","nodes":[],"statements":[{"expression":{"id":72481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":72457,"name":"caps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72054,"src":"23080:4:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap storage ref)"}},"id":72459,"indexExpression":{"id":72458,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72443,"src":"23085:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"23080:14:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72468,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":72463,"name":"_dailyCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72447,"src":"23140:9:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":72462,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"23132:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":72461,"name":"uint256","nodeType":"ElementaryTypeName","src":"23132:7:119","typeDescriptions":{}}},"id":72464,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"23132:18:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72467,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":72465,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"23153:2:119","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"id":72466,"name":"_precision","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72449,"src":"23159:10:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"23153:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23132:37:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":72469,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"23131:39:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toU128","nodeType":"MemberAccess","referencedDeclaration":68455,"src":"23131:46:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$bound_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":72471,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"23131:48:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"arguments":[{"expression":{"id":72474,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"23222:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72475,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"23222:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72473,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"23215:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":72472,"name":"uint32","nodeType":"ElementaryTypeName","src":"23215:6:119","typeDescriptions":{}}},"id":72476,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"23215:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":72477,"name":"_pendingCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72445,"src":"23264:11:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":72478,"name":"_dailyCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72447,"src":"23299:9:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":72479,"name":"_precision","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72449,"src":"23333:10:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint8","typeString":"uint8"}],"id":72460,"name":"AssetCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71873,"src":"23097:8:119","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_AssetCap_$71873_storage_ptr_$","typeString":"type(struct RollupProcessorV2.AssetCap storage pointer)"}},"id":72480,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["available","lastUpdatedTimestamp","pendingCap","dailyCap","precision"],"nodeType":"FunctionCall","src":"23097:257:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"src":"23080:274:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"id":72482,"nodeType":"ExpressionStatement","src":"23080:274:119"},{"eventCall":{"arguments":[{"id":72484,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72443,"src":"23386:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72485,"name":"_pendingCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72445,"src":"23396:11:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":72486,"name":"_dailyCap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72447,"src":"23409:9:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":72483,"name":"AssetCapUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71787,"src":"23370:15:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256,uint256)"}},"id":72487,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"23370:49:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72488,"nodeType":"EmitStatement","src":"23365:54:119"}]},"documentation":{"id":72441,"nodeType":"StructuredDocumentation","src":"22529:372:119","text":" @notice A function which allows holders of the LISTER_ROLE to update asset caps\\n @param _assetId The asset id to update the cap for\\n @param _pendingCap The pending cap in whole tokens\\n @param _dailyCap The daily \\"accrual\\" to available deposits in whole tokens\\n @param _precision The precision (decimals) to multiply the caps with"},"functionSelector":"b3a07b98","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72452,"name":"LISTER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71972,"src":"23035:11:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72453,"kind":"modifierInvocation","modifierName":{"id":72451,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"23026:8:119"},"nodeType":"ModifierInvocation","src":"23026:21:119"},{"id":72455,"kind":"modifierInvocation","modifierName":{"id":72454,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"23056:9:119"},"nodeType":"ModifierInvocation","src":"23056:9:119"}],"name":"setAssetCap","nameLocation":"22915:11:119","parameters":{"id":72450,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72443,"mutability":"mutable","name":"_assetId","nameLocation":"22935:8:119","nodeType":"VariableDeclaration","scope":72490,"src":"22927:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72442,"name":"uint256","nodeType":"ElementaryTypeName","src":"22927:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72445,"mutability":"mutable","name":"_pendingCap","nameLocation":"22952:11:119","nodeType":"VariableDeclaration","scope":72490,"src":"22945:18:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":72444,"name":"uint32","nodeType":"ElementaryTypeName","src":"22945:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":72447,"mutability":"mutable","name":"_dailyCap","nameLocation":"22972:9:119","nodeType":"VariableDeclaration","scope":72490,"src":"22965:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":72446,"name":"uint32","nodeType":"ElementaryTypeName","src":"22965:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":72449,"mutability":"mutable","name":"_precision","nameLocation":"22989:10:119","nodeType":"VariableDeclaration","scope":72490,"src":"22983:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":72448,"name":"uint8","nodeType":"ElementaryTypeName","src":"22983:5:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"22926:74:119"},"returnParameters":{"id":72456,"nodeType":"ParameterList","parameters":[],"src":"23070:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72510,"nodeType":"FunctionDefinition","src":"23674:190:119","nodes":[],"body":{"id":72509,"nodeType":"Block","src":"23764:100:119","nodes":[],"statements":[{"expression":{"id":72503,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72501,"name":"delayBeforeEscapeHatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72049,"src":"23774:22:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72502,"name":"_delay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72493,"src":"23799:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"23774:31:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":72504,"nodeType":"ExpressionStatement","src":"23774:31:119"},{"eventCall":{"arguments":[{"id":72506,"name":"_delay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72493,"src":"23850:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":72505,"name":"DelayBeforeEscapeHatchUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71779,"src":"23820:29:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint32_$returns$__$","typeString":"function (uint32)"}},"id":72507,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"23820:37:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72508,"nodeType":"EmitStatement","src":"23815:42:119"}]},"documentation":{"id":72491,"nodeType":"StructuredDocumentation","src":"23432:237:119","text":" @notice A function which allows holders of the OWNER_ROLE to specify the delay before escapehatch is possible\\n @param _delay the delay in seconds between last rollup by a provider, and escape hatch being possible"},"functionSelector":"6a0214a9","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72496,"name":"OWNER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71962,"src":"23742:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72497,"kind":"modifierInvocation","modifierName":{"id":72495,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"23733:8:119"},"nodeType":"ModifierInvocation","src":"23733:20:119"},{"id":72499,"kind":"modifierInvocation","modifierName":{"id":72498,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"23754:9:119"},"nodeType":"ModifierInvocation","src":"23754:9:119"}],"name":"setDelayBeforeEscapeHatch","nameLocation":"23683:25:119","parameters":{"id":72494,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72493,"mutability":"mutable","name":"_delay","nameLocation":"23716:6:119","nodeType":"VariableDeclaration","scope":72510,"src":"23709:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":72492,"name":"uint32","nodeType":"ElementaryTypeName","src":"23709:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"23708:15:119"},"returnParameters":{"id":72500,"nodeType":"ParameterList","parameters":[],"src":"23764:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72546,"nodeType":"FunctionDefinition","src":"24095:305:119","nodes":[],"body":{"id":72545,"nodeType":"Block","src":"24200:200:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72527,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":72523,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72513,"src":"24214:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":72524,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"code","nodeType":"MemberAccess","src":"24214:14:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"24214:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72526,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"24239:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"24214:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72532,"nodeType":"IfStatement","src":"24210:89:119","trueBody":{"id":72531,"nodeType":"Block","src":"24242:57:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72528,"name":"INVALID_ADDRESS_NO_CODE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71610,"src":"24263:23:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72529,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"24263:25:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72530,"nodeType":"RevertStatement","src":"24256:32:119"}]}},{"expression":{"id":72539,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":72533,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"24309:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72535,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"verifier","nodeType":"MemberAccess","referencedDeclaration":71798,"src":"24309:20:119","typeDescriptions":{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":72537,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72513,"src":"24342:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":72536,"name":"IVerifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68427,"src":"24332:9:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IVerifier_$68427_$","typeString":"type(contract IVerifier)"}},"id":72538,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"24332:20:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"}},"src":"24309:43:119","typeDescriptions":{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"}},"id":72540,"nodeType":"ExpressionStatement","src":"24309:43:119"},{"eventCall":{"arguments":[{"id":72542,"name":"_verifier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72513,"src":"24383:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":72541,"name":"VerifierUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71759,"src":"24367:15:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":72543,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"24367:26:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72544,"nodeType":"EmitStatement","src":"24362:31:119"}]},"baseFunctions":[66368],"documentation":{"id":72511,"nodeType":"StructuredDocumentation","src":"23870:220:119","text":" @notice A function which allows holders of OWNER_ROLE to set the address of the PLONK verification smart\\n  (         contract\\n @param _verifier an address of the verification smart contract"},"functionSelector":"5437988d","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72518,"name":"OWNER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71962,"src":"24178:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72519,"kind":"modifierInvocation","modifierName":{"id":72517,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"24169:8:119"},"nodeType":"ModifierInvocation","src":"24169:20:119"},{"id":72521,"kind":"modifierInvocation","modifierName":{"id":72520,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"24190:9:119"},"nodeType":"ModifierInvocation","src":"24190:9:119"}],"name":"setVerifier","nameLocation":"24104:11:119","overrides":{"id":72516,"nodeType":"OverrideSpecifier","overrides":[{"id":72515,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"24151:16:119"}],"src":"24142:26:119"},"parameters":{"id":72514,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72513,"mutability":"mutable","name":"_verifier","nameLocation":"24124:9:119","nodeType":"VariableDeclaration","scope":72546,"src":"24116:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72512,"name":"address","nodeType":"ElementaryTypeName","src":"24116:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"24115:19:119"},"returnParameters":{"id":72522,"nodeType":"ParameterList","parameters":[],"src":"24200:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":72568,"nodeType":"FunctionDefinition","src":"24640:314:119","nodes":[],"body":{"id":72567,"nodeType":"Block","src":"24812:142:119","nodes":[],"statements":[{"expression":{"id":72561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72559,"name":"allowThirdPartyContracts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72020,"src":"24822:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72560,"name":"_allowThirdPartyContracts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72549,"src":"24849:25:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"24822:52:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72562,"nodeType":"ExpressionStatement","src":"24822:52:119"},{"eventCall":{"arguments":[{"id":72564,"name":"_allowThirdPartyContracts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72549,"src":"24921:25:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":72563,"name":"AllowThirdPartyContractsUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71763,"src":"24889:31:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bool_$returns$__$","typeString":"function (bool)"}},"id":72565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"24889:58:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72566,"nodeType":"EmitStatement","src":"24884:63:119"}]},"baseFunctions":[66373],"documentation":{"id":72547,"nodeType":"StructuredDocumentation","src":"24406:229:119","text":" @notice A function which allows holders of OWNER_ROLE to set `allowThirdPartyContracts` flag\\n @param _allowThirdPartyContracts A flag indicating true if allowing third parties to register, false otherwise"},"functionSelector":"a2b096e4","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72554,"name":"OWNER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71962,"src":"24778:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72555,"kind":"modifierInvocation","modifierName":{"id":72553,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"24769:8:119"},"nodeType":"ModifierInvocation","src":"24769:20:119"},{"id":72557,"kind":"modifierInvocation","modifierName":{"id":72556,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"24798:9:119"},"nodeType":"ModifierInvocation","src":"24798:9:119"}],"name":"setAllowThirdPartyContracts","nameLocation":"24649:27:119","overrides":{"id":72552,"nodeType":"OverrideSpecifier","overrides":[{"id":72551,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"24743:16:119"}],"src":"24734:26:119"},"parameters":{"id":72550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72549,"mutability":"mutable","name":"_allowThirdPartyContracts","nameLocation":"24682:25:119","nodeType":"VariableDeclaration","scope":72568,"src":"24677:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":72548,"name":"bool","nodeType":"ElementaryTypeName","src":"24677:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"24676:32:119"},"returnParameters":{"id":72558,"nodeType":"ParameterList","parameters":[],"src":"24812:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72600,"nodeType":"FunctionDefinition","src":"25154:366:119","nodes":[],"body":{"id":72599,"nodeType":"Block","src":"25309:211:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":72581,"name":"_defiBridgeProxy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72571,"src":"25323:16:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":72582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"code","nodeType":"MemberAccess","src":"25323:21:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"25323:28:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72584,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"25355:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"25323:33:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72590,"nodeType":"IfStatement","src":"25319:96:119","trueBody":{"id":72589,"nodeType":"Block","src":"25358:57:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72586,"name":"INVALID_ADDRESS_NO_CODE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71610,"src":"25379:23:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72587,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"25379:25:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72588,"nodeType":"RevertStatement","src":"25372:32:119"}]}},{"expression":{"id":72593,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72591,"name":"defiBridgeProxy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72018,"src":"25424:15:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72592,"name":"_defiBridgeProxy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72571,"src":"25442:16:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"25424:34:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":72594,"nodeType":"ExpressionStatement","src":"25424:34:119"},{"eventCall":{"arguments":[{"id":72596,"name":"_defiBridgeProxy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72571,"src":"25496:16:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":72595,"name":"DefiBridgeProxyUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71767,"src":"25473:22:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":72597,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"25473:40:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72598,"nodeType":"EmitStatement","src":"25468:45:119"}]},"baseFunctions":[66378],"documentation":{"id":72569,"nodeType":"StructuredDocumentation","src":"24960:189:119","text":" @notice A function which allows holders of OWNER_ROLE to set address of `DefiBridgeProxy` contract\\n @param _defiBridgeProxy an address of `DefiBridgeProxy` contract"},"functionSelector":"caa34553","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":72576,"name":"OWNER_ROLE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71962,"src":"25275:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"id":72577,"kind":"modifierInvocation","modifierName":{"id":72575,"name":"onlyRole","nodeType":"IdentifierPath","referencedDeclaration":60644,"src":"25266:8:119"},"nodeType":"ModifierInvocation","src":"25266:20:119"},{"id":72579,"kind":"modifierInvocation","modifierName":{"id":72578,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"25295:9:119"},"nodeType":"ModifierInvocation","src":"25295:9:119"}],"name":"setDefiBridgeProxy","nameLocation":"25163:18:119","overrides":{"id":72574,"nodeType":"OverrideSpecifier","overrides":[{"id":72573,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"25240:16:119"}],"src":"25231:26:119"},"parameters":{"id":72572,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72571,"mutability":"mutable","name":"_defiBridgeProxy","nameLocation":"25190:16:119","nodeType":"VariableDeclaration","scope":72600,"src":"25182:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72570,"name":"address","nodeType":"ElementaryTypeName","src":"25182:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"25181:26:119"},"returnParameters":{"id":72580,"nodeType":"ParameterList","parameters":[],"src":"25309:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":72664,"nodeType":"FunctionDefinition","src":"25747:631:119","nodes":[],"body":{"id":72663,"nodeType":"Block","src":"25943:435:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":72616,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72603,"src":"25957:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":72617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"code","nodeType":"MemberAccess","src":"25957:11:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72618,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"25957:18:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72619,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"25979:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"25957:23:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72625,"nodeType":"IfStatement","src":"25953:86:119","trueBody":{"id":72624,"nodeType":"Block","src":"25982:57:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72621,"name":"INVALID_ADDRESS_NO_CODE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71610,"src":"26003:23:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72622,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"26003:25:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72623,"nodeType":"RevertStatement","src":"25996:32:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72626,"name":"_gasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72605,"src":"26052:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":72627,"name":"MIN_ERC20_GAS_LIMIT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71900,"src":"26064:19:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26052:31:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72631,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72629,"name":"_gasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72605,"src":"26087:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72630,"name":"MAX_ERC20_GAS_LIMIT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71906,"src":"26099:19:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26087:31:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"26052:66:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72637,"nodeType":"IfStatement","src":"26048:123:119","trueBody":{"id":72636,"nodeType":"Block","src":"26120:51:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72633,"name":"INVALID_ASSET_GAS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71612,"src":"26141:17:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72634,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"26141:19:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72635,"nodeType":"RevertStatement","src":"26134:26:119"}]}},{"expression":{"arguments":[{"id":72641,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72603,"src":"26202:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":72638,"name":"supportedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71987,"src":"26181:15:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":72640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"push","nodeType":"MemberAccess","src":"26181:20:119","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_address_$dyn_storage_ptr_$_t_address_$returns$__$bound_to$_t_array$_t_address_$dyn_storage_ptr_$","typeString":"function (address[] storage pointer,address)"}},"id":72642,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"26181:28:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72643,"nodeType":"ExpressionStatement","src":"26181:28:119"},{"assignments":[72645],"declarations":[{"constant":false,"id":72645,"mutability":"mutable","name":"assetId","nameLocation":"26227:7:119","nodeType":"VariableDeclaration","scope":72663,"src":"26219:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72644,"name":"uint256","nodeType":"ElementaryTypeName","src":"26219:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72648,"initialValue":{"expression":{"id":72646,"name":"supportedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71987,"src":"26237:15:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":72647,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"26237:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"26219:40:119"},{"expression":{"id":72653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":72649,"name":"assetGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72037,"src":"26269:14:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":72651,"indexExpression":{"id":72650,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72645,"src":"26284:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"26269:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72652,"name":"_gasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72605,"src":"26295:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26269:35:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72654,"nodeType":"ExpressionStatement","src":"26269:35:119"},{"eventCall":{"arguments":[{"id":72656,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72645,"src":"26330:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72657,"name":"_token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72603,"src":"26339:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":72658,"name":"assetGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72037,"src":"26347:14:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":72660,"indexExpression":{"id":72659,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72645,"src":"26362:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"26347:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72655,"name":"AssetAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71741,"src":"26319:10:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":72661,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"26319:52:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72662,"nodeType":"EmitStatement","src":"26314:57:119"}]},"baseFunctions":[66385],"documentation":{"id":72601,"nodeType":"StructuredDocumentation","src":"25526:216:119","text":" @notice Registers an ERC20 token as a supported asset\\n @param _token address of the ERC20 token\\n @param _gasLimit gas limit used when transferring the token (in withdraw or transferFee)"},"functionSelector":"fb0ce185","implemented":true,"kind":"function","modifiers":[{"id":72610,"kind":"modifierInvocation","modifierName":{"id":72609,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"25869:13:119"},"nodeType":"ModifierInvocation","src":"25869:13:119"},{"id":72612,"kind":"modifierInvocation","modifierName":{"id":72611,"name":"checkThirdPartyContractStatus","nodeType":"IdentifierPath","referencedDeclaration":72073,"src":"25891:29:119"},"nodeType":"ModifierInvocation","src":"25891:29:119"},{"id":72614,"kind":"modifierInvocation","modifierName":{"id":72613,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"25929:9:119"},"nodeType":"ModifierInvocation","src":"25929:9:119"}],"name":"setSupportedAsset","nameLocation":"25756:17:119","overrides":{"id":72608,"nodeType":"OverrideSpecifier","overrides":[{"id":72607,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"25843:16:119"}],"src":"25834:26:119"},"parameters":{"id":72606,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72603,"mutability":"mutable","name":"_token","nameLocation":"25782:6:119","nodeType":"VariableDeclaration","scope":72664,"src":"25774:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72602,"name":"address","nodeType":"ElementaryTypeName","src":"25774:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":72605,"mutability":"mutable","name":"_gasLimit","nameLocation":"25798:9:119","nodeType":"VariableDeclaration","scope":72664,"src":"25790:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72604,"name":"uint256","nodeType":"ElementaryTypeName","src":"25790:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"25773:35:119"},"returnParameters":{"id":72615,"nodeType":"ParameterList","parameters":[],"src":"25943:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72728,"nodeType":"FunctionDefinition","src":"26601:676:119","nodes":[],"body":{"id":72727,"nodeType":"Block","src":"26799:478:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72684,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":72680,"name":"_bridge","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72667,"src":"26813:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":72681,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"code","nodeType":"MemberAccess","src":"26813:12:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":72682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"26813:19:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72683,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"26836:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"26813:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72689,"nodeType":"IfStatement","src":"26809:87:119","trueBody":{"id":72688,"nodeType":"Block","src":"26839:57:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72685,"name":"INVALID_ADDRESS_NO_CODE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71610,"src":"26860:23:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72686,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"26860:25:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72687,"nodeType":"RevertStatement","src":"26853:32:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72696,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72692,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72690,"name":"_gasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72669,"src":"26909:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":72691,"name":"MIN_BRIDGE_GAS_LIMIT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71897,"src":"26921:20:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26909:32:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72693,"name":"_gasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72669,"src":"26945:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":72694,"name":"MAX_BRIDGE_GAS_LIMIT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71903,"src":"26957:20:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"26945:32:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"26909:68:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72701,"nodeType":"IfStatement","src":"26905:126:119","trueBody":{"id":72700,"nodeType":"Block","src":"26979:52:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72697,"name":"INVALID_BRIDGE_GAS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71618,"src":"27000:18:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72698,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"27000:20:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72699,"nodeType":"RevertStatement","src":"26993:27:119"}]}},{"expression":{"arguments":[{"id":72705,"name":"_bridge","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72667,"src":"27063:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":72702,"name":"supportedBridges","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71990,"src":"27041:16:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":72704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"push","nodeType":"MemberAccess","src":"27041:21:119","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_address_$dyn_storage_ptr_$_t_address_$returns$__$bound_to$_t_array$_t_address_$dyn_storage_ptr_$","typeString":"function (address[] storage pointer,address)"}},"id":72706,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"27041:30:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72707,"nodeType":"ExpressionStatement","src":"27041:30:119"},{"assignments":[72709],"declarations":[{"constant":false,"id":72709,"mutability":"mutable","name":"bridgeAddressId","nameLocation":"27089:15:119","nodeType":"VariableDeclaration","scope":72727,"src":"27081:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72708,"name":"uint256","nodeType":"ElementaryTypeName","src":"27081:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72712,"initialValue":{"expression":{"id":72710,"name":"supportedBridges","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71990,"src":"27107:16:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":72711,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"27107:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"27081:49:119"},{"expression":{"id":72717,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":72713,"name":"bridgeGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72041,"src":"27140:15:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":72715,"indexExpression":{"id":72714,"name":"bridgeAddressId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72709,"src":"27156:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"27140:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":72716,"name":"_gasLimit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72669,"src":"27175:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"27140:44:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":72718,"nodeType":"ExpressionStatement","src":"27140:44:119"},{"eventCall":{"arguments":[{"id":72720,"name":"bridgeAddressId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72709,"src":"27211:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72721,"name":"_bridge","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72667,"src":"27228:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"baseExpression":{"id":72722,"name":"bridgeGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72041,"src":"27237:15:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":72724,"indexExpression":{"id":72723,"name":"bridgeAddressId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72709,"src":"27253:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"27237:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72719,"name":"BridgeAdded","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71749,"src":"27199:11:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":72725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"27199:71:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72726,"nodeType":"EmitStatement","src":"27194:76:119"}]},"baseFunctions":[66392],"documentation":{"id":72665,"nodeType":"StructuredDocumentation","src":"26384:212:119","text":" @dev Appends a bridge contract to the supportedBridges\\n @param _bridge address of the bridge contract\\n @param _gasLimit gas limit forwarded to the DefiBridgeProxy to perform convert"},"functionSelector":"8666c0a9","implemented":true,"kind":"function","modifiers":[{"id":72674,"kind":"modifierInvocation","modifierName":{"id":72673,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"26725:13:119"},"nodeType":"ModifierInvocation","src":"26725:13:119"},{"id":72676,"kind":"modifierInvocation","modifierName":{"id":72675,"name":"checkThirdPartyContractStatus","nodeType":"IdentifierPath","referencedDeclaration":72073,"src":"26747:29:119"},"nodeType":"ModifierInvocation","src":"26747:29:119"},{"id":72678,"kind":"modifierInvocation","modifierName":{"id":72677,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"26785:9:119"},"nodeType":"ModifierInvocation","src":"26785:9:119"}],"name":"setSupportedBridge","nameLocation":"26610:18:119","overrides":{"id":72672,"nodeType":"OverrideSpecifier","overrides":[{"id":72671,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"26699:16:119"}],"src":"26690:26:119"},"parameters":{"id":72670,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72667,"mutability":"mutable","name":"_bridge","nameLocation":"26637:7:119","nodeType":"VariableDeclaration","scope":72728,"src":"26629:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72666,"name":"address","nodeType":"ElementaryTypeName","src":"26629:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":72669,"mutability":"mutable","name":"_gasLimit","nameLocation":"26654:9:119","nodeType":"VariableDeclaration","scope":72728,"src":"26646:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72668,"name":"uint256","nodeType":"ElementaryTypeName","src":"26646:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"26628:36:119"},"returnParameters":{"id":72679,"nodeType":"ParameterList","parameters":[],"src":"26799:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72802,"nodeType":"FunctionDefinition","src":"28354:839:119","nodes":[],"body":{"id":72801,"nodeType":"Block","src":"28548:645:119","nodes":[],"statements":[{"condition":{"baseExpression":{"id":72742,"name":"rollupProviders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72024,"src":"28562:15:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":72745,"indexExpression":{"expression":{"id":72743,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"28578:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"28578:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"28562:27:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":72771,"nodeType":"Block","src":"28723:148:119","statements":[{"assignments":[72760,null],"declarations":[{"constant":false,"id":72760,"mutability":"mutable","name":"isOpen","nameLocation":"28743:6:119","nodeType":"VariableDeclaration","scope":72771,"src":"28738:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":72759,"name":"bool","nodeType":"ElementaryTypeName","src":"28738:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},null],"id":72763,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":72761,"name":"getEscapeHatchStatus","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74031,"src":"28754:20:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$_t_uint256_$","typeString":"function () view returns (bool,uint256)"}},"id":72762,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"28754:22:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"28737:39:119"},{"condition":{"id":72765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"28794:7:119","subExpression":{"id":72764,"name":"isOpen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72760,"src":"28795:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72770,"nodeType":"IfStatement","src":"28790:71:119","trueBody":{"id":72769,"nodeType":"Block","src":"28803:58:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72766,"name":"INVALID_PROVIDER","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71604,"src":"28828:16:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72767,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"28828:18:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72768,"nodeType":"RevertStatement","src":"28821:25:119"}]}}]},"id":72772,"nodeType":"IfStatement","src":"28558:313:119","trueBody":{"id":72758,"nodeType":"Block","src":"28591:126:119","statements":[{"condition":{"expression":{"id":72746,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"28609:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":72747,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"capped","nodeType":"MemberAccess","referencedDeclaration":71811,"src":"28609:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72757,"nodeType":"IfStatement","src":"28605:102:119","trueBody":{"id":72756,"nodeType":"Block","src":"28629:78:119","statements":[{"expression":{"id":72754,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72748,"name":"lastRollupTimeStamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72047,"src":"28647:19:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":72751,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"28676:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":72752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"28676:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72750,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"28669:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":72749,"name":"uint32","nodeType":"ElementaryTypeName","src":"28669:6:119","typeDescriptions":{}}},"id":72753,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"28669:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"28647:45:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":72755,"nodeType":"ExpressionStatement","src":"28647:45:119"}]}}]}},{"assignments":[72774,72776,72778],"declarations":[{"constant":false,"id":72774,"mutability":"mutable","name":"proofData","nameLocation":"28895:9:119","nodeType":"VariableDeclaration","scope":72801,"src":"28882:22:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":72773,"name":"bytes","nodeType":"ElementaryTypeName","src":"28882:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":72776,"mutability":"mutable","name":"numTxs","nameLocation":"28914:6:119","nodeType":"VariableDeclaration","scope":72801,"src":"28906:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72775,"name":"uint256","nodeType":"ElementaryTypeName","src":"28906:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72778,"mutability":"mutable","name":"publicInputsHash","nameLocation":"28930:16:119","nodeType":"VariableDeclaration","scope":72801,"src":"28922:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72777,"name":"uint256","nodeType":"ElementaryTypeName","src":"28922:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72781,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":72779,"name":"decodeProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67959,"src":"28950:11:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bytes_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"function () view returns (bytes memory,uint256,uint256)"}},"id":72780,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"28950:13:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes_memory_ptr_$_t_uint256_$_t_uint256_$","typeString":"tuple(bytes memory,uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"28881:82:119"},{"assignments":[72783],"declarations":[{"constant":false,"id":72783,"mutability":"mutable","name":"rollupBeneficiary","nameLocation":"28981:17:119","nodeType":"VariableDeclaration","scope":72801,"src":"28973:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72782,"name":"address","nodeType":"ElementaryTypeName","src":"28973:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":72787,"initialValue":{"arguments":[{"id":72785,"name":"proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72774,"src":"29026:9:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":72784,"name":"extractRollupBeneficiary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68007,"src":"29001:24:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_address_$","typeString":"function (bytes memory) pure returns (address)"}},"id":72786,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"29001:35:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"28973:63:119"},{"expression":{"arguments":[{"id":72789,"name":"proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72774,"src":"29066:9:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":72790,"name":"_signatures","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72733,"src":"29077:11:119","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"id":72791,"name":"numTxs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72776,"src":"29090:6:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72792,"name":"publicInputsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72778,"src":"29098:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72793,"name":"rollupBeneficiary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72783,"src":"29116:17:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":72788,"name":"processRollupProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73403,"src":"29047:18:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$_t_uint256_$_t_uint256_$_t_address_$returns$__$","typeString":"function (bytes memory,bytes memory,uint256,uint256,address)"}},"id":72794,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"29047:87:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72795,"nodeType":"ExpressionStatement","src":"29047:87:119"},{"expression":{"arguments":[{"id":72797,"name":"proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72774,"src":"29157:9:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":72798,"name":"rollupBeneficiary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72783,"src":"29168:17:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"}],"id":72796,"name":"transferFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73755,"src":"29145:11:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$returns$__$","typeString":"function (bytes memory,address)"}},"id":72799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"29145:41:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72800,"nodeType":"ExpressionStatement","src":"29145:41:119"}]},"baseFunctions":[66399],"documentation":{"id":72729,"nodeType":"StructuredDocumentation","src":"27283:1066:119","text":" @notice A function which processes a rollup\\n @dev Rollup processing consists of decoding a rollup, verifying the corresponding proof and updating relevant\\n      state variables\\n @dev The `encodedProofData` is unnamed param as we are reading it directly from calldata when decoding\\n      and creating the `proofData` in `Decoder::decodeProof()`.\\n @dev For the rollup to be processed `msg.sender` has to be an authorised rollup provider or escape hatch has\\n      to be open\\n @dev This function always transfers fees to the `rollupBeneficiary` encoded in the proof data\\n @param - cryptographic proof data associated with a rollup\\n @param _signatures a byte array of secp256k1 ECDSA signatures, authorising a transfer of tokens from\\n                    the publicOwner for the particular inner proof in question\\n Structure of each signature in the bytes array is:\\n 0x00 - 0x20 : r\\n 0x20 - 0x40 : s\\n 0x40 - 0x60 : v (in form: 0x0000....0001b for example)"},"functionSelector":"f81cccbe","implemented":true,"kind":"function","modifiers":[{"id":72738,"kind":"modifierInvocation","modifierName":{"id":72737,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"28504:13:119"},"nodeType":"ModifierInvocation","src":"28504:13:119"},{"id":72740,"kind":"modifierInvocation","modifierName":{"id":72739,"name":"allowAsyncReenter","nodeType":"IdentifierPath","referencedDeclaration":72156,"src":"28526:17:119"},"nodeType":"ModifierInvocation","src":"28526:17:119"}],"name":"processRollup","nameLocation":"28363:13:119","overrides":{"id":72736,"nodeType":"OverrideSpecifier","overrides":[{"id":72735,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"28478:16:119"}],"src":"28469:26:119"},"parameters":{"id":72734,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72731,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72802,"src":"28377:14:119","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":72730,"name":"bytes","nodeType":"ElementaryTypeName","src":"28377:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":72733,"mutability":"mutable","name":"_signatures","nameLocation":"28431:11:119","nodeType":"VariableDeclaration","scope":72802,"src":"28416:26:119","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":72732,"name":"bytes","nodeType":"ElementaryTypeName","src":"28416:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"28376:67:119"},"returnParameters":{"id":72741,"nodeType":"ParameterList","parameters":[],"src":"28548:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":72812,"nodeType":"FunctionDefinition","src":"29541:508:119","nodes":[],"body":{"id":72811,"nodeType":"Block","src":"29642:407:119","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"29661:382:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"29740:4:119","type":"","value":"0x00"},{"name":"_interactionNonce","nodeType":"YulIdentifier","src":"29746:17:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"29733:6:119"},"nodeType":"YulFunctionCall","src":"29733:31:119"},"nodeType":"YulExpressionStatement","src":"29733:31:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"29784:4:119","type":"","value":"0x20"},{"name":"ethPayments.slot","nodeType":"YulIdentifier","src":"29790:16:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"29777:6:119"},"nodeType":"YulFunctionCall","src":"29777:30:119"},"nodeType":"YulExpressionStatement","src":"29777:30:119"},{"nodeType":"YulVariableDeclaration","src":"29820:33:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"29842:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"29848:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"29832:9:119"},"nodeType":"YulFunctionCall","src":"29832:21:119"},"variables":[{"name":"slot","nodeType":"YulTypedName","src":"29824:4:119","type":""}]},{"expression":{"arguments":[{"name":"slot","nodeType":"YulIdentifier","src":"29997:4:119"},{"arguments":[{"arguments":[{"name":"slot","nodeType":"YulIdentifier","src":"30013:4:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"30007:5:119"},"nodeType":"YulFunctionCall","src":"30007:11:119"},{"arguments":[],"functionName":{"name":"callvalue","nodeType":"YulIdentifier","src":"30020:9:119"},"nodeType":"YulFunctionCall","src":"30020:11:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"30003:3:119"},"nodeType":"YulFunctionCall","src":"30003:29:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"29990:6:119"},"nodeType":"YulFunctionCall","src":"29990:43:119"},"nodeType":"YulExpressionStatement","src":"29990:43:119"}]},"evmVersion":"london","externalReferences":[{"declaration":72805,"isOffset":false,"isSlot":false,"src":"29746:17:119","valueSize":1},{"declaration":72033,"isOffset":false,"isSlot":true,"src":"29790:16:119","suffix":"slot","valueSize":1}],"id":72810,"nodeType":"InlineAssembly","src":"29652:391:119"}]},"baseFunctions":[66404],"documentation":{"id":72803,"nodeType":"StructuredDocumentation","src":"29338:198:119","text":" @notice A function used by bridges to send ETH to the RollupProcessor during an interaction\\n @param _interactionNonce an interaction nonce that used as an ID of this payment"},"functionSelector":"12a53623","implemented":true,"kind":"function","modifiers":[],"name":"receiveEthFromBridge","nameLocation":"29550:20:119","overrides":{"id":72808,"nodeType":"OverrideSpecifier","overrides":[{"id":72807,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"29624:16:119"}],"src":"29615:26:119"},"parameters":{"id":72806,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72805,"mutability":"mutable","name":"_interactionNonce","nameLocation":"29579:17:119","nodeType":"VariableDeclaration","scope":72812,"src":"29571:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72804,"name":"uint256","nodeType":"ElementaryTypeName","src":"29571:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"29570:27:119"},"returnParameters":{"id":72809,"nodeType":"ParameterList","parameters":[],"src":"29642:0:119"},"scope":74677,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":72824,"nodeType":"FunctionDefinition","src":"30323:476:119","nodes":[],"body":{"id":72823,"nodeType":"Block","src":"30413:386:119","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"30495:298:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"30585:4:119","type":"","value":"0x00"},{"arguments":[],"functionName":{"name":"caller","nodeType":"YulIdentifier","src":"30591:6:119"},"nodeType":"YulFunctionCall","src":"30591:8:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"30578:6:119"},"nodeType":"YulFunctionCall","src":"30578:22:119"},"nodeType":"YulExpressionStatement","src":"30578:22:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"30620:4:119","type":"","value":"0x20"},{"name":"depositProofApprovals.slot","nodeType":"YulIdentifier","src":"30626:26:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"30613:6:119"},"nodeType":"YulFunctionCall","src":"30613:40:119"},"nodeType":"YulExpressionStatement","src":"30613:40:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"30673:4:119","type":"","value":"0x20"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"30689:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"30695:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"30679:9:119"},"nodeType":"YulFunctionCall","src":"30679:21:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"30666:6:119"},"nodeType":"YulFunctionCall","src":"30666:35:119"},"nodeType":"YulExpressionStatement","src":"30666:35:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"30721:4:119","type":"","value":"0x00"},{"name":"_proofHash","nodeType":"YulIdentifier","src":"30727:10:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"30714:6:119"},"nodeType":"YulFunctionCall","src":"30714:24:119"},"nodeType":"YulExpressionStatement","src":"30714:24:119"},{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"30768:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"30774:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"30758:9:119"},"nodeType":"YulFunctionCall","src":"30758:21:119"},{"kind":"number","nodeType":"YulLiteral","src":"30781:1:119","type":"","value":"1"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"30751:6:119"},"nodeType":"YulFunctionCall","src":"30751:32:119"},"nodeType":"YulExpressionStatement","src":"30751:32:119"}]},"evmVersion":"london","externalReferences":[{"declaration":72815,"isOffset":false,"isSlot":false,"src":"30727:10:119","valueSize":1},{"declaration":72010,"isOffset":false,"isSlot":true,"src":"30626:26:119","suffix":"slot","valueSize":1}],"id":72822,"nodeType":"InlineAssembly","src":"30486:307:119"}]},"baseFunctions":[66409],"documentation":{"id":72813,"nodeType":"StructuredDocumentation","src":"30055:263:119","text":" @notice A function which approves a proofHash to spend the user\'s pending deposited funds\\n @dev this function is one way and must be called by the owner of the funds\\n @param _proofHash keccak256 hash of the inner proof public inputs"},"functionSelector":"e3936355","implemented":true,"kind":"function","modifiers":[{"id":72820,"kind":"modifierInvocation","modifierName":{"id":72819,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"30399:13:119"},"nodeType":"ModifierInvocation","src":"30399:13:119"}],"name":"approveProof","nameLocation":"30332:12:119","overrides":{"id":72818,"nodeType":"OverrideSpecifier","overrides":[{"id":72817,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"30381:16:119"}],"src":"30372:26:119"},"parameters":{"id":72816,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72815,"mutability":"mutable","name":"_proofHash","nameLocation":"30353:10:119","nodeType":"VariableDeclaration","scope":72824,"src":"30345:18:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72814,"name":"bytes32","nodeType":"ElementaryTypeName","src":"30345:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"30344:20:119"},"returnParameters":{"id":72821,"nodeType":"ParameterList","parameters":[],"src":"30413:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":72931,"nodeType":"FunctionDefinition","src":"31286:1145:119","nodes":[],"body":{"id":72930,"nodeType":"Block","src":"31498:933:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72842,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72827,"src":"31559:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":72843,"name":"ETH_ASSET_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71885,"src":"31571:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31559:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72845,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"31587:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72846,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","src":"31587:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":72847,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72829,"src":"31600:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31587:20:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"31559:48:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72854,"nodeType":"IfStatement","src":"31555:110:119","trueBody":{"id":72853,"nodeType":"Block","src":"31609:56:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72850,"name":"MSG_VALUE_WRONG_AMOUNT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71640,"src":"31630:22:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72851,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"31630:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72852,"nodeType":"RevertStatement","src":"31623:31:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":72862,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72855,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72827,"src":"31678:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":72856,"name":"ETH_ASSET_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71885,"src":"31690:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31678:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":72858,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"31706:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"value","nodeType":"MemberAccess","src":"31706:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":72860,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"31719:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"31706:14:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"31678:42:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72867,"nodeType":"IfStatement","src":"31674:115:119","trueBody":{"id":72866,"nodeType":"Block","src":"31722:67:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72863,"name":"DEPOSIT_TOKENS_WRONG_PAYMENT_TYPE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71646,"src":"31743:33:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72864,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"31743:35:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72865,"nodeType":"RevertStatement","src":"31736:42:119"}]}},{"expression":{"arguments":[{"id":72869,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72827,"src":"31829:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72870,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72831,"src":"31839:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":72871,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72829,"src":"31847:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72868,"name":"increasePendingDepositBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73333,"src":"31799:29:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":72872,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"31799:56:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72873,"nodeType":"ExpressionStatement","src":"31799:56:119"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":72876,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72874,"name":"_proofHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72833,"src":"31870:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":72875,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"31884:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"31870:15:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72881,"nodeType":"IfStatement","src":"31866:45:119","trueBody":{"expression":{"arguments":[{"id":72878,"name":"_proofHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72833,"src":"31900:10:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":72877,"name":"approveProof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72824,"src":"31887:12:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$returns$__$","typeString":"function (bytes32)"}},"id":72879,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"31887:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72880,"nodeType":"ExpressionStatement","src":"31887:24:119"}},{"eventCall":{"arguments":[{"id":72883,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72827,"src":"31935:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72884,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72831,"src":"31945:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":72885,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72829,"src":"31953:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72882,"name":"Deposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71733,"src":"31927:7:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":72886,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"31927:34:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72887,"nodeType":"EmitStatement","src":"31922:39:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72890,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72888,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72827,"src":"31976:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":72889,"name":"ETH_ASSET_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71885,"src":"31988:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"31976:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72929,"nodeType":"IfStatement","src":"31972:453:119","trueBody":{"id":72928,"nodeType":"Block","src":"32002:423:119","statements":[{"assignments":[72892],"declarations":[{"constant":false,"id":72892,"mutability":"mutable","name":"assetAddress","nameLocation":"32024:12:119","nodeType":"VariableDeclaration","scope":72928,"src":"32016:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72891,"name":"address","nodeType":"ElementaryTypeName","src":"32016:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":72896,"initialValue":{"arguments":[{"id":72894,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72827,"src":"32057:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72893,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"32039:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":72895,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32039:27:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"32016:50:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72909,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":72901,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"32213:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72902,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"32213:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":72905,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"32233:4:119","typeDescriptions":{"typeIdentifier":"t_contract$_RollupProcessorV2_$74677","typeString":"contract RollupProcessorV2"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_RollupProcessorV2_$74677","typeString":"contract RollupProcessorV2"}],"id":72904,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"32225:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":72903,"name":"address","nodeType":"ElementaryTypeName","src":"32225:7:119","typeDescriptions":{}}},"id":72906,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32225:13:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":72898,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72892,"src":"32189:12:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":72897,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":62651,"src":"32182:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$62651_$","typeString":"type(contract IERC20)"}},"id":72899,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32182:20:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$62651","typeString":"contract IERC20"}},"id":72900,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"allowance","nodeType":"MemberAccess","referencedDeclaration":62628,"src":"32182:30:119","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address) view external returns (uint256)"}},"id":72907,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32182:57:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":72908,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72829,"src":"32242:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"32182:67:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72914,"nodeType":"IfStatement","src":"32178:142:119","trueBody":{"id":72913,"nodeType":"Block","src":"32251:69:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72910,"name":"INSUFFICIENT_TOKEN_APPROVAL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71648,"src":"32276:27:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72911,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32276:29:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72912,"nodeType":"RevertStatement","src":"32269:36:119"}]}},{"expression":{"arguments":[{"id":72918,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72892,"src":"32365:12:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":72919,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"32379:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"32379:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":72923,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"32399:4:119","typeDescriptions":{"typeIdentifier":"t_contract$_RollupProcessorV2_$74677","typeString":"contract RollupProcessorV2"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_RollupProcessorV2_$74677","typeString":"contract RollupProcessorV2"}],"id":72922,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"32391:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":72921,"name":"address","nodeType":"ElementaryTypeName","src":"32391:7:119","typeDescriptions":{}}},"id":72924,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32391:13:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":72925,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72829,"src":"32406:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":72915,"name":"TokenTransfers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68527,"src":"32333:14:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TokenTransfers_$68527_$","typeString":"type(library TokenTransfers)"}},"id":72917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":68496,"src":"32333:31:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,address,uint256)"}},"id":72926,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"32333:81:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72927,"nodeType":"ExpressionStatement","src":"32333:81:119"}]}}]},"baseFunctions":[66420],"documentation":{"id":72825,"nodeType":"StructuredDocumentation","src":"30805:476:119","text":" @notice A function which deposits funds to the contract\\n @dev This is the first stage of a 2 stage deposit process. In the second stage funds are claimed by the user on\\n      L2.\\n @param _assetId asset ID which was assigned during asset registration\\n @param _amount token deposit amount\\n @param _owner address that can spend the deposited funds\\n @param _proofHash 32 byte transaction id that can spend the deposited funds"},"functionSelector":"7ff48afb","implemented":true,"kind":"function","modifiers":[{"id":72838,"kind":"modifierInvocation","modifierName":{"id":72837,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"31462:13:119"},"nodeType":"ModifierInvocation","src":"31462:13:119"},{"id":72840,"kind":"modifierInvocation","modifierName":{"id":72839,"name":"noReenter","nodeType":"IdentifierPath","referencedDeclaration":72127,"src":"31484:9:119"},"nodeType":"ModifierInvocation","src":"31484:9:119"}],"name":"depositPendingFunds","nameLocation":"31295:19:119","overrides":{"id":72836,"nodeType":"OverrideSpecifier","overrides":[{"id":72835,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"31436:16:119"}],"src":"31427:26:119"},"parameters":{"id":72834,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72827,"mutability":"mutable","name":"_assetId","nameLocation":"31323:8:119","nodeType":"VariableDeclaration","scope":72931,"src":"31315:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72826,"name":"uint256","nodeType":"ElementaryTypeName","src":"31315:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72829,"mutability":"mutable","name":"_amount","nameLocation":"31341:7:119","nodeType":"VariableDeclaration","scope":72931,"src":"31333:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72828,"name":"uint256","nodeType":"ElementaryTypeName","src":"31333:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72831,"mutability":"mutable","name":"_owner","nameLocation":"31358:6:119","nodeType":"VariableDeclaration","scope":72931,"src":"31350:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":72830,"name":"address","nodeType":"ElementaryTypeName","src":"31350:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":72833,"mutability":"mutable","name":"_proofHash","nameLocation":"31374:10:119","nodeType":"VariableDeclaration","scope":72931,"src":"31366:18:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":72832,"name":"bytes32","nodeType":"ElementaryTypeName","src":"31366:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"31314:71:119"},"returnParameters":{"id":72841,"nodeType":"ParameterList","parameters":[],"src":"31498:0:119"},"scope":74677,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":72956,"nodeType":"FunctionDefinition","src":"32906:274:119","nodes":[],"body":{"id":72955,"nodeType":"Block","src":"33101:79:119","nodes":[],"statements":[{"eventCall":{"arguments":[{"id":72948,"name":"_rollupId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72934,"src":"33129:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72949,"name":"_chunk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72936,"src":"33140:6:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":72950,"name":"_totalChunks","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72938,"src":"33148:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":72951,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"33162:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":72952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"33162:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":72947,"name":"OffchainData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71692,"src":"33116:12:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_address_$returns$__$","typeString":"function (uint256,uint256,uint256,address)"}},"id":72953,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"33116:57:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72954,"nodeType":"EmitStatement","src":"33111:62:119"}]},"baseFunctions":[66431],"documentation":{"id":72932,"nodeType":"StructuredDocumentation","src":"32437:464:119","text":" @notice A function used to publish data that doesn\'t need to be accessible on-chain\\n @dev This function can be called multiple times to work around maximum tx size limits\\n @dev The data is expected to be reconstructed by the client\\n @param _rollupId rollup id this data is related to\\n @param _chunk the chunk number, from 0 to totalChunks-1.\\n @param _totalChunks the total number of chunks.\\n @param - the data"},"functionSelector":"20825443","implemented":true,"kind":"function","modifiers":[{"id":72945,"kind":"modifierInvocation","modifierName":{"id":72944,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"33083:13:119"},"nodeType":"ModifierInvocation","src":"33083:13:119"}],"name":"offchainData","nameLocation":"32915:12:119","overrides":{"id":72943,"nodeType":"OverrideSpecifier","overrides":[{"id":72942,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"33057:16:119"}],"src":"33048:26:119"},"parameters":{"id":72941,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72934,"mutability":"mutable","name":"_rollupId","nameLocation":"32936:9:119","nodeType":"VariableDeclaration","scope":72956,"src":"32928:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72933,"name":"uint256","nodeType":"ElementaryTypeName","src":"32928:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72936,"mutability":"mutable","name":"_chunk","nameLocation":"32955:6:119","nodeType":"VariableDeclaration","scope":72956,"src":"32947:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72935,"name":"uint256","nodeType":"ElementaryTypeName","src":"32947:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72938,"mutability":"mutable","name":"_totalChunks","nameLocation":"32971:12:119","nodeType":"VariableDeclaration","scope":72956,"src":"32963:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72937,"name":"uint256","nodeType":"ElementaryTypeName","src":"32963:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":72940,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":72956,"src":"32985:14:119","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":72939,"name":"bytes","nodeType":"ElementaryTypeName","src":"32985:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"32927:95:119"},"returnParameters":{"id":72946,"nodeType":"ParameterList","parameters":[],"src":"33101:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":73173,"nodeType":"FunctionDefinition","src":"33379:5970:119","nodes":[],"body":{"id":73172,"nodeType":"Block","src":"33570:5779:119","nodes":[],"statements":[{"assignments":[72971],"declarations":[{"constant":false,"id":72971,"mutability":"mutable","name":"encodedBridgeCallData","nameLocation":"33588:21:119","nodeType":"VariableDeclaration","scope":73172,"src":"33580:29:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72970,"name":"uint256","nodeType":"ElementaryTypeName","src":"33580:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72972,"nodeType":"VariableDeclarationStatement","src":"33580:29:119"},{"assignments":[72974],"declarations":[{"constant":false,"id":72974,"mutability":"mutable","name":"totalInputValue","nameLocation":"33627:15:119","nodeType":"VariableDeclaration","scope":73172,"src":"33619:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72973,"name":"uint256","nodeType":"ElementaryTypeName","src":"33619:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":72975,"nodeType":"VariableDeclarationStatement","src":"33619:23:119"},{"AST":{"nodeType":"YulBlock","src":"33661:290:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"33682:4:119","type":"","value":"0x00"},{"name":"_interactionNonce","nodeType":"YulIdentifier","src":"33688:17:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"33675:6:119"},"nodeType":"YulFunctionCall","src":"33675:31:119"},"nodeType":"YulExpressionStatement","src":"33675:31:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"33726:4:119","type":"","value":"0x20"},{"name":"pendingDefiInteractions.slot","nodeType":"YulIdentifier","src":"33732:28:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"33719:6:119"},"nodeType":"YulFunctionCall","src":"33719:42:119"},"nodeType":"YulExpressionStatement","src":"33719:42:119"},{"nodeType":"YulVariableDeclaration","src":"33774:43:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"33806:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"33812:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"33796:9:119"},"nodeType":"YulFunctionCall","src":"33796:21:119"},"variables":[{"name":"interactionPtr","nodeType":"YulTypedName","src":"33778:14:119","type":""}]},{"nodeType":"YulAssignment","src":"33831:46:119","value":{"arguments":[{"name":"interactionPtr","nodeType":"YulIdentifier","src":"33862:14:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"33856:5:119"},"nodeType":"YulFunctionCall","src":"33856:21:119"},"variableNames":[{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"33831:21:119"}]},{"nodeType":"YulAssignment","src":"33890:51:119","value":{"arguments":[{"arguments":[{"name":"interactionPtr","nodeType":"YulIdentifier","src":"33919:14:119"},{"kind":"number","nodeType":"YulLiteral","src":"33935:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"33915:3:119"},"nodeType":"YulFunctionCall","src":"33915:25:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"33909:5:119"},"nodeType":"YulFunctionCall","src":"33909:32:119"},"variableNames":[{"name":"totalInputValue","nodeType":"YulIdentifier","src":"33890:15:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":72959,"isOffset":false,"isSlot":false,"src":"33688:17:119","valueSize":1},{"declaration":72971,"isOffset":false,"isSlot":false,"src":"33831:21:119","valueSize":1},{"declaration":72029,"isOffset":false,"isSlot":true,"src":"33732:28:119","suffix":"slot","valueSize":1},{"declaration":72974,"isOffset":false,"isSlot":false,"src":"33890:15:119","valueSize":1}],"id":72976,"nodeType":"InlineAssembly","src":"33652:299:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":72979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":72977,"name":"encodedBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72971,"src":"33964:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":72978,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"33989:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"33964:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":72984,"nodeType":"IfStatement","src":"33960:90:119","trueBody":{"id":72983,"nodeType":"Block","src":"33992:58:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":72980,"name":"INVALID_BRIDGE_CALL_DATA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71620,"src":"34013:24:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":72981,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"34013:26:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":72982,"nodeType":"RevertStatement","src":"34006:33:119"}]}},{"assignments":[72987],"declarations":[{"constant":false,"id":72987,"mutability":"mutable","name":"fullBridgeCallData","nameLocation":"34085:18:119","nodeType":"VariableDeclaration","scope":73172,"src":"34059:44:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"},"typeName":{"id":72986,"nodeType":"UserDefinedTypeName","pathNode":{"id":72985,"name":"FullBridgeCallData","nodeType":"IdentifierPath","referencedDeclaration":71841,"src":"34059:18:119"},"referencedDeclaration":71841,"src":"34059:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_storage_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"}},"visibility":"internal"}],"id":72991,"initialValue":{"arguments":[{"id":72989,"name":"encodedBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72971,"src":"34128:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":72988,"name":"getFullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74151,"src":"34106:21:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_struct$_FullBridgeCallData_$71841_memory_ptr_$","typeString":"function (uint256) view returns (struct RollupProcessorV2.FullBridgeCallData memory)"}},"id":72990,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"34106:44:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"nodeType":"VariableDeclarationStatement","src":"34059:91:119"},{"assignments":[72996,72999,73002,73005],"declarations":[{"constant":false,"id":72996,"mutability":"mutable","name":"inputAssetA","nameLocation":"34204:11:119","nodeType":"VariableDeclaration","scope":73172,"src":"34175:40:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":72995,"nodeType":"UserDefinedTypeName","pathNode":{"id":72994,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"34175:21:119"},"referencedDeclaration":66577,"src":"34175:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":72999,"mutability":"mutable","name":"inputAssetB","nameLocation":"34258:11:119","nodeType":"VariableDeclaration","scope":73172,"src":"34229:40:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":72998,"nodeType":"UserDefinedTypeName","pathNode":{"id":72997,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"34229:21:119"},"referencedDeclaration":66577,"src":"34229:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":73002,"mutability":"mutable","name":"outputAssetA","nameLocation":"34312:12:119","nodeType":"VariableDeclaration","scope":73172,"src":"34283:41:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":73001,"nodeType":"UserDefinedTypeName","pathNode":{"id":73000,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"34283:21:119"},"referencedDeclaration":66577,"src":"34283:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":73005,"mutability":"mutable","name":"outputAssetB","nameLocation":"34367:12:119","nodeType":"VariableDeclaration","scope":73172,"src":"34338:41:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":73004,"nodeType":"UserDefinedTypeName","pathNode":{"id":73003,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"34338:21:119"},"referencedDeclaration":66577,"src":"34338:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"}],"id":73010,"initialValue":{"arguments":[{"id":73007,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72987,"src":"34411:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},{"id":73008,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72959,"src":"34431:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73006,"name":"getAztecAssetTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74485,"src":"34392:18:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_FullBridgeCallData_$71841_memory_ptr_$_t_uint256_$returns$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$","typeString":"function (struct RollupProcessorV2.FullBridgeCallData memory,uint256) view returns (struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory)"}},"id":73009,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"34392:57:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$","typeString":"tuple(struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory)"}},"nodeType":"VariableDeclarationStatement","src":"34161:288:119"},{"assignments":[73013],"declarations":[{"constant":false,"id":73013,"mutability":"mutable","name":"bridgeContract","nameLocation":"34541:14:119","nodeType":"VariableDeclaration","scope":73172,"src":"34529:26:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"},"typeName":{"id":73012,"nodeType":"UserDefinedTypeName","pathNode":{"id":73011,"name":"IDefiBridge","nodeType":"IdentifierPath","referencedDeclaration":68360,"src":"34529:11:119"},"referencedDeclaration":68360,"src":"34529:11:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}},"visibility":"internal"}],"id":73014,"nodeType":"VariableDeclarationStatement","src":"34529:26:119"},{"AST":{"nodeType":"YulBlock","src":"34574:325:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"34595:4:119","type":"","value":"0x00"},{"name":"supportedBridges.slot","nodeType":"YulIdentifier","src":"34601:21:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"34588:6:119"},"nodeType":"YulFunctionCall","src":"34588:35:119"},"nodeType":"YulExpressionStatement","src":"34588:35:119"},{"nodeType":"YulVariableDeclaration","src":"34636:39:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"34664:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"34670:4:119","type":"","value":"0x20"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"34654:9:119"},"nodeType":"YulFunctionCall","src":"34654:21:119"},"variables":[{"name":"bridgeSlot","nodeType":"YulTypedName","src":"34640:10:119","type":""}]},{"nodeType":"YulAssignment","src":"34689:56:119","value":{"arguments":[{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"34711:21:119"},{"kind":"number","nodeType":"YulLiteral","src":"34734:10:119","type":"","value":"0xffffffff"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"34707:3:119"},"nodeType":"YulFunctionCall","src":"34707:38:119"},"variableNames":[{"name":"bridgeContract","nodeType":"YulIdentifier","src":"34689:14:119"}]},{"nodeType":"YulAssignment","src":"34758:67:119","value":{"arguments":[{"arguments":[{"name":"bridgeSlot","nodeType":"YulIdentifier","src":"34786:10:119"},{"arguments":[{"name":"bridgeContract","nodeType":"YulIdentifier","src":"34802:14:119"},{"kind":"number","nodeType":"YulLiteral","src":"34818:4:119","type":"","value":"0x01"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"34798:3:119"},"nodeType":"YulFunctionCall","src":"34798:25:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"34782:3:119"},"nodeType":"YulFunctionCall","src":"34782:42:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"34776:5:119"},"nodeType":"YulFunctionCall","src":"34776:49:119"},"variableNames":[{"name":"bridgeContract","nodeType":"YulIdentifier","src":"34758:14:119"}]},{"nodeType":"YulAssignment","src":"34838:51:119","value":{"arguments":[{"name":"bridgeContract","nodeType":"YulIdentifier","src":"34860:14:119"},{"name":"ADDRESS_MASK","nodeType":"YulIdentifier","src":"34876:12:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"34856:3:119"},"nodeType":"YulFunctionCall","src":"34856:33:119"},"variableNames":[{"name":"bridgeContract","nodeType":"YulIdentifier","src":"34838:14:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":67698,"isOffset":false,"isSlot":false,"src":"34876:12:119","valueSize":1},{"declaration":73013,"isOffset":false,"isSlot":false,"src":"34689:14:119","valueSize":1},{"declaration":73013,"isOffset":false,"isSlot":false,"src":"34758:14:119","valueSize":1},{"declaration":73013,"isOffset":false,"isSlot":false,"src":"34802:14:119","valueSize":1},{"declaration":73013,"isOffset":false,"isSlot":false,"src":"34838:14:119","valueSize":1},{"declaration":73013,"isOffset":false,"isSlot":false,"src":"34860:14:119","valueSize":1},{"declaration":72971,"isOffset":false,"isSlot":false,"src":"34711:21:119","valueSize":1},{"declaration":71990,"isOffset":false,"isSlot":true,"src":"34601:21:119","suffix":"slot","valueSize":1}],"id":73015,"nodeType":"InlineAssembly","src":"34565:334:119"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":73024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":73018,"name":"bridgeContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73013,"src":"34920:14:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}],"id":73017,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"34912:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73016,"name":"address","nodeType":"ElementaryTypeName","src":"34912:7:119","typeDescriptions":{}}},"id":73019,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"34912:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":73022,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"34947:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":73021,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"34939:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73020,"name":"address","nodeType":"ElementaryTypeName","src":"34939:7:119","typeDescriptions":{}}},"id":73023,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"34939:10:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"34912:37:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73029,"nodeType":"IfStatement","src":"34908:99:119","trueBody":{"id":73028,"nodeType":"Block","src":"34951:56:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73025,"name":"INVALID_BRIDGE_ADDRESS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71622,"src":"34972:22:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73026,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"34972:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73027,"nodeType":"RevertStatement","src":"34965:31:119"}]}},{"expression":{"id":73035,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":73030,"name":"pendingDefiInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72029,"src":"35303:23:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PendingDefiBridgeInteraction_$71846_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.PendingDefiBridgeInteraction storage ref)"}},"id":73032,"indexExpression":{"id":73031,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72959,"src":"35327:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"35303:42:119","typeDescriptions":{"typeIdentifier":"t_struct$_PendingDefiBridgeInteraction_$71846_storage","typeString":"struct RollupProcessorV2.PendingDefiBridgeInteraction storage ref"}},"id":73033,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"encodedBridgeCallData","nodeType":"MemberAccess","referencedDeclaration":71843,"src":"35303:64:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":73034,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"35370:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"35303:68:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73036,"nodeType":"ExpressionStatement","src":"35303:68:119"},{"assignments":[73039],"declarations":[{"constant":false,"id":73039,"mutability":"mutable","name":"inputs","nameLocation":"35492:6:119","nodeType":"VariableDeclaration","scope":73172,"src":"35467:31:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs"},"typeName":{"id":73038,"nodeType":"UserDefinedTypeName","pathNode":{"id":73037,"name":"InteractionInputs","nodeType":"IdentifierPath","referencedDeclaration":71862,"src":"35467:17:119"},"referencedDeclaration":71862,"src":"35467:17:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_storage_ptr","typeString":"struct RollupProcessorV2.InteractionInputs"}},"visibility":"internal"}],"id":73049,"initialValue":{"arguments":[{"id":73041,"name":"totalInputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72974,"src":"35531:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73042,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72959,"src":"35548:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"arguments":[{"expression":{"id":73045,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72987,"src":"35574:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":73046,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"auxData","nodeType":"MemberAccess","referencedDeclaration":71826,"src":"35574:26:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73044,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"35567:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint64_$","typeString":"type(uint64)"},"typeName":{"id":73043,"name":"uint64","nodeType":"ElementaryTypeName","src":"35567:6:119","typeDescriptions":{}}},"id":73047,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"35567:34:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":73040,"name":"InteractionInputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71862,"src":"35513:17:119","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_InteractionInputs_$71862_storage_ptr_$","typeString":"type(struct RollupProcessorV2.InteractionInputs storage pointer)"}},"id":73048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"35513:89:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"nodeType":"VariableDeclarationStatement","src":"35467:135:119"},{"assignments":[73051,73053,73055],"declarations":[{"constant":false,"id":73051,"mutability":"mutable","name":"outputValueA","nameLocation":"35621:12:119","nodeType":"VariableDeclaration","scope":73172,"src":"35613:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73050,"name":"uint256","nodeType":"ElementaryTypeName","src":"35613:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73053,"mutability":"mutable","name":"outputValueB","nameLocation":"35643:12:119","nodeType":"VariableDeclaration","scope":73172,"src":"35635:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73052,"name":"uint256","nodeType":"ElementaryTypeName","src":"35635:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73055,"mutability":"mutable","name":"interactionCompleted","nameLocation":"35662:20:119","nodeType":"VariableDeclaration","scope":73172,"src":"35657:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73054,"name":"bool","nodeType":"ElementaryTypeName","src":"35657:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":73067,"initialValue":{"arguments":[{"id":73058,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72996,"src":"35723:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"id":73059,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72999,"src":"35736:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"id":73060,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73002,"src":"35749:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"id":73061,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73005,"src":"35763:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"expression":{"id":73062,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"35777:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73063,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"35777:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73064,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"35802:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73065,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"auxData","nodeType":"MemberAccess","referencedDeclaration":71861,"src":"35802:14:119","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint64","typeString":"uint64"}],"expression":{"id":73056,"name":"bridgeContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73013,"src":"35686:14:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}},"id":73057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"finalise","nodeType":"MemberAccess","referencedDeclaration":68359,"src":"35686:23:119","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_uint256_$_t_uint64_$returns$_t_uint256_$_t_uint256_$_t_bool_$","typeString":"function (struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,uint256,uint64) payable external returns (uint256,uint256,bool)"}},"id":73066,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"35686:140:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$_t_bool_$","typeString":"tuple(uint256,uint256,bool)"}},"nodeType":"VariableDeclarationStatement","src":"35612:214:119"},{"condition":{"id":73069,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"35841:21:119","subExpression":{"id":73068,"name":"interactionCompleted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73055,"src":"35842:20:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73081,"nodeType":"IfStatement","src":"35837:172:119","trueBody":{"id":73080,"nodeType":"Block","src":"35864:145:119","statements":[{"expression":{"id":73076,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":73070,"name":"pendingDefiInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72029,"src":"35878:23:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_PendingDefiBridgeInteraction_$71846_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.PendingDefiBridgeInteraction storage ref)"}},"id":73073,"indexExpression":{"expression":{"id":73071,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"35902:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73072,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"35902:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"35878:48:119","typeDescriptions":{"typeIdentifier":"t_struct$_PendingDefiBridgeInteraction_$71846_storage","typeString":"struct RollupProcessorV2.PendingDefiBridgeInteraction storage ref"}},"id":73074,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"encodedBridgeCallData","nodeType":"MemberAccess","referencedDeclaration":71843,"src":"35878:70:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":73075,"name":"encodedBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72971,"src":"35951:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"35878:94:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73077,"nodeType":"ExpressionStatement","src":"35878:94:119"},{"expression":{"hexValue":"66616c7365","id":73078,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"35993:5:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"functionReturnParameters":72969,"id":73079,"nodeType":"Return","src":"35986:12:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":73091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73084,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73082,"name":"outputValueB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73053,"src":"36023:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":73083,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"36038:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"36023:16:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"},"id":73090,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73085,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73005,"src":"36043:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":73086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"36043:22:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":73087,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"36069:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":73088,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"36069:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":73089,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"NOT_USED","nodeType":"MemberAccess","referencedDeclaration":66565,"src":"36069:34:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"36043:60:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"36023:80:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73097,"nodeType":"IfStatement","src":"36019:170:119","trueBody":{"id":73096,"nodeType":"Block","src":"36105:84:119","statements":[{"errorCall":{"arguments":[{"id":73093,"name":"outputValueB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73053,"src":"36165:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73092,"name":"NONZERO_OUTPUT_VALUE_ON_NOT_USED_ASSET","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71652,"src":"36126:38:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$__$","typeString":"function (uint256) pure"}},"id":73094,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36126:52:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73095,"nodeType":"RevertStatement","src":"36119:59:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":73104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73098,"name":"outputValueA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73051,"src":"36203:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73099,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"36219:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"36203:17:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73101,"name":"outputValueB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73053,"src":"36224:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73102,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"36240:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"36224:17:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"36203:38:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73152,"nodeType":"Block","src":"36529:290:119","statements":[{"expression":{"arguments":[{"arguments":[{"id":73133,"name":"bridgeContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73013,"src":"36628:14:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}],"id":73132,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"36620:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73131,"name":"address","nodeType":"ElementaryTypeName","src":"36620:7:119","typeDescriptions":{}}},"id":73134,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36620:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73135,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73002,"src":"36645:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"id":73136,"name":"outputValueA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73051,"src":"36659:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73137,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"36673:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73138,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"36673:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73130,"name":"transferTokensAsync","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73690,"src":"36600:19:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,struct AztecTypes.AztecAsset memory,uint256,uint256)"}},"id":73139,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36600:97:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73140,"nodeType":"ExpressionStatement","src":"36600:97:119"},{"expression":{"arguments":[{"arguments":[{"id":73144,"name":"bridgeContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73013,"src":"36739:14:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}],"id":73143,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"36731:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73142,"name":"address","nodeType":"ElementaryTypeName","src":"36731:7:119","typeDescriptions":{}}},"id":73145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36731:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73146,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73005,"src":"36756:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"id":73147,"name":"outputValueB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73053,"src":"36770:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73148,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"36784:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73149,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"36784:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73141,"name":"transferTokensAsync","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73690,"src":"36711:19:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,struct AztecTypes.AztecAsset memory,uint256,uint256)"}},"id":73150,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36711:97:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73151,"nodeType":"ExpressionStatement","src":"36711:97:119"}]},"id":73153,"nodeType":"IfStatement","src":"36199:620:119","trueBody":{"id":73129,"nodeType":"Block","src":"36243:280:119","statements":[{"expression":{"arguments":[{"arguments":[{"id":73108,"name":"bridgeContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73013,"src":"36314:14:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}],"id":73107,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"36306:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73106,"name":"address","nodeType":"ElementaryTypeName","src":"36306:7:119","typeDescriptions":{}}},"id":73109,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36306:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73110,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72996,"src":"36331:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"expression":{"id":73111,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"36344:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73112,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"totalInputValue","nodeType":"MemberAccess","referencedDeclaration":71857,"src":"36344:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73113,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"36368:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73114,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"36368:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73105,"name":"transferTokensAsync","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73690,"src":"36286:19:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,struct AztecTypes.AztecAsset memory,uint256,uint256)"}},"id":73115,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36286:106:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73116,"nodeType":"ExpressionStatement","src":"36286:106:119"},{"expression":{"arguments":[{"arguments":[{"id":73120,"name":"bridgeContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73013,"src":"36434:14:119","typeDescriptions":{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IDefiBridge_$68360","typeString":"contract IDefiBridge"}],"id":73119,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"36426:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73118,"name":"address","nodeType":"ElementaryTypeName","src":"36426:7:119","typeDescriptions":{}}},"id":73121,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36426:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73122,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72999,"src":"36451:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},{"expression":{"id":73123,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"36464:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73124,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"totalInputValue","nodeType":"MemberAccess","referencedDeclaration":71857,"src":"36464:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73125,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"36488:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73126,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"36488:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73117,"name":"transferTokensAsync","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73690,"src":"36406:19:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,struct AztecTypes.AztecAsset memory,uint256,uint256)"}},"id":73127,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"36406:106:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73128,"nodeType":"ExpressionStatement","src":"36406:106:119"}]}},{"assignments":[73155],"declarations":[{"constant":false,"id":73155,"mutability":"mutable","name":"result","nameLocation":"36927:6:119","nodeType":"VariableDeclaration","scope":73172,"src":"36922:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73154,"name":"bool","nodeType":"ElementaryTypeName","src":"36922:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":73156,"nodeType":"VariableDeclarationStatement","src":"36922:11:119"},{"AST":{"nodeType":"YulBlock","src":"36952:2125:119","statements":[{"nodeType":"YulVariableDeclaration","src":"37037:31:119","value":{"arguments":[{"name":"inputs","nodeType":"YulIdentifier","src":"37061:6:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"37055:5:119"},"nodeType":"YulFunctionCall","src":"37055:13:119"},"variables":[{"name":"inputValue","nodeType":"YulTypedName","src":"37041:10:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"37081:37:119","value":{"arguments":[{"arguments":[{"name":"inputs","nodeType":"YulIdentifier","src":"37104:6:119"},{"kind":"number","nodeType":"YulLiteral","src":"37112:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"37100:3:119"},"nodeType":"YulFunctionCall","src":"37100:17:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"37094:5:119"},"nodeType":"YulFunctionCall","src":"37094:24:119"},"variables":[{"name":"nonce","nodeType":"YulTypedName","src":"37085:5:119","type":""}]},{"nodeType":"YulAssignment","src":"37131:63:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"outputValueA","nodeType":"YulIdentifier","src":"37155:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"37169:1:119","type":"","value":"0"}],"functionName":{"name":"eq","nodeType":"YulIdentifier","src":"37152:2:119"},"nodeType":"YulFunctionCall","src":"37152:19:119"},{"arguments":[{"name":"outputValueB","nodeType":"YulIdentifier","src":"37176:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"37190:1:119","type":"","value":"0"}],"functionName":{"name":"eq","nodeType":"YulIdentifier","src":"37173:2:119"},"nodeType":"YulFunctionCall","src":"37173:19:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"37148:3:119"},"nodeType":"YulFunctionCall","src":"37148:45:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"37141:6:119"},"nodeType":"YulFunctionCall","src":"37141:53:119"},"variableNames":[{"name":"result","nodeType":"YulIdentifier","src":"37131:6:119"}]},{"nodeType":"YulVariableDeclaration","src":"37253:23:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"37271:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"37265:5:119"},"nodeType":"YulFunctionCall","src":"37265:11:119"},"variables":[{"name":"mPtr","nodeType":"YulTypedName","src":"37257:4:119","type":""}]},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"37296:4:119"},{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"37302:21:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"37289:6:119"},"nodeType":"YulFunctionCall","src":"37289:35:119"},"nodeType":"YulExpressionStatement","src":"37289:35:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"37348:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"37354:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"37344:3:119"},"nodeType":"YulFunctionCall","src":"37344:15:119"},{"name":"nonce","nodeType":"YulIdentifier","src":"37361:5:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"37337:6:119"},"nodeType":"YulFunctionCall","src":"37337:30:119"},"nodeType":"YulExpressionStatement","src":"37337:30:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"37391:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"37397:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"37387:3:119"},"nodeType":"YulFunctionCall","src":"37387:15:119"},{"name":"inputValue","nodeType":"YulIdentifier","src":"37404:10:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"37380:6:119"},"nodeType":"YulFunctionCall","src":"37380:35:119"},"nodeType":"YulExpressionStatement","src":"37380:35:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"37439:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"37445:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"37435:3:119"},"nodeType":"YulFunctionCall","src":"37435:15:119"},{"name":"outputValueA","nodeType":"YulIdentifier","src":"37452:12:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"37428:6:119"},"nodeType":"YulFunctionCall","src":"37428:37:119"},"nodeType":"YulExpressionStatement","src":"37428:37:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"37489:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"37495:4:119","type":"","value":"0x80"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"37485:3:119"},"nodeType":"YulFunctionCall","src":"37485:15:119"},{"name":"outputValueB","nodeType":"YulIdentifier","src":"37502:12:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"37478:6:119"},"nodeType":"YulFunctionCall","src":"37478:37:119"},"nodeType":"YulExpressionStatement","src":"37478:37:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"37539:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"37545:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"37535:3:119"},"nodeType":"YulFunctionCall","src":"37535:15:119"},{"name":"result","nodeType":"YulIdentifier","src":"37552:6:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"37528:6:119"},"nodeType":"YulFunctionCall","src":"37528:31:119"},"nodeType":"YulExpressionStatement","src":"37528:31:119"},{"expression":{"arguments":[{"arguments":[{"arguments":[],"functionName":{"name":"gas","nodeType":"YulIdentifier","src":"37587:3:119"},"nodeType":"YulFunctionCall","src":"37587:5:119"},{"kind":"number","nodeType":"YulLiteral","src":"37594:3:119","type":"","value":"0x2"},{"name":"mPtr","nodeType":"YulIdentifier","src":"37599:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"37605:4:119","type":"","value":"0xc0"},{"kind":"number","nodeType":"YulLiteral","src":"37611:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"37617:4:119","type":"","value":"0x20"}],"functionName":{"name":"staticcall","nodeType":"YulIdentifier","src":"37576:10:119"},"nodeType":"YulFunctionCall","src":"37576:46:119"}],"functionName":{"name":"pop","nodeType":"YulIdentifier","src":"37572:3:119"},"nodeType":"YulFunctionCall","src":"37572:51:119"},"nodeType":"YulExpressionStatement","src":"37572:51:119"},{"nodeType":"YulVariableDeclaration","src":"37636:60:119","value":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"37673:4:119","type":"","value":"0x00"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"37667:5:119"},"nodeType":"YulFunctionCall","src":"37667:11:119"},{"name":"CIRCUIT_MODULUS","nodeType":"YulIdentifier","src":"37680:15:119"}],"functionName":{"name":"mod","nodeType":"YulIdentifier","src":"37663:3:119"},"nodeType":"YulFunctionCall","src":"37663:33:119"},"variables":[{"name":"defiInteractionHash","nodeType":"YulTypedName","src":"37640:19:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"37777:36:119","value":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"37796:16:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"37790:5:119"},"nodeType":"YulFunctionCall","src":"37790:23:119"},"variables":[{"name":"state","nodeType":"YulTypedName","src":"37781:5:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"37899:94:119","value":{"arguments":[{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"37924:17:119"},{"arguments":[{"name":"ASYNCDEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"37947:37:119"},{"name":"state","nodeType":"YulIdentifier","src":"37986:5:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"37943:3:119"},"nodeType":"YulFunctionCall","src":"37943:49:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"37920:3:119"},"nodeType":"YulFunctionCall","src":"37920:73:119"},"variables":[{"name":"asyncArrayLen","nodeType":"YulTypedName","src":"37903:13:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"38073:88:119","value":{"arguments":[{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"38097:17:119"},{"arguments":[{"name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"38120:32:119"},{"name":"state","nodeType":"YulIdentifier","src":"38154:5:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"38116:3:119"},"nodeType":"YulFunctionCall","src":"38116:44:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"38093:3:119"},"nodeType":"YulFunctionCall","src":"38093:68:119"},"variables":[{"name":"defiArrayLen","nodeType":"YulTypedName","src":"38077:12:119","type":""}]},{"body":{"nodeType":"YulBlock","src":"38399:97:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"38424:1:119","type":"","value":"0"},{"name":"ARRAY_OVERFLOW_SELECTOR","nodeType":"YulIdentifier","src":"38427:23:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"38417:6:119"},"nodeType":"YulFunctionCall","src":"38417:34:119"},"nodeType":"YulExpressionStatement","src":"38417:34:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"38475:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"38478:3:119","type":"","value":"0x4"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"38468:6:119"},"nodeType":"YulFunctionCall","src":"38468:14:119"},"nodeType":"YulExpressionStatement","src":"38468:14:119"}]},"condition":{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"38360:1:119","type":"","value":"1"},{"name":"asyncArrayLen","nodeType":"YulIdentifier","src":"38363:13:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"38356:3:119"},"nodeType":"YulFunctionCall","src":"38356:21:119"},{"name":"defiArrayLen","nodeType":"YulIdentifier","src":"38379:12:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"38352:3:119"},"nodeType":"YulFunctionCall","src":"38352:40:119"},{"kind":"number","nodeType":"YulLiteral","src":"38394:3:119","type":"","value":"512"}],"functionName":{"name":"gt","nodeType":"YulIdentifier","src":"38349:2:119"},"nodeType":"YulFunctionCall","src":"38349:49:119"},"nodeType":"YulIf","src":"38346:150:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"38596:4:119","type":"","value":"0x00"},{"name":"asyncArrayLen","nodeType":"YulIdentifier","src":"38602:13:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"38589:6:119"},"nodeType":"YulFunctionCall","src":"38589:27:119"},"nodeType":"YulExpressionStatement","src":"38589:27:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"38636:4:119","type":"","value":"0x20"},{"name":"asyncDefiInteractionHashes.slot","nodeType":"YulIdentifier","src":"38642:31:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"38629:6:119"},"nodeType":"YulFunctionCall","src":"38629:45:119"},"nodeType":"YulExpressionStatement","src":"38629:45:119"},{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"38704:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"38710:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"38694:9:119"},"nodeType":"YulFunctionCall","src":"38694:21:119"},{"name":"defiInteractionHash","nodeType":"YulIdentifier","src":"38717:19:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"38687:6:119"},"nodeType":"YulFunctionCall","src":"38687:50:119"},"nodeType":"YulExpressionStatement","src":"38687:50:119"},{"nodeType":"YulVariableDeclaration","src":"38814:94:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"ASYNCDEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"38842:37:119"},{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"38881:17:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"38838:3:119"},"nodeType":"YulFunctionCall","src":"38838:61:119"}],"functionName":{"name":"not","nodeType":"YulIdentifier","src":"38834:3:119"},"nodeType":"YulFunctionCall","src":"38834:66:119"},{"name":"state","nodeType":"YulIdentifier","src":"38902:5:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"38830:3:119"},"nodeType":"YulFunctionCall","src":"38830:78:119"},"variables":[{"name":"oldState","nodeType":"YulTypedName","src":"38818:8:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"38921:98:119","value":{"arguments":[{"name":"oldState","nodeType":"YulIdentifier","src":"38940:8:119"},{"arguments":[{"name":"ASYNCDEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"38954:37:119"},{"arguments":[{"name":"asyncArrayLen","nodeType":"YulIdentifier","src":"38997:13:119"},{"kind":"number","nodeType":"YulLiteral","src":"39012:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"38993:3:119"},"nodeType":"YulFunctionCall","src":"38993:24:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"38950:3:119"},"nodeType":"YulFunctionCall","src":"38950:68:119"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"38937:2:119"},"nodeType":"YulFunctionCall","src":"38937:82:119"},"variables":[{"name":"newState","nodeType":"YulTypedName","src":"38925:8:119","type":""}]},{"expression":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"39040:16:119"},{"name":"newState","nodeType":"YulIdentifier","src":"39058:8:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"39033:6:119"},"nodeType":"YulFunctionCall","src":"39033:34:119"},"nodeType":"YulExpressionStatement","src":"39033:34:119"}]},"evmVersion":"london","externalReferences":[{"declaration":71951,"isOffset":false,"isSlot":false,"src":"37924:17:119","valueSize":1},{"declaration":71951,"isOffset":false,"isSlot":false,"src":"38097:17:119","valueSize":1},{"declaration":71951,"isOffset":false,"isSlot":false,"src":"38881:17:119","valueSize":1},{"declaration":71882,"isOffset":false,"isSlot":false,"src":"38427:23:119","valueSize":1},{"declaration":71945,"isOffset":false,"isSlot":false,"src":"37947:37:119","valueSize":1},{"declaration":71945,"isOffset":false,"isSlot":false,"src":"38842:37:119","valueSize":1},{"declaration":71945,"isOffset":false,"isSlot":false,"src":"38954:37:119","valueSize":1},{"declaration":67674,"isOffset":false,"isSlot":false,"src":"37680:15:119","valueSize":1},{"declaration":71948,"isOffset":false,"isSlot":false,"src":"38120:32:119","valueSize":1},{"declaration":71994,"isOffset":false,"isSlot":true,"src":"38642:31:119","suffix":"slot","valueSize":1},{"declaration":72971,"isOffset":false,"isSlot":false,"src":"37302:21:119","valueSize":1},{"declaration":73039,"isOffset":false,"isSlot":false,"src":"37061:6:119","valueSize":1},{"declaration":73039,"isOffset":false,"isSlot":false,"src":"37104:6:119","valueSize":1},{"declaration":73051,"isOffset":false,"isSlot":false,"src":"37155:12:119","valueSize":1},{"declaration":73051,"isOffset":false,"isSlot":false,"src":"37452:12:119","valueSize":1},{"declaration":73053,"isOffset":false,"isSlot":false,"src":"37176:12:119","valueSize":1},{"declaration":73053,"isOffset":false,"isSlot":false,"src":"37502:12:119","valueSize":1},{"declaration":73155,"isOffset":false,"isSlot":false,"src":"37131:6:119","valueSize":1},{"declaration":73155,"isOffset":false,"isSlot":false,"src":"37552:6:119","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"37796:16:119","suffix":"slot","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"39040:16:119","suffix":"slot","valueSize":1}],"id":73157,"nodeType":"InlineAssembly","src":"36943:2134:119"},{"eventCall":{"arguments":[{"id":73159,"name":"encodedBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72971,"src":"39124:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73160,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"39159:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73161,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"interactionNonce","nodeType":"MemberAccess","referencedDeclaration":71859,"src":"39159:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":73162,"name":"inputs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73039,"src":"39196:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_InteractionInputs_$71862_memory_ptr","typeString":"struct RollupProcessorV2.InteractionInputs memory"}},"id":73163,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"totalInputValue","nodeType":"MemberAccess","referencedDeclaration":71857,"src":"39196:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73164,"name":"outputValueA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73051,"src":"39232:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73165,"name":"outputValueB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73053,"src":"39258:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73166,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73155,"src":"39284:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"","id":73167,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"39304:2:119","typeDescriptions":{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""},"value":""}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","typeString":"literal_string \\"\\""}],"id":73158,"name":"DefiBridgeProcessed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71717,"src":"39091:19:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_uint256_$_t_bool_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (uint256,uint256,uint256,uint256,uint256,bool,bytes memory)"}},"id":73168,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"39091:229:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73169,"nodeType":"EmitStatement","src":"39086:234:119"},{"expression":{"hexValue":"74727565","id":73170,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"39338:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":72969,"id":73171,"nodeType":"Return","src":"39331:11:119"}]},"baseFunctions":[66438],"documentation":{"id":72957,"nodeType":"StructuredDocumentation","src":"33186:188:119","text":" @notice A function which process async bridge interaction\\n @param _interactionNonce unique id of the interaction\\n @return true if successful, false otherwise"},"functionSelector":"8188f468","implemented":true,"kind":"function","modifiers":[{"id":72964,"kind":"modifierInvocation","modifierName":{"id":72963,"name":"whenNotPaused","nodeType":"IdentifierPath","referencedDeclaration":72085,"src":"33503:13:119"},"nodeType":"ModifierInvocation","src":"33503:13:119"},{"id":72966,"kind":"modifierInvocation","modifierName":{"id":72965,"name":"noReenterButAsync","nodeType":"IdentifierPath","referencedDeclaration":72198,"src":"33525:17:119"},"nodeType":"ModifierInvocation","src":"33525:17:119"}],"name":"processAsyncDefiInteraction","nameLocation":"33388:27:119","overrides":{"id":72962,"nodeType":"OverrideSpecifier","overrides":[{"id":72961,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"33477:16:119"}],"src":"33468:26:119"},"parameters":{"id":72960,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72959,"mutability":"mutable","name":"_interactionNonce","nameLocation":"33424:17:119","nodeType":"VariableDeclaration","scope":73173,"src":"33416:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":72958,"name":"uint256","nodeType":"ElementaryTypeName","src":"33416:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"33415:27:119"},"returnParameters":{"id":72969,"nodeType":"ParameterList","parameters":[{"constant":false,"id":72968,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73173,"src":"33560:4:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":72967,"name":"bool","nodeType":"ElementaryTypeName","src":"33560:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"33559:6:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":73333,"nodeType":"FunctionDefinition","src":"39898:1446:119","nodes":[],"body":{"id":73332,"nodeType":"Block","src":"40055:1289:119","nodes":[],"statements":[{"assignments":[73187],"declarations":[{"constant":false,"id":73187,"mutability":"mutable","name":"pending","nameLocation":"40073:7:119","nodeType":"VariableDeclaration","scope":73332,"src":"40065:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73186,"name":"uint256","nodeType":"ElementaryTypeName","src":"40065:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73193,"initialValue":{"baseExpression":{"baseExpression":{"id":73188,"name":"userPendingDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72004,"src":"40083:19:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":73190,"indexExpression":{"id":73189,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73176,"src":"40103:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"40083:29:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":73192,"indexExpression":{"id":73191,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73178,"src":"40113:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"40083:37:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"40065:55:119"},{"condition":{"expression":{"id":73194,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"40135:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73195,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"capped","nodeType":"MemberAccess","referencedDeclaration":71811,"src":"40135:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73321,"nodeType":"IfStatement","src":"40131:1139:119","trueBody":{"id":73320,"nodeType":"Block","src":"40155:1115:119","statements":[{"assignments":[73198],"declarations":[{"constant":false,"id":73198,"mutability":"mutable","name":"cap","nameLocation":"40185:3:119","nodeType":"VariableDeclaration","scope":73320,"src":"40169:19:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap"},"typeName":{"id":73197,"nodeType":"UserDefinedTypeName","pathNode":{"id":73196,"name":"AssetCap","nodeType":"IdentifierPath","referencedDeclaration":71873,"src":"40169:8:119"},"referencedDeclaration":71873,"src":"40169:8:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage_ptr","typeString":"struct RollupProcessorV2.AssetCap"}},"visibility":"internal"}],"id":73202,"initialValue":{"baseExpression":{"id":73199,"name":"caps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72054,"src":"40191:4:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap storage ref)"}},"id":73201,"indexExpression":{"id":73200,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73176,"src":"40196:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"40191:14:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"nodeType":"VariableDeclarationStatement","src":"40169:36:119"},{"assignments":[73204],"declarations":[{"constant":false,"id":73204,"mutability":"mutable","name":"precision","nameLocation":"40227:9:119","nodeType":"VariableDeclaration","scope":73320,"src":"40219:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73203,"name":"uint256","nodeType":"ElementaryTypeName","src":"40219:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73209,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73208,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":73205,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"40239:2:119","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"expression":{"id":73206,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40245:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73207,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"precision","nodeType":"MemberAccess","referencedDeclaration":71872,"src":"40245:13:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"40239:19:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"40219:39:119"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":73225,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73210,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40277:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73211,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"pendingCap","nodeType":"MemberAccess","referencedDeclaration":71868,"src":"40277:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73212,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"40295:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"40277:19:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73224,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73214,"name":"pending","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73187,"src":"40300:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":73215,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73180,"src":"40310:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"40300:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73223,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":73219,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40328:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73220,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"pendingCap","nodeType":"MemberAccess","referencedDeclaration":71868,"src":"40328:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":73218,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"40320:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":73217,"name":"uint256","nodeType":"ElementaryTypeName","src":"40320:7:119","typeDescriptions":{}}},"id":73221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40320:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":73222,"name":"precision","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73204,"src":"40346:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"40320:35:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"40300:55:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"40277:78:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73230,"nodeType":"IfStatement","src":"40273:147:119","trueBody":{"id":73229,"nodeType":"Block","src":"40357:63:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73226,"name":"PENDING_CAP_SURPASSED","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71680,"src":"40382:21:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73227,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40382:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73228,"nodeType":"RevertStatement","src":"40375:30:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73234,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73231,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40438:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73232,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"dailyCap","nodeType":"MemberAccess","referencedDeclaration":71870,"src":"40438:12:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73233,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"40454:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"40438:17:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73318,"nodeType":"Block","src":"40524:736:119","statements":[{"assignments":[73240],"declarations":[{"constant":false,"id":73240,"mutability":"mutable","name":"capVal","nameLocation":"40619:6:119","nodeType":"VariableDeclaration","scope":73318,"src":"40611:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73239,"name":"uint256","nodeType":"ElementaryTypeName","src":"40611:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73248,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":73243,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40636:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73244,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"dailyCap","nodeType":"MemberAccess","referencedDeclaration":71870,"src":"40636:12:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":73242,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"40628:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":73241,"name":"uint256","nodeType":"ElementaryTypeName","src":"40628:7:119","typeDescriptions":{}}},"id":73245,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40628:21:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":73246,"name":"precision","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73204,"src":"40652:9:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"40628:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"40611:50:119"},{"assignments":[73250],"declarations":[{"constant":false,"id":73250,"mutability":"mutable","name":"rate","nameLocation":"40687:4:119","nodeType":"VariableDeclaration","scope":73318,"src":"40679:12:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73249,"name":"uint256","nodeType":"ElementaryTypeName","src":"40679:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73254,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73253,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73251,"name":"capVal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73240,"src":"40694:6:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"31","id":73252,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"40703:6:119","subdenomination":"days","typeDescriptions":{"typeIdentifier":"t_rational_86400_by_1","typeString":"int_const 86400"},"value":"1"},"src":"40694:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"40679:30:119"},{"expression":{"id":73269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":73255,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40727:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73257,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"available","nodeType":"MemberAccess","referencedDeclaration":71864,"src":"40727:13:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73265,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73258,"name":"rate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73250,"src":"40745:4:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73259,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"40753:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":73260,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"40753:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":73261,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40771:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73262,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"lastUpdatedTimestamp","nodeType":"MemberAccess","referencedDeclaration":71866,"src":"40771:24:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"40753:42:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":73264,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"40752:44:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"40745:51:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":73266,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"40744:53:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73267,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toU128","nodeType":"MemberAccess","referencedDeclaration":68455,"src":"40744:60:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$bound_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":73268,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40744:62:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"40727:79:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":73270,"nodeType":"ExpressionStatement","src":"40727:79:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73271,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40828:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73272,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"available","nodeType":"MemberAccess","referencedDeclaration":71864,"src":"40828:13:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":73273,"name":"capVal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73240,"src":"40844:6:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"40828:22:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73284,"nodeType":"IfStatement","src":"40824:100:119","trueBody":{"id":73283,"nodeType":"Block","src":"40852:72:119","statements":[{"expression":{"id":73281,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":73275,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40874:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"available","nodeType":"MemberAccess","referencedDeclaration":71864,"src":"40874:13:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":73278,"name":"capVal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73240,"src":"40890:6:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toU128","nodeType":"MemberAccess","referencedDeclaration":68455,"src":"40890:13:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$bound_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":73280,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40890:15:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"40874:31:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":73282,"nodeType":"ExpressionStatement","src":"40874:31:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73288,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73285,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73180,"src":"40945:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"expression":{"id":73286,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"40955:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73287,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"available","nodeType":"MemberAccess","referencedDeclaration":71864,"src":"40955:13:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"40945:23:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73293,"nodeType":"IfStatement","src":"40941:98:119","trueBody":{"id":73292,"nodeType":"Block","src":"40970:69:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73289,"name":"DAILY_CAP_SURPASSED","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71682,"src":"40999:19:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73290,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40999:21:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73291,"nodeType":"RevertStatement","src":"40992:28:119"}]}},{"expression":{"id":73300,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":73294,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"41106:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73296,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"available","nodeType":"MemberAccess","referencedDeclaration":71864,"src":"41106:13:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":73297,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73180,"src":"41123:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73298,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toU128","nodeType":"MemberAccess","referencedDeclaration":68455,"src":"41123:14:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint128_$bound_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint128)"}},"id":73299,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"41123:16:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"41106:33:119","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":73301,"nodeType":"ExpressionStatement","src":"41106:33:119"},{"expression":{"id":73310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":73302,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"41157:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"id":73304,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"lastUpdatedTimestamp","nodeType":"MemberAccess","referencedDeclaration":71866,"src":"41157:24:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":73307,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"41191:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":73308,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"41191:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73306,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"41184:6:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":73305,"name":"uint32","nodeType":"ElementaryTypeName","src":"41184:6:119","typeDescriptions":{}}},"id":73309,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"41184:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"41157:50:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":73311,"nodeType":"ExpressionStatement","src":"41157:50:119"},{"expression":{"id":73316,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":73312,"name":"caps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72054,"src":"41225:4:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_AssetCap_$71873_storage_$","typeString":"mapping(uint256 => struct RollupProcessorV2.AssetCap storage ref)"}},"id":73314,"indexExpression":{"id":73313,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73176,"src":"41230:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"41225:14:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":73315,"name":"cap","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73198,"src":"41242:3:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_memory_ptr","typeString":"struct RollupProcessorV2.AssetCap memory"}},"src":"41225:20:119","typeDescriptions":{"typeIdentifier":"t_struct$_AssetCap_$71873_storage","typeString":"struct RollupProcessorV2.AssetCap storage ref"}},"id":73317,"nodeType":"ExpressionStatement","src":"41225:20:119"}]},"id":73319,"nodeType":"IfStatement","src":"40434:826:119","trueBody":{"id":73238,"nodeType":"Block","src":"40457:61:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73235,"name":"DAILY_CAP_SURPASSED","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71682,"src":"40482:19:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73236,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"40482:21:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73237,"nodeType":"RevertStatement","src":"40475:28:119"}]}}]}},{"expression":{"id":73330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"baseExpression":{"id":73322,"name":"userPendingDeposits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72004,"src":"41280:19:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_mapping$_t_address_$_t_uint256_$_$","typeString":"mapping(uint256 => mapping(address => uint256))"}},"id":73325,"indexExpression":{"id":73323,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73176,"src":"41300:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"41280:29:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_uint256_$","typeString":"mapping(address => uint256)"}},"id":73326,"indexExpression":{"id":73324,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73178,"src":"41310:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"41280:37:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73327,"name":"pending","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73187,"src":"41320:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":73328,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73180,"src":"41330:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"41320:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"41280:57:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73331,"nodeType":"ExpressionStatement","src":"41280:57:119"}]},"documentation":{"id":73174,"nodeType":"StructuredDocumentation","src":"39495:398:119","text":" @notice A function which increasees pending deposit amount in the `userPendingDeposits` mapping\\n @dev Implemented in assembly in order to reduce compiled bytecode size and improve gas costs\\n @param _assetId asset ID which was assigned during asset registration\\n @param _owner address that can spend the deposited funds\\n @param _amount deposit token amount"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":73183,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73176,"src":"40041:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":73184,"kind":"modifierInvocation","modifierName":{"id":73182,"name":"validateAssetIdIsNotVirtual","nodeType":"IdentifierPath","referencedDeclaration":72213,"src":"40013:27:119"},"nodeType":"ModifierInvocation","src":"40013:37:119"}],"name":"increasePendingDepositBalance","nameLocation":"39907:29:119","parameters":{"id":73181,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73176,"mutability":"mutable","name":"_assetId","nameLocation":"39945:8:119","nodeType":"VariableDeclaration","scope":73333,"src":"39937:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73175,"name":"uint256","nodeType":"ElementaryTypeName","src":"39937:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73178,"mutability":"mutable","name":"_owner","nameLocation":"39963:6:119","nodeType":"VariableDeclaration","scope":73333,"src":"39955:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73177,"name":"address","nodeType":"ElementaryTypeName","src":"39955:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":73180,"mutability":"mutable","name":"_amount","nameLocation":"39979:7:119","nodeType":"VariableDeclaration","scope":73333,"src":"39971:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73179,"name":"uint256","nodeType":"ElementaryTypeName","src":"39971:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"39936:51:119"},"returnParameters":{"id":73185,"nodeType":"ParameterList","parameters":[],"src":"40055:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73358,"nodeType":"FunctionDefinition","src":"41766:885:119","nodes":[],"body":{"id":73357,"nodeType":"Block","src":"41923:728:119","nodes":[],"statements":[{"assignments":[73347],"declarations":[{"constant":false,"id":73347,"mutability":"mutable","name":"insufficientDeposit","nameLocation":"41938:19:119","nodeType":"VariableDeclaration","scope":73357,"src":"41933:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73346,"name":"bool","nodeType":"ElementaryTypeName","src":"41933:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":73349,"initialValue":{"hexValue":"66616c7365","id":73348,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"41960:5:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"nodeType":"VariableDeclarationStatement","src":"41933:32:119"},{"AST":{"nodeType":"YulBlock","src":"41984:572:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"42079:4:119","type":"","value":"0x00"},{"name":"_assetId","nodeType":"YulIdentifier","src":"42085:8:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"42072:6:119"},"nodeType":"YulFunctionCall","src":"42072:22:119"},"nodeType":"YulExpressionStatement","src":"42072:22:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"42114:4:119","type":"","value":"0x20"},{"name":"userPendingDeposits.slot","nodeType":"YulIdentifier","src":"42120:24:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"42107:6:119"},"nodeType":"YulFunctionCall","src":"42107:38:119"},"nodeType":"YulExpressionStatement","src":"42107:38:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"42165:4:119","type":"","value":"0x20"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"42181:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"42187:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"42171:9:119"},"nodeType":"YulFunctionCall","src":"42171:21:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"42158:6:119"},"nodeType":"YulFunctionCall","src":"42158:35:119"},"nodeType":"YulExpressionStatement","src":"42158:35:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"42213:4:119","type":"","value":"0x00"},{"name":"_owner","nodeType":"YulIdentifier","src":"42219:6:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"42206:6:119"},"nodeType":"YulFunctionCall","src":"42206:20:119"},"nodeType":"YulExpressionStatement","src":"42206:20:119"},{"nodeType":"YulVariableDeclaration","src":"42239:51:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"42279:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"42285:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"42269:9:119"},"nodeType":"YulFunctionCall","src":"42269:21:119"},"variables":[{"name":"userPendingDepositSlot","nodeType":"YulTypedName","src":"42243:22:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"42303:55:119","value":{"arguments":[{"name":"userPendingDepositSlot","nodeType":"YulIdentifier","src":"42335:22:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"42329:5:119"},"nodeType":"YulFunctionCall","src":"42329:29:119"},"variables":[{"name":"userPendingDeposit","nodeType":"YulTypedName","src":"42307:18:119","type":""}]},{"nodeType":"YulAssignment","src":"42372:54:119","value":{"arguments":[{"name":"userPendingDeposit","nodeType":"YulIdentifier","src":"42398:18:119"},{"name":"_amount","nodeType":"YulIdentifier","src":"42418:7:119"}],"functionName":{"name":"lt","nodeType":"YulIdentifier","src":"42395:2:119"},"nodeType":"YulFunctionCall","src":"42395:31:119"},"variableNames":[{"name":"insufficientDeposit","nodeType":"YulIdentifier","src":"42372:19:119"}]},{"nodeType":"YulVariableDeclaration","src":"42440:50:119","value":{"arguments":[{"name":"userPendingDeposit","nodeType":"YulIdentifier","src":"42462:18:119"},{"name":"_amount","nodeType":"YulIdentifier","src":"42482:7:119"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"42458:3:119"},"nodeType":"YulFunctionCall","src":"42458:32:119"},"variables":[{"name":"newDeposit","nodeType":"YulTypedName","src":"42444:10:119","type":""}]},{"expression":{"arguments":[{"name":"userPendingDepositSlot","nodeType":"YulIdentifier","src":"42511:22:119"},{"name":"newDeposit","nodeType":"YulIdentifier","src":"42535:10:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"42504:6:119"},"nodeType":"YulFunctionCall","src":"42504:42:119"},"nodeType":"YulExpressionStatement","src":"42504:42:119"}]},"evmVersion":"london","externalReferences":[{"declaration":73340,"isOffset":false,"isSlot":false,"src":"42418:7:119","valueSize":1},{"declaration":73340,"isOffset":false,"isSlot":false,"src":"42482:7:119","valueSize":1},{"declaration":73336,"isOffset":false,"isSlot":false,"src":"42085:8:119","valueSize":1},{"declaration":73338,"isOffset":false,"isSlot":false,"src":"42219:6:119","valueSize":1},{"declaration":73347,"isOffset":false,"isSlot":false,"src":"42372:19:119","valueSize":1},{"declaration":72004,"isOffset":false,"isSlot":true,"src":"42120:24:119","suffix":"slot","valueSize":1}],"id":73350,"nodeType":"InlineAssembly","src":"41975:581:119"},{"condition":{"id":73351,"name":"insufficientDeposit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73347,"src":"42570:19:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73356,"nodeType":"IfStatement","src":"42566:79:119","trueBody":{"id":73355,"nodeType":"Block","src":"42591:54:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73352,"name":"INSUFFICIENT_DEPOSIT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71608,"src":"42612:20:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73353,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"42612:22:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73354,"nodeType":"RevertStatement","src":"42605:29:119"}]}}]},"documentation":{"id":73334,"nodeType":"StructuredDocumentation","src":"41350:411:119","text":" @notice A function which decreases pending deposit amount in the `userPendingDeposits` mapping\\n @dev Implemented in assembly in order to reduce compiled bytecode size and improve gas costs\\n @param _assetId asset ID which was assigned during asset registration\\n @param _owner address that owns the pending deposit\\n @param _amount amount of tokens to decrease pending by"},"implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":73343,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73336,"src":"41909:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":73344,"kind":"modifierInvocation","modifierName":{"id":73342,"name":"validateAssetIdIsNotVirtual","nodeType":"IdentifierPath","referencedDeclaration":72213,"src":"41881:27:119"},"nodeType":"ModifierInvocation","src":"41881:37:119"}],"name":"decreasePendingDepositBalance","nameLocation":"41775:29:119","parameters":{"id":73341,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73336,"mutability":"mutable","name":"_assetId","nameLocation":"41813:8:119","nodeType":"VariableDeclaration","scope":73358,"src":"41805:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73335,"name":"uint256","nodeType":"ElementaryTypeName","src":"41805:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73338,"mutability":"mutable","name":"_owner","nameLocation":"41831:6:119","nodeType":"VariableDeclaration","scope":73358,"src":"41823:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73337,"name":"address","nodeType":"ElementaryTypeName","src":"41823:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":73340,"mutability":"mutable","name":"_amount","nameLocation":"41847:7:119","nodeType":"VariableDeclaration","scope":73358,"src":"41839:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73339,"name":"uint256","nodeType":"ElementaryTypeName","src":"41839:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"41804:51:119"},"returnParameters":{"id":73345,"nodeType":"ParameterList","parameters":[],"src":"41923:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73403,"nodeType":"FunctionDefinition","src":"43407:533:119","nodes":[],"body":{"id":73402,"nodeType":"Block","src":"43613:327:119","nodes":[],"statements":[{"assignments":[73373],"declarations":[{"constant":false,"id":73373,"mutability":"mutable","name":"rollupId","nameLocation":"43631:8:119","nodeType":"VariableDeclaration","scope":73402,"src":"43623:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73372,"name":"uint256","nodeType":"ElementaryTypeName","src":"43623:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73378,"initialValue":{"arguments":[{"id":73375,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73361,"src":"43668:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":73376,"name":"_publicInputsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73367,"src":"43680:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73374,"name":"verifyProofAndUpdateState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73421,"src":"43642:25:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes memory,uint256) returns (uint256)"}},"id":73377,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"43642:56:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"43623:75:119"},{"expression":{"arguments":[{"id":73380,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73361,"src":"43738:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":73381,"name":"_numTxs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73365,"src":"43750:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73382,"name":"_signatures","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73363,"src":"43759:11:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":73379,"name":"processDepositsAndWithdrawals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73621,"src":"43708:29:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (bytes memory,uint256,bytes memory)"}},"id":73383,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"43708:63:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73384,"nodeType":"ExpressionStatement","src":"43708:63:119"},{"assignments":[73389],"declarations":[{"constant":false,"id":73389,"mutability":"mutable","name":"nextDefiHashes","nameLocation":"43798:14:119","nodeType":"VariableDeclaration","scope":73402,"src":"43781:31:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":73387,"name":"bytes32","nodeType":"ElementaryTypeName","src":"43781:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":73388,"nodeType":"ArrayTypeName","src":"43781:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"id":73394,"initialValue":{"arguments":[{"id":73391,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73361,"src":"43834:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":73392,"name":"_rollupBeneficiary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73369,"src":"43846:18:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"}],"id":73390,"name":"processBridgeCalls","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74676,"src":"43815:18:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_address_$returns$_t_array$_t_bytes32_$dyn_memory_ptr_$","typeString":"function (bytes memory,address) returns (bytes32[] memory)"}},"id":73393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"43815:50:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"nodeType":"VariableDeclarationStatement","src":"43781:84:119"},{"eventCall":{"arguments":[{"id":73396,"name":"rollupId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73373,"src":"43896:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73397,"name":"nextDefiHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73389,"src":"43906:14:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},{"expression":{"id":73398,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"43922:3:119","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":73399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"43922:10:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"},{"typeIdentifier":"t_address","typeString":"address"}],"id":73395,"name":"RollupProcessed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71701,"src":"43880:15:119","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_address_$returns$__$","typeString":"function (uint256,bytes32[] memory,address)"}},"id":73400,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"43880:53:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73401,"nodeType":"EmitStatement","src":"43875:58:119"}]},"documentation":{"id":73359,"nodeType":"StructuredDocumentation","src":"42657:745:119","text":" @notice A function that processes a rollup proof\\n @dev Processing a rollup proof consists of:\\n          1) Verifying the proof\'s correctness,\\n          2) using the provided proof data to update rollup state + merkle roots,\\n          3) validate/enacting any deposits/withdrawals,\\n          4) processing bridge calls.\\n @param _proofData decoded rollup proof data\\n @param _signatures ECDSA signatures from users authorizing deposit transactions\\n @param _numTxs the number of transactions in the block\\n @param _publicInputsHash the SHA256 hash of the proof\'s public inputs\\n @param _rollupBeneficiary The address to be paid any subsidy for bridge calls and rollup fees"},"implemented":true,"kind":"function","modifiers":[],"name":"processRollupProof","nameLocation":"43416:18:119","parameters":{"id":73370,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73361,"mutability":"mutable","name":"_proofData","nameLocation":"43457:10:119","nodeType":"VariableDeclaration","scope":73403,"src":"43444:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73360,"name":"bytes","nodeType":"ElementaryTypeName","src":"43444:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":73363,"mutability":"mutable","name":"_signatures","nameLocation":"43490:11:119","nodeType":"VariableDeclaration","scope":73403,"src":"43477:24:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73362,"name":"bytes","nodeType":"ElementaryTypeName","src":"43477:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":73365,"mutability":"mutable","name":"_numTxs","nameLocation":"43519:7:119","nodeType":"VariableDeclaration","scope":73403,"src":"43511:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73364,"name":"uint256","nodeType":"ElementaryTypeName","src":"43511:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73367,"mutability":"mutable","name":"_publicInputsHash","nameLocation":"43544:17:119","nodeType":"VariableDeclaration","scope":73403,"src":"43536:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73366,"name":"uint256","nodeType":"ElementaryTypeName","src":"43536:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73369,"mutability":"mutable","name":"_rollupBeneficiary","nameLocation":"43579:18:119","nodeType":"VariableDeclaration","scope":73403,"src":"43571:26:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73368,"name":"address","nodeType":"ElementaryTypeName","src":"43571:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"43434:169:119"},"returnParameters":{"id":73371,"nodeType":"ParameterList","parameters":[],"src":"43613:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73421,"nodeType":"FunctionDefinition","src":"44365:5158:119","nodes":[],"body":{"id":73420,"nodeType":"Block","src":"44508:5015:119","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"44695:4718:119","statements":[{"nodeType":"YulVariableDeclaration","src":"46652:142:119","value":{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"46734:4:119","type":"","value":"0x04"}],"functionName":{"name":"calldataload","nodeType":"YulIdentifier","src":"46721:12:119"},"nodeType":"YulFunctionCall","src":"46721:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"46741:4:119","type":"","value":"0x24"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"46717:3:119"},"nodeType":"YulFunctionCall","src":"46717:29:119"},{"arguments":[{"name":"ROLLUP_HEADER_LENGTH","nodeType":"YulIdentifier","src":"46752:20:119"},{"kind":"number","nodeType":"YulLiteral","src":"46774:4:119","type":"","value":"0x18"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"46748:3:119"},"nodeType":"YulFunctionCall","src":"46748:31:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"46713:3:119"},"nodeType":"YulFunctionCall","src":"46713:67:119"}],"functionName":{"name":"calldataload","nodeType":"YulIdentifier","src":"46700:12:119"},"nodeType":"YulFunctionCall","src":"46700:81:119"},{"kind":"number","nodeType":"YulLiteral","src":"46783:10:119","type":"","value":"0xffffffff"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"46696:3:119"},"nodeType":"YulFunctionCall","src":"46696:98:119"},"variables":[{"name":"encodedInnerDataSize","nodeType":"YulTypedName","src":"46656:20:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"46987:82:119","value":{"arguments":[{"arguments":[{"name":"ROLLUP_HEADER_LENGTH","nodeType":"YulIdentifier","src":"47022:20:119"},{"kind":"number","nodeType":"YulLiteral","src":"47044:1:119","type":"","value":"8"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"47018:3:119"},"nodeType":"YulFunctionCall","src":"47018:28:119"},{"name":"encodedInnerDataSize","nodeType":"YulIdentifier","src":"47048:20:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"47014:3:119"},"nodeType":"YulFunctionCall","src":"47014:55:119"},"variables":[{"name":"broadcastedDataSize","nodeType":"YulTypedName","src":"46991:19:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"47207:92:119","value":{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"47264:4:119","type":"","value":"0x04"}],"functionName":{"name":"calldataload","nodeType":"YulIdentifier","src":"47251:12:119"},"nodeType":"YulFunctionCall","src":"47251:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"47271:4:119","type":"","value":"0x04"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"47247:3:119"},"nodeType":"YulFunctionCall","src":"47247:29:119"}],"functionName":{"name":"calldataload","nodeType":"YulIdentifier","src":"47234:12:119"},"nodeType":"YulFunctionCall","src":"47234:43:119"},{"name":"broadcastedDataSize","nodeType":"YulIdentifier","src":"47279:19:119"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"47230:3:119"},"nodeType":"YulFunctionCall","src":"47230:69:119"},"variables":[{"name":"zkProofDataSize","nodeType":"YulTypedName","src":"47211:15:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"47524:77:119","value":{"arguments":[{"name":"broadcastedDataSize","nodeType":"YulIdentifier","src":"47550:19:119"},{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"47588:4:119","type":"","value":"0x04"}],"functionName":{"name":"calldataload","nodeType":"YulIdentifier","src":"47575:12:119"},"nodeType":"YulFunctionCall","src":"47575:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"47595:4:119","type":"","value":"0x24"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"47571:3:119"},"nodeType":"YulFunctionCall","src":"47571:29:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"47546:3:119"},"nodeType":"YulFunctionCall","src":"47546:55:119"},"variables":[{"name":"zkProofDataPtr","nodeType":"YulTypedName","src":"47528:14:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"47767:26:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"47788:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"47782:5:119"},"nodeType":"YulFunctionCall","src":"47782:11:119"},"variables":[{"name":"dataPtr","nodeType":"YulTypedName","src":"47771:7:119","type":""}]},{"expression":{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48196:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48205:4:119","type":"","value":"0xac"}],"functionName":{"name":"mstore8","nodeType":"YulIdentifier","src":"48188:7:119"},"nodeType":"YulFunctionCall","src":"48188:22:119"},"nodeType":"YulExpressionStatement","src":"48188:22:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48235:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48244:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48231:3:119"},"nodeType":"YulFunctionCall","src":"48231:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"48251:4:119","type":"","value":"0x31"}],"functionName":{"name":"mstore8","nodeType":"YulIdentifier","src":"48223:7:119"},"nodeType":"YulFunctionCall","src":"48223:33:119"},"nodeType":"YulExpressionStatement","src":"48223:33:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48281:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48290:4:119","type":"","value":"0x02"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48277:3:119"},"nodeType":"YulFunctionCall","src":"48277:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"48297:4:119","type":"","value":"0x8c"}],"functionName":{"name":"mstore8","nodeType":"YulIdentifier","src":"48269:7:119"},"nodeType":"YulFunctionCall","src":"48269:33:119"},"nodeType":"YulExpressionStatement","src":"48269:33:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48327:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48336:4:119","type":"","value":"0x03"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48323:3:119"},"nodeType":"YulFunctionCall","src":"48323:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"48343:4:119","type":"","value":"0x5d"}],"functionName":{"name":"mstore8","nodeType":"YulIdentifier","src":"48315:7:119"},"nodeType":"YulFunctionCall","src":"48315:33:119"},"nodeType":"YulExpressionStatement","src":"48315:33:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48372:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48381:4:119","type":"","value":"0x04"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48368:3:119"},"nodeType":"YulFunctionCall","src":"48368:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"48388:4:119","type":"","value":"0x40"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"48361:6:119"},"nodeType":"YulFunctionCall","src":"48361:32:119"},"nodeType":"YulExpressionStatement","src":"48361:32:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48417:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48426:4:119","type":"","value":"0x24"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48413:3:119"},"nodeType":"YulFunctionCall","src":"48413:18:119"},{"name":"_publicInputsHash","nodeType":"YulIdentifier","src":"48433:17:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"48406:6:119"},"nodeType":"YulFunctionCall","src":"48406:45:119"},"nodeType":"YulExpressionStatement","src":"48406:45:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48475:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48484:4:119","type":"","value":"0x44"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48471:3:119"},"nodeType":"YulFunctionCall","src":"48471:18:119"},{"name":"zkProofDataSize","nodeType":"YulIdentifier","src":"48491:15:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"48464:6:119"},"nodeType":"YulFunctionCall","src":"48464:43:119"},"nodeType":"YulExpressionStatement","src":"48464:43:119"},{"expression":{"arguments":[{"arguments":[{"name":"dataPtr","nodeType":"YulIdentifier","src":"48574:7:119"},{"kind":"number","nodeType":"YulLiteral","src":"48583:4:119","type":"","value":"0x64"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"48570:3:119"},"nodeType":"YulFunctionCall","src":"48570:18:119"},{"name":"zkProofDataPtr","nodeType":"YulIdentifier","src":"48590:14:119"},{"name":"zkProofDataSize","nodeType":"YulIdentifier","src":"48606:15:119"}],"functionName":{"name":"calldatacopy","nodeType":"YulIdentifier","src":"48557:12:119"},"nodeType":"YulFunctionCall","src":"48557:65:119"},"nodeType":"YulExpressionStatement","src":"48557:65:119"},{"nodeType":"YulVariableDeclaration","src":"48866:65:119","value":{"arguments":[{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"48899:16:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"48893:5:119"},"nodeType":"YulFunctionCall","src":"48893:23:119"},{"name":"ADDRESS_MASK","nodeType":"YulIdentifier","src":"48918:12:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"48889:3:119"},"nodeType":"YulFunctionCall","src":"48889:42:119"},"variables":[{"name":"verifierAddress","nodeType":"YulTypedName","src":"48870:15:119","type":""}]},{"body":{"nodeType":"YulBlock","src":"48984:106:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"49009:1:119","type":"","value":"0"},{"name":"INVALID_ADDRESS_NO_CODE_SELECTOR","nodeType":"YulIdentifier","src":"49012:32:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"49002:6:119"},"nodeType":"YulFunctionCall","src":"49002:43:119"},"nodeType":"YulExpressionStatement","src":"49002:43:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"49069:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"49072:3:119","type":"","value":"0x4"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"49062:6:119"},"nodeType":"YulFunctionCall","src":"49062:14:119"},"nodeType":"YulExpressionStatement","src":"49062:14:119"}]},"condition":{"arguments":[{"arguments":[{"name":"verifierAddress","nodeType":"YulIdentifier","src":"48966:15:119"}],"functionName":{"name":"extcodesize","nodeType":"YulIdentifier","src":"48954:11:119"},"nodeType":"YulFunctionCall","src":"48954:28:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"48947:6:119"},"nodeType":"YulFunctionCall","src":"48947:36:119"},"nodeType":"YulIf","src":"48944:146:119"},{"nodeType":"YulVariableDeclaration","src":"49103:105:119","value":{"arguments":[{"arguments":[],"functionName":{"name":"gas","nodeType":"YulIdentifier","src":"49136:3:119"},"nodeType":"YulFunctionCall","src":"49136:5:119"},{"name":"verifierAddress","nodeType":"YulIdentifier","src":"49143:15:119"},{"name":"dataPtr","nodeType":"YulIdentifier","src":"49160:7:119"},{"arguments":[{"name":"zkProofDataSize","nodeType":"YulIdentifier","src":"49173:15:119"},{"kind":"number","nodeType":"YulLiteral","src":"49190:4:119","type":"","value":"0x64"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"49169:3:119"},"nodeType":"YulFunctionCall","src":"49169:26:119"},{"kind":"number","nodeType":"YulLiteral","src":"49197:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"49203:4:119","type":"","value":"0x00"}],"functionName":{"name":"staticcall","nodeType":"YulIdentifier","src":"49125:10:119"},"nodeType":"YulFunctionCall","src":"49125:83:119"},"variables":[{"name":"proof_verified","nodeType":"YulTypedName","src":"49107:14:119","type":""}]},{"body":{"nodeType":"YulBlock","src":"49289:114:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"49322:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"49325:1:119","type":"","value":"0"},{"arguments":[],"functionName":{"name":"returndatasize","nodeType":"YulIdentifier","src":"49328:14:119"},"nodeType":"YulFunctionCall","src":"49328:16:119"}],"functionName":{"name":"returndatacopy","nodeType":"YulIdentifier","src":"49307:14:119"},"nodeType":"YulFunctionCall","src":"49307:38:119"},"nodeType":"YulExpressionStatement","src":"49307:38:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"49369:1:119","type":"","value":"0"},{"arguments":[],"functionName":{"name":"returndatasize","nodeType":"YulIdentifier","src":"49372:14:119"},"nodeType":"YulFunctionCall","src":"49372:16:119"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"49362:6:119"},"nodeType":"YulFunctionCall","src":"49362:27:119"},"nodeType":"YulExpressionStatement","src":"49362:27:119"}]},"condition":{"arguments":[{"name":"proof_verified","nodeType":"YulIdentifier","src":"49273:14:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"49266:6:119"},"nodeType":"YulFunctionCall","src":"49266:22:119"},"nodeType":"YulIf","src":"49263:140:119"}]},"evmVersion":"london","externalReferences":[{"declaration":67698,"isOffset":false,"isSlot":false,"src":"48918:12:119","valueSize":1},{"declaration":71879,"isOffset":false,"isSlot":false,"src":"49012:32:119","valueSize":1},{"declaration":67656,"isOffset":false,"isSlot":false,"src":"46752:20:119","valueSize":1},{"declaration":67656,"isOffset":false,"isSlot":false,"src":"47022:20:119","valueSize":1},{"declaration":73408,"isOffset":false,"isSlot":false,"src":"48433:17:119","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"48899:16:119","suffix":"slot","valueSize":1}],"id":73413,"nodeType":"InlineAssembly","src":"44686:4727:119"},{"expression":{"id":73418,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":73414,"name":"rollupId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73411,"src":"49465:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":73416,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73406,"src":"49505:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":73415,"name":"validateAndUpdateMerkleRoots","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73513,"src":"49476:28:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (bytes memory) returns (uint256)"}},"id":73417,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"49476:40:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"49465:51:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73419,"nodeType":"ExpressionStatement","src":"49465:51:119"}]},"documentation":{"id":73404,"nodeType":"StructuredDocumentation","src":"43946:414:119","text":" @notice A function which verifies zk proof and updates the contract\'s state variables\\n @dev encodedProofData is read from calldata passed into the transaction and differs from `_proofData`\\n @param _proofData decoded rollup proof data\\n @param _publicInputsHash a hash of public inputs (computed by `Decoder.sol`)\\n @return rollupId id of the rollup which is being processed"},"implemented":true,"kind":"function","modifiers":[],"name":"verifyProofAndUpdateState","nameLocation":"44374:25:119","parameters":{"id":73409,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73406,"mutability":"mutable","name":"_proofData","nameLocation":"44413:10:119","nodeType":"VariableDeclaration","scope":73421,"src":"44400:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73405,"name":"bytes","nodeType":"ElementaryTypeName","src":"44400:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":73408,"mutability":"mutable","name":"_publicInputsHash","nameLocation":"44433:17:119","nodeType":"VariableDeclaration","scope":73421,"src":"44425:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73407,"name":"uint256","nodeType":"ElementaryTypeName","src":"44425:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"44399:52:119"},"returnParameters":{"id":73412,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73411,"mutability":"mutable","name":"rollupId","nameLocation":"44494:8:119","nodeType":"VariableDeclaration","scope":73421,"src":"44486:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73410,"name":"uint256","nodeType":"ElementaryTypeName","src":"44486:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"44485:18:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73513,"nodeType":"FunctionDefinition","src":"51604:1182:119","nodes":[],"body":{"id":73512,"nodeType":"Block","src":"51694:1092:119","nodes":[],"statements":[{"assignments":[73430,73432,73434,73436,73438],"declarations":[{"constant":false,"id":73430,"mutability":"mutable","name":"rollupId","nameLocation":"51713:8:119","nodeType":"VariableDeclaration","scope":73512,"src":"51705:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73429,"name":"uint256","nodeType":"ElementaryTypeName","src":"51705:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73432,"mutability":"mutable","name":"oldStateHash","nameLocation":"51731:12:119","nodeType":"VariableDeclaration","scope":73512,"src":"51723:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":73431,"name":"bytes32","nodeType":"ElementaryTypeName","src":"51723:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":73434,"mutability":"mutable","name":"newStateHash","nameLocation":"51753:12:119","nodeType":"VariableDeclaration","scope":73512,"src":"51745:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":73433,"name":"bytes32","nodeType":"ElementaryTypeName","src":"51745:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":73436,"mutability":"mutable","name":"numDataLeaves","nameLocation":"51774:13:119","nodeType":"VariableDeclaration","scope":73512,"src":"51767:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":73435,"name":"uint32","nodeType":"ElementaryTypeName","src":"51767:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":73438,"mutability":"mutable","name":"dataStartIndex","nameLocation":"51796:14:119","nodeType":"VariableDeclaration","scope":73512,"src":"51789:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":73437,"name":"uint32","nodeType":"ElementaryTypeName","src":"51789:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":73442,"initialValue":{"arguments":[{"id":73440,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73424,"src":"51844:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":73439,"name":"computeRootHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67987,"src":"51826:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$_t_bytes32_$_t_bytes32_$_t_uint32_$_t_uint32_$","typeString":"function (bytes memory) pure returns (uint256,bytes32,bytes32,uint32,uint32)"}},"id":73441,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"51826:29:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_bytes32_$_t_bytes32_$_t_uint32_$_t_uint32_$","typeString":"tuple(uint256,bytes32,bytes32,uint32,uint32)"}},"nodeType":"VariableDeclarationStatement","src":"51704:151:119"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":73445,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73443,"name":"oldStateHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73432,"src":"51870:12:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":73444,"name":"rollupStateHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72014,"src":"51886:15:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"51870:31:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73452,"nodeType":"IfStatement","src":"51866:117:119","trueBody":{"id":73451,"nodeType":"Block","src":"51903:80:119","statements":[{"errorCall":{"arguments":[{"id":73447,"name":"oldStateHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73432,"src":"51945:12:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":73448,"name":"newStateHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73434,"src":"51959:12:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":73446,"name":"INCORRECT_STATE_HASH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71658,"src":"51924:20:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (bytes32,bytes32) pure"}},"id":73449,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"51924:48:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73450,"nodeType":"RevertStatement","src":"51917:55:119"}]}},{"id":73509,"nodeType":"UncheckedBlock","src":"51993:762:119","statements":[{"assignments":[73454],"declarations":[{"constant":false,"id":73454,"mutability":"mutable","name":"storedDataSize","nameLocation":"52024:14:119","nodeType":"VariableDeclaration","scope":73509,"src":"52017:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":73453,"name":"uint32","nodeType":"ElementaryTypeName","src":"52017:6:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":73457,"initialValue":{"expression":{"id":73455,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"52041:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73456,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"datasize","nodeType":"MemberAccess","referencedDeclaration":71800,"src":"52041:20:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"52017:44:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73458,"name":"storedDataSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73454,"src":"52148:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":73459,"name":"numDataLeaves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73436,"src":"52165:13:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52148:30:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73461,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"52182:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"52148:35:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73495,"nodeType":"Block","src":"52367:266:119","statements":[{"assignments":[73475],"declarations":[{"constant":false,"id":73475,"mutability":"mutable","name":"expected","nameLocation":"52393:8:119","nodeType":"VariableDeclaration","scope":73495,"src":"52385:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73474,"name":"uint256","nodeType":"ElementaryTypeName","src":"52385:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73484,"initialValue":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73483,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73478,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73476,"name":"storedDataSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73454,"src":"52404:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":73477,"name":"numDataLeaves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73436,"src":"52421:13:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52404:30:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73481,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73479,"name":"storedDataSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73454,"src":"52438:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":73480,"name":"numDataLeaves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73436,"src":"52455:13:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52438:30:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"id":73482,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"52437:32:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52404:65:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"52385:84:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73487,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73485,"name":"dataStartIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73438,"src":"52491:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":73486,"name":"expected","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73475,"src":"52509:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"52491:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73494,"nodeType":"IfStatement","src":"52487:132:119","trueBody":{"id":73493,"nodeType":"Block","src":"52519:100:119","statements":[{"errorCall":{"arguments":[{"id":73489,"name":"dataStartIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73438,"src":"52575:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":73490,"name":"expected","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73475,"src":"52591:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73488,"name":"INCORRECT_DATA_START_INDEX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71664,"src":"52548:26:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) pure"}},"id":73491,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"52548:52:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73492,"nodeType":"RevertStatement","src":"52541:59:119"}]}}]},"id":73496,"nodeType":"IfStatement","src":"52144:489:119","trueBody":{"id":73473,"nodeType":"Block","src":"52185:176:119","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73465,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73463,"name":"dataStartIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73438,"src":"52207:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":73464,"name":"storedDataSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73454,"src":"52225:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52207:32:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73472,"nodeType":"IfStatement","src":"52203:144:119","trueBody":{"id":73471,"nodeType":"Block","src":"52241:106:119","statements":[{"errorCall":{"arguments":[{"id":73467,"name":"dataStartIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73438,"src":"52297:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":73468,"name":"storedDataSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73454,"src":"52313:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":73466,"name":"INCORRECT_DATA_START_INDEX","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71664,"src":"52270:26:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) pure"}},"id":73469,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"52270:58:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73470,"nodeType":"RevertStatement","src":"52263:65:119"}]}}]}},{"expression":{"id":73499,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":73497,"name":"rollupStateHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72014,"src":"52647:15:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":73498,"name":"newStateHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73434,"src":"52665:12:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"52647:30:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":73500,"nodeType":"ExpressionStatement","src":"52647:30:119"},{"expression":{"id":73507,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":73501,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"52691:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73503,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"datasize","nodeType":"MemberAccess","referencedDeclaration":71800,"src":"52691:20:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":73506,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73504,"name":"dataStartIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73438,"src":"52714:14:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":73505,"name":"numDataLeaves","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73436,"src":"52731:13:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52714:30:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"52691:53:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":73508,"nodeType":"ExpressionStatement","src":"52691:53:119"}]},{"expression":{"id":73510,"name":"rollupId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73430,"src":"52771:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":73428,"id":73511,"nodeType":"Return","src":"52764:15:119"}]},"documentation":{"id":73422,"nodeType":"StructuredDocumentation","src":"49529:2070:119","text":" @notice Extracts roots from public inputs and validate that they are inline with current contract `rollupState`\\n @param _proofData decoded rollup proof data\\n @return rollup id\\n @dev To make the circuits happy, we want to only insert at the next subtree. The subtrees that we are using are\\n      28 leafs in size. They could be smaller but we just want them to be of same size for circuit related\\n      reasons.\\n          When we have the case that the `storedDataSize % numDataLeaves == 0`, we are perfectly dividing. This\\n      means that the incoming rollup matches perfectly with a boundry of the next subtree.\\n          When this is not the case, we have to compute an offset that we then apply so that the full state can\\n      be built with a bunch of same-sized trees (when the rollup is not full we insert a tree with some zero\\n      leaves). This offset can be computed as `numDataLeaves - (storedDataSize % numDataLeaves)` and is,\\n      essentially, how big a \\"space\\" we should leave so that the currently inserted subtree ends exactly at\\n      the subtree boundry. The value is always >= 0. In the function below we wont hit the zero case, because\\n      that would be cought by the \\"if-branch\\".\\n      Example: We have just had 32 rollups of size 28 (`storedDataSize = 896`). Now there is a small rollup with\\n      only 6 transactions. We are not perfectly dividing, hence we compute the offset as `6 - 896 % 6 = 4`.\\n      The start index is `896 + 4 = 900`. With the added leaves, the stored data size now becomes `906`.\\n          Now, comes another full rollup (28 txs). We compute `906 % 28 = 10`. The value is non-zero which means\\n      that we dont perfectly divide and have to compute an offset `28 - 906 % 28 = 18`. The start index is\\n      `906 + 18 = 924`. Notice that `924 % 28 == 0`, so this will land us exactly at a location where everything\\n      in the past could have been subtrees of size 28."},"implemented":true,"kind":"function","modifiers":[],"name":"validateAndUpdateMerkleRoots","nameLocation":"51613:28:119","parameters":{"id":73425,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73424,"mutability":"mutable","name":"_proofData","nameLocation":"51655:10:119","nodeType":"VariableDeclaration","scope":73513,"src":"51642:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73423,"name":"bytes","nodeType":"ElementaryTypeName","src":"51642:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"51641:25:119"},"returnParameters":{"id":73428,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73427,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73513,"src":"51685:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73426,"name":"uint256","nodeType":"ElementaryTypeName","src":"51685:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"51684:9:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73621,"nodeType":"FunctionDefinition","src":"53094:4565:119","nodes":[],"body":{"id":73620,"nodeType":"Block","src":"53222:4437:119","nodes":[],"statements":[{"assignments":[73524],"declarations":[{"constant":false,"id":73524,"mutability":"mutable","name":"sigIndex","nameLocation":"53240:8:119","nodeType":"VariableDeclaration","scope":73620,"src":"53232:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73523,"name":"uint256","nodeType":"ElementaryTypeName","src":"53232:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73526,"initialValue":{"hexValue":"30783030","id":73525,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"53251:4:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x00"},"nodeType":"VariableDeclarationStatement","src":"53232:23:119"},{"assignments":[73528],"declarations":[{"constant":false,"id":73528,"mutability":"mutable","name":"proofDataPtr","nameLocation":"53273:12:119","nodeType":"VariableDeclaration","scope":73620,"src":"53265:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73527,"name":"uint256","nodeType":"ElementaryTypeName","src":"53265:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73529,"nodeType":"VariableDeclarationStatement","src":"53265:20:119"},{"assignments":[73531],"declarations":[{"constant":false,"id":73531,"mutability":"mutable","name":"end","nameLocation":"53303:3:119","nodeType":"VariableDeclaration","scope":73620,"src":"53295:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73530,"name":"uint256","nodeType":"ElementaryTypeName","src":"53295:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73532,"nodeType":"VariableDeclarationStatement","src":"53295:11:119"},{"AST":{"nodeType":"YulBlock","src":"53325:394:119","statements":[{"nodeType":"YulAssignment","src":"53474:64:119","value":{"arguments":[{"name":"ROLLUP_HEADER_LENGTH","nodeType":"YulIdentifier","src":"53494:20:119"},{"arguments":[{"name":"_proofData","nodeType":"YulIdentifier","src":"53520:10:119"},{"kind":"number","nodeType":"YulLiteral","src":"53532:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"53516:3:119"},"nodeType":"YulFunctionCall","src":"53516:21:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"53490:3:119"},"nodeType":"YulFunctionCall","src":"53490:48:119"},"variableNames":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"53474:12:119"}]},{"nodeType":"YulAssignment","src":"53647:62:119","value":{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"53658:12:119"},{"arguments":[{"name":"_numTxs","nodeType":"YulIdentifier","src":"53676:7:119"},{"name":"TX_PUBLIC_INPUT_LENGTH","nodeType":"YulIdentifier","src":"53685:22:119"}],"functionName":{"name":"mul","nodeType":"YulIdentifier","src":"53672:3:119"},"nodeType":"YulFunctionCall","src":"53672:36:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"53654:3:119"},"nodeType":"YulFunctionCall","src":"53654:55:119"},"variableNames":[{"name":"end","nodeType":"YulIdentifier","src":"53647:3:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":67656,"isOffset":false,"isSlot":false,"src":"53494:20:119","valueSize":1},{"declaration":67650,"isOffset":false,"isSlot":false,"src":"53685:22:119","valueSize":1},{"declaration":73518,"isOffset":false,"isSlot":false,"src":"53676:7:119","valueSize":1},{"declaration":73516,"isOffset":false,"isSlot":false,"src":"53520:10:119","valueSize":1},{"declaration":73531,"isOffset":false,"isSlot":false,"src":"53647:3:119","valueSize":1},{"declaration":73528,"isOffset":false,"isSlot":false,"src":"53474:12:119","valueSize":1},{"declaration":73528,"isOffset":false,"isSlot":false,"src":"53658:12:119","valueSize":1}],"id":73533,"nodeType":"InlineAssembly","src":"53316:403:119"},{"body":{"id":73618,"nodeType":"Block","src":"53878:3775:119","statements":[{"assignments":[73538],"declarations":[{"constant":false,"id":73538,"mutability":"mutable","name":"publicValue","nameLocation":"53999:11:119","nodeType":"VariableDeclaration","scope":73618,"src":"53991:19:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73537,"name":"uint256","nodeType":"ElementaryTypeName","src":"53991:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73539,"nodeType":"VariableDeclarationStatement","src":"53991:19:119"},{"AST":{"nodeType":"YulBlock","src":"54033:77:119","statements":[{"nodeType":"YulAssignment","src":"54051:45:119","value":{"arguments":[{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"54076:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"54090:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"54072:3:119"},"nodeType":"YulFunctionCall","src":"54072:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"54066:5:119"},"nodeType":"YulFunctionCall","src":"54066:30:119"},"variableNames":[{"name":"publicValue","nodeType":"YulIdentifier","src":"54051:11:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":73528,"isOffset":false,"isSlot":false,"src":"54076:12:119","valueSize":1},{"declaration":73538,"isOffset":false,"isSlot":false,"src":"54051:11:119","valueSize":1}],"id":73540,"nodeType":"InlineAssembly","src":"54024:86:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73543,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73541,"name":"publicValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73538,"src":"54127:11:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":73542,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"54141:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"54127:15:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73612,"nodeType":"IfStatement","src":"54123:3322:119","trueBody":{"id":73611,"nodeType":"Block","src":"54144:3301:119","statements":[{"assignments":[73545],"declarations":[{"constant":false,"id":73545,"mutability":"mutable","name":"proofId","nameLocation":"54170:7:119","nodeType":"VariableDeclaration","scope":73611,"src":"54162:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73544,"name":"uint256","nodeType":"ElementaryTypeName","src":"54162:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73546,"nodeType":"VariableDeclarationStatement","src":"54162:15:119"},{"assignments":[73548],"declarations":[{"constant":false,"id":73548,"mutability":"mutable","name":"assetId","nameLocation":"54203:7:119","nodeType":"VariableDeclaration","scope":73611,"src":"54195:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73547,"name":"uint256","nodeType":"ElementaryTypeName","src":"54195:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73549,"nodeType":"VariableDeclarationStatement","src":"54195:15:119"},{"assignments":[73551],"declarations":[{"constant":false,"id":73551,"mutability":"mutable","name":"publicOwner","nameLocation":"54236:11:119","nodeType":"VariableDeclaration","scope":73611,"src":"54228:19:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73550,"name":"address","nodeType":"ElementaryTypeName","src":"54228:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":73552,"nodeType":"VariableDeclarationStatement","src":"54228:19:119"},{"AST":{"nodeType":"YulBlock","src":"54274:198:119","statements":[{"nodeType":"YulAssignment","src":"54296:30:119","value":{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"54313:12:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"54307:5:119"},"nodeType":"YulFunctionCall","src":"54307:19:119"},"variableNames":[{"name":"proofId","nodeType":"YulIdentifier","src":"54296:7:119"}]},{"nodeType":"YulAssignment","src":"54347:41:119","value":{"arguments":[{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"54368:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"54382:4:119","type":"","value":"0xe0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"54364:3:119"},"nodeType":"YulFunctionCall","src":"54364:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"54358:5:119"},"nodeType":"YulFunctionCall","src":"54358:30:119"},"variableNames":[{"name":"assetId","nodeType":"YulIdentifier","src":"54347:7:119"}]},{"nodeType":"YulAssignment","src":"54409:45:119","value":{"arguments":[{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"54434:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"54448:4:119","type":"","value":"0xc0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"54430:3:119"},"nodeType":"YulFunctionCall","src":"54430:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"54424:5:119"},"nodeType":"YulFunctionCall","src":"54424:30:119"},"variableNames":[{"name":"publicOwner","nodeType":"YulIdentifier","src":"54409:11:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":73548,"isOffset":false,"isSlot":false,"src":"54347:7:119","valueSize":1},{"declaration":73528,"isOffset":false,"isSlot":false,"src":"54313:12:119","valueSize":1},{"declaration":73528,"isOffset":false,"isSlot":false,"src":"54368:12:119","valueSize":1},{"declaration":73528,"isOffset":false,"isSlot":false,"src":"54434:12:119","valueSize":1},{"declaration":73545,"isOffset":false,"isSlot":false,"src":"54296:7:119","valueSize":1},{"declaration":73551,"isOffset":false,"isSlot":false,"src":"54409:11:119","valueSize":1}],"id":73553,"nodeType":"InlineAssembly","src":"54265:207:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73554,"name":"proofId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73545,"src":"54494:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"31","id":73555,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"54505:1:119","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"54494:12:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73599,"nodeType":"IfStatement","src":"54490:2821:119","trueBody":{"id":73598,"nodeType":"Block","src":"54508:2803:119","statements":[{"assignments":[73558],"declarations":[{"constant":false,"id":73558,"mutability":"mutable","name":"digest","nameLocation":"54596:6:119","nodeType":"VariableDeclaration","scope":73598,"src":"54588:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":73557,"name":"bytes32","nodeType":"ElementaryTypeName","src":"54588:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":73559,"nodeType":"VariableDeclarationStatement","src":"54588:14:119"},{"AST":{"nodeType":"YulBlock","src":"54633:183:119","statements":[{"nodeType":"YulAssignment","src":"54737:57:119","value":{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"54757:12:119"},{"name":"TX_PUBLIC_INPUT_LENGTH","nodeType":"YulIdentifier","src":"54771:22:119"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"54747:9:119"},"nodeType":"YulFunctionCall","src":"54747:47:119"},"variableNames":[{"name":"digest","nodeType":"YulIdentifier","src":"54737:6:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":67650,"isOffset":false,"isSlot":false,"src":"54771:22:119","valueSize":1},{"declaration":73558,"isOffset":false,"isSlot":false,"src":"54737:6:119","valueSize":1},{"declaration":73528,"isOffset":false,"isSlot":false,"src":"54757:12:119","valueSize":1}],"id":73560,"nodeType":"InlineAssembly","src":"54624:192:119"},{"condition":{"id":73566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"55653:43:119","subExpression":{"baseExpression":{"baseExpression":{"id":73561,"name":"depositProofApprovals","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72010,"src":"55654:21:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_bytes32_$_t_bool_$_$","typeString":"mapping(address => mapping(bytes32 => bool))"}},"id":73563,"indexExpression":{"id":73562,"name":"publicOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73551,"src":"55676:11:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"55654:34:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":73565,"indexExpression":{"id":73564,"name":"digest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73558,"src":"55689:6:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"55654:42:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73591,"nodeType":"IfStatement","src":"55649:1558:119","trueBody":{"id":73590,"nodeType":"Block","src":"55698:1509:119","statements":[{"assignments":[73568],"declarations":[{"constant":false,"id":73568,"mutability":"mutable","name":"signature","nameLocation":"56148:9:119","nodeType":"VariableDeclaration","scope":73590,"src":"56135:22:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73567,"name":"bytes","nodeType":"ElementaryTypeName","src":"56135:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":73569,"nodeType":"VariableDeclarationStatement","src":"56135:22:119"},{"assignments":[73571],"declarations":[{"constant":false,"id":73571,"mutability":"mutable","name":"temp","nameLocation":"56191:4:119","nodeType":"VariableDeclaration","scope":73590,"src":"56183:12:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73570,"name":"uint256","nodeType":"ElementaryTypeName","src":"56183:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73572,"nodeType":"VariableDeclarationStatement","src":"56183:12:119"},{"AST":{"nodeType":"YulBlock","src":"56230:498:119","statements":[{"nodeType":"YulAssignment","src":"56383:39:119","value":{"arguments":[{"name":"_signatures","nodeType":"YulIdentifier","src":"56400:11:119"},{"name":"sigIndex","nodeType":"YulIdentifier","src":"56413:8:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"56396:3:119"},"nodeType":"YulFunctionCall","src":"56396:26:119"},"variableNames":[{"name":"signature","nodeType":"YulIdentifier","src":"56383:9:119"}]},{"nodeType":"YulAssignment","src":"56524:24:119","value":{"arguments":[{"name":"signature","nodeType":"YulIdentifier","src":"56538:9:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"56532:5:119"},"nodeType":"YulFunctionCall","src":"56532:16:119"},"variableNames":[{"name":"temp","nodeType":"YulIdentifier","src":"56524:4:119"}]},{"expression":{"arguments":[{"name":"signature","nodeType":"YulIdentifier","src":"56686:9:119"},{"kind":"number","nodeType":"YulLiteral","src":"56697:4:119","type":"","value":"0x60"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"56679:6:119"},"nodeType":"YulFunctionCall","src":"56679:23:119"},"nodeType":"YulExpressionStatement","src":"56679:23:119"}]},"evmVersion":"london","externalReferences":[{"declaration":73520,"isOffset":false,"isSlot":false,"src":"56400:11:119","valueSize":1},{"declaration":73524,"isOffset":false,"isSlot":false,"src":"56413:8:119","valueSize":1},{"declaration":73568,"isOffset":false,"isSlot":false,"src":"56383:9:119","valueSize":1},{"declaration":73568,"isOffset":false,"isSlot":false,"src":"56538:9:119","valueSize":1},{"declaration":73568,"isOffset":false,"isSlot":false,"src":"56686:9:119","valueSize":1},{"declaration":73571,"isOffset":false,"isSlot":false,"src":"56524:4:119","valueSize":1}],"id":73573,"nodeType":"InlineAssembly","src":"56221:507:119"},{"assignments":[73575],"declarations":[{"constant":false,"id":73575,"mutability":"mutable","name":"hashedMessage","nameLocation":"56762:13:119","nodeType":"VariableDeclaration","scope":73590,"src":"56754:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":73574,"name":"bytes32","nodeType":"ElementaryTypeName","src":"56754:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":73580,"initialValue":{"arguments":[{"id":73578,"name":"digest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73558,"src":"56825:6:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":73576,"name":"RollupProcessorLibrary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66974,"src":"56778:22:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_RollupProcessorLibrary_$66974_$","typeString":"type(library RollupProcessorLibrary)"}},"id":73577,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSignedMessageForTxId","nodeType":"MemberAccess","referencedDeclaration":66973,"src":"56778:46:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_bytes32_$","typeString":"function (bytes32) pure returns (bytes32)"}},"id":73579,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"56778:54:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"56754:78:119"},{"expression":{"arguments":[{"id":73584,"name":"hashedMessage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73575,"src":"56914:13:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":73585,"name":"signature","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73568,"src":"56929:9:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":73586,"name":"publicOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73551,"src":"56940:11:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":73581,"name":"RollupProcessorLibrary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66974,"src":"56859:22:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_RollupProcessorLibrary_$66974_$","typeString":"type(library RollupProcessorLibrary)"}},"id":73583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"validateShieldSignatureUnpacked","nodeType":"MemberAccess","referencedDeclaration":66885,"src":"56859:54:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$_t_bytes_memory_ptr_$_t_address_$returns$__$","typeString":"function (bytes32,bytes memory,address) view"}},"id":73587,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"56859:93:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73588,"nodeType":"ExpressionStatement","src":"56859:93:119"},{"AST":{"nodeType":"YulBlock","src":"57046:139:119","statements":[{"expression":{"arguments":[{"name":"signature","nodeType":"YulIdentifier","src":"57083:9:119"},{"name":"temp","nodeType":"YulIdentifier","src":"57094:4:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"57076:6:119"},"nodeType":"YulFunctionCall","src":"57076:23:119"},"nodeType":"YulExpressionStatement","src":"57076:23:119"},{"nodeType":"YulAssignment","src":"57128:31:119","value":{"arguments":[{"name":"sigIndex","nodeType":"YulIdentifier","src":"57144:8:119"},{"kind":"number","nodeType":"YulLiteral","src":"57154:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"57140:3:119"},"nodeType":"YulFunctionCall","src":"57140:19:119"},"variableNames":[{"name":"sigIndex","nodeType":"YulIdentifier","src":"57128:8:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":73524,"isOffset":false,"isSlot":false,"src":"57128:8:119","valueSize":1},{"declaration":73524,"isOffset":false,"isSlot":false,"src":"57144:8:119","valueSize":1},{"declaration":73568,"isOffset":false,"isSlot":false,"src":"57083:9:119","valueSize":1},{"declaration":73571,"isOffset":false,"isSlot":false,"src":"57094:4:119","valueSize":1}],"id":73589,"nodeType":"InlineAssembly","src":"57037:148:119"}]}},{"expression":{"arguments":[{"id":73593,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73548,"src":"57258:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73594,"name":"publicOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73551,"src":"57267:11:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73595,"name":"publicValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73538,"src":"57280:11:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73592,"name":"decreasePendingDepositBalance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73358,"src":"57228:29:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":73596,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"57228:64:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73597,"nodeType":"ExpressionStatement","src":"57228:64:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73600,"name":"proofId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73545,"src":"57333:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"32","id":73601,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"57344:1:119","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"57333:12:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73610,"nodeType":"IfStatement","src":"57329:102:119","trueBody":{"id":73609,"nodeType":"Block","src":"57347:84:119","statements":[{"expression":{"arguments":[{"id":73604,"name":"publicValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73538,"src":"57378:11:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":73605,"name":"publicOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73551,"src":"57391:11:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73606,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73548,"src":"57404:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73603,"name":"withdraw","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73801,"src":"57369:8:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_uint256_$_t_address_$_t_uint256_$returns$__$","typeString":"function (uint256,address,uint256)"}},"id":73607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"57369:43:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73608,"nodeType":"ExpressionStatement","src":"57369:43:119"}]}}]}},{"id":73617,"nodeType":"UncheckedBlock","src":"57562:81:119","statements":[{"expression":{"id":73615,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":73613,"name":"proofDataPtr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73528,"src":"57590:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":73614,"name":"TX_PUBLIC_INPUT_LENGTH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67650,"src":"57606:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"57590:38:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73616,"nodeType":"ExpressionStatement","src":"57590:38:119"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73534,"name":"proofDataPtr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73528,"src":"53858:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":73535,"name":"end","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73531,"src":"53873:3:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"53858:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73619,"nodeType":"WhileStatement","src":"53851:3802:119"}]},"documentation":{"id":73514,"nodeType":"StructuredDocumentation","src":"52792:297:119","text":" @notice A function which processes deposits and withdrawls\\n @param _proofData decoded rollup proof data\\n @param _numTxs number of transactions rolled up in the proof\\n @param _signatures byte array of secp256k1 ECDSA signatures, authorising a transfer of tokens"},"implemented":true,"kind":"function","modifiers":[],"name":"processDepositsAndWithdrawals","nameLocation":"53103:29:119","parameters":{"id":73521,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73516,"mutability":"mutable","name":"_proofData","nameLocation":"53146:10:119","nodeType":"VariableDeclaration","scope":73621,"src":"53133:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73515,"name":"bytes","nodeType":"ElementaryTypeName","src":"53133:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":73518,"mutability":"mutable","name":"_numTxs","nameLocation":"53166:7:119","nodeType":"VariableDeclaration","scope":73621,"src":"53158:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73517,"name":"uint256","nodeType":"ElementaryTypeName","src":"53158:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73520,"mutability":"mutable","name":"_signatures","nameLocation":"53188:11:119","nodeType":"VariableDeclaration","scope":73621,"src":"53175:24:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73519,"name":"bytes","nodeType":"ElementaryTypeName","src":"53175:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"53132:68:119"},"returnParameters":{"id":73522,"nodeType":"ParameterList","parameters":[],"src":"53222:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73690,"nodeType":"FunctionDefinition","src":"58230:729:119","nodes":[],"body":{"id":73689,"nodeType":"Block","src":"58409:550:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73636,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73634,"name":"_outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73629,"src":"58423:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73635,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"58439:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"58423:17:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73639,"nodeType":"IfStatement","src":"58419:54:119","trueBody":{"id":73638,"nodeType":"Block","src":"58442:31:119","statements":[{"functionReturnParameters":73633,"id":73637,"nodeType":"Return","src":"58456:7:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"},"id":73645,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73640,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73627,"src":"58486:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":73641,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"58486:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":73642,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"58506:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":73643,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"58506:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":73644,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ETH","nodeType":"MemberAccess","referencedDeclaration":66566,"src":"58506:29:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"58486:49:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"},"id":73668,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73663,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73627,"src":"58736:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":73664,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"58736:16:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":73665,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"58756:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":73666,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"58756:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":73667,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ERC20","nodeType":"MemberAccess","referencedDeclaration":66567,"src":"58756:31:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"58736:51:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73687,"nodeType":"IfStatement","src":"58732:221:119","trueBody":{"id":73686,"nodeType":"Block","src":"58789:164:119","statements":[{"assignments":[73670],"declarations":[{"constant":false,"id":73670,"mutability":"mutable","name":"tokenAddress","nameLocation":"58811:12:119","nodeType":"VariableDeclaration","scope":73686,"src":"58803:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73669,"name":"address","nodeType":"ElementaryTypeName","src":"58803:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":73673,"initialValue":{"expression":{"id":73671,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73627,"src":"58826:6:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":73672,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"58826:19:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"58803:42:119"},{"expression":{"arguments":[{"id":73677,"name":"tokenAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73670,"src":"58891:12:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73678,"name":"_bridge","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73624,"src":"58905:7:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":73681,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"58922:4:119","typeDescriptions":{"typeIdentifier":"t_contract$_RollupProcessorV2_$74677","typeString":"contract RollupProcessorV2"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_RollupProcessorV2_$74677","typeString":"contract RollupProcessorV2"}],"id":73680,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"58914:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73679,"name":"address","nodeType":"ElementaryTypeName","src":"58914:7:119","typeDescriptions":{}}},"id":73682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"58914:13:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73683,"name":"_outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73629,"src":"58929:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":73674,"name":"TokenTransfers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68527,"src":"58859:14:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TokenTransfers_$68527_$","typeString":"type(library TokenTransfers)"}},"id":73676,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":68496,"src":"58859:31:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,address,uint256)"}},"id":73684,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"58859:83:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73685,"nodeType":"ExpressionStatement","src":"58859:83:119"}]}},"id":73688,"nodeType":"IfStatement","src":"58482:471:119","trueBody":{"id":73662,"nodeType":"Block","src":"58537:189:119","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73650,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73646,"name":"_outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73629,"src":"58555:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"baseExpression":{"id":73647,"name":"ethPayments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72033,"src":"58570:11:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":73649,"indexExpression":{"id":73648,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73631,"src":"58582:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"58570:30:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"58555:45:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73655,"nodeType":"IfStatement","src":"58551:117:119","trueBody":{"id":73654,"nodeType":"Block","src":"58602:66:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73651,"name":"INSUFFICIENT_ETH_PAYMENT","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71642,"src":"58627:24:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73652,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"58627:26:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73653,"nodeType":"RevertStatement","src":"58620:33:119"}]}},{"expression":{"id":73660,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":73656,"name":"ethPayments","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72033,"src":"58681:11:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":73658,"indexExpression":{"id":73657,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73631,"src":"58693:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"58681:30:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":73659,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"58714:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"58681:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73661,"nodeType":"ExpressionStatement","src":"58681:34:119"}]}}]},"documentation":{"id":73622,"nodeType":"StructuredDocumentation","src":"57665:560:119","text":" @notice A function which pulls tokens from a bridge\\n @dev Calls `transferFrom` if asset is of type ERC20. If asset is ETH we validate a payment has been made\\n      against the provided interaction nonce. This function is used by `processAsyncDefiInteraction`.\\n @param _bridge address of bridge contract we\'re transferring tokens from\\n @param _asset the AztecAsset being transferred\\n @param _outputValue the expected value transferred\\n @param _interactionNonce the defi interaction nonce of the interaction"},"implemented":true,"kind":"function","modifiers":[],"name":"transferTokensAsync","nameLocation":"58239:19:119","parameters":{"id":73632,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73624,"mutability":"mutable","name":"_bridge","nameLocation":"58276:7:119","nodeType":"VariableDeclaration","scope":73690,"src":"58268:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73623,"name":"address","nodeType":"ElementaryTypeName","src":"58268:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":73627,"mutability":"mutable","name":"_asset","nameLocation":"58322:6:119","nodeType":"VariableDeclaration","scope":73690,"src":"58293:35:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":73626,"nodeType":"UserDefinedTypeName","pathNode":{"id":73625,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"58293:21:119"},"referencedDeclaration":66577,"src":"58293:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":73629,"mutability":"mutable","name":"_outputValue","nameLocation":"58346:12:119","nodeType":"VariableDeclaration","scope":73690,"src":"58338:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73628,"name":"uint256","nodeType":"ElementaryTypeName","src":"58338:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73631,"mutability":"mutable","name":"_interactionNonce","nameLocation":"58376:17:119","nodeType":"VariableDeclaration","scope":73690,"src":"58368:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73630,"name":"uint256","nodeType":"ElementaryTypeName","src":"58368:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"58258:141:119"},"returnParameters":{"id":73633,"nodeType":"ParameterList","parameters":[],"src":"58409:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73755,"nodeType":"FunctionDefinition","src":"59253:1412:119","nodes":[],"body":{"id":73754,"nodeType":"Block","src":"59330:1335:119","nodes":[],"statements":[{"body":{"id":73752,"nodeType":"Block","src":"59383:1276:119","statements":[{"assignments":[73706],"declarations":[{"constant":false,"id":73706,"mutability":"mutable","name":"txFee","nameLocation":"59405:5:119","nodeType":"VariableDeclaration","scope":73752,"src":"59397:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73705,"name":"uint256","nodeType":"ElementaryTypeName","src":"59397:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73711,"initialValue":{"arguments":[{"id":73708,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73693,"src":"59431:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":73709,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73699,"src":"59443:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73707,"name":"extractTotalTxFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68031,"src":"59413:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes memory,uint256) pure returns (uint256)"}},"id":73710,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"59413:32:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"59397:48:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73714,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73712,"name":"txFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73706,"src":"59463:5:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":73713,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"59471:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"59463:9:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73747,"nodeType":"IfStatement","src":"59459:1131:119","trueBody":{"id":73746,"nodeType":"Block","src":"59474:1116:119","statements":[{"assignments":[73716],"declarations":[{"constant":false,"id":73716,"mutability":"mutable","name":"assetId","nameLocation":"59500:7:119","nodeType":"VariableDeclaration","scope":73746,"src":"59492:15:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73715,"name":"uint256","nodeType":"ElementaryTypeName","src":"59492:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73721,"initialValue":{"arguments":[{"id":73718,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73693,"src":"59528:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":73719,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73699,"src":"59540:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73717,"name":"extractFeeAssetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68019,"src":"59510:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes memory,uint256) pure returns (uint256)"}},"id":73720,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"59510:32:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"59492:50:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73724,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73722,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73716,"src":"59564:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":73723,"name":"ETH_ASSET_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71885,"src":"59575:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"59564:23:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73744,"nodeType":"Block","src":"60316:260:119","statements":[{"assignments":[73728],"declarations":[{"constant":false,"id":73728,"mutability":"mutable","name":"assetAddress","nameLocation":"60346:12:119","nodeType":"VariableDeclaration","scope":73744,"src":"60338:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73727,"name":"address","nodeType":"ElementaryTypeName","src":"60338:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":73732,"initialValue":{"arguments":[{"id":73730,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73716,"src":"60379:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73729,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"60361:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":73731,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"60361:26:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"60338:49:119"},{"expression":{"arguments":[{"id":73736,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73728,"src":"60477:12:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73737,"name":"_feeReceiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73695,"src":"60491:12:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73738,"name":"txFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73706,"src":"60505:5:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"baseExpression":{"id":73739,"name":"assetGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72037,"src":"60512:14:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":73741,"indexExpression":{"id":73740,"name":"assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73716,"src":"60527:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"60512:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":73733,"name":"TokenTransfers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68527,"src":"60409:14:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TokenTransfers_$68527_$","typeString":"type(library TokenTransfers)"}},"id":73735,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferToDoNotBubbleErrors","nodeType":"MemberAccess","referencedDeclaration":68510,"src":"60409:42:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256,uint256)"}},"id":73742,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"60409:148:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73743,"nodeType":"ExpressionStatement","src":"60409:148:119"}]},"id":73745,"nodeType":"IfStatement","src":"59560:1016:119","trueBody":{"id":73726,"nodeType":"Block","src":"59589:721:119","statements":[{"AST":{"nodeType":"YulBlock","src":"60195:97:119","statements":[{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"60230:5:119","type":"","value":"50000"},{"name":"_feeReceiver","nodeType":"YulIdentifier","src":"60237:12:119"},{"name":"txFee","nodeType":"YulIdentifier","src":"60251:5:119"},{"kind":"number","nodeType":"YulLiteral","src":"60258:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"60261:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"60264:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"60267:1:119","type":"","value":"0"}],"functionName":{"name":"call","nodeType":"YulIdentifier","src":"60225:4:119"},"nodeType":"YulFunctionCall","src":"60225:44:119"}],"functionName":{"name":"pop","nodeType":"YulIdentifier","src":"60221:3:119"},"nodeType":"YulFunctionCall","src":"60221:49:119"},"nodeType":"YulExpressionStatement","src":"60221:49:119"}]},"evmVersion":"london","externalReferences":[{"declaration":73695,"isOffset":false,"isSlot":false,"src":"60237:12:119","valueSize":1},{"declaration":73706,"isOffset":false,"isSlot":false,"src":"60251:5:119","valueSize":1}],"id":73725,"nodeType":"InlineAssembly","src":"60186:106:119"}]}}]}},{"id":73751,"nodeType":"UncheckedBlock","src":"60603:46:119","statements":[{"expression":{"id":73749,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"60631:3:119","subExpression":{"id":73748,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73699,"src":"60633:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":73750,"nodeType":"ExpressionStatement","src":"60631:3:119"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73702,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73699,"src":"59360:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":73703,"name":"NUMBER_OF_ASSETS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67638,"src":"59364:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"59360:20:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73753,"initializationExpression":{"assignments":[73699],"declarations":[{"constant":false,"id":73699,"mutability":"mutable","name":"i","nameLocation":"59353:1:119","nodeType":"VariableDeclaration","scope":73753,"src":"59345:9:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73698,"name":"uint256","nodeType":"ElementaryTypeName","src":"59345:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73701,"initialValue":{"hexValue":"30","id":73700,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"59357:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"59345:13:119"},"nodeType":"ForStatement","src":"59340:1319:119"}]},"documentation":{"id":73691,"nodeType":"StructuredDocumentation","src":"58965:283:119","text":" @notice A function which transfers fees to the `_feeReceiver`\\n @dev Note: function will not revert if underlying transfers fails\\n @param _proofData decoded rollup proof data\\n @param _feeReceiver fee beneficiary as described by the rollup provider"},"implemented":true,"kind":"function","modifiers":[],"name":"transferFee","nameLocation":"59262:11:119","parameters":{"id":73696,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73693,"mutability":"mutable","name":"_proofData","nameLocation":"59287:10:119","nodeType":"VariableDeclaration","scope":73755,"src":"59274:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":73692,"name":"bytes","nodeType":"ElementaryTypeName","src":"59274:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":73695,"mutability":"mutable","name":"_feeReceiver","nameLocation":"59307:12:119","nodeType":"VariableDeclaration","scope":73755,"src":"59299:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73694,"name":"address","nodeType":"ElementaryTypeName","src":"59299:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"59273:47:119"},"returnParameters":{"id":73697,"nodeType":"ParameterList","parameters":[],"src":"59330:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73801,"nodeType":"FunctionDefinition","src":"61537:652:119","nodes":[],"body":{"id":73800,"nodeType":"Block","src":"61625:564:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":73770,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73765,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73760,"src":"61639:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":73768,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"61660:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":73767,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"61652:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73766,"name":"address","nodeType":"ElementaryTypeName","src":"61652:7:119","typeDescriptions":{}}},"id":73769,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"61652:10:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"61639:23:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73775,"nodeType":"IfStatement","src":"61635:87:119","trueBody":{"id":73774,"nodeType":"Block","src":"61664:58:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73771,"name":"WITHDRAW_TO_ZERO_ADDRESS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71644,"src":"61685:24:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"61685:26:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73773,"nodeType":"RevertStatement","src":"61678:33:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73778,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73776,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73762,"src":"61735:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":73777,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"61747:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"61735:13:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":73798,"nodeType":"Block","src":"61955:228:119","statements":[{"assignments":[73782],"declarations":[{"constant":false,"id":73782,"mutability":"mutable","name":"assetAddress","nameLocation":"61977:12:119","nodeType":"VariableDeclaration","scope":73798,"src":"61969:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73781,"name":"address","nodeType":"ElementaryTypeName","src":"61969:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":73786,"initialValue":{"arguments":[{"id":73784,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73762,"src":"62010:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":73783,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"61992:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":73785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"61992:27:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"61969:50:119"},{"expression":{"arguments":[{"id":73790,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73782,"src":"62093:12:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73791,"name":"_receiver","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73760,"src":"62107:9:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":73792,"name":"_withdrawValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73758,"src":"62118:14:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"baseExpression":{"id":73793,"name":"assetGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72037,"src":"62134:14:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":73795,"indexExpression":{"id":73794,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73762,"src":"62149:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"62134:24:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":73787,"name":"TokenTransfers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68527,"src":"62033:14:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TokenTransfers_$68527_$","typeString":"type(library TokenTransfers)"}},"id":73789,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"transferToDoNotBubbleErrors","nodeType":"MemberAccess","referencedDeclaration":68510,"src":"62033:42:119","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256,uint256)"}},"id":73796,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"62033:139:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73797,"nodeType":"ExpressionStatement","src":"62033:139:119"}]},"id":73799,"nodeType":"IfStatement","src":"61731:452:119","trueBody":{"id":73780,"nodeType":"Block","src":"61750:199:119","statements":[{"AST":{"nodeType":"YulBlock","src":"61773:87:119","statements":[{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"61800:5:119","type":"","value":"30000"},{"name":"_receiver","nodeType":"YulIdentifier","src":"61807:9:119"},{"name":"_withdrawValue","nodeType":"YulIdentifier","src":"61818:14:119"},{"kind":"number","nodeType":"YulLiteral","src":"61834:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"61837:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"61840:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"61843:1:119","type":"","value":"0"}],"functionName":{"name":"call","nodeType":"YulIdentifier","src":"61795:4:119"},"nodeType":"YulFunctionCall","src":"61795:50:119"}],"functionName":{"name":"pop","nodeType":"YulIdentifier","src":"61791:3:119"},"nodeType":"YulFunctionCall","src":"61791:55:119"},"nodeType":"YulExpressionStatement","src":"61791:55:119"}]},"evmVersion":"london","externalReferences":[{"declaration":73760,"isOffset":false,"isSlot":false,"src":"61807:9:119","valueSize":1},{"declaration":73758,"isOffset":false,"isSlot":false,"src":"61818:14:119","valueSize":1}],"id":73779,"nodeType":"InlineAssembly","src":"61764:96:119"}]}}]},"documentation":{"id":73756,"nodeType":"StructuredDocumentation","src":"60671:861:119","text":" @notice Internal utility function which withdraws funds from the contract to a receiver address\\n @param _withdrawValue - value being withdrawn from the contract\\n @param _receiver - address receiving public ERC20 tokens\\n @param _assetId - ID of the asset for which a withdrawal is being performed\\n @dev The function doesn\'t throw if the inner call fails, as this opens up the possiblity of griefing attacks\\n      -> engineering a failed withdrawal would invalidate an entire rollup block.\\n      A griefing attack could be done by consuming all gas in the `_receiver` fallback and for this reason we\\n      only forward 30K gas. This still allows the recipient to handle accounting if recipient is a contract.\\n      The user should ensure their withdrawal will succeed or they will lose the funds."},"implemented":true,"kind":"function","modifiers":[],"name":"withdraw","nameLocation":"61546:8:119","parameters":{"id":73763,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73758,"mutability":"mutable","name":"_withdrawValue","nameLocation":"61563:14:119","nodeType":"VariableDeclaration","scope":73801,"src":"61555:22:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73757,"name":"uint256","nodeType":"ElementaryTypeName","src":"61555:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":73760,"mutability":"mutable","name":"_receiver","nameLocation":"61587:9:119","nodeType":"VariableDeclaration","scope":73801,"src":"61579:17:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73759,"name":"address","nodeType":"ElementaryTypeName","src":"61579:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":73762,"mutability":"mutable","name":"_assetId","nameLocation":"61606:8:119","nodeType":"VariableDeclaration","scope":73801,"src":"61598:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73761,"name":"uint256","nodeType":"ElementaryTypeName","src":"61598:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"61554:61:119"},"returnParameters":{"id":73764,"nodeType":"ParameterList","parameters":[],"src":"61625:0:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":73810,"nodeType":"FunctionDefinition","src":"62465:105:119","nodes":[],"body":{"id":73809,"nodeType":"Block","src":"62545:25:119","nodes":[],"statements":[{"expression":{"hexValue":"32","id":73807,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"62562:1:119","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"functionReturnParameters":73806,"id":73808,"nodeType":"Return","src":"62555:8:119"}]},"documentation":{"id":73802,"nodeType":"StructuredDocumentation","src":"62338:122:119","text":" @notice Get implementation\'s version number\\n @return version version number of the implementation"},"functionSelector":"bc327e40","implemented":true,"kind":"function","modifiers":[],"name":"getImplementationVersion","nameLocation":"62474:24:119","parameters":{"id":73803,"nodeType":"ParameterList","parameters":[],"src":"62498:2:119"},"returnParameters":{"id":73806,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73805,"mutability":"mutable","name":"version","nameLocation":"62536:7:119","nodeType":"VariableDeclaration","scope":73810,"src":"62530:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":73804,"name":"uint8","nodeType":"ElementaryTypeName","src":"62530:5:119","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"62529:15:119"},"scope":74677,"stateMutability":"view","virtual":true,"visibility":"public"},{"id":73822,"nodeType":"FunctionDefinition","src":"62717:125:119","nodes":[],"body":{"id":73821,"nodeType":"Block","src":"62800:42:119","nodes":[],"statements":[{"expression":{"expression":{"id":73818,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"62817:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73819,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"paused","nodeType":"MemberAccess","referencedDeclaration":71809,"src":"62817:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":73817,"id":73820,"nodeType":"Return","src":"62810:25:119"}]},"baseFunctions":[66467],"documentation":{"id":73811,"nodeType":"StructuredDocumentation","src":"62576:136:119","text":" @notice Get true if the contract is paused, false otherwise\\n @return isPaused - True if paused, false otherwise"},"functionSelector":"5c975abb","implemented":true,"kind":"function","modifiers":[],"name":"paused","nameLocation":"62726:6:119","overrides":{"id":73814,"nodeType":"OverrideSpecifier","overrides":[{"id":73813,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"62758:16:119"}],"src":"62749:26:119"},"parameters":{"id":73812,"nodeType":"ParameterList","parameters":[],"src":"62732:2:119"},"returnParameters":{"id":73817,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73816,"mutability":"mutable","name":"isPaused","nameLocation":"62790:8:119","nodeType":"VariableDeclaration","scope":73822,"src":"62785:13:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73815,"name":"bool","nodeType":"ElementaryTypeName","src":"62785:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"62784:15:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":73834,"nodeType":"FunctionDefinition","src":"63046:133:119","nodes":[],"body":{"id":73833,"nodeType":"Block","src":"63135:44:119","nodes":[],"statements":[{"expression":{"expression":{"id":73830,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"63152:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73831,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"datasize","nodeType":"MemberAccess","referencedDeclaration":71800,"src":"63152:20:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"functionReturnParameters":73829,"id":73832,"nodeType":"Return","src":"63145:27:119"}]},"baseFunctions":[66477],"documentation":{"id":73823,"nodeType":"StructuredDocumentation","src":"62848:193:119","text":" @notice Gets the number of filled entries in the data tree\\n @return dataSize number of filled entries in the data tree (equivalent to the number of notes created on L2)"},"functionSelector":"7d036b27","implemented":true,"kind":"function","modifiers":[],"name":"getDataSize","nameLocation":"63055:11:119","overrides":{"id":73826,"nodeType":"OverrideSpecifier","overrides":[{"id":73825,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"63090:16:119"}],"src":"63081:26:119"},"parameters":{"id":73824,"nodeType":"ParameterList","parameters":[],"src":"63066:2:119"},"returnParameters":{"id":73829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73828,"mutability":"mutable","name":"dataSize","nameLocation":"63125:8:119","nodeType":"VariableDeclaration","scope":73834,"src":"63117:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73827,"name":"uint256","nodeType":"ElementaryTypeName","src":"63117:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"63116:18:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":73846,"nodeType":"FunctionDefinition","src":"63338:126:119","nodes":[],"body":{"id":73845,"nodeType":"Block","src":"63422:42:119","nodes":[],"statements":[{"expression":{"expression":{"id":73842,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"63439:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73843,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"capped","nodeType":"MemberAccess","referencedDeclaration":71811,"src":"63439:18:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":73841,"id":73844,"nodeType":"Return","src":"63432:25:119"}]},"baseFunctions":[66554],"documentation":{"id":73835,"nodeType":"StructuredDocumentation","src":"63185:148:119","text":" @notice Returns true if deposits are capped, false otherwise\\n @return capped - True if deposits are capped, false otherwise"},"functionSelector":"9b60ae2b","implemented":true,"kind":"function","modifiers":[],"name":"getCapped","nameLocation":"63347:9:119","overrides":{"id":73838,"nodeType":"OverrideSpecifier","overrides":[{"id":73837,"name":"IRollupProcessorV2","nodeType":"IdentifierPath","referencedDeclaration":66562,"src":"63380:18:119"}],"src":"63371:28:119"},"parameters":{"id":73836,"nodeType":"ParameterList","parameters":[],"src":"63356:2:119"},"returnParameters":{"id":73841,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73840,"mutability":"mutable","name":"capped","nameLocation":"63414:6:119","nodeType":"VariableDeclaration","scope":73846,"src":"63409:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73839,"name":"bool","nodeType":"ElementaryTypeName","src":"63409:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"63408:13:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":73861,"nodeType":"FunctionDefinition","src":"63990:210:119","nodes":[],"body":{"id":73860,"nodeType":"Block","src":"64096:104:119","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":73858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73854,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"64113:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73855,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"numAsyncDefiInteractionHashes","nodeType":"MemberAccess","referencedDeclaration":71802,"src":"64113:41:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"expression":{"id":73856,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"64157:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73857,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"numDefiInteractionHashes","nodeType":"MemberAccess","referencedDeclaration":71804,"src":"64157:36:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"64113:80:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":73853,"id":73859,"nodeType":"Return","src":"64106:87:119"}]},"baseFunctions":[66482],"documentation":{"id":73847,"nodeType":"StructuredDocumentation","src":"63470:515:119","text":" @notice Gets the number of pending defi interactions that have resolved but have not yet been added into the\\n         DeFi tree\\n @return - the number of pending interactions\\n @dev This value can never exceed 512. This limit is set in order to prevent griefing attacks - `processRollup`\\n      iterates through `asyncDefiInteractionHashes` and copies their values into `defiInteractionHashes`. Loop\\n      is bounded to < 512 so that tx does not exceed block gas limit."},"functionSelector":"02f6ccd4","implemented":true,"kind":"function","modifiers":[],"name":"getPendingDefiInteractionHashesLength","nameLocation":"63999:37:119","overrides":{"id":73850,"nodeType":"OverrideSpecifier","overrides":[{"id":73849,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"64060:16:119"}],"src":"64051:26:119"},"parameters":{"id":73848,"nodeType":"ParameterList","parameters":[],"src":"64036:2:119"},"returnParameters":{"id":73853,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73852,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73861,"src":"64087:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73851,"name":"uint256","nodeType":"ElementaryTypeName","src":"64087:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"64086:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":73876,"nodeType":"FunctionDefinition","src":"64355:130:119","nodes":[],"body":{"id":73875,"nodeType":"Block","src":"64432:53:119","nodes":[],"statements":[{"expression":{"arguments":[{"expression":{"id":73871,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"64457:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":73872,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"verifier","nodeType":"MemberAccess","referencedDeclaration":71798,"src":"64457:20:119","typeDescriptions":{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IVerifier_$68427","typeString":"contract IVerifier"}],"id":73870,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"64449:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73869,"name":"address","nodeType":"ElementaryTypeName","src":"64449:7:119","typeDescriptions":{}}},"id":73873,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"64449:29:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":73868,"id":73874,"nodeType":"Return","src":"64442:36:119"}]},"baseFunctions":[66472],"documentation":{"id":73862,"nodeType":"StructuredDocumentation","src":"64206:144:119","text":" @notice Gets the address of the PLONK verification smart contract\\n @return - address of the verification smart contract"},"functionSelector":"2b7ac3f3","implemented":true,"kind":"function","modifiers":[],"name":"verifier","nameLocation":"64364:8:119","overrides":{"id":73865,"nodeType":"OverrideSpecifier","overrides":[{"id":73864,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"64396:16:119"}],"src":"64387:26:119"},"parameters":{"id":73863,"nodeType":"ParameterList","parameters":[],"src":"64372:2:119"},"returnParameters":{"id":73868,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73867,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73876,"src":"64423:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73866,"name":"address","nodeType":"ElementaryTypeName","src":"64423:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"64422:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":73888,"nodeType":"FunctionDefinition","src":"64608:143:119","nodes":[],"body":{"id":73887,"nodeType":"Block","src":"64704:47:119","nodes":[],"statements":[{"expression":{"expression":{"id":73884,"name":"supportedBridges","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71990,"src":"64721:16:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":73885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"64721:23:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":73883,"id":73886,"nodeType":"Return","src":"64714:30:119"}]},"baseFunctions":[66504],"documentation":{"id":73877,"nodeType":"StructuredDocumentation","src":"64491:112:119","text":" @notice Gets the number of supported bridges\\n @return - the number of supported bridges"},"functionSelector":"a8d1eae7","implemented":true,"kind":"function","modifiers":[],"name":"getSupportedBridgesLength","nameLocation":"64617:25:119","overrides":{"id":73880,"nodeType":"OverrideSpecifier","overrides":[{"id":73879,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"64668:16:119"}],"src":"64659:26:119"},"parameters":{"id":73878,"nodeType":"ParameterList","parameters":[],"src":"64642:2:119"},"returnParameters":{"id":73883,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73882,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73888,"src":"64695:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73881,"name":"uint256","nodeType":"ElementaryTypeName","src":"64695:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"64694:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":73905,"nodeType":"FunctionDefinition","src":"64987:173:119","nodes":[],"body":{"id":73904,"nodeType":"Block","src":"65098:62:119","nodes":[],"statements":[{"expression":{"baseExpression":{"id":73898,"name":"supportedBridges","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71990,"src":"65115:16:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":73902,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73899,"name":"_bridgeAddressId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73891,"src":"65132:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":73900,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"65151:1:119","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"65132:20:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"65115:38:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":73897,"id":73903,"nodeType":"Return","src":"65108:45:119"}]},"baseFunctions":[66499],"documentation":{"id":73889,"nodeType":"StructuredDocumentation","src":"64757:225:119","text":" @notice Gets the bridge contract address for a given bridgeAddressId\\n @param _bridgeAddressId identifier used to denote a particular bridge\\n @return - the address of the matching bridge contract"},"functionSelector":"e0d16c32","implemented":true,"kind":"function","modifiers":[],"name":"getSupportedBridge","nameLocation":"64996:18:119","overrides":{"id":73894,"nodeType":"OverrideSpecifier","overrides":[{"id":73893,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"65062:16:119"}],"src":"65053:26:119"},"parameters":{"id":73892,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73891,"mutability":"mutable","name":"_bridgeAddressId","nameLocation":"65023:16:119","nodeType":"VariableDeclaration","scope":73905,"src":"65015:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73890,"name":"uint256","nodeType":"ElementaryTypeName","src":"65015:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"65014:26:119"},"returnParameters":{"id":73897,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73896,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73905,"src":"65089:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73895,"name":"address","nodeType":"ElementaryTypeName","src":"65089:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"65088:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":73917,"nodeType":"FunctionDefinition","src":"65281:141:119","nodes":[],"body":{"id":73916,"nodeType":"Block","src":"65376:46:119","nodes":[],"statements":[{"expression":{"expression":{"id":73913,"name":"supportedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71987,"src":"65393:15:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":73914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"65393:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":73912,"id":73915,"nodeType":"Return","src":"65386:29:119"}]},"baseFunctions":[66509],"documentation":{"id":73906,"nodeType":"StructuredDocumentation","src":"65166:110:119","text":" @notice Gets the number of supported assets\\n @return - the number of supported assets"},"functionSelector":"c0fd22b7","implemented":true,"kind":"function","modifiers":[],"name":"getSupportedAssetsLength","nameLocation":"65290:24:119","overrides":{"id":73909,"nodeType":"OverrideSpecifier","overrides":[{"id":73908,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"65340:16:119"}],"src":"65331:26:119"},"parameters":{"id":73907,"nodeType":"ParameterList","parameters":[],"src":"65314:2:119"},"returnParameters":{"id":73912,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73911,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73917,"src":"65367:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73910,"name":"uint256","nodeType":"ElementaryTypeName","src":"65367:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"65366:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":73962,"nodeType":"FunctionDefinition","src":"65651:569:119","nodes":[],"body":{"id":73961,"nodeType":"Block","src":"65835:385:119","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73930,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73920,"src":"65975:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":73931,"name":"ETH_ASSET_ID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71885,"src":"65987:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"65975:24:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73939,"nodeType":"IfStatement","src":"65971:74:119","trueBody":{"id":73938,"nodeType":"Block","src":"66001:44:119","statements":[{"expression":{"arguments":[{"hexValue":"307830","id":73935,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"66030:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":73934,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"66022:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73933,"name":"address","nodeType":"ElementaryTypeName","src":"66022:7:119","typeDescriptions":{}}},"id":73936,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"66022:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":73929,"id":73937,"nodeType":"Return","src":"66015:19:119"}]}},{"assignments":[73941],"declarations":[{"constant":false,"id":73941,"mutability":"mutable","name":"result","nameLocation":"66062:6:119","nodeType":"VariableDeclaration","scope":73961,"src":"66054:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73940,"name":"address","nodeType":"ElementaryTypeName","src":"66054:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":73947,"initialValue":{"baseExpression":{"id":73942,"name":"supportedAssets","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71987,"src":"66071:15:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":73946,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73943,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73920,"src":"66087:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":73944,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"66098:1:119","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"66087:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"66071:29:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"66054:46:119"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":73953,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73948,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73941,"src":"66114:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":73951,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"66132:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":73950,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"66124:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73949,"name":"address","nodeType":"ElementaryTypeName","src":"66124:7:119","typeDescriptions":{}}},"id":73952,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"66124:10:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"66114:20:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":73958,"nodeType":"IfStatement","src":"66110:81:119","trueBody":{"id":73957,"nodeType":"Block","src":"66136:55:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":73954,"name":"INVALID_ASSET_ADDRESS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71616,"src":"66157:21:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":73955,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"66157:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":73956,"nodeType":"RevertStatement","src":"66150:30:119"}]}},{"expression":{"id":73959,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73941,"src":"66207:6:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"functionReturnParameters":73929,"id":73960,"nodeType":"Return","src":"66200:13:119"}]},"baseFunctions":[66516],"documentation":{"id":73918,"nodeType":"StructuredDocumentation","src":"65428:218:119","text":" @notice Gets the ERC20 token address of a supported asset for a given `_assetId`\\n @param _assetId identifier used to denote a particular asset\\n @return - the address of the matching asset"},"functionSelector":"60a8b18a","implemented":true,"kind":"function","modifiers":[{"arguments":[{"id":73925,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73920,"src":"65795:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":73926,"kind":"modifierInvocation","modifierName":{"id":73924,"name":"validateAssetIdIsNotVirtual","nodeType":"IdentifierPath","referencedDeclaration":72213,"src":"65767:27:119"},"nodeType":"ModifierInvocation","src":"65767:37:119"}],"name":"getSupportedAsset","nameLocation":"65660:17:119","overrides":{"id":73923,"nodeType":"OverrideSpecifier","overrides":[{"id":73922,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"65741:16:119"}],"src":"65732:26:119"},"parameters":{"id":73921,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73920,"mutability":"mutable","name":"_assetId","nameLocation":"65686:8:119","nodeType":"VariableDeclaration","scope":73962,"src":"65678:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73919,"name":"uint256","nodeType":"ElementaryTypeName","src":"65678:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"65677:18:119"},"returnParameters":{"id":73929,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73928,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":73962,"src":"65822:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":73927,"name":"address","nodeType":"ElementaryTypeName","src":"65822:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"65821:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":74031,"nodeType":"FunctionDefinition","src":"66438:790:119","nodes":[],"body":{"id":74030,"nodeType":"Block","src":"66533:695:119","nodes":[],"statements":[{"assignments":[73973],"declarations":[{"constant":false,"id":73973,"mutability":"mutable","name":"blockNum","nameLocation":"66551:8:119","nodeType":"VariableDeclaration","scope":74030,"src":"66543:16:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73972,"name":"uint256","nodeType":"ElementaryTypeName","src":"66543:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73976,"initialValue":{"expression":{"id":73974,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"66562:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":73975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"number","nodeType":"MemberAccess","src":"66562:12:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"66543:31:119"},{"assignments":[73978],"declarations":[{"constant":false,"id":73978,"mutability":"mutable","name":"isOpen","nameLocation":"66590:6:119","nodeType":"VariableDeclaration","scope":74030,"src":"66585:11:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73977,"name":"bool","nodeType":"ElementaryTypeName","src":"66585:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":73984,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73983,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":73979,"name":"blockNum","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73973,"src":"66599:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":73980,"name":"escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71981,"src":"66610:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"66599:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":73982,"name":"escapeBlockLowerBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71979,"src":"66635:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"66599:57:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"66585:71:119"},{"assignments":[73986],"declarations":[{"constant":false,"id":73986,"mutability":"mutable","name":"blocksRemaining","nameLocation":"66674:15:119","nodeType":"VariableDeclaration","scope":74030,"src":"66666:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73985,"name":"uint256","nodeType":"ElementaryTypeName","src":"66666:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":73988,"initialValue":{"hexValue":"30","id":73987,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"66692:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"66666:27:119"},{"condition":{"id":73989,"name":"isOpen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73978,"src":"66707:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":74024,"nodeType":"Block","src":"67019:161:119","statements":[{"expression":{"id":74022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":74015,"name":"blocksRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73986,"src":"67093:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74021,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74016,"name":"escapeBlockLowerBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71979,"src":"67111:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74019,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74017,"name":"blockNum","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73973,"src":"67136:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":74018,"name":"escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71981,"src":"67147:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"67136:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":74020,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"67135:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"67111:58:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"67093:76:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74023,"nodeType":"ExpressionStatement","src":"67093:76:119"}]},"id":74025,"nodeType":"IfStatement","src":"66703:477:119","trueBody":{"id":74014,"nodeType":"Block","src":"66715:298:119","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":73990,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"66733:5:119","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":73991,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"66733:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":73997,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":73994,"name":"lastRollupTimeStamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72047,"src":"66759:19:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":73993,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"66751:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":73992,"name":"uint256","nodeType":"ElementaryTypeName","src":"66751:7:119","typeDescriptions":{}}},"id":73995,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"66751:28:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":73996,"name":"delayBeforeEscapeHatch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72049,"src":"66782:22:119","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"66751:53:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"66733:71:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74004,"nodeType":"IfStatement","src":"66729:124:119","trueBody":{"id":74003,"nodeType":"Block","src":"66806:47:119","statements":[{"expression":{"id":74001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":73999,"name":"isOpen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73978,"src":"66824:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"66616c7365","id":74000,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"66833:5:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"66824:14:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74002,"nodeType":"ExpressionStatement","src":"66824:14:119"}]}},{"expression":{"id":74012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":74005,"name":"blocksRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73986,"src":"66926:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74006,"name":"escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71981,"src":"66944:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74007,"name":"blockNum","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73973,"src":"66969:8:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":74008,"name":"escapeBlockUpperBound","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71981,"src":"66980:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"66969:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":74010,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"66968:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"66944:58:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"66926:76:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74013,"nodeType":"ExpressionStatement","src":"66926:76:119"}]}},{"expression":{"components":[{"id":74026,"name":"isOpen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73978,"src":"67197:6:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":74027,"name":"blocksRemaining","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73986,"src":"67205:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":74028,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"67196:25:119","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_uint256_$","typeString":"tuple(bool,uint256)"}},"functionReturnParameters":73971,"id":74029,"nodeType":"Return","src":"67189:32:119"}]},"baseFunctions":[66523],"documentation":{"id":73963,"nodeType":"StructuredDocumentation","src":"66226:207:119","text":" @notice Gets the status of the escape hatch.\\n @return True if escape hatch is open, false otherwise\\n @return The number of blocks until the next opening/closing of escape hatch"},"functionSelector":"be71f8a4","implemented":true,"kind":"function","modifiers":[],"name":"getEscapeHatchStatus","nameLocation":"66447:20:119","overrides":{"id":73966,"nodeType":"OverrideSpecifier","overrides":[{"id":73965,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"66491:16:119"}],"src":"66482:26:119"},"parameters":{"id":73964,"nodeType":"ParameterList","parameters":[],"src":"66467:2:119"},"returnParameters":{"id":73971,"nodeType":"ParameterList","parameters":[{"constant":false,"id":73968,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":74031,"src":"66518:4:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":73967,"name":"bool","nodeType":"ElementaryTypeName","src":"66518:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":73970,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":74031,"src":"66524:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":73969,"name":"uint256","nodeType":"ElementaryTypeName","src":"66524:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"66517:15:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":74043,"nodeType":"FunctionDefinition","src":"67639:159:119","nodes":[],"body":{"id":74042,"nodeType":"Block","src":"67738:60:119","nodes":[],"statements":[{"expression":{"expression":{"id":74039,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"67755:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":74040,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"numDefiInteractionHashes","nodeType":"MemberAccess","referencedDeclaration":71804,"src":"67755:36:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":74038,"id":74041,"nodeType":"Return","src":"67748:43:119"}]},"baseFunctions":[66487],"documentation":{"id":74032,"nodeType":"StructuredDocumentation","src":"67234:400:119","text":" @notice Gets the number of defi interaction hashes\\n @dev A defi interaction hash represents a defi interaction that has resolved, but whose\\n      result data has not yet been added into the Aztec Defi Merkle tree. This step is needed in order to convert\\n      L2 Defi claim notes into L2 value notes.\\n @return - the number of pending defi interaction hashes"},"functionSelector":"db1533aa","implemented":true,"kind":"function","modifiers":[],"name":"getDefiInteractionHashesLength","nameLocation":"67648:30:119","overrides":{"id":74035,"nodeType":"OverrideSpecifier","overrides":[{"id":74034,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"67702:16:119"}],"src":"67693:26:119"},"parameters":{"id":74033,"nodeType":"ParameterList","parameters":[],"src":"67678:2:119"},"returnParameters":{"id":74038,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74037,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":74043,"src":"67729:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74036,"name":"uint256","nodeType":"ElementaryTypeName","src":"67729:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"67728:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":74055,"nodeType":"FunctionDefinition","src":"68254:169:119","nodes":[],"body":{"id":74054,"nodeType":"Block","src":"68358:65:119","nodes":[],"statements":[{"expression":{"expression":{"id":74051,"name":"rollupState","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71984,"src":"68375:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_RollupState_$71812_storage","typeString":"struct RollupProcessorV2.RollupState storage ref"}},"id":74052,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"numAsyncDefiInteractionHashes","nodeType":"MemberAccess","referencedDeclaration":71802,"src":"68375:41:119","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":74050,"id":74053,"nodeType":"Return","src":"68368:48:119"}]},"baseFunctions":[66492],"documentation":{"id":74044,"nodeType":"StructuredDocumentation","src":"67804:445:119","text":" @notice Gets the number of asynchronous defi interaction hashes\\n @dev A defi interaction hash represents an asynchronous defi interaction that has resolved, but whose interaction\\n      result data has not yet been added into the Aztec Defi Merkle tree. This step is needed in order to convert\\n      L2 Defi claim notes into L2 value notes.\\n @return - the number of pending async defi interaction hashes"},"functionSelector":"7baf7118","implemented":true,"kind":"function","modifiers":[],"name":"getAsyncDefiInteractionHashesLength","nameLocation":"68263:35:119","overrides":{"id":74047,"nodeType":"OverrideSpecifier","overrides":[{"id":74046,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"68322:16:119"}],"src":"68313:26:119"},"parameters":{"id":74045,"nodeType":"ParameterList","parameters":[],"src":"68298:2:119"},"returnParameters":{"id":74050,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74049,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":74055,"src":"68349:7:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74048,"name":"uint256","nodeType":"ElementaryTypeName","src":"68349:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"68348:9:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":74151,"nodeType":"FunctionDefinition","src":"70665:4020:119","nodes":[],"body":{"id":74150,"nodeType":"Block","src":"70825:3860:119","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"70844:2558:119","statements":[{"expression":{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"70865:18:119"},{"arguments":[{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"70889:22:119"},{"name":"MASK_THIRTY_TWO_BITS","nodeType":"YulIdentifier","src":"70913:20:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"70885:3:119"},"nodeType":"YulFunctionCall","src":"70885:49:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"70858:6:119"},"nodeType":"YulFunctionCall","src":"70858:77:119"},"nodeType":"YulExpressionStatement","src":"70858:77:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"70995:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"71015:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"70991:3:119"},"nodeType":"YulFunctionCall","src":"70991:29:119"},{"arguments":[{"arguments":[{"name":"INPUT_ASSET_ID_A_SHIFT","nodeType":"YulIdentifier","src":"71046:22:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"71070:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"71042:3:119"},"nodeType":"YulFunctionCall","src":"71042:51:119"},{"name":"MASK_THIRTY_BITS","nodeType":"YulIdentifier","src":"71095:16:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"71038:3:119"},"nodeType":"YulFunctionCall","src":"71038:74:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"70967:6:119"},"nodeType":"YulFunctionCall","src":"70967:159:119"},"nodeType":"YulExpressionStatement","src":"70967:159:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"71184:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"71204:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"71180:3:119"},"nodeType":"YulFunctionCall","src":"71180:29:119"},{"arguments":[{"arguments":[{"name":"INPUT_ASSET_ID_B_SHIFT","nodeType":"YulIdentifier","src":"71235:22:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"71259:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"71231:3:119"},"nodeType":"YulFunctionCall","src":"71231:51:119"},{"name":"MASK_THIRTY_BITS","nodeType":"YulIdentifier","src":"71284:16:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"71227:3:119"},"nodeType":"YulFunctionCall","src":"71227:74:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"71156:6:119"},"nodeType":"YulFunctionCall","src":"71156:159:119"},"nodeType":"YulExpressionStatement","src":"71156:159:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"71373:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"71393:4:119","type":"","value":"0x80"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"71369:3:119"},"nodeType":"YulFunctionCall","src":"71369:29:119"},{"arguments":[{"arguments":[{"name":"OUTPUT_ASSET_ID_A_SHIFT","nodeType":"YulIdentifier","src":"71424:23:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"71449:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"71420:3:119"},"nodeType":"YulFunctionCall","src":"71420:52:119"},{"name":"MASK_THIRTY_BITS","nodeType":"YulIdentifier","src":"71474:16:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"71416:3:119"},"nodeType":"YulFunctionCall","src":"71416:75:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"71345:6:119"},"nodeType":"YulFunctionCall","src":"71345:160:119"},"nodeType":"YulExpressionStatement","src":"71345:160:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"71564:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"71584:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"71560:3:119"},"nodeType":"YulFunctionCall","src":"71560:29:119"},{"arguments":[{"arguments":[{"name":"OUTPUT_ASSET_ID_B_SHIFT","nodeType":"YulIdentifier","src":"71615:23:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"71640:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"71611:3:119"},"nodeType":"YulFunctionCall","src":"71611:52:119"},{"name":"MASK_THIRTY_BITS","nodeType":"YulIdentifier","src":"71665:16:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"71607:3:119"},"nodeType":"YulFunctionCall","src":"71607:75:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"71536:6:119"},"nodeType":"YulFunctionCall","src":"71536:160:119"},"nodeType":"YulExpressionStatement","src":"71536:160:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"71755:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"71775:4:119","type":"","value":"0xc0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"71751:3:119"},"nodeType":"YulFunctionCall","src":"71751:29:119"},{"arguments":[{"arguments":[{"name":"AUX_DATA_SHIFT","nodeType":"YulIdentifier","src":"71790:14:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"71806:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"71786:3:119"},"nodeType":"YulFunctionCall","src":"71786:43:119"},{"name":"MASK_SIXTY_FOUR_BITS","nodeType":"YulIdentifier","src":"71831:20:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"71782:3:119"},"nodeType":"YulFunctionCall","src":"71782:70:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"71727:6:119"},"nodeType":"YulFunctionCall","src":"71727:139:119"},"nodeType":"YulExpressionStatement","src":"71727:139:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"71919:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"71939:4:119","type":"","value":"0xe0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"71915:3:119"},"nodeType":"YulFunctionCall","src":"71915:29:119"},{"arguments":[{"arguments":[{"arguments":[{"name":"INPUT_ASSET_ID_A_SHIFT","nodeType":"YulIdentifier","src":"71974:22:119"},{"name":"VIRTUAL_ASSET_ID_FLAG_SHIFT","nodeType":"YulIdentifier","src":"71998:27:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"71970:3:119"},"nodeType":"YulFunctionCall","src":"71970:56:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"72028:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"71966:3:119"},"nodeType":"YulFunctionCall","src":"71966:85:119"},{"kind":"number","nodeType":"YulLiteral","src":"72053:1:119","type":"","value":"1"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"71962:3:119"},"nodeType":"YulFunctionCall","src":"71962:93:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"71891:6:119"},"nodeType":"YulFunctionCall","src":"71891:178:119"},"nodeType":"YulExpressionStatement","src":"71891:178:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"72164:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"72184:5:119","type":"","value":"0x100"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"72160:3:119"},"nodeType":"YulFunctionCall","src":"72160:30:119"},{"arguments":[{"arguments":[{"arguments":[{"name":"INPUT_ASSET_ID_B_SHIFT","nodeType":"YulIdentifier","src":"72220:22:119"},{"name":"VIRTUAL_ASSET_ID_FLAG_SHIFT","nodeType":"YulIdentifier","src":"72244:27:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"72216:3:119"},"nodeType":"YulFunctionCall","src":"72216:56:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"72274:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"72212:3:119"},"nodeType":"YulFunctionCall","src":"72212:85:119"},{"kind":"number","nodeType":"YulLiteral","src":"72299:1:119","type":"","value":"1"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"72208:3:119"},"nodeType":"YulFunctionCall","src":"72208:93:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"72136:6:119"},"nodeType":"YulFunctionCall","src":"72136:179:119"},"nodeType":"YulExpressionStatement","src":"72136:179:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"72411:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"72431:5:119","type":"","value":"0x120"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"72407:3:119"},"nodeType":"YulFunctionCall","src":"72407:30:119"},{"arguments":[{"arguments":[{"arguments":[{"name":"OUTPUT_ASSET_ID_A_SHIFT","nodeType":"YulIdentifier","src":"72467:23:119"},{"name":"VIRTUAL_ASSET_ID_FLAG_SHIFT","nodeType":"YulIdentifier","src":"72492:27:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"72463:3:119"},"nodeType":"YulFunctionCall","src":"72463:57:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"72522:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"72459:3:119"},"nodeType":"YulFunctionCall","src":"72459:86:119"},{"kind":"number","nodeType":"YulLiteral","src":"72547:1:119","type":"","value":"1"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"72455:3:119"},"nodeType":"YulFunctionCall","src":"72455:94:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"72383:6:119"},"nodeType":"YulFunctionCall","src":"72383:180:119"},"nodeType":"YulExpressionStatement","src":"72383:180:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"72660:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"72680:5:119","type":"","value":"0x140"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"72656:3:119"},"nodeType":"YulFunctionCall","src":"72656:30:119"},{"arguments":[{"arguments":[{"arguments":[{"name":"OUTPUT_ASSET_ID_B_SHIFT","nodeType":"YulIdentifier","src":"72716:23:119"},{"name":"VIRTUAL_ASSET_ID_FLAG_SHIFT","nodeType":"YulIdentifier","src":"72741:27:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"72712:3:119"},"nodeType":"YulFunctionCall","src":"72712:57:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"72771:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"72708:3:119"},"nodeType":"YulFunctionCall","src":"72708:86:119"},{"kind":"number","nodeType":"YulLiteral","src":"72796:1:119","type":"","value":"1"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"72704:3:119"},"nodeType":"YulFunctionCall","src":"72704:94:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"72632:6:119"},"nodeType":"YulFunctionCall","src":"72632:180:119"},"nodeType":"YulExpressionStatement","src":"72632:180:119"},{"nodeType":"YulVariableDeclaration","src":"72882:88:119","value":{"arguments":[{"arguments":[{"name":"BITCONFIG_SHIFT","nodeType":"YulIdentifier","src":"72907:15:119"},{"name":"_encodedBridgeCallData","nodeType":"YulIdentifier","src":"72924:22:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"72903:3:119"},"nodeType":"YulFunctionCall","src":"72903:44:119"},{"name":"MASK_THIRTY_TWO_BITS","nodeType":"YulIdentifier","src":"72949:20:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"72899:3:119"},"nodeType":"YulFunctionCall","src":"72899:71:119"},"variables":[{"name":"bitConfig","nodeType":"YulTypedName","src":"72886:9:119","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"73164:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"73184:5:119","type":"","value":"0x160"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"73160:3:119"},"nodeType":"YulFunctionCall","src":"73160:30:119"},{"arguments":[{"arguments":[{"name":"bitConfig","nodeType":"YulIdentifier","src":"73199:9:119"},{"kind":"number","nodeType":"YulLiteral","src":"73210:1:119","type":"","value":"1"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"73195:3:119"},"nodeType":"YulFunctionCall","src":"73195:17:119"},{"kind":"number","nodeType":"YulLiteral","src":"73214:1:119","type":"","value":"1"}],"functionName":{"name":"eq","nodeType":"YulIdentifier","src":"73192:2:119"},"nodeType":"YulFunctionCall","src":"73192:24:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"73153:6:119"},"nodeType":"YulFunctionCall","src":"73153:64:119"},"nodeType":"YulExpressionStatement","src":"73153:64:119"},{"expression":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"73282:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"73302:5:119","type":"","value":"0x180"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"73278:3:119"},"nodeType":"YulFunctionCall","src":"73278:30:119"},{"arguments":[{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"73321:1:119","type":"","value":"1"},{"name":"bitConfig","nodeType":"YulIdentifier","src":"73324:9:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"73317:3:119"},"nodeType":"YulFunctionCall","src":"73317:17:119"},{"kind":"number","nodeType":"YulLiteral","src":"73336:1:119","type":"","value":"1"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"73313:3:119"},"nodeType":"YulFunctionCall","src":"73313:25:119"},{"kind":"number","nodeType":"YulLiteral","src":"73340:1:119","type":"","value":"1"}],"functionName":{"name":"eq","nodeType":"YulIdentifier","src":"73310:2:119"},"nodeType":"YulFunctionCall","src":"73310:32:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"73271:6:119"},"nodeType":"YulFunctionCall","src":"73271:72:119"},"nodeType":"YulExpressionStatement","src":"73271:72:119"}]},"evmVersion":"london","externalReferences":[{"declaration":71924,"isOffset":false,"isSlot":false,"src":"71790:14:119","valueSize":1},{"declaration":71921,"isOffset":false,"isSlot":false,"src":"72907:15:119","valueSize":1},{"declaration":71909,"isOffset":false,"isSlot":false,"src":"71046:22:119","valueSize":1},{"declaration":71909,"isOffset":false,"isSlot":false,"src":"71974:22:119","valueSize":1},{"declaration":71912,"isOffset":false,"isSlot":false,"src":"71235:22:119","valueSize":1},{"declaration":71912,"isOffset":false,"isSlot":false,"src":"72220:22:119","valueSize":1},{"declaration":71939,"isOffset":false,"isSlot":false,"src":"71831:20:119","valueSize":1},{"declaration":71936,"isOffset":false,"isSlot":false,"src":"71095:16:119","valueSize":1},{"declaration":71936,"isOffset":false,"isSlot":false,"src":"71284:16:119","valueSize":1},{"declaration":71936,"isOffset":false,"isSlot":false,"src":"71474:16:119","valueSize":1},{"declaration":71936,"isOffset":false,"isSlot":false,"src":"71665:16:119","valueSize":1},{"declaration":71933,"isOffset":false,"isSlot":false,"src":"70913:20:119","valueSize":1},{"declaration":71933,"isOffset":false,"isSlot":false,"src":"72949:20:119","valueSize":1},{"declaration":71915,"isOffset":false,"isSlot":false,"src":"71424:23:119","valueSize":1},{"declaration":71915,"isOffset":false,"isSlot":false,"src":"72467:23:119","valueSize":1},{"declaration":71918,"isOffset":false,"isSlot":false,"src":"71615:23:119","valueSize":1},{"declaration":71918,"isOffset":false,"isSlot":false,"src":"72716:23:119","valueSize":1},{"declaration":71927,"isOffset":false,"isSlot":false,"src":"71998:27:119","valueSize":1},{"declaration":71927,"isOffset":false,"isSlot":false,"src":"72244:27:119","valueSize":1},{"declaration":71927,"isOffset":false,"isSlot":false,"src":"72492:27:119","valueSize":1},{"declaration":71927,"isOffset":false,"isSlot":false,"src":"72741:27:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"70889:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"71070:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"71259:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"71449:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"71640:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"71806:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"72028:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"72274:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"72522:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"72771:22:119","valueSize":1},{"declaration":74058,"isOffset":false,"isSlot":false,"src":"72924:22:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"70865:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"70995:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"71184:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"71373:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"71564:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"71755:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"71919:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"72164:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"72411:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"72660:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"73164:18:119","valueSize":1},{"declaration":74062,"isOffset":false,"isSlot":false,"src":"73282:18:119","valueSize":1}],"id":74064,"nodeType":"InlineAssembly","src":"70835:2567:119"},{"expression":{"id":74074,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74065,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73411:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74067,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"bridgeAddress","nodeType":"MemberAccess","referencedDeclaration":71816,"src":"73411:32:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":74068,"name":"supportedBridges","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71990,"src":"73446:16:119","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":74073,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74072,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74069,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73463:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74070,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"bridgeAddressId","nodeType":"MemberAccess","referencedDeclaration":71814,"src":"73463:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":74071,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"73500:1:119","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"73463:38:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"73446:56:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"73411:91:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74075,"nodeType":"ExpressionStatement","src":"73411:91:119"},{"expression":{"id":74083,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74076,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73512:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74078,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"bridgeGasLimit","nodeType":"MemberAccess","referencedDeclaration":71840,"src":"73512:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":74079,"name":"bridgeGasLimits","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72041,"src":"73548:15:119","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":74082,"indexExpression":{"expression":{"id":74080,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73564:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74081,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"bridgeAddressId","nodeType":"MemberAccess","referencedDeclaration":71814,"src":"73564:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"73548:51:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"73512:87:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74084,"nodeType":"ExpressionStatement","src":"73512:87:119"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":74092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"73708:36:119","subExpression":{"expression":{"id":74085,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73709:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondInputInUse","nodeType":"MemberAccess","referencedDeclaration":71836,"src":"73709:35:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74088,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73748:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74089,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71820,"src":"73748:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":74090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"73783:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"73748:36:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"73708:76:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74097,"nodeType":"IfStatement","src":"73704:145:119","trueBody":{"id":74096,"nodeType":"Block","src":"73786:63:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":74093,"name":"INCONSISTENT_BRIDGE_CALL_DATA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71626,"src":"73807:29:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":74094,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"73807:31:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74095,"nodeType":"RevertStatement","src":"73800:38:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":74105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"73862:37:119","subExpression":{"expression":{"id":74098,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73863:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74099,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondOutputInUse","nodeType":"MemberAccess","referencedDeclaration":71838,"src":"73863:36:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74101,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"73903:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74102,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71824,"src":"73903:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":74103,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"73939:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"73903:37:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"73862:78:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74110,"nodeType":"IfStatement","src":"73858:147:119","trueBody":{"id":74109,"nodeType":"Block","src":"73942:63:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":74106,"name":"INCONSISTENT_BRIDGE_CALL_DATA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71626,"src":"73963:29:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":74107,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"73963:31:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74108,"nodeType":"RevertStatement","src":"73956:38:119"}]}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":74119,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74111,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74031:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74112,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondInputInUse","nodeType":"MemberAccess","referencedDeclaration":71836,"src":"74031:35:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74113,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74087:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74114,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71818,"src":"74087:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":74115,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74123:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71820,"src":"74123:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"74087:68:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":74118,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"74086:70:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"74031:125:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74126,"nodeType":"IfStatement","src":"74014:253:119","trueBody":{"id":74125,"nodeType":"Block","src":"74167:100:119","statements":[{"errorCall":{"arguments":[{"expression":{"id":74121,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74223:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74122,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71818,"src":"74223:32:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74120,"name":"BRIDGE_WITH_IDENTICAL_INPUT_ASSETS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71630,"src":"74188:34:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$__$","typeString":"function (uint256) pure"}},"id":74123,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"74188:68:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74124,"nodeType":"RevertStatement","src":"74181:75:119"}]}},{"assignments":[74128],"declarations":[{"constant":false,"id":74128,"mutability":"mutable","name":"secondOutputReal","nameLocation":"74373:16:119","nodeType":"VariableDeclaration","scope":74150,"src":"74368:21:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":74127,"name":"bool","nodeType":"ElementaryTypeName","src":"74368:4:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":74135,"initialValue":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":74134,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74129,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74392:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74130,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondOutputInUse","nodeType":"MemberAccess","referencedDeclaration":71838,"src":"74392:36:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"id":74133,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"74432:39:119","subExpression":{"expression":{"id":74131,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74433:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74132,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondOutputVirtual","nodeType":"MemberAccess","referencedDeclaration":71834,"src":"74433:38:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"74392:79:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"74368:103:119"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":74142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74136,"name":"secondOutputReal","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74128,"src":"74485:16:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74141,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74137,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74505:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74138,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71822,"src":"74505:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":74139,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74542:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74140,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71824,"src":"74542:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"74505:70:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"74485:90:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74149,"nodeType":"IfStatement","src":"74481:198:119","trueBody":{"id":74148,"nodeType":"Block","src":"74577:102:119","statements":[{"errorCall":{"arguments":[{"expression":{"id":74144,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74062,"src":"74634:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74145,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71822,"src":"74634:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74143,"name":"BRIDGE_WITH_IDENTICAL_OUTPUT_ASSETS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71634,"src":"74598:35:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$returns$__$","typeString":"function (uint256) pure"}},"id":74146,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"74598:70:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74147,"nodeType":"RevertStatement","src":"74591:77:119"}]}}]},"documentation":{"id":74056,"nodeType":"StructuredDocumentation","src":"68572:2088:119","text":" @notice A function which constructs a FullBridgeCallData struct based on values from `_encodedBridgeCallData`\\n @param _encodedBridgeCallData a bit-array that contains data describing a specific bridge call\\n Structure of the bit array is as follows (starting at the least significant bit):\\n | bit range | parameter       | description |\\n | 0 - 32    | bridgeAddressId | The address ID. Bridge address = `supportedBridges[bridgeAddressId]` |\\n | 32 - 62   | inputAssetIdA   | First input asset ID. |\\n | 62 - 92   | inputAssetIdB   | Second input asset ID. Must be 0 if bridge does not have a 2nd input asset. |\\n | 92 - 122  | outputAssetIdA  | First output asset ID. |\\n | 122 - 152 | outputAssetIdB  | Second output asset ID. Must be 0 if bridge does not have a 2nd output asset. |\\n | 152 - 184 | bitConfig       | Bit-array that contains boolean bridge settings. |\\n | 184 - 248 | auxData         | 64 bits of custom data to be passed to the bridge contract. Structure of auxData\\n                                 is defined/checked by the bridge contract. |\\n Structure of the `bitConfig` parameter is as follows\\n | bit | parameter               | description |\\n | 0   | secondInputInUse        | Does the bridge have a second input asset? |\\n | 1   | secondOutputInUse       | Does the bridge have a second output asset? |\\n @dev Note: Virtual assets are assets that don\'t have an ERC20 token analogue and exist solely as notes within\\n            the Aztec network. They can be created/spent within bridge calls. They are used to enable bridges\\n            to track internally-defined data without having to mint a new token on-chain. An example use of\\n            a virtual asset would be a virtual loan asset that tracks an outstanding debt that must be repaid\\n            to recover a collateral deposited into the bridge.\\n @return fullBridgeCallData a struct that contains information defining a specific bridge call"},"implemented":true,"kind":"function","modifiers":[],"name":"getFullBridgeCallData","nameLocation":"70674:21:119","parameters":{"id":74059,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74058,"mutability":"mutable","name":"_encodedBridgeCallData","nameLocation":"70704:22:119","nodeType":"VariableDeclaration","scope":74151,"src":"70696:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74057,"name":"uint256","nodeType":"ElementaryTypeName","src":"70696:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"70695:32:119"},"returnParameters":{"id":74063,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74062,"mutability":"mutable","name":"fullBridgeCallData","nameLocation":"70801:18:119","nodeType":"VariableDeclaration","scope":74151,"src":"70775:44:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"},"typeName":{"id":74061,"nodeType":"UserDefinedTypeName","pathNode":{"id":74060,"name":"FullBridgeCallData","nodeType":"IdentifierPath","referencedDeclaration":71841,"src":"70775:18:119"},"referencedDeclaration":71841,"src":"70775:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_storage_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"}},"visibility":"internal"}],"src":"70774:46:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":74485,"nodeType":"FunctionDefinition","src":"75284:3530:119","nodes":[],"body":{"id":74484,"nodeType":"Block","src":"75665:3149:119","nodes":[],"statements":[{"condition":{"expression":{"id":74172,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"75679:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74173,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"firstInputVirtual","nodeType":"MemberAccess","referencedDeclaration":71828,"src":"75679:37:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":74236,"nodeType":"Block","src":"76040:344:119","statements":[{"expression":{"id":74206,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74201,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"76054:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74203,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"76054:14:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":74204,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"76071:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74205,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71818,"src":"76071:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"76054:50:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74207,"nodeType":"ExpressionStatement","src":"76054:50:119"},{"expression":{"id":74215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74208,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"76118:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74210,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"76118:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":74212,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"76163:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74213,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71818,"src":"76163:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74211,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"76145:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":74214,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"76145:52:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"76118:79:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74216,"nodeType":"ExpressionStatement","src":"76118:79:119"},{"expression":{"id":74234,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74217,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"76211:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74219,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"76211:21:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":74226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74220,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"76235:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74221,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"76235:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"307830","id":74224,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"76271:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74223,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"76263:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74222,"name":"address","nodeType":"ElementaryTypeName","src":"76263:7:119","typeDescriptions":{}}},"id":74225,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"76263:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"76235:40:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"expression":{"id":74230,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"76342:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74231,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"76342:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74232,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ERC20","nodeType":"MemberAccess","referencedDeclaration":66567,"src":"76342:31:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"76235:138:119","trueExpression":{"expression":{"expression":{"id":74227,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"76294:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74228,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"76294:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74229,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ETH","nodeType":"MemberAccess","referencedDeclaration":66566,"src":"76294:29:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"76211:162:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74235,"nodeType":"ExpressionStatement","src":"76211:162:119"}]},"id":74237,"nodeType":"IfStatement","src":"75675:709:119","trueBody":{"id":74200,"nodeType":"Block","src":"75718:316:119","statements":[{"expression":{"id":74181,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74174,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"75825:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74176,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"75825:14:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74177,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"75842:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74178,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71818,"src":"75842:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":74179,"name":"VIRTUAL_ASSET_ID_FLAG","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71930,"src":"75878:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"75842:57:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"75825:74:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74182,"nodeType":"ExpressionStatement","src":"75825:74:119"},{"expression":{"id":74190,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74183,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"75913:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74185,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"75913:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"307830","id":74188,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"75948:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74187,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"75940:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74186,"name":"address","nodeType":"ElementaryTypeName","src":"75940:7:119","typeDescriptions":{}}},"id":74189,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"75940:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"75913:39:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74191,"nodeType":"ExpressionStatement","src":"75913:39:119"},{"expression":{"id":74198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74192,"name":"inputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74161,"src":"75966:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74194,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"75966:21:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":74195,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"75990:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"75990:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74197,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"VIRTUAL","nodeType":"MemberAccess","referencedDeclaration":66568,"src":"75990:33:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"75966:57:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74199,"nodeType":"ExpressionStatement","src":"75966:57:119"}]}},{"condition":{"expression":{"id":74238,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"76397:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74239,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"firstOutputVirtual","nodeType":"MemberAccess","referencedDeclaration":71832,"src":"76397:38:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":74299,"nodeType":"Block","src":"76667:350:119","statements":[{"expression":{"id":74269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74264,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76681:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74266,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"76681:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":74267,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"76699:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74268,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71822,"src":"76699:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"76681:52:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74270,"nodeType":"ExpressionStatement","src":"76681:52:119"},{"expression":{"id":74278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74271,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76747:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74273,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"76747:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":74275,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"76793:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74276,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdA","nodeType":"MemberAccess","referencedDeclaration":71822,"src":"76793:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74274,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"76775:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":74277,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"76775:53:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"76747:81:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74279,"nodeType":"ExpressionStatement","src":"76747:81:119"},{"expression":{"id":74297,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74280,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76842:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74282,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"76842:22:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":74289,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74283,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76867:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74284,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"76867:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"307830","id":74287,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"76904:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74286,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"76896:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74285,"name":"address","nodeType":"ElementaryTypeName","src":"76896:7:119","typeDescriptions":{}}},"id":74288,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"76896:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"76867:41:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"expression":{"id":74293,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"76975:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74294,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"76975:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74295,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ERC20","nodeType":"MemberAccess","referencedDeclaration":66567,"src":"76975:31:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74296,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"76867:139:119","trueExpression":{"expression":{"expression":{"id":74290,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"76927:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74291,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"76927:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74292,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ETH","nodeType":"MemberAccess","referencedDeclaration":66566,"src":"76927:29:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"76842:164:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74298,"nodeType":"ExpressionStatement","src":"76842:164:119"}]},"id":74300,"nodeType":"IfStatement","src":"76393:624:119","trueBody":{"id":74263,"nodeType":"Block","src":"76437:224:119","statements":[{"expression":{"id":74244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74240,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76489:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74242,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"76489:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":74243,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74157,"src":"76507:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"76489:35:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74245,"nodeType":"ExpressionStatement","src":"76489:35:119"},{"expression":{"id":74253,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74246,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76538:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74248,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"76538:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"307830","id":74251,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"76574:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74250,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"76566:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74249,"name":"address","nodeType":"ElementaryTypeName","src":"76566:7:119","typeDescriptions":{}}},"id":74252,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"76566:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"76538:40:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74254,"nodeType":"ExpressionStatement","src":"76538:40:119"},{"expression":{"id":74261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74255,"name":"outputAssetA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74167,"src":"76592:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74257,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"76592:22:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":74258,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"76617:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74259,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"76617:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74260,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"VIRTUAL","nodeType":"MemberAccess","referencedDeclaration":66568,"src":"76617:33:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"76592:58:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74262,"nodeType":"ExpressionStatement","src":"76592:58:119"}]}},{"condition":{"expression":{"id":74301,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"77031:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74302,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondInputVirtual","nodeType":"MemberAccess","referencedDeclaration":71830,"src":"77031:38:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"expression":{"id":74330,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"77397:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74331,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondInputInUse","nodeType":"MemberAccess","referencedDeclaration":71836,"src":"77397:36:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":74391,"nodeType":"Block","src":"77785:168:119","statements":[{"expression":{"id":74372,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74368,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77799:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74370,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"77799:14:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":74371,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"77816:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"77799:18:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74373,"nodeType":"ExpressionStatement","src":"77799:18:119"},{"expression":{"id":74381,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74374,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77831:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74376,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"77831:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"307830","id":74379,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"77866:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74378,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"77858:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74377,"name":"address","nodeType":"ElementaryTypeName","src":"77858:7:119","typeDescriptions":{}}},"id":74380,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"77858:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"77831:39:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74382,"nodeType":"ExpressionStatement","src":"77831:39:119"},{"expression":{"id":74389,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74383,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77884:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74385,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"77884:21:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":74386,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"77908:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74387,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"77908:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74388,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"NOT_USED","nodeType":"MemberAccess","referencedDeclaration":66565,"src":"77908:34:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"77884:58:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74390,"nodeType":"ExpressionStatement","src":"77884:58:119"}]},"id":74392,"nodeType":"IfStatement","src":"77393:560:119","trueBody":{"id":74367,"nodeType":"Block","src":"77435:344:119","statements":[{"expression":{"id":74337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74332,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77449:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74334,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"77449:14:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":74335,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"77466:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74336,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71820,"src":"77466:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"77449:50:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74338,"nodeType":"ExpressionStatement","src":"77449:50:119"},{"expression":{"id":74346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74339,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77513:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74341,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"77513:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":74343,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"77558:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74344,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71820,"src":"77558:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74342,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"77540:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":74345,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"77540:52:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"77513:79:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74347,"nodeType":"ExpressionStatement","src":"77513:79:119"},{"expression":{"id":74365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74348,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77606:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74350,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"77606:21:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":74357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74351,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77630:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74352,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"77630:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"307830","id":74355,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"77666:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74354,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"77658:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74353,"name":"address","nodeType":"ElementaryTypeName","src":"77658:7:119","typeDescriptions":{}}},"id":74356,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"77658:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"77630:40:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"expression":{"id":74361,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"77737:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74362,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"77737:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74363,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ERC20","nodeType":"MemberAccess","referencedDeclaration":66567,"src":"77737:31:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74364,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"77630:138:119","trueExpression":{"expression":{"expression":{"id":74358,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"77689:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"77689:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74360,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ETH","nodeType":"MemberAccess","referencedDeclaration":66566,"src":"77689:29:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"77606:162:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74366,"nodeType":"ExpressionStatement","src":"77606:162:119"}]}},"id":74393,"nodeType":"IfStatement","src":"77027:926:119","trueBody":{"id":74329,"nodeType":"Block","src":"77071:316:119","statements":[{"expression":{"id":74310,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74303,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77178:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74305,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"77178:14:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74309,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74306,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"77195:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74307,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"inputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71820,"src":"77195:33:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":74308,"name":"VIRTUAL_ASSET_ID_FLAG","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71930,"src":"77231:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"77195:57:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"77178:74:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74311,"nodeType":"ExpressionStatement","src":"77178:74:119"},{"expression":{"id":74319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74312,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77266:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74314,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"77266:24:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"307830","id":74317,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"77301:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74316,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"77293:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74315,"name":"address","nodeType":"ElementaryTypeName","src":"77293:7:119","typeDescriptions":{}}},"id":74318,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"77293:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"77266:39:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74320,"nodeType":"ExpressionStatement","src":"77266:39:119"},{"expression":{"id":74327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74321,"name":"inputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74164,"src":"77319:11:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74323,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"77319:21:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":74324,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"77343:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74325,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"77343:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74326,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"VIRTUAL","nodeType":"MemberAccess","referencedDeclaration":66568,"src":"77343:33:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"77319:57:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74328,"nodeType":"ExpressionStatement","src":"77319:57:119"}]}},{"condition":{"expression":{"id":74394,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"77967:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74395,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondOutputVirtual","nodeType":"MemberAccess","referencedDeclaration":71834,"src":"77967:39:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"expression":{"id":74420,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"78242:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74421,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondOutputInUse","nodeType":"MemberAccess","referencedDeclaration":71838,"src":"78242:37:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":74481,"nodeType":"Block","src":"78637:171:119","statements":[{"expression":{"id":74462,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74458,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78651:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74460,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"78651:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":74461,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"78669:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"78651:19:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74463,"nodeType":"ExpressionStatement","src":"78651:19:119"},{"expression":{"id":74471,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74464,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78684:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74466,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"78684:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"307830","id":74469,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"78720:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74468,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"78712:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74467,"name":"address","nodeType":"ElementaryTypeName","src":"78712:7:119","typeDescriptions":{}}},"id":74470,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"78712:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"78684:40:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74472,"nodeType":"ExpressionStatement","src":"78684:40:119"},{"expression":{"id":74479,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74473,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78738:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74475,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"78738:22:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":74476,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"78763:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74477,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"78763:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74478,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"NOT_USED","nodeType":"MemberAccess","referencedDeclaration":66565,"src":"78763:34:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"78738:59:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74480,"nodeType":"ExpressionStatement","src":"78738:59:119"}]},"id":74482,"nodeType":"IfStatement","src":"78238:570:119","trueBody":{"id":74457,"nodeType":"Block","src":"78281:350:119","statements":[{"expression":{"id":74427,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74422,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78295:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74424,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"78295:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":74425,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"78313:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74426,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71824,"src":"78313:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"78295:52:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74428,"nodeType":"ExpressionStatement","src":"78295:52:119"},{"expression":{"id":74436,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74429,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78361:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74431,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"78361:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":74433,"name":"_fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74155,"src":"78407:19:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74434,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"outputAssetIdB","nodeType":"MemberAccess","referencedDeclaration":71824,"src":"78407:34:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74432,"name":"getSupportedAsset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73962,"src":"78389:17:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view returns (address)"}},"id":74435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"78389:53:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"78361:81:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74437,"nodeType":"ExpressionStatement","src":"78361:81:119"},{"expression":{"id":74455,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74438,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78456:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74440,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"78456:22:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":74447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":74441,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78481:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74442,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"78481:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"307830","id":74445,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"78518:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74444,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"78510:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74443,"name":"address","nodeType":"ElementaryTypeName","src":"78510:7:119","typeDescriptions":{}}},"id":74446,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"78510:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"78481:41:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"expression":{"id":74451,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"78589:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74452,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"78589:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74453,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ERC20","nodeType":"MemberAccess","referencedDeclaration":66567,"src":"78589:31:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74454,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"78481:139:119","trueExpression":{"expression":{"expression":{"id":74448,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"78541:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74449,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"78541:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74450,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"ETH","nodeType":"MemberAccess","referencedDeclaration":66566,"src":"78541:29:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"78456:164:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74456,"nodeType":"ExpressionStatement","src":"78456:164:119"}]}},"id":74483,"nodeType":"IfStatement","src":"77963:845:119","trueBody":{"id":74419,"nodeType":"Block","src":"78008:224:119","statements":[{"expression":{"id":74400,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74396,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78060:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74398,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"id","nodeType":"MemberAccess","referencedDeclaration":66571,"src":"78060:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":74399,"name":"_interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74157,"src":"78078:17:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"78060:35:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74401,"nodeType":"ExpressionStatement","src":"78060:35:119"},{"expression":{"id":74409,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74402,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78109:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74404,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"erc20Address","nodeType":"MemberAccess","referencedDeclaration":66573,"src":"78109:25:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"hexValue":"307830","id":74407,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"78145:3:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0x0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":74406,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"78137:7:119","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":74405,"name":"address","nodeType":"ElementaryTypeName","src":"78137:7:119","typeDescriptions":{}}},"id":74408,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"78137:12:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"78109:40:119","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":74410,"nodeType":"ExpressionStatement","src":"78109:40:119"},{"expression":{"id":74417,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74411,"name":"outputAssetB","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74170,"src":"78163:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset memory"}},"id":74413,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"assetType","nodeType":"MemberAccess","referencedDeclaration":66576,"src":"78163:22:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":74414,"name":"AztecTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66578,"src":"78188:10:119","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AztecTypes_$66578_$","typeString":"type(library AztecTypes)"}},"id":74415,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"AztecAssetType","nodeType":"MemberAccess","referencedDeclaration":66569,"src":"78188:25:119","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_AztecAssetType_$66569_$","typeString":"type(enum AztecTypes.AztecAssetType)"}},"id":74416,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"VIRTUAL","nodeType":"MemberAccess","referencedDeclaration":66568,"src":"78188:33:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"src":"78163:58:119","typeDescriptions":{"typeIdentifier":"t_enum$_AztecAssetType_$66569","typeString":"enum AztecTypes.AztecAssetType"}},"id":74418,"nodeType":"ExpressionStatement","src":"78163:58:119"}]}}]},"documentation":{"id":74152,"nodeType":"StructuredDocumentation","src":"74691:588:119","text":" @notice Gets the four input/output assets associated with a specific bridge call\\n @param _fullBridgeCallData a struct that contains information defining a specific bridge call\\n @param _interactionNonce interaction nonce of a corresponding bridge call\\n @dev `_interactionNonce` param is here because it is used as an ID of output virtual asset\\n @return inputAssetA the first input asset\\n @return inputAssetB the second input asset\\n @return outputAssetA the first output asset\\n @return outputAssetB the second output asset"},"implemented":true,"kind":"function","modifiers":[],"name":"getAztecAssetTypes","nameLocation":"75293:18:119","parameters":{"id":74158,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74155,"mutability":"mutable","name":"_fullBridgeCallData","nameLocation":"75338:19:119","nodeType":"VariableDeclaration","scope":74485,"src":"75312:45:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"},"typeName":{"id":74154,"nodeType":"UserDefinedTypeName","pathNode":{"id":74153,"name":"FullBridgeCallData","nodeType":"IdentifierPath","referencedDeclaration":71841,"src":"75312:18:119"},"referencedDeclaration":71841,"src":"75312:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_storage_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"}},"visibility":"internal"},{"constant":false,"id":74157,"mutability":"mutable","name":"_interactionNonce","nameLocation":"75367:17:119","nodeType":"VariableDeclaration","scope":74485,"src":"75359:25:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74156,"name":"uint256","nodeType":"ElementaryTypeName","src":"75359:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"75311:74:119"},"returnParameters":{"id":74171,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74161,"mutability":"mutable","name":"inputAssetA","nameLocation":"75475:11:119","nodeType":"VariableDeclaration","scope":74485,"src":"75446:40:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74160,"nodeType":"UserDefinedTypeName","pathNode":{"id":74159,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"75446:21:119"},"referencedDeclaration":66577,"src":"75446:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":74164,"mutability":"mutable","name":"inputAssetB","nameLocation":"75529:11:119","nodeType":"VariableDeclaration","scope":74485,"src":"75500:40:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74163,"nodeType":"UserDefinedTypeName","pathNode":{"id":74162,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"75500:21:119"},"referencedDeclaration":66577,"src":"75500:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":74167,"mutability":"mutable","name":"outputAssetA","nameLocation":"75583:12:119","nodeType":"VariableDeclaration","scope":74485,"src":"75554:41:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74166,"nodeType":"UserDefinedTypeName","pathNode":{"id":74165,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"75554:21:119"},"referencedDeclaration":66577,"src":"75554:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":74170,"mutability":"mutable","name":"outputAssetB","nameLocation":"75638:12:119","nodeType":"VariableDeclaration","scope":74485,"src":"75609:41:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74169,"nodeType":"UserDefinedTypeName","pathNode":{"id":74168,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"75609:21:119"},"referencedDeclaration":66577,"src":"75609:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"}],"src":"75432:228:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":74495,"nodeType":"FunctionDefinition","src":"79204:790:119","nodes":[],"body":{"id":74494,"nodeType":"Block","src":"79381:613:119","nodes":[],"statements":[{"AST":{"nodeType":"YulBlock","src":"79400:588:119","statements":[{"nodeType":"YulVariableDeclaration","src":"79569:36:119","value":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"79588:16:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"79582:5:119"},"nodeType":"YulFunctionCall","src":"79582:23:119"},"variables":[{"name":"state","nodeType":"YulTypedName","src":"79573:5:119","type":""}]},{"nodeType":"YulBlock","src":"79618:360:119","statements":[{"nodeType":"YulAssignment","src":"79636:99:119","value":{"arguments":[{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"79671:17:119"},{"arguments":[{"name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"79694:32:119"},{"name":"state","nodeType":"YulIdentifier","src":"79728:5:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"79690:3:119"},"nodeType":"YulFunctionCall","src":"79690:44:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"79667:3:119"},"nodeType":"YulFunctionCall","src":"79667:68:119"},"variableNames":[{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"79636:27:119"}]},{"nodeType":"YulAssignment","src":"79752:53:119","value":{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"79778:27:119"},"variableNames":[{"name":"numPendingInteractions","nodeType":"YulIdentifier","src":"79752:22:119"}]},{"body":{"nodeType":"YulBlock","src":"79876:88:119","statements":[{"nodeType":"YulAssignment","src":"79898:48:119","value":{"name":"NUMBER_OF_BRIDGE_CALLS","nodeType":"YulIdentifier","src":"79924:22:119"},"variableNames":[{"name":"numPendingInteractions","nodeType":"YulIdentifier","src":"79898:22:119"}]}]},"condition":{"arguments":[{"name":"numPendingInteractions","nodeType":"YulIdentifier","src":"79828:22:119"},{"name":"NUMBER_OF_BRIDGE_CALLS","nodeType":"YulIdentifier","src":"79852:22:119"}],"functionName":{"name":"gt","nodeType":"YulIdentifier","src":"79825:2:119"},"nodeType":"YulFunctionCall","src":"79825:50:119"},"nodeType":"YulIf","src":"79822:142:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":71951,"isOffset":false,"isSlot":false,"src":"79671:17:119","valueSize":1},{"declaration":71948,"isOffset":false,"isSlot":false,"src":"79694:32:119","valueSize":1},{"declaration":67641,"isOffset":false,"isSlot":false,"src":"79852:22:119","valueSize":1},{"declaration":67641,"isOffset":false,"isSlot":false,"src":"79924:22:119","valueSize":1},{"declaration":74489,"isOffset":false,"isSlot":false,"src":"79636:27:119","valueSize":1},{"declaration":74489,"isOffset":false,"isSlot":false,"src":"79778:27:119","valueSize":1},{"declaration":74491,"isOffset":false,"isSlot":false,"src":"79752:22:119","valueSize":1},{"declaration":74491,"isOffset":false,"isSlot":false,"src":"79828:22:119","valueSize":1},{"declaration":74491,"isOffset":false,"isSlot":false,"src":"79898:22:119","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"79588:16:119","suffix":"slot","valueSize":1}],"id":74493,"nodeType":"InlineAssembly","src":"79391:597:119"}]},"documentation":{"id":74486,"nodeType":"StructuredDocumentation","src":"78820:379:119","text":" @notice Gets the length of the defi interaction hashes array and the number of pending interactions\\n @return defiInteractionHashesLength the complete length of the defi interaction array\\n @return numPendingInteractions the current number of pending defi interactions\\n @dev `numPendingInteractions` is capped at `NUMBER_OF_BRIDGE_CALLS`"},"implemented":true,"kind":"function","modifiers":[],"name":"getDefiHashesLengthsAndNumPendingInteractions","nameLocation":"79213:45:119","parameters":{"id":74487,"nodeType":"ParameterList","parameters":[],"src":"79258:2:119"},"returnParameters":{"id":74492,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74489,"mutability":"mutable","name":"defiInteractionHashesLength","nameLocation":"79316:27:119","nodeType":"VariableDeclaration","scope":74495,"src":"79308:35:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74488,"name":"uint256","nodeType":"ElementaryTypeName","src":"79308:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":74491,"mutability":"mutable","name":"numPendingInteractions","nameLocation":"79353:22:119","nodeType":"VariableDeclaration","scope":74495,"src":"79345:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74490,"name":"uint256","nodeType":"ElementaryTypeName","src":"79345:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"79307:69:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":74519,"nodeType":"FunctionDefinition","src":"80348:6583:119","nodes":[],"body":{"id":74518,"nodeType":"Block","src":"80493:6438:119","nodes":[],"statements":[{"assignments":[74505,74507],"declarations":[{"constant":false,"id":74505,"mutability":"mutable","name":"defiInteractionHashesLength","nameLocation":"84751:27:119","nodeType":"VariableDeclaration","scope":74518,"src":"84743:35:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74504,"name":"uint256","nodeType":"ElementaryTypeName","src":"84743:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":74507,"mutability":"mutable","name":"numPendingInteractions","nameLocation":"84788:22:119","nodeType":"VariableDeclaration","scope":74518,"src":"84780:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74506,"name":"uint256","nodeType":"ElementaryTypeName","src":"84780:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"documentation":" ----------------------------------------\\n Compute nextExpectedHash\\n -----------------------------------------\\n The `defiInteractionHashes` mapping emulates an array that represents the\\n set of defi interactions from previous blocks that have been resolved.\\n We need to take the interaction result data from each of the above defi interactions,\\n and add that data into the Aztec L2 merkle tree that contains defi interaction results\\n (the \\"Defi Tree\\". Its merkle root is one of the inputs to the storage variable `rollupStateHash`)\\n It is the rollup provider\'s responsibility to perform these additions.\\n In the current block being processed, the rollup provider must take these pending interaction results,\\n create commitments to each result and insert each commitment into the next empty leaf of the defi tree.\\n The following code validates that this has happened! This is how:\\n Part 1: What are we checking?\\n The rollup circuit will receive, as a private input from the rollup provider, the pending defi interaction\\n results\\n (`encodedBridgeCallData`, `totalInputValue`, `totalOutputValueA`, `totalOutputValueB`, `result`)\\n The rollup circuit will compute the SHA256 hash of each interaction result (the defiInteractionHash)\\n Finally the SHA256 hash of `NUMBER_OF_BRIDGE_CALLS` of these defiInteractionHash values is computed.\\n (if there are fewer than `NUMBER_OF_BRIDGE_CALLS` pending defi interaction results, the SHA256 hash of\\n an empty defi interaction result is used instead. i.e. all variable values are set to 0)\\n The computed SHA256 hash, the `pendingDefiInteractionHash`, is one of the broadcasted values that forms\\n the `publicInputsHash` public input to the rollup circuit.\\n When verifying a rollup proof, this smart contract will compute `publicInputsHash` from the input calldata.\\n The PLONK Verifier smart contract will then validate that our computed value for `publicInputHash` matches\\n the value used when generating the rollup proof.\\n TLDR of the above: our proof data contains a variable called `pendingDefiInteractionHash`, which is\\n the CLAIMED VALUE of SHA256 hashing the SHA256 hashes of the defi interactions that have resolved but whose\\n data has not yet been added into the defi tree.\\n Part 2: How do we check `pendingDefiInteractionHash` is correct???\\n This contract will call `DefiBridgeProxy.convert` (via delegatecall) on every new defi interaction present\\n in the block. The return values from the bridge proxy contract are used to construct a defi interaction\\n result. Its hash is then computed and stored in `defiInteractionHashes`.\\n N.B. It\'s very important that DefiBridgeProxy does not call selfdestruct, or makes a delegatecall out to\\n      a contract that can selfdestruct :o\\n Similarly, when async defi interactions resolve, the interaction result is stored in\\n `asyncDefiInteractionHashes`. At the end of the processBridgeCalls function, the contents of the async array\\n is copied into `defiInteractionHashes` (i.e. async interaction results are delayed by 1 rollup block.\\n This is to prevent griefing attacks where the rollup state changes between the time taken for a rollup tx\\n to be constructed and the rollup tx to be mined)\\n We use the contents of `defiInteractionHashes` to reconstruct `pendingDefiInteractionHash`, and validate it\\n matches the value present in calldata and therefore the value used in the rollup circuit when this block\'s\\n rollup proof was constructed. This validates that all of the required defi interaction results were added\\n into the defi tree by the rollup provider (the circuit logic enforces this, we just need to check the rollup\\n provider used the correct inputs)","id":74510,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":74508,"name":"getDefiHashesLengthsAndNumPendingInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74495,"src":"84826:45:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$_t_uint256_$","typeString":"function () view returns (uint256,uint256)"}},"id":74509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"84826:47:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"84742:131:119"},{"assignments":[74512],"declarations":[{"constant":false,"id":74512,"mutability":"mutable","name":"offset","nameLocation":"84891:6:119","nodeType":"VariableDeclaration","scope":74518,"src":"84883:14:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74511,"name":"uint256","nodeType":"ElementaryTypeName","src":"84883:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74516,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74513,"name":"defiInteractionHashesLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74505,"src":"84900:27:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":74514,"name":"numPendingInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74507,"src":"84930:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"84900:52:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"84883:69:119"},{"AST":{"nodeType":"YulBlock","src":"84971:1954:119","statements":[{"nodeType":"YulAssignment","src":"85036:21:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"85052:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"85046:5:119"},"nodeType":"YulFunctionCall","src":"85046:11:119"},"variableNames":[{"name":"hashes","nodeType":"YulIdentifier","src":"85036:6:119"}]},{"nodeType":"YulVariableDeclaration","src":"85070:33:119","value":{"arguments":[{"name":"hashes","nodeType":"YulIdentifier","src":"85090:6:119"},{"kind":"number","nodeType":"YulLiteral","src":"85098:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"85086:3:119"},"nodeType":"YulFunctionCall","src":"85086:17:119"},"variables":[{"name":"hashData","nodeType":"YulTypedName","src":"85074:8:119","type":""}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"85322:4:119","type":"","value":"0x40"},{"arguments":[{"name":"hashes","nodeType":"YulIdentifier","src":"85332:6:119"},{"arguments":[{"name":"NUMBER_OF_BRIDGE_BYTES","nodeType":"YulIdentifier","src":"85344:22:119"},{"kind":"number","nodeType":"YulLiteral","src":"85368:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"85340:3:119"},"nodeType":"YulFunctionCall","src":"85340:33:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"85328:3:119"},"nodeType":"YulFunctionCall","src":"85328:46:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"85315:6:119"},"nodeType":"YulFunctionCall","src":"85315:60:119"},"nodeType":"YulExpressionStatement","src":"85315:60:119"},{"expression":{"arguments":[{"name":"hashes","nodeType":"YulIdentifier","src":"85613:6:119"},{"name":"numPendingInteractions","nodeType":"YulIdentifier","src":"85621:22:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"85606:6:119"},"nodeType":"YulFunctionCall","src":"85606:38:119"},"nodeType":"YulExpressionStatement","src":"85606:38:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"85754:4:119","type":"","value":"0x20"},{"name":"defiInteractionHashes.slot","nodeType":"YulIdentifier","src":"85760:26:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"85747:6:119"},"nodeType":"YulFunctionCall","src":"85747:40:119"},"nodeType":"YulExpressionStatement","src":"85747:40:119"},{"nodeType":"YulVariableDeclaration","src":"85800:10:119","value":{"kind":"number","nodeType":"YulLiteral","src":"85809:1:119","type":"","value":"0"},"variables":[{"name":"i","nodeType":"YulTypedName","src":"85804:1:119","type":""}]},{"body":{"nodeType":"YulBlock","src":"86119:209:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"86211:4:119","type":"","value":"0x00"},{"arguments":[{"name":"offset","nodeType":"YulIdentifier","src":"86221:6:119"},{"name":"i","nodeType":"YulIdentifier","src":"86229:1:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"86217:3:119"},"nodeType":"YulFunctionCall","src":"86217:14:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"86204:6:119"},"nodeType":"YulFunctionCall","src":"86204:28:119"},"nodeType":"YulExpressionStatement","src":"86204:28:119"},{"expression":{"arguments":[{"arguments":[{"name":"hashData","nodeType":"YulIdentifier","src":"86260:8:119"},{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"86274:1:119"},{"kind":"number","nodeType":"YulLiteral","src":"86277:4:119","type":"","value":"0x20"}],"functionName":{"name":"mul","nodeType":"YulIdentifier","src":"86270:3:119"},"nodeType":"YulFunctionCall","src":"86270:12:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"86256:3:119"},"nodeType":"YulFunctionCall","src":"86256:27:119"},{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"86301:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"86307:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"86291:9:119"},"nodeType":"YulFunctionCall","src":"86291:21:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"86285:5:119"},"nodeType":"YulFunctionCall","src":"86285:28:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"86249:6:119"},"nodeType":"YulFunctionCall","src":"86249:65:119"},"nodeType":"YulExpressionStatement","src":"86249:65:119"}]},"condition":{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"86070:1:119"},{"name":"numPendingInteractions","nodeType":"YulIdentifier","src":"86073:22:119"}],"functionName":{"name":"lt","nodeType":"YulIdentifier","src":"86067:2:119"},"nodeType":"YulFunctionCall","src":"86067:29:119"},"nodeType":"YulForLoop","post":{"nodeType":"YulBlock","src":"86097:21:119","statements":[{"nodeType":"YulAssignment","src":"86099:17:119","value":{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"86108:1:119"},{"kind":"number","nodeType":"YulLiteral","src":"86111:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"86104:3:119"},"nodeType":"YulFunctionCall","src":"86104:12:119"},"variableNames":[{"name":"i","nodeType":"YulIdentifier","src":"86099:1:119"}]}]},"pre":{"nodeType":"YulBlock","src":"86064:2:119","statements":[]},"src":"86060:268:119"},{"body":{"nodeType":"YulBlock","src":"86618:145:119","statements":[{"expression":{"arguments":[{"arguments":[{"name":"hashData","nodeType":"YulIdentifier","src":"86702:8:119"},{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"86716:1:119"},{"kind":"number","nodeType":"YulLiteral","src":"86719:4:119","type":"","value":"0x20"}],"functionName":{"name":"mul","nodeType":"YulIdentifier","src":"86712:3:119"},"nodeType":"YulFunctionCall","src":"86712:12:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"86698:3:119"},"nodeType":"YulFunctionCall","src":"86698:27:119"},{"name":"DEFI_RESULT_ZERO_HASH","nodeType":"YulIdentifier","src":"86727:21:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"86691:6:119"},"nodeType":"YulFunctionCall","src":"86691:58:119"},"nodeType":"YulExpressionStatement","src":"86691:58:119"}]},"condition":{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"86569:1:119"},{"name":"NUMBER_OF_BRIDGE_CALLS","nodeType":"YulIdentifier","src":"86572:22:119"}],"functionName":{"name":"lt","nodeType":"YulIdentifier","src":"86566:2:119"},"nodeType":"YulFunctionCall","src":"86566:29:119"},"nodeType":"YulForLoop","post":{"nodeType":"YulBlock","src":"86596:21:119","statements":[{"nodeType":"YulAssignment","src":"86598:17:119","value":{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"86607:1:119"},{"kind":"number","nodeType":"YulLiteral","src":"86610:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"86603:3:119"},"nodeType":"YulFunctionCall","src":"86603:12:119"},"variableNames":[{"name":"i","nodeType":"YulIdentifier","src":"86598:1:119"}]}]},"pre":{"nodeType":"YulBlock","src":"86563:2:119","statements":[]},"src":"86559:204:119"},{"expression":{"arguments":[{"arguments":[{"arguments":[],"functionName":{"name":"gas","nodeType":"YulIdentifier","src":"86791:3:119"},"nodeType":"YulFunctionCall","src":"86791:5:119"},{"kind":"number","nodeType":"YulLiteral","src":"86798:3:119","type":"","value":"0x2"},{"name":"hashData","nodeType":"YulIdentifier","src":"86803:8:119"},{"name":"NUMBER_OF_BRIDGE_BYTES","nodeType":"YulIdentifier","src":"86813:22:119"},{"kind":"number","nodeType":"YulLiteral","src":"86837:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"86843:4:119","type":"","value":"0x20"}],"functionName":{"name":"staticcall","nodeType":"YulIdentifier","src":"86780:10:119"},"nodeType":"YulFunctionCall","src":"86780:68:119"}],"functionName":{"name":"pop","nodeType":"YulIdentifier","src":"86776:3:119"},"nodeType":"YulFunctionCall","src":"86776:73:119"},"nodeType":"YulExpressionStatement","src":"86776:73:119"},{"nodeType":"YulAssignment","src":"86862:53:119","value":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"86892:4:119","type":"","value":"0x00"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"86886:5:119"},"nodeType":"YulFunctionCall","src":"86886:11:119"},{"name":"CIRCUIT_MODULUS","nodeType":"YulIdentifier","src":"86899:15:119"}],"functionName":{"name":"mod","nodeType":"YulIdentifier","src":"86882:3:119"},"nodeType":"YulFunctionCall","src":"86882:33:119"},"variableNames":[{"name":"nextExpectedHash","nodeType":"YulIdentifier","src":"86862:16:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":67674,"isOffset":false,"isSlot":false,"src":"86899:15:119","valueSize":1},{"declaration":71957,"isOffset":false,"isSlot":false,"src":"86727:21:119","valueSize":1},{"declaration":67644,"isOffset":false,"isSlot":false,"src":"85344:22:119","valueSize":1},{"declaration":67644,"isOffset":false,"isSlot":false,"src":"86813:22:119","valueSize":1},{"declaration":67641,"isOffset":false,"isSlot":false,"src":"86572:22:119","valueSize":1},{"declaration":71998,"isOffset":false,"isSlot":true,"src":"85760:26:119","suffix":"slot","valueSize":1},{"declaration":74500,"isOffset":false,"isSlot":false,"src":"85036:6:119","valueSize":1},{"declaration":74500,"isOffset":false,"isSlot":false,"src":"85090:6:119","valueSize":1},{"declaration":74500,"isOffset":false,"isSlot":false,"src":"85332:6:119","valueSize":1},{"declaration":74500,"isOffset":false,"isSlot":false,"src":"85613:6:119","valueSize":1},{"declaration":74502,"isOffset":false,"isSlot":false,"src":"86862:16:119","valueSize":1},{"declaration":74507,"isOffset":false,"isSlot":false,"src":"85621:22:119","valueSize":1},{"declaration":74507,"isOffset":false,"isSlot":false,"src":"86073:22:119","valueSize":1},{"declaration":74512,"isOffset":false,"isSlot":false,"src":"86221:6:119","valueSize":1}],"id":74517,"nodeType":"InlineAssembly","src":"84962:1963:119"}]},"documentation":{"id":74496,"nodeType":"StructuredDocumentation","src":"80000:343:119","text":" @notice Gets the set of hashes that comprise the current pending interactions and nextExpectedHash\\n @return hashes the set of valid (i.e. non-zero) hashes that comprise the pending interactions\\n @return nextExpectedHash the hash of all hashes (including zero hashes) that comprise the pending interactions"},"implemented":true,"kind":"function","modifiers":[],"name":"getPendingAndNextExpectedHashes","nameLocation":"80357:31:119","parameters":{"id":74497,"nodeType":"ParameterList","parameters":[],"src":"80388:2:119"},"returnParameters":{"id":74503,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74500,"mutability":"mutable","name":"hashes","nameLocation":"80455:6:119","nodeType":"VariableDeclaration","scope":74519,"src":"80438:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":74498,"name":"bytes32","nodeType":"ElementaryTypeName","src":"80438:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":74499,"nodeType":"ArrayTypeName","src":"80438:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":74502,"mutability":"mutable","name":"nextExpectedHash","nameLocation":"80471:16:119","nodeType":"VariableDeclaration","scope":74519,"src":"80463:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":74501,"name":"bytes32","nodeType":"ElementaryTypeName","src":"80463:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"80437:51:119"},"scope":74677,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":74676,"nodeType":"FunctionDefinition","src":"88243:15838:119","nodes":[],"body":{"id":74675,"nodeType":"Block","src":"88399:15682:119","nodes":[],"statements":[{"assignments":[74531],"declarations":[{"constant":false,"id":74531,"mutability":"mutable","name":"defiInteractionHashesLength","nameLocation":"88417:27:119","nodeType":"VariableDeclaration","scope":74675,"src":"88409:35:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74530,"name":"uint256","nodeType":"ElementaryTypeName","src":"88409:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74532,"nodeType":"VariableDeclarationStatement","src":"88409:35:119"},{"id":74564,"nodeType":"Block","src":"88596:1576:119","statements":[{"assignments":[74534],"declarations":[{"constant":false,"id":74534,"mutability":"mutable","name":"providedDefiInteractionsHash","nameLocation":"88716:28:119","nodeType":"VariableDeclaration","scope":74564,"src":"88708:36:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":74533,"name":"bytes32","nodeType":"ElementaryTypeName","src":"88708:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":74538,"initialValue":{"arguments":[{"id":74536,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74522,"src":"88778:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":74535,"name":"extractPrevDefiInteractionHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67997,"src":"88747:30:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":74537,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"88747:42:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"88708:81:119"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":74541,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74539,"name":"providedDefiInteractionsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74534,"src":"88912:28:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":74540,"name":"prevDefiInteractionsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72045,"src":"88944:24:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"88912:56:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74548,"nodeType":"IfStatement","src":"88908:198:119","trueBody":{"id":74547,"nodeType":"Block","src":"88970:136:119","statements":[{"errorCall":{"arguments":[{"id":74543,"name":"providedDefiInteractionsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74534,"src":"89036:28:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":74544,"name":"prevDefiInteractionsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72045,"src":"89066:24:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":74542,"name":"INCORRECT_PREVIOUS_DEFI_INTERACTION_HASH","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71670,"src":"88995:40:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (bytes32,bytes32) pure"}},"id":74545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"88995:96:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74546,"nodeType":"RevertStatement","src":"88988:103:119"}]}},{"assignments":[74550],"declarations":[{"constant":false,"id":74550,"mutability":"mutable","name":"numPendingInteractions","nameLocation":"89127:22:119","nodeType":"VariableDeclaration","scope":74564,"src":"89119:30:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74549,"name":"uint256","nodeType":"ElementaryTypeName","src":"89119:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74551,"nodeType":"VariableDeclarationStatement","src":"89119:30:119"},{"expression":{"id":74557,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":74552,"name":"defiInteractionHashesLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74531,"src":"89164:27:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":74553,"name":"numPendingInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74550,"src":"89193:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":74554,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"89163:53:119","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"id":74555,"name":"getDefiHashesLengthsAndNumPendingInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74495,"src":"89219:45:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$_t_uint256_$","typeString":"function () view returns (uint256,uint256)"}},"id":74556,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"89219:47:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"89163:103:119","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74558,"nodeType":"ExpressionStatement","src":"89163:103:119"},{"expression":{"id":74561,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":74559,"name":"defiInteractionHashesLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74531,"src":"89681:27:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"id":74560,"name":"numPendingInteractions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74550,"src":"89712:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"89681:53:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74562,"nodeType":"ExpressionStatement","src":"89681:53:119"},{"AST":{"nodeType":"YulBlock","src":"89758:404:119","statements":[{"nodeType":"YulVariableDeclaration","src":"89842:36:119","value":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"89861:16:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"89855:5:119"},"nodeType":"YulFunctionCall","src":"89855:23:119"},"variables":[{"name":"state","nodeType":"YulTypedName","src":"89846:5:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"89895:89:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"89923:32:119"},{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"89957:17:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"89919:3:119"},"nodeType":"YulFunctionCall","src":"89919:56:119"}],"functionName":{"name":"not","nodeType":"YulIdentifier","src":"89915:3:119"},"nodeType":"YulFunctionCall","src":"89915:61:119"},{"name":"state","nodeType":"YulIdentifier","src":"89978:5:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"89911:3:119"},"nodeType":"YulFunctionCall","src":"89911:73:119"},"variables":[{"name":"oldState","nodeType":"YulTypedName","src":"89899:8:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"90001:96:119","value":{"arguments":[{"name":"oldState","nodeType":"YulIdentifier","src":"90020:8:119"},{"arguments":[{"name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"90034:32:119"},{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"90068:27:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"90030:3:119"},"nodeType":"YulFunctionCall","src":"90030:66:119"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"90017:2:119"},"nodeType":"YulFunctionCall","src":"90017:80:119"},"variables":[{"name":"newState","nodeType":"YulTypedName","src":"90005:8:119","type":""}]},{"expression":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"90121:16:119"},{"name":"newState","nodeType":"YulIdentifier","src":"90139:8:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"90114:6:119"},"nodeType":"YulFunctionCall","src":"90114:34:119"},"nodeType":"YulExpressionStatement","src":"90114:34:119"}]},"evmVersion":"london","externalReferences":[{"declaration":71951,"isOffset":false,"isSlot":false,"src":"89957:17:119","valueSize":1},{"declaration":71948,"isOffset":false,"isSlot":false,"src":"89923:32:119","valueSize":1},{"declaration":71948,"isOffset":false,"isSlot":false,"src":"90034:32:119","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"90068:27:119","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"89861:16:119","suffix":"slot","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"90121:16:119","suffix":"slot","valueSize":1}],"id":74563,"nodeType":"InlineAssembly","src":"89749:413:119"}]},{"assignments":[74566],"declarations":[{"constant":false,"id":74566,"mutability":"mutable","name":"interactionNonce","nameLocation":"90189:16:119","nodeType":"VariableDeclaration","scope":74675,"src":"90181:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74565,"name":"uint256","nodeType":"ElementaryTypeName","src":"90181:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74572,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":74568,"name":"_proofData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74522,"src":"90220:10:119","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":74567,"name":"getRollupId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67969,"src":"90208:11:119","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$","typeString":"function (bytes memory) pure returns (uint256)"}},"id":74569,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"90208:23:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":74570,"name":"NUMBER_OF_BRIDGE_CALLS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67641,"src":"90234:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"90208:48:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"90181:75:119"},{"assignments":[74574],"declarations":[{"constant":false,"id":74574,"mutability":"mutable","name":"proofDataPtr","nameLocation":"90311:12:119","nodeType":"VariableDeclaration","scope":74675,"src":"90303:20:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74573,"name":"uint256","nodeType":"ElementaryTypeName","src":"90303:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74575,"nodeType":"VariableDeclarationStatement","src":"90303:20:119"},{"AST":{"nodeType":"YulBlock","src":"90342:81:119","statements":[{"nodeType":"YulAssignment","src":"90356:57:119","value":{"arguments":[{"name":"_proofData","nodeType":"YulIdentifier","src":"90376:10:119"},{"name":"BRIDGE_CALL_DATAS_OFFSET","nodeType":"YulIdentifier","src":"90388:24:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"90372:3:119"},"nodeType":"YulFunctionCall","src":"90372:41:119"},"variableNames":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"90356:12:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":67665,"isOffset":false,"isSlot":false,"src":"90388:24:119","valueSize":1},{"declaration":74522,"isOffset":false,"isSlot":false,"src":"90376:10:119","valueSize":1},{"declaration":74574,"isOffset":false,"isSlot":false,"src":"90356:12:119","valueSize":1}],"id":74576,"nodeType":"InlineAssembly","src":"90333:90:119"},{"assignments":[74579],"declarations":[{"constant":false,"id":74579,"mutability":"mutable","name":"bridgeResult","nameLocation":"90452:12:119","nodeType":"VariableDeclaration","scope":74675,"src":"90432:32:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_BridgeResult_$71855_memory_ptr","typeString":"struct RollupProcessorV2.BridgeResult"},"typeName":{"id":74578,"nodeType":"UserDefinedTypeName","pathNode":{"id":74577,"name":"BridgeResult","nodeType":"IdentifierPath","referencedDeclaration":71855,"src":"90432:12:119"},"referencedDeclaration":71855,"src":"90432:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_BridgeResult_$71855_storage_ptr","typeString":"struct RollupProcessorV2.BridgeResult"}},"visibility":"internal"}],"id":74580,"nodeType":"VariableDeclarationStatement","src":"90432:32:119"},{"AST":{"nodeType":"YulBlock","src":"90483:101:119","statements":[{"nodeType":"YulAssignment","src":"90497:27:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"90519:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"90513:5:119"},"nodeType":"YulFunctionCall","src":"90513:11:119"},"variableNames":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"90497:12:119"}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"90544:4:119","type":"","value":"0x40"},{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"90554:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"90568:4:119","type":"","value":"0x80"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"90550:3:119"},"nodeType":"YulFunctionCall","src":"90550:23:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"90537:6:119"},"nodeType":"YulFunctionCall","src":"90537:37:119"},"nodeType":"YulExpressionStatement","src":"90537:37:119"}]},"evmVersion":"london","externalReferences":[{"declaration":74579,"isOffset":false,"isSlot":false,"src":"90497:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"90554:12:119","valueSize":1}],"id":74581,"nodeType":"InlineAssembly","src":"90474:110:119"},{"body":{"id":74654,"nodeType":"Block","src":"90642:10228:119","statements":[{"assignments":[74590],"declarations":[{"constant":false,"id":74590,"mutability":"mutable","name":"encodedBridgeCallData","nameLocation":"90664:21:119","nodeType":"VariableDeclaration","scope":74654,"src":"90656:29:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74589,"name":"uint256","nodeType":"ElementaryTypeName","src":"90656:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74591,"nodeType":"VariableDeclarationStatement","src":"90656:29:119"},{"AST":{"nodeType":"YulBlock","src":"90708:76:119","statements":[{"nodeType":"YulAssignment","src":"90726:44:119","value":{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"90757:12:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"90751:5:119"},"nodeType":"YulFunctionCall","src":"90751:19:119"},"variableNames":[{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"90726:21:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":74590,"isOffset":false,"isSlot":false,"src":"90726:21:119","valueSize":1},{"declaration":74574,"isOffset":false,"isSlot":false,"src":"90757:12:119","valueSize":1}],"id":74592,"nodeType":"InlineAssembly","src":"90699:85:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74595,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74593,"name":"encodedBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74590,"src":"90801:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":74594,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"90826:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"90801:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74598,"nodeType":"IfStatement","src":"90797:113:119","trueBody":{"id":74597,"nodeType":"Block","src":"90829:81:119","statements":[{"id":74596,"nodeType":"Break","src":"90890:5:119"}]}},{"assignments":[74600],"declarations":[{"constant":false,"id":74600,"mutability":"mutable","name":"totalInputValue","nameLocation":"90931:15:119","nodeType":"VariableDeclaration","scope":74654,"src":"90923:23:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74599,"name":"uint256","nodeType":"ElementaryTypeName","src":"90923:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74601,"nodeType":"VariableDeclarationStatement","src":"90923:23:119"},{"AST":{"nodeType":"YulBlock","src":"90969:110:119","statements":[{"nodeType":"YulAssignment","src":"90987:78:119","value":{"arguments":[{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"91016:12:119"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"91034:4:119","type":"","value":"0x20"},{"name":"NUMBER_OF_BRIDGE_CALLS","nodeType":"YulIdentifier","src":"91040:22:119"}],"functionName":{"name":"mul","nodeType":"YulIdentifier","src":"91030:3:119"},"nodeType":"YulFunctionCall","src":"91030:33:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"91012:3:119"},"nodeType":"YulFunctionCall","src":"91012:52:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"91006:5:119"},"nodeType":"YulFunctionCall","src":"91006:59:119"},"variableNames":[{"name":"totalInputValue","nodeType":"YulIdentifier","src":"90987:15:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":67641,"isOffset":false,"isSlot":false,"src":"91040:22:119","valueSize":1},{"declaration":74574,"isOffset":false,"isSlot":false,"src":"91016:12:119","valueSize":1},{"declaration":74600,"isOffset":false,"isSlot":false,"src":"90987:15:119","valueSize":1}],"id":74602,"nodeType":"InlineAssembly","src":"90960:119:119"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74603,"name":"totalInputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74600,"src":"91096:15:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":74604,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"91115:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"91096:20:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74610,"nodeType":"IfStatement","src":"91092:90:119","trueBody":{"id":74609,"nodeType":"Block","src":"91118:64:119","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":74606,"name":"ZERO_TOTAL_INPUT_VALUE","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71636,"src":"91143:22:119","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":74607,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"91143:24:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":74608,"nodeType":"RevertStatement","src":"91136:31:119"}]}},{"assignments":[74613],"declarations":[{"constant":false,"id":74613,"mutability":"mutable","name":"fullBridgeCallData","nameLocation":"91222:18:119","nodeType":"VariableDeclaration","scope":74654,"src":"91196:44:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"},"typeName":{"id":74612,"nodeType":"UserDefinedTypeName","pathNode":{"id":74611,"name":"FullBridgeCallData","nodeType":"IdentifierPath","referencedDeclaration":71841,"src":"91196:18:119"},"referencedDeclaration":71841,"src":"91196:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_storage_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData"}},"visibility":"internal"}],"id":74617,"initialValue":{"arguments":[{"id":74615,"name":"encodedBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74590,"src":"91265:21:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74614,"name":"getFullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74151,"src":"91243:21:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_struct$_FullBridgeCallData_$71841_memory_ptr_$","typeString":"function (uint256) view returns (struct RollupProcessorV2.FullBridgeCallData memory)"}},"id":74616,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"91243:44:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"nodeType":"VariableDeclarationStatement","src":"91196:91:119"},{"assignments":[74622,74625,74628,74631],"declarations":[{"constant":false,"id":74622,"mutability":"mutable","name":"inputAssetA","nameLocation":"91349:11:119","nodeType":"VariableDeclaration","scope":74654,"src":"91320:40:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74621,"nodeType":"UserDefinedTypeName","pathNode":{"id":74620,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"91320:21:119"},"referencedDeclaration":66577,"src":"91320:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":74625,"mutability":"mutable","name":"inputAssetB","nameLocation":"91407:11:119","nodeType":"VariableDeclaration","scope":74654,"src":"91378:40:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74624,"nodeType":"UserDefinedTypeName","pathNode":{"id":74623,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"91378:21:119"},"referencedDeclaration":66577,"src":"91378:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":74628,"mutability":"mutable","name":"outputAssetA","nameLocation":"91465:12:119","nodeType":"VariableDeclaration","scope":74654,"src":"91436:41:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74627,"nodeType":"UserDefinedTypeName","pathNode":{"id":74626,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"91436:21:119"},"referencedDeclaration":66577,"src":"91436:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"},{"constant":false,"id":74631,"mutability":"mutable","name":"outputAssetB","nameLocation":"91524:12:119","nodeType":"VariableDeclaration","scope":74654,"src":"91495:41:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_memory_ptr","typeString":"struct AztecTypes.AztecAsset"},"typeName":{"id":74630,"nodeType":"UserDefinedTypeName","pathNode":{"id":74629,"name":"AztecTypes.AztecAsset","nodeType":"IdentifierPath","referencedDeclaration":66577,"src":"91495:21:119"},"referencedDeclaration":66577,"src":"91495:21:119","typeDescriptions":{"typeIdentifier":"t_struct$_AztecAsset_$66577_storage_ptr","typeString":"struct AztecTypes.AztecAsset"}},"visibility":"internal"}],"id":74636,"initialValue":{"arguments":[{"id":74633,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74613,"src":"91572:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},{"id":74634,"name":"interactionNonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74566,"src":"91592:16:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":74632,"name":"getAztecAssetTypes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74485,"src":"91553:18:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_FullBridgeCallData_$71841_memory_ptr_$_t_uint256_$returns$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$","typeString":"function (struct RollupProcessorV2.FullBridgeCallData memory,uint256) view returns (struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory)"}},"id":74635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"91553:56:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$_t_struct$_AztecAsset_$66577_memory_ptr_$","typeString":"tuple(struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory,struct AztecTypes.AztecAsset memory)"}},"nodeType":"VariableDeclarationStatement","src":"91302:307:119"},{"AST":{"nodeType":"YulBlock","src":"91632:4446:119","statements":[{"nodeType":"YulVariableDeclaration","src":"92553:23:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"92571:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"92565:5:119"},"nodeType":"YulFunctionCall","src":"92565:11:119"},"variables":[{"name":"mPtr","nodeType":"YulTypedName","src":"92557:4:119","type":""}]},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"92659:4:119"},{"name":"DEFI_BRIDGE_PROXY_CONVERT_SELECTOR","nodeType":"YulIdentifier","src":"92665:34:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"92652:6:119"},"nodeType":"YulFunctionCall","src":"92652:48:119"},"nodeType":"YulExpressionStatement","src":"92652:48:119"},{"nodeType":"YulAssignment","src":"92717:23:119","value":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"92729:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"92735:4:119","type":"","value":"0x04"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"92725:3:119"},"nodeType":"YulFunctionCall","src":"92725:15:119"},"variableNames":[{"name":"mPtr","nodeType":"YulIdentifier","src":"92717:4:119"}]},{"nodeType":"YulVariableDeclaration","src":"92758:57:119","value":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"92789:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"92809:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"92785:3:119"},"nodeType":"YulFunctionCall","src":"92785:29:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"92779:5:119"},"nodeType":"YulFunctionCall","src":"92779:36:119"},"variables":[{"name":"bridgeAddress","nodeType":"YulTypedName","src":"92762:13:119","type":""}]},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"92839:4:119"},{"name":"bridgeAddress","nodeType":"YulIdentifier","src":"92845:13:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"92832:6:119"},"nodeType":"YulFunctionCall","src":"92832:27:119"},"nodeType":"YulExpressionStatement","src":"92832:27:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"92887:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"92893:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"92883:3:119"},"nodeType":"YulFunctionCall","src":"92883:15:119"},{"arguments":[{"name":"inputAssetA","nodeType":"YulIdentifier","src":"92906:11:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"92900:5:119"},"nodeType":"YulFunctionCall","src":"92900:18:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"92876:6:119"},"nodeType":"YulFunctionCall","src":"92876:43:119"},"nodeType":"YulExpressionStatement","src":"92876:43:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"92947:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"92953:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"92943:3:119"},"nodeType":"YulFunctionCall","src":"92943:15:119"},{"arguments":[{"arguments":[{"name":"inputAssetA","nodeType":"YulIdentifier","src":"92970:11:119"},{"kind":"number","nodeType":"YulLiteral","src":"92983:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"92966:3:119"},"nodeType":"YulFunctionCall","src":"92966:22:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"92960:5:119"},"nodeType":"YulFunctionCall","src":"92960:29:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"92936:6:119"},"nodeType":"YulFunctionCall","src":"92936:54:119"},"nodeType":"YulExpressionStatement","src":"92936:54:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93018:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93024:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93014:3:119"},"nodeType":"YulFunctionCall","src":"93014:15:119"},{"arguments":[{"arguments":[{"name":"inputAssetA","nodeType":"YulIdentifier","src":"93041:11:119"},{"kind":"number","nodeType":"YulLiteral","src":"93054:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93037:3:119"},"nodeType":"YulFunctionCall","src":"93037:22:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93031:5:119"},"nodeType":"YulFunctionCall","src":"93031:29:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93007:6:119"},"nodeType":"YulFunctionCall","src":"93007:54:119"},"nodeType":"YulExpressionStatement","src":"93007:54:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93089:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93095:4:119","type":"","value":"0x80"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93085:3:119"},"nodeType":"YulFunctionCall","src":"93085:15:119"},{"arguments":[{"name":"inputAssetB","nodeType":"YulIdentifier","src":"93108:11:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93102:5:119"},"nodeType":"YulFunctionCall","src":"93102:18:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93078:6:119"},"nodeType":"YulFunctionCall","src":"93078:43:119"},"nodeType":"YulExpressionStatement","src":"93078:43:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93149:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93155:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93145:3:119"},"nodeType":"YulFunctionCall","src":"93145:15:119"},{"arguments":[{"arguments":[{"name":"inputAssetB","nodeType":"YulIdentifier","src":"93172:11:119"},{"kind":"number","nodeType":"YulLiteral","src":"93185:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93168:3:119"},"nodeType":"YulFunctionCall","src":"93168:22:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93162:5:119"},"nodeType":"YulFunctionCall","src":"93162:29:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93138:6:119"},"nodeType":"YulFunctionCall","src":"93138:54:119"},"nodeType":"YulExpressionStatement","src":"93138:54:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93220:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93226:4:119","type":"","value":"0xc0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93216:3:119"},"nodeType":"YulFunctionCall","src":"93216:15:119"},{"arguments":[{"arguments":[{"name":"inputAssetB","nodeType":"YulIdentifier","src":"93243:11:119"},{"kind":"number","nodeType":"YulLiteral","src":"93256:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93239:3:119"},"nodeType":"YulFunctionCall","src":"93239:22:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93233:5:119"},"nodeType":"YulFunctionCall","src":"93233:29:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93209:6:119"},"nodeType":"YulFunctionCall","src":"93209:54:119"},"nodeType":"YulExpressionStatement","src":"93209:54:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93291:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93297:4:119","type":"","value":"0xe0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93287:3:119"},"nodeType":"YulFunctionCall","src":"93287:15:119"},{"arguments":[{"name":"outputAssetA","nodeType":"YulIdentifier","src":"93310:12:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93304:5:119"},"nodeType":"YulFunctionCall","src":"93304:19:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93280:6:119"},"nodeType":"YulFunctionCall","src":"93280:44:119"},"nodeType":"YulExpressionStatement","src":"93280:44:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93352:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93358:5:119","type":"","value":"0x100"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93348:3:119"},"nodeType":"YulFunctionCall","src":"93348:16:119"},{"arguments":[{"arguments":[{"name":"outputAssetA","nodeType":"YulIdentifier","src":"93376:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"93390:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93372:3:119"},"nodeType":"YulFunctionCall","src":"93372:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93366:5:119"},"nodeType":"YulFunctionCall","src":"93366:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93341:6:119"},"nodeType":"YulFunctionCall","src":"93341:56:119"},"nodeType":"YulExpressionStatement","src":"93341:56:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93425:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93431:5:119","type":"","value":"0x120"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93421:3:119"},"nodeType":"YulFunctionCall","src":"93421:16:119"},{"arguments":[{"arguments":[{"name":"outputAssetA","nodeType":"YulIdentifier","src":"93449:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"93463:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93445:3:119"},"nodeType":"YulFunctionCall","src":"93445:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93439:5:119"},"nodeType":"YulFunctionCall","src":"93439:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93414:6:119"},"nodeType":"YulFunctionCall","src":"93414:56:119"},"nodeType":"YulExpressionStatement","src":"93414:56:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93498:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93504:5:119","type":"","value":"0x140"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93494:3:119"},"nodeType":"YulFunctionCall","src":"93494:16:119"},{"arguments":[{"name":"outputAssetB","nodeType":"YulIdentifier","src":"93518:12:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93512:5:119"},"nodeType":"YulFunctionCall","src":"93512:19:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93487:6:119"},"nodeType":"YulFunctionCall","src":"93487:45:119"},"nodeType":"YulExpressionStatement","src":"93487:45:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93560:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93566:5:119","type":"","value":"0x160"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93556:3:119"},"nodeType":"YulFunctionCall","src":"93556:16:119"},{"arguments":[{"arguments":[{"name":"outputAssetB","nodeType":"YulIdentifier","src":"93584:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"93598:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93580:3:119"},"nodeType":"YulFunctionCall","src":"93580:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93574:5:119"},"nodeType":"YulFunctionCall","src":"93574:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93549:6:119"},"nodeType":"YulFunctionCall","src":"93549:56:119"},"nodeType":"YulExpressionStatement","src":"93549:56:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93633:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93639:5:119","type":"","value":"0x180"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93629:3:119"},"nodeType":"YulFunctionCall","src":"93629:16:119"},{"arguments":[{"arguments":[{"name":"outputAssetB","nodeType":"YulIdentifier","src":"93657:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"93671:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93653:3:119"},"nodeType":"YulFunctionCall","src":"93653:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93647:5:119"},"nodeType":"YulFunctionCall","src":"93647:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93622:6:119"},"nodeType":"YulFunctionCall","src":"93622:56:119"},"nodeType":"YulExpressionStatement","src":"93622:56:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93706:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93712:5:119","type":"","value":"0x1a0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93702:3:119"},"nodeType":"YulFunctionCall","src":"93702:16:119"},{"name":"totalInputValue","nodeType":"YulIdentifier","src":"93720:15:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93695:6:119"},"nodeType":"YulFunctionCall","src":"93695:41:119"},"nodeType":"YulExpressionStatement","src":"93695:41:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93764:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93770:5:119","type":"","value":"0x1c0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93760:3:119"},"nodeType":"YulFunctionCall","src":"93760:16:119"},{"name":"interactionNonce","nodeType":"YulIdentifier","src":"93778:16:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93753:6:119"},"nodeType":"YulFunctionCall","src":"93753:42:119"},"nodeType":"YulExpressionStatement","src":"93753:42:119"},{"nodeType":"YulVariableDeclaration","src":"93813:51:119","value":{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"93838:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"93858:4:119","type":"","value":"0xc0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93834:3:119"},"nodeType":"YulFunctionCall","src":"93834:29:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"93828:5:119"},"nodeType":"YulFunctionCall","src":"93828:36:119"},"variables":[{"name":"auxData","nodeType":"YulTypedName","src":"93817:7:119","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93892:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93898:5:119","type":"","value":"0x1e0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93888:3:119"},"nodeType":"YulFunctionCall","src":"93888:16:119"},{"name":"auxData","nodeType":"YulIdentifier","src":"93906:7:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93881:6:119"},"nodeType":"YulFunctionCall","src":"93881:33:119"},"nodeType":"YulExpressionStatement","src":"93881:33:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"93942:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"93948:5:119","type":"","value":"0x200"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93938:3:119"},"nodeType":"YulFunctionCall","src":"93938:16:119"},{"name":"ethPayments.slot","nodeType":"YulIdentifier","src":"93956:16:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93931:6:119"},"nodeType":"YulFunctionCall","src":"93931:42:119"},"nodeType":"YulExpressionStatement","src":"93931:42:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"94001:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"94007:5:119","type":"","value":"0x220"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"93997:3:119"},"nodeType":"YulFunctionCall","src":"93997:16:119"},{"name":"_rollupBeneficiary","nodeType":"YulIdentifier","src":"94015:18:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"93990:6:119"},"nodeType":"YulFunctionCall","src":"93990:44:119"},"nodeType":"YulExpressionStatement","src":"93990:44:119"},{"nodeType":"YulVariableDeclaration","src":"94525:46:119","value":{"arguments":[{"name":"defiBridgeProxy.slot","nodeType":"YulIdentifier","src":"94550:20:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"94544:5:119"},"nodeType":"YulFunctionCall","src":"94544:27:119"},"variables":[{"name":"bridgeProxy","nodeType":"YulTypedName","src":"94529:11:119","type":""}]},{"body":{"nodeType":"YulBlock","src":"94624:118:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"94653:1:119","type":"","value":"0"},{"name":"INVALID_ADDRESS_NO_CODE_SELECTOR","nodeType":"YulIdentifier","src":"94656:32:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"94646:6:119"},"nodeType":"YulFunctionCall","src":"94646:43:119"},"nodeType":"YulExpressionStatement","src":"94646:43:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"94717:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"94720:3:119","type":"","value":"0x4"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"94710:6:119"},"nodeType":"YulFunctionCall","src":"94710:14:119"},"nodeType":"YulExpressionStatement","src":"94710:14:119"}]},"condition":{"arguments":[{"arguments":[{"name":"bridgeProxy","nodeType":"YulIdentifier","src":"94610:11:119"}],"functionName":{"name":"extcodesize","nodeType":"YulIdentifier","src":"94598:11:119"},"nodeType":"YulFunctionCall","src":"94598:24:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"94591:6:119"},"nodeType":"YulFunctionCall","src":"94591:32:119"},"nodeType":"YulIf","src":"94588:154:119"},{"nodeType":"YulVariableDeclaration","src":"94759:332:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"fullBridgeCallData","nodeType":"YulIdentifier","src":"94842:18:119"},{"kind":"number","nodeType":"YulLiteral","src":"94862:5:119","type":"","value":"0x1a0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"94838:3:119"},"nodeType":"YulFunctionCall","src":"94838:30:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"94832:5:119"},"nodeType":"YulFunctionCall","src":"94832:37:119"},{"name":"bridgeProxy","nodeType":"YulIdentifier","src":"94932:11:119"},{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"94973:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"94979:4:119","type":"","value":"0x04"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"94969:3:119"},"nodeType":"YulFunctionCall","src":"94969:15:119"},{"kind":"number","nodeType":"YulLiteral","src":"95010:5:119","type":"","value":"0x244"},{"kind":"number","nodeType":"YulLiteral","src":"95041:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"95068:1:119","type":"","value":"0"}],"functionName":{"name":"delegatecall","nodeType":"YulIdentifier","src":"94794:12:119"},"nodeType":"YulFunctionCall","src":"94794:297:119"},"variables":[{"name":"success","nodeType":"YulTypedName","src":"94763:7:119","type":""}]},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"95123:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"95129:1:119","type":"","value":"0"},{"arguments":[],"functionName":{"name":"returndatasize","nodeType":"YulIdentifier","src":"95132:14:119"},"nodeType":"YulFunctionCall","src":"95132:16:119"}],"functionName":{"name":"returndatacopy","nodeType":"YulIdentifier","src":"95108:14:119"},"nodeType":"YulFunctionCall","src":"95108:41:119"},"nodeType":"YulExpressionStatement","src":"95108:41:119"},{"cases":[{"body":{"nodeType":"YulBlock","src":"95205:334:119","statements":[{"expression":{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95234:12:119"},{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"95254:4:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"95248:5:119"},"nodeType":"YulFunctionCall","src":"95248:11:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95227:6:119"},"nodeType":"YulFunctionCall","src":"95227:33:119"},"nodeType":"YulExpressionStatement","src":"95227:33:119"},{"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95308:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"95322:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95304:3:119"},"nodeType":"YulFunctionCall","src":"95304:23:119"},{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"95339:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"95345:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95335:3:119"},"nodeType":"YulFunctionCall","src":"95335:15:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"95329:5:119"},"nodeType":"YulFunctionCall","src":"95329:22:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95297:6:119"},"nodeType":"YulFunctionCall","src":"95297:55:119"},"nodeType":"YulExpressionStatement","src":"95297:55:119"},{"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95400:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"95414:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95396:3:119"},"nodeType":"YulFunctionCall","src":"95396:23:119"},{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"95431:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"95437:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95427:3:119"},"nodeType":"YulFunctionCall","src":"95427:15:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"95421:5:119"},"nodeType":"YulFunctionCall","src":"95421:22:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95389:6:119"},"nodeType":"YulFunctionCall","src":"95389:55:119"},"nodeType":"YulExpressionStatement","src":"95389:55:119"},{"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95487:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"95501:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95483:3:119"},"nodeType":"YulFunctionCall","src":"95483:23:119"},{"kind":"number","nodeType":"YulLiteral","src":"95508:1:119","type":"","value":"1"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95476:6:119"},"nodeType":"YulFunctionCall","src":"95476:34:119"},"nodeType":"YulExpressionStatement","src":"95476:34:119"}]},"nodeType":"YulCase","src":"95198:341:119","value":{"kind":"number","nodeType":"YulLiteral","src":"95203:1:119","type":"","value":"1"}},{"body":{"nodeType":"YulBlock","src":"95564:500:119","statements":[{"expression":{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95811:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"95825:1:119","type":"","value":"0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95804:6:119"},"nodeType":"YulFunctionCall","src":"95804:23:119"},"nodeType":"YulExpressionStatement","src":"95804:23:119"},{"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95875:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"95889:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95871:3:119"},"nodeType":"YulFunctionCall","src":"95871:23:119"},{"kind":"number","nodeType":"YulLiteral","src":"95896:1:119","type":"","value":"0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95864:6:119"},"nodeType":"YulFunctionCall","src":"95864:34:119"},"nodeType":"YulExpressionStatement","src":"95864:34:119"},{"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"95946:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"95960:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"95942:3:119"},"nodeType":"YulFunctionCall","src":"95942:23:119"},{"kind":"number","nodeType":"YulLiteral","src":"95967:1:119","type":"","value":"0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"95935:6:119"},"nodeType":"YulFunctionCall","src":"95935:34:119"},"nodeType":"YulExpressionStatement","src":"95935:34:119"},{"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"96012:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"96026:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"96008:3:119"},"nodeType":"YulFunctionCall","src":"96008:23:119"},{"kind":"number","nodeType":"YulLiteral","src":"96033:1:119","type":"","value":"0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"96001:6:119"},"nodeType":"YulFunctionCall","src":"96001:34:119"},"nodeType":"YulExpressionStatement","src":"96001:34:119"}]},"nodeType":"YulCase","src":"95556:508:119","value":"default"}],"expression":{"name":"success","nodeType":"YulIdentifier","src":"95174:7:119"},"nodeType":"YulSwitch","src":"95167:897:119"}]},"evmVersion":"london","externalReferences":[{"declaration":71876,"isOffset":false,"isSlot":false,"src":"92665:34:119","valueSize":1},{"declaration":71879,"isOffset":false,"isSlot":false,"src":"94656:32:119","valueSize":1},{"declaration":74524,"isOffset":false,"isSlot":false,"src":"94015:18:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95234:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95308:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95400:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95487:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95811:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95875:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"95946:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"96012:12:119","valueSize":1},{"declaration":72018,"isOffset":false,"isSlot":true,"src":"94550:20:119","suffix":"slot","valueSize":1},{"declaration":72033,"isOffset":false,"isSlot":true,"src":"93956:16:119","suffix":"slot","valueSize":1},{"declaration":74613,"isOffset":false,"isSlot":false,"src":"92789:18:119","valueSize":1},{"declaration":74613,"isOffset":false,"isSlot":false,"src":"93838:18:119","valueSize":1},{"declaration":74613,"isOffset":false,"isSlot":false,"src":"94842:18:119","valueSize":1},{"declaration":74622,"isOffset":false,"isSlot":false,"src":"92906:11:119","valueSize":1},{"declaration":74622,"isOffset":false,"isSlot":false,"src":"92970:11:119","valueSize":1},{"declaration":74622,"isOffset":false,"isSlot":false,"src":"93041:11:119","valueSize":1},{"declaration":74625,"isOffset":false,"isSlot":false,"src":"93108:11:119","valueSize":1},{"declaration":74625,"isOffset":false,"isSlot":false,"src":"93172:11:119","valueSize":1},{"declaration":74625,"isOffset":false,"isSlot":false,"src":"93243:11:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"93778:16:119","valueSize":1},{"declaration":74628,"isOffset":false,"isSlot":false,"src":"93310:12:119","valueSize":1},{"declaration":74628,"isOffset":false,"isSlot":false,"src":"93376:12:119","valueSize":1},{"declaration":74628,"isOffset":false,"isSlot":false,"src":"93449:12:119","valueSize":1},{"declaration":74631,"isOffset":false,"isSlot":false,"src":"93518:12:119","valueSize":1},{"declaration":74631,"isOffset":false,"isSlot":false,"src":"93584:12:119","valueSize":1},{"declaration":74631,"isOffset":false,"isSlot":false,"src":"93657:12:119","valueSize":1},{"declaration":74600,"isOffset":false,"isSlot":false,"src":"93720:15:119","valueSize":1}],"id":74637,"nodeType":"InlineAssembly","src":"91623:4455:119"},{"condition":{"id":74640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"96096:37:119","subExpression":{"expression":{"id":74638,"name":"fullBridgeCallData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74613,"src":"96097:18:119","typeDescriptions":{"typeIdentifier":"t_struct$_FullBridgeCallData_$71841_memory_ptr","typeString":"struct RollupProcessorV2.FullBridgeCallData memory"}},"id":74639,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondOutputInUse","nodeType":"MemberAccess","referencedDeclaration":71838,"src":"96097:36:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74648,"nodeType":"IfStatement","src":"96092:105:119","trueBody":{"id":74647,"nodeType":"Block","src":"96135:62:119","statements":[{"expression":{"id":74645,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":74641,"name":"bridgeResult","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74579,"src":"96153:12:119","typeDescriptions":{"typeIdentifier":"t_struct$_BridgeResult_$71855_memory_ptr","typeString":"struct RollupProcessorV2.BridgeResult memory"}},"id":74643,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"outputValueB","nodeType":"MemberAccess","referencedDeclaration":71850,"src":"96153:25:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":74644,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"96181:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"96153:29:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74646,"nodeType":"ExpressionStatement","src":"96153:29:119"}]}},{"AST":{"nodeType":"YulBlock","src":"96264:4537:119","statements":[{"cases":[{"body":{"nodeType":"YulBlock","src":"96564:905:119","statements":[{"nodeType":"YulVariableDeclaration","src":"96586:23:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"96604:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"96598:5:119"},"nodeType":"YulFunctionCall","src":"96598:11:119"},"variables":[{"name":"mPtr","nodeType":"YulTypedName","src":"96590:4:119","type":""}]},{"nodeType":"YulBlock","src":"96757:191:119","statements":[{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"96790:4:119"},{"name":"totalInputValue","nodeType":"YulIdentifier","src":"96796:15:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"96783:6:119"},"nodeType":"YulFunctionCall","src":"96783:29:119"},"nodeType":"YulExpressionStatement","src":"96783:29:119"},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"96842:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"96848:4:119","type":"","value":"0x20"},{"name":"ASYNC_BRIDGE_PROCESSED_SIGHASH","nodeType":"YulIdentifier","src":"96854:30:119"},{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"96886:21:119"},{"name":"interactionNonce","nodeType":"YulIdentifier","src":"96909:16:119"}],"functionName":{"name":"log3","nodeType":"YulIdentifier","src":"96837:4:119"},"nodeType":"YulFunctionCall","src":"96837:89:119"},"nodeType":"YulExpressionStatement","src":"96837:89:119"}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"97112:4:119","type":"","value":"0x00"},{"name":"interactionNonce","nodeType":"YulIdentifier","src":"97118:16:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"97105:6:119"},"nodeType":"YulFunctionCall","src":"97105:30:119"},"nodeType":"YulExpressionStatement","src":"97105:30:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"97163:4:119","type":"","value":"0x20"},{"name":"pendingDefiInteractions.slot","nodeType":"YulIdentifier","src":"97169:28:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"97156:6:119"},"nodeType":"YulFunctionCall","src":"97156:42:119"},"nodeType":"YulExpressionStatement","src":"97156:42:119"},{"nodeType":"YulVariableDeclaration","src":"97219:60:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"97268:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"97274:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"97258:9:119"},"nodeType":"YulFunctionCall","src":"97258:21:119"},"variables":[{"name":"pendingDefiInteractionsSlotBase","nodeType":"YulTypedName","src":"97223:31:119","type":""}]},{"expression":{"arguments":[{"name":"pendingDefiInteractionsSlotBase","nodeType":"YulIdentifier","src":"97308:31:119"},{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"97341:21:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"97301:6:119"},"nodeType":"YulFunctionCall","src":"97301:62:119"},"nodeType":"YulExpressionStatement","src":"97301:62:119"},{"expression":{"arguments":[{"arguments":[{"name":"pendingDefiInteractionsSlotBase","nodeType":"YulIdentifier","src":"97395:31:119"},{"kind":"number","nodeType":"YulLiteral","src":"97428:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"97391:3:119"},"nodeType":"YulFunctionCall","src":"97391:42:119"},{"name":"totalInputValue","nodeType":"YulIdentifier","src":"97435:15:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"97384:6:119"},"nodeType":"YulFunctionCall","src":"97384:67:119"},"nodeType":"YulExpressionStatement","src":"97384:67:119"}]},"nodeType":"YulCase","src":"96557:912:119","value":{"kind":"number","nodeType":"YulLiteral","src":"96562:1:119","type":"","value":"1"}},{"body":{"nodeType":"YulBlock","src":"97494:3111:119","statements":[{"nodeType":"YulVariableDeclaration","src":"97516:23:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"97534:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"97528:5:119"},"nodeType":"YulFunctionCall","src":"97528:11:119"},"variables":[{"name":"mPtr","nodeType":"YulTypedName","src":"97520:4:119","type":""}]},{"nodeType":"YulBlock","src":"97990:1497:119","statements":[{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98023:4:119"},{"name":"totalInputValue","nodeType":"YulIdentifier","src":"98029:15:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98016:6:119"},"nodeType":"YulFunctionCall","src":"98016:29:119"},"nodeType":"YulExpressionStatement","src":"98016:29:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98081:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98087:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98077:3:119"},"nodeType":"YulFunctionCall","src":"98077:15:119"},{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"98100:12:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"98094:5:119"},"nodeType":"YulFunctionCall","src":"98094:19:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98070:6:119"},"nodeType":"YulFunctionCall","src":"98070:44:119"},"nodeType":"YulExpressionStatement","src":"98070:44:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98166:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98172:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98162:3:119"},"nodeType":"YulFunctionCall","src":"98162:15:119"},{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"98189:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"98203:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98185:3:119"},"nodeType":"YulFunctionCall","src":"98185:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"98179:5:119"},"nodeType":"YulFunctionCall","src":"98179:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98155:6:119"},"nodeType":"YulFunctionCall","src":"98155:55:119"},"nodeType":"YulExpressionStatement","src":"98155:55:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98262:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98268:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98258:3:119"},"nodeType":"YulFunctionCall","src":"98258:15:119"},{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"98285:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"98299:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98281:3:119"},"nodeType":"YulFunctionCall","src":"98281:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"98275:5:119"},"nodeType":"YulFunctionCall","src":"98275:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98251:6:119"},"nodeType":"YulFunctionCall","src":"98251:55:119"},"nodeType":"YulExpressionStatement","src":"98251:55:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98353:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98359:4:119","type":"","value":"0x80"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98349:3:119"},"nodeType":"YulFunctionCall","src":"98349:15:119"},{"kind":"number","nodeType":"YulLiteral","src":"98366:4:119","type":"","value":"0xa0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98342:6:119"},"nodeType":"YulFunctionCall","src":"98342:29:119"},"nodeType":"YulExpressionStatement","src":"98342:29:119"},{"body":{"nodeType":"YulBlock","src":"98481:199:119","statements":[{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98522:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98528:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98518:3:119"},"nodeType":"YulFunctionCall","src":"98518:15:119"},{"kind":"number","nodeType":"YulLiteral","src":"98535:1:119","type":"","value":"0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98511:6:119"},"nodeType":"YulFunctionCall","src":"98511:26:119"},"nodeType":"YulExpressionStatement","src":"98511:26:119"},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98571:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98577:4:119","type":"","value":"0xc0"},{"name":"DEFI_BRIDGE_PROCESSED_SIGHASH","nodeType":"YulIdentifier","src":"98583:29:119"},{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"98614:21:119"},{"name":"interactionNonce","nodeType":"YulIdentifier","src":"98637:16:119"}],"functionName":{"name":"log3","nodeType":"YulIdentifier","src":"98566:4:119"},"nodeType":"YulFunctionCall","src":"98566:88:119"},"nodeType":"YulExpressionStatement","src":"98566:88:119"}]},"condition":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"98460:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"98474:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98456:3:119"},"nodeType":"YulFunctionCall","src":"98456:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"98450:5:119"},"nodeType":"YulFunctionCall","src":"98450:30:119"},"nodeType":"YulIf","src":"98447:233:119"},{"body":{"nodeType":"YulBlock","src":"98747:718:119","statements":[{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"98788:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98794:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98784:3:119"},"nodeType":"YulFunctionCall","src":"98784:15:119"},{"arguments":[],"functionName":{"name":"returndatasize","nodeType":"YulIdentifier","src":"98801:14:119"},"nodeType":"YulFunctionCall","src":"98801:16:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"98777:6:119"},"nodeType":"YulFunctionCall","src":"98777:41:119"},"nodeType":"YulExpressionStatement","src":"98777:41:119"},{"nodeType":"YulVariableDeclaration","src":"98847:28:119","value":{"arguments":[],"functionName":{"name":"returndatasize","nodeType":"YulIdentifier","src":"98859:14:119"},"nodeType":"YulFunctionCall","src":"98859:16:119"},"variables":[{"name":"size","nodeType":"YulTypedName","src":"98851:4:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"98904:66:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"size","nodeType":"YulIdentifier","src":"98939:4:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"98932:6:119"},"nodeType":"YulFunctionCall","src":"98932:12:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"98925:6:119"},"nodeType":"YulFunctionCall","src":"98925:20:119"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"98951:2:119","type":"","value":"32"},{"arguments":[{"name":"size","nodeType":"YulIdentifier","src":"98959:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"98965:2:119","type":"","value":"32"}],"functionName":{"name":"mod","nodeType":"YulIdentifier","src":"98955:3:119"},"nodeType":"YulFunctionCall","src":"98955:13:119"}],"functionName":{"name":"sub","nodeType":"YulIdentifier","src":"98947:3:119"},"nodeType":"YulFunctionCall","src":"98947:22:119"}],"functionName":{"name":"mul","nodeType":"YulIdentifier","src":"98921:3:119"},"nodeType":"YulFunctionCall","src":"98921:49:119"},"variables":[{"name":"remainder","nodeType":"YulTypedName","src":"98908:9:119","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99018:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"99024:4:119","type":"","value":"0xc0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99014:3:119"},"nodeType":"YulFunctionCall","src":"99014:15:119"},{"kind":"number","nodeType":"YulLiteral","src":"99031:1:119","type":"","value":"0"},{"name":"size","nodeType":"YulIdentifier","src":"99034:4:119"}],"functionName":{"name":"returndatacopy","nodeType":"YulIdentifier","src":"98999:14:119"},"nodeType":"YulFunctionCall","src":"98999:40:119"},"nodeType":"YulExpressionStatement","src":"98999:40:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99079:4:119"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"99089:4:119","type":"","value":"0xc0"},{"name":"size","nodeType":"YulIdentifier","src":"99095:4:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99085:3:119"},"nodeType":"YulFunctionCall","src":"99085:15:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99075:3:119"},"nodeType":"YulFunctionCall","src":"99075:26:119"},{"kind":"number","nodeType":"YulLiteral","src":"99103:1:119","type":"","value":"0"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99068:6:119"},"nodeType":"YulFunctionCall","src":"99068:37:119"},"nodeType":"YulExpressionStatement","src":"99068:37:119"},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99172:4:119"},{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"99214:4:119","type":"","value":"0xc0"},{"arguments":[{"name":"size","nodeType":"YulIdentifier","src":"99224:4:119"},{"name":"remainder","nodeType":"YulIdentifier","src":"99230:9:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99220:3:119"},"nodeType":"YulFunctionCall","src":"99220:20:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99210:3:119"},"nodeType":"YulFunctionCall","src":"99210:31:119"},{"name":"DEFI_BRIDGE_PROCESSED_SIGHASH","nodeType":"YulIdentifier","src":"99275:29:119"},{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"99338:21:119"},{"name":"interactionNonce","nodeType":"YulIdentifier","src":"99393:16:119"}],"functionName":{"name":"log3","nodeType":"YulIdentifier","src":"99134:4:119"},"nodeType":"YulFunctionCall","src":"99134:305:119"},"nodeType":"YulExpressionStatement","src":"99134:305:119"}]},"condition":{"arguments":[{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"98725:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"98739:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"98721:3:119"},"nodeType":"YulFunctionCall","src":"98721:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"98715:5:119"},"nodeType":"YulFunctionCall","src":"98715:30:119"}],"functionName":{"name":"iszero","nodeType":"YulIdentifier","src":"98708:6:119"},"nodeType":"YulFunctionCall","src":"98708:38:119"},"nodeType":"YulIf","src":"98705:760:119"}]},{"expression":{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99567:4:119"},{"name":"encodedBridgeCallData","nodeType":"YulIdentifier","src":"99573:21:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99560:6:119"},"nodeType":"YulFunctionCall","src":"99560:35:119"},"nodeType":"YulExpressionStatement","src":"99560:35:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99627:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"99633:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99623:3:119"},"nodeType":"YulFunctionCall","src":"99623:15:119"},{"name":"interactionNonce","nodeType":"YulIdentifier","src":"99640:16:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99616:6:119"},"nodeType":"YulFunctionCall","src":"99616:41:119"},"nodeType":"YulExpressionStatement","src":"99616:41:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99689:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"99695:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99685:3:119"},"nodeType":"YulFunctionCall","src":"99685:15:119"},{"name":"totalInputValue","nodeType":"YulIdentifier","src":"99702:15:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99678:6:119"},"nodeType":"YulFunctionCall","src":"99678:40:119"},"nodeType":"YulExpressionStatement","src":"99678:40:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99750:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"99756:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99746:3:119"},"nodeType":"YulFunctionCall","src":"99746:15:119"},{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"99769:12:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"99763:5:119"},"nodeType":"YulFunctionCall","src":"99763:19:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99739:6:119"},"nodeType":"YulFunctionCall","src":"99739:44:119"},"nodeType":"YulExpressionStatement","src":"99739:44:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99831:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"99837:4:119","type":"","value":"0x80"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99827:3:119"},"nodeType":"YulFunctionCall","src":"99827:15:119"},{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"99854:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"99868:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99850:3:119"},"nodeType":"YulFunctionCall","src":"99850:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"99844:5:119"},"nodeType":"YulFunctionCall","src":"99844:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99820:6:119"},"nodeType":"YulFunctionCall","src":"99820:55:119"},"nodeType":"YulExpressionStatement","src":"99820:55:119"},{"expression":{"arguments":[{"arguments":[{"name":"mPtr","nodeType":"YulIdentifier","src":"99923:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"99929:4:119","type":"","value":"0xa0"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99919:3:119"},"nodeType":"YulFunctionCall","src":"99919:15:119"},{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"99946:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"99960:4:119","type":"","value":"0x60"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"99942:3:119"},"nodeType":"YulFunctionCall","src":"99942:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"99936:5:119"},"nodeType":"YulFunctionCall","src":"99936:30:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"99912:6:119"},"nodeType":"YulFunctionCall","src":"99912:55:119"},"nodeType":"YulExpressionStatement","src":"99912:55:119"},{"expression":{"arguments":[{"arguments":[{"arguments":[],"functionName":{"name":"gas","nodeType":"YulIdentifier","src":"100014:3:119"},"nodeType":"YulFunctionCall","src":"100014:5:119"},{"kind":"number","nodeType":"YulLiteral","src":"100021:3:119","type":"","value":"0x2"},{"name":"mPtr","nodeType":"YulIdentifier","src":"100026:4:119"},{"kind":"number","nodeType":"YulLiteral","src":"100032:4:119","type":"","value":"0xc0"},{"kind":"number","nodeType":"YulLiteral","src":"100038:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"100044:4:119","type":"","value":"0x20"}],"functionName":{"name":"staticcall","nodeType":"YulIdentifier","src":"100003:10:119"},"nodeType":"YulFunctionCall","src":"100003:46:119"}],"functionName":{"name":"pop","nodeType":"YulIdentifier","src":"99999:3:119"},"nodeType":"YulFunctionCall","src":"99999:51:119"},"nodeType":"YulExpressionStatement","src":"99999:51:119"},{"nodeType":"YulVariableDeclaration","src":"100071:60:119","value":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"100108:4:119","type":"","value":"0x00"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"100102:5:119"},"nodeType":"YulFunctionCall","src":"100102:11:119"},{"name":"CIRCUIT_MODULUS","nodeType":"YulIdentifier","src":"100115:15:119"}],"functionName":{"name":"mod","nodeType":"YulIdentifier","src":"100098:3:119"},"nodeType":"YulFunctionCall","src":"100098:33:119"},"variables":[{"name":"defiInteractionHash","nodeType":"YulTypedName","src":"100075:19:119","type":""}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"100257:4:119","type":"","value":"0x00"},{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"100263:27:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"100250:6:119"},"nodeType":"YulFunctionCall","src":"100250:41:119"},"nodeType":"YulExpressionStatement","src":"100250:41:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"100319:4:119","type":"","value":"0x20"},{"name":"defiInteractionHashes.slot","nodeType":"YulIdentifier","src":"100325:26:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"100312:6:119"},"nodeType":"YulFunctionCall","src":"100312:40:119"},"nodeType":"YulExpressionStatement","src":"100312:40:119"},{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"100390:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"100396:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"100380:9:119"},"nodeType":"YulFunctionCall","src":"100380:21:119"},{"name":"defiInteractionHash","nodeType":"YulIdentifier","src":"100403:19:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"100373:6:119"},"nodeType":"YulFunctionCall","src":"100373:50:119"},"nodeType":"YulExpressionStatement","src":"100373:50:119"},{"nodeType":"YulAssignment","src":"100518:69:119","value":{"arguments":[{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"100553:27:119"},{"kind":"number","nodeType":"YulLiteral","src":"100582:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"100549:3:119"},"nodeType":"YulFunctionCall","src":"100549:38:119"},"variableNames":[{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"100518:27:119"}]}]},"nodeType":"YulCase","src":"97486:3119:119","value":"default"}],"expression":{"arguments":[{"arguments":[{"name":"bridgeResult","nodeType":"YulIdentifier","src":"96486:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"96500:4:119","type":"","value":"0x40"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"96482:3:119"},"nodeType":"YulFunctionCall","src":"96482:23:119"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"96476:5:119"},"nodeType":"YulFunctionCall","src":"96476:30:119"},"nodeType":"YulSwitch","src":"96469:4136:119"},{"nodeType":"YulAssignment","src":"100684:47:119","value":{"arguments":[{"name":"interactionNonce","nodeType":"YulIdentifier","src":"100708:16:119"},{"kind":"number","nodeType":"YulLiteral","src":"100726:4:119","type":"","value":"0x01"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"100704:3:119"},"nodeType":"YulFunctionCall","src":"100704:27:119"},"variableNames":[{"name":"interactionNonce","nodeType":"YulIdentifier","src":"100684:16:119"}]},{"nodeType":"YulAssignment","src":"100748:39:119","value":{"arguments":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"100768:12:119"},{"kind":"number","nodeType":"YulLiteral","src":"100782:4:119","type":"","value":"0x20"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"100764:3:119"},"nodeType":"YulFunctionCall","src":"100764:23:119"},"variableNames":[{"name":"proofDataPtr","nodeType":"YulIdentifier","src":"100748:12:119"}]}]},"evmVersion":"london","externalReferences":[{"declaration":71894,"isOffset":false,"isSlot":false,"src":"96854:30:119","valueSize":1},{"declaration":67674,"isOffset":false,"isSlot":false,"src":"100115:15:119","valueSize":1},{"declaration":71891,"isOffset":false,"isSlot":false,"src":"98583:29:119","valueSize":1},{"declaration":71891,"isOffset":false,"isSlot":false,"src":"99275:29:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"96486:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"98100:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"98189:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"98285:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"98460:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"98725:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"99769:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"99854:12:119","valueSize":1},{"declaration":74579,"isOffset":false,"isSlot":false,"src":"99946:12:119","valueSize":1},{"declaration":71998,"isOffset":false,"isSlot":true,"src":"100325:26:119","suffix":"slot","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"100263:27:119","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"100518:27:119","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"100553:27:119","valueSize":1},{"declaration":74590,"isOffset":false,"isSlot":false,"src":"96886:21:119","valueSize":1},{"declaration":74590,"isOffset":false,"isSlot":false,"src":"97341:21:119","valueSize":1},{"declaration":74590,"isOffset":false,"isSlot":false,"src":"98614:21:119","valueSize":1},{"declaration":74590,"isOffset":false,"isSlot":false,"src":"99338:21:119","valueSize":1},{"declaration":74590,"isOffset":false,"isSlot":false,"src":"99573:21:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"100684:16:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"100708:16:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"96909:16:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"97118:16:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"98637:16:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"99393:16:119","valueSize":1},{"declaration":74566,"isOffset":false,"isSlot":false,"src":"99640:16:119","valueSize":1},{"declaration":72029,"isOffset":false,"isSlot":true,"src":"97169:28:119","suffix":"slot","valueSize":1},{"declaration":74574,"isOffset":false,"isSlot":false,"src":"100748:12:119","valueSize":1},{"declaration":74574,"isOffset":false,"isSlot":false,"src":"100768:12:119","valueSize":1},{"declaration":74600,"isOffset":false,"isSlot":false,"src":"96796:15:119","valueSize":1},{"declaration":74600,"isOffset":false,"isSlot":false,"src":"97435:15:119","valueSize":1},{"declaration":74600,"isOffset":false,"isSlot":false,"src":"98029:15:119","valueSize":1},{"declaration":74600,"isOffset":false,"isSlot":false,"src":"99702:15:119","valueSize":1}],"id":74649,"nodeType":"InlineAssembly","src":"96255:4546:119"},{"id":74653,"nodeType":"UncheckedBlock","src":"100814:46:119","statements":[{"expression":{"id":74651,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"100842:3:119","subExpression":{"id":74650,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74583,"src":"100844:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":74652,"nodeType":"ExpressionStatement","src":"100842:3:119"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":74588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":74586,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74583,"src":"90613:1:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":74587,"name":"NUMBER_OF_BRIDGE_CALLS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67641,"src":"90617:22:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"90613:26:119","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":74655,"initializationExpression":{"assignments":[74583],"declarations":[{"constant":false,"id":74583,"mutability":"mutable","name":"i","nameLocation":"90606:1:119","nodeType":"VariableDeclaration","scope":74655,"src":"90598:9:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":74582,"name":"uint256","nodeType":"ElementaryTypeName","src":"90598:7:119","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":74585,"initialValue":{"hexValue":"30","id":74584,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"90610:1:119","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"90598:13:119"},"nodeType":"ForStatement","src":"90593:10277:119"},{"AST":{"nodeType":"YulBlock","src":"100889:2851:119","statements":[{"nodeType":"YulVariableDeclaration","src":"101162:36:119","value":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"101181:16:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"101175:5:119"},"nodeType":"YulFunctionCall","src":"101175:23:119"},"variables":[{"name":"state","nodeType":"YulTypedName","src":"101166:5:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"101212:129:119","value":{"arguments":[{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"101272:17:119"},{"arguments":[{"name":"ASYNCDEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"101295:37:119"},{"name":"state","nodeType":"YulIdentifier","src":"101334:5:119"}],"functionName":{"name":"shr","nodeType":"YulIdentifier","src":"101291:3:119"},"nodeType":"YulFunctionCall","src":"101291:49:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"101268:3:119"},"nodeType":"YulFunctionCall","src":"101268:73:119"},"variables":[{"name":"asyncDefiInteractionHashesLength","nodeType":"YulTypedName","src":"101216:32:119","type":""}]},{"nodeType":"YulVariableDeclaration","src":"101422:126:119","value":{"arguments":[{"arguments":[{"name":"asyncDefiInteractionHashesLength","nodeType":"YulIdentifier","src":"101466:32:119"},{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"101500:27:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"101462:3:119"},"nodeType":"YulFunctionCall","src":"101462:66:119"},{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"101530:17:119"}],"functionName":{"name":"gt","nodeType":"YulIdentifier","src":"101459:2:119"},"nodeType":"YulFunctionCall","src":"101459:89:119"},"variables":[{"name":"arrayOverflow","nodeType":"YulTypedName","src":"101426:13:119","type":""}]},{"body":{"nodeType":"YulBlock","src":"102120:97:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102145:1:119","type":"","value":"0"},{"name":"ARRAY_OVERFLOW_SELECTOR","nodeType":"YulIdentifier","src":"102148:23:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"102138:6:119"},"nodeType":"YulFunctionCall","src":"102138:34:119"},"nodeType":"YulExpressionStatement","src":"102138:34:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102196:1:119","type":"","value":"0"},{"kind":"number","nodeType":"YulLiteral","src":"102199:3:119","type":"","value":"0x4"}],"functionName":{"name":"revert","nodeType":"YulIdentifier","src":"102189:6:119"},"nodeType":"YulFunctionCall","src":"102189:14:119"},"nodeType":"YulExpressionStatement","src":"102189:14:119"}]},"condition":{"name":"arrayOverflow","nodeType":"YulIdentifier","src":"102106:13:119"},"nodeType":"YulIf","src":"102103:114:119"},{"nodeType":"YulVariableDeclaration","src":"102342:26:119","value":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102363:4:119","type":"","value":"0x40"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"102357:5:119"},"nodeType":"YulFunctionCall","src":"102357:11:119"},"variables":[{"name":"freePtr","nodeType":"YulTypedName","src":"102346:7:119","type":""}]},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102451:4:119","type":"","value":"0x20"},{"name":"defiInteractionHashes.slot","nodeType":"YulIdentifier","src":"102457:26:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"102444:6:119"},"nodeType":"YulFunctionCall","src":"102444:40:119"},"nodeType":"YulExpressionStatement","src":"102444:40:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102504:4:119","type":"","value":"0x60"},{"name":"asyncDefiInteractionHashes.slot","nodeType":"YulIdentifier","src":"102510:31:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"102497:6:119"},"nodeType":"YulFunctionCall","src":"102497:45:119"},"nodeType":"YulExpressionStatement","src":"102497:45:119"},{"body":{"nodeType":"YulBlock","src":"102633:301:119","statements":[{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102770:4:119","type":"","value":"0x00"},{"arguments":[{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"102780:27:119"},{"name":"i","nodeType":"YulIdentifier","src":"102809:1:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"102776:3:119"},"nodeType":"YulFunctionCall","src":"102776:35:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"102763:6:119"},"nodeType":"YulFunctionCall","src":"102763:49:119"},"nodeType":"YulExpressionStatement","src":"102763:49:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102836:4:119","type":"","value":"0x40"},{"name":"i","nodeType":"YulIdentifier","src":"102842:1:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"102829:6:119"},"nodeType":"YulFunctionCall","src":"102829:15:119"},"nodeType":"YulExpressionStatement","src":"102829:15:119"},{"expression":{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102878:4:119","type":"","value":"0x00"},{"kind":"number","nodeType":"YulLiteral","src":"102884:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"102868:9:119"},"nodeType":"YulFunctionCall","src":"102868:21:119"},{"arguments":[{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"102907:4:119","type":"","value":"0x40"},{"kind":"number","nodeType":"YulLiteral","src":"102913:4:119","type":"","value":"0x40"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"102897:9:119"},"nodeType":"YulFunctionCall","src":"102897:21:119"}],"functionName":{"name":"sload","nodeType":"YulIdentifier","src":"102891:5:119"},"nodeType":"YulFunctionCall","src":"102891:28:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"102861:6:119"},"nodeType":"YulFunctionCall","src":"102861:59:119"},"nodeType":"YulExpressionStatement","src":"102861:59:119"}]},"condition":{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"102577:1:119"},{"name":"asyncDefiInteractionHashesLength","nodeType":"YulIdentifier","src":"102580:32:119"}],"functionName":{"name":"lt","nodeType":"YulIdentifier","src":"102574:2:119"},"nodeType":"YulFunctionCall","src":"102574:39:119"},"nodeType":"YulForLoop","post":{"nodeType":"YulBlock","src":"102614:18:119","statements":[{"nodeType":"YulAssignment","src":"102616:14:119","value":{"arguments":[{"name":"i","nodeType":"YulIdentifier","src":"102625:1:119"},{"kind":"number","nodeType":"YulLiteral","src":"102628:1:119","type":"","value":"1"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"102621:3:119"},"nodeType":"YulFunctionCall","src":"102621:9:119"},"variableNames":[{"name":"i","nodeType":"YulIdentifier","src":"102616:1:119"}]}]},"pre":{"nodeType":"YulBlock","src":"102559:14:119","statements":[{"nodeType":"YulVariableDeclaration","src":"102561:10:119","value":{"kind":"number","nodeType":"YulLiteral","src":"102570:1:119","type":"","value":"0"},"variables":[{"name":"i","nodeType":"YulTypedName","src":"102565:1:119","type":""}]}]},"src":"102555:379:119"},{"expression":{"arguments":[{"kind":"number","nodeType":"YulLiteral","src":"103001:4:119","type":"","value":"0x40"},{"name":"freePtr","nodeType":"YulIdentifier","src":"103007:7:119"}],"functionName":{"name":"mstore","nodeType":"YulIdentifier","src":"102994:6:119"},"nodeType":"YulFunctionCall","src":"102994:21:119"},"nodeType":"YulExpressionStatement","src":"102994:21:119"},{"nodeType":"YulAssignment","src":"103087:82:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"103108:32:119"},{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"103142:17:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"103104:3:119"},"nodeType":"YulFunctionCall","src":"103104:56:119"}],"functionName":{"name":"not","nodeType":"YulIdentifier","src":"103100:3:119"},"nodeType":"YulFunctionCall","src":"103100:61:119"},{"name":"state","nodeType":"YulIdentifier","src":"103163:5:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"103096:3:119"},"nodeType":"YulFunctionCall","src":"103096:73:119"},"variableNames":[{"name":"state","nodeType":"YulIdentifier","src":"103087:5:119"}]},{"nodeType":"YulAssignment","src":"103245:245:119","value":{"arguments":[{"arguments":[{"name":"DEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"103323:32:119"},{"arguments":[{"name":"asyncDefiInteractionHashesLength","nodeType":"YulIdentifier","src":"103361:32:119"},{"name":"defiInteractionHashesLength","nodeType":"YulIdentifier","src":"103395:27:119"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"103357:3:119"},"nodeType":"YulFunctionCall","src":"103357:66:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"103294:3:119"},"nodeType":"YulFunctionCall","src":"103294:151:119"},{"name":"state","nodeType":"YulIdentifier","src":"103467:5:119"}],"functionName":{"name":"or","nodeType":"YulIdentifier","src":"103270:2:119"},"nodeType":"YulFunctionCall","src":"103270:220:119"},"variableNames":[{"name":"state","nodeType":"YulIdentifier","src":"103245:5:119"}]},{"nodeType":"YulAssignment","src":"103567:87:119","value":{"arguments":[{"arguments":[{"arguments":[{"name":"ASYNCDEFIINTERACTIONHASHES_BIT_OFFSET","nodeType":"YulIdentifier","src":"103588:37:119"},{"name":"ARRAY_LENGTH_MASK","nodeType":"YulIdentifier","src":"103627:17:119"}],"functionName":{"name":"shl","nodeType":"YulIdentifier","src":"103584:3:119"},"nodeType":"YulFunctionCall","src":"103584:61:119"}],"functionName":{"name":"not","nodeType":"YulIdentifier","src":"103580:3:119"},"nodeType":"YulFunctionCall","src":"103580:66:119"},{"name":"state","nodeType":"YulIdentifier","src":"103648:5:119"}],"functionName":{"name":"and","nodeType":"YulIdentifier","src":"103576:3:119"},"nodeType":"YulFunctionCall","src":"103576:78:119"},"variableNames":[{"name":"state","nodeType":"YulIdentifier","src":"103567:5:119"}]},{"expression":{"arguments":[{"name":"rollupState.slot","nodeType":"YulIdentifier","src":"103706:16:119"},{"name":"state","nodeType":"YulIdentifier","src":"103724:5:119"}],"functionName":{"name":"sstore","nodeType":"YulIdentifier","src":"103699:6:119"},"nodeType":"YulFunctionCall","src":"103699:31:119"},"nodeType":"YulExpressionStatement","src":"103699:31:119"}]},"evmVersion":"london","externalReferences":[{"declaration":71951,"isOffset":false,"isSlot":false,"src":"101272:17:119","valueSize":1},{"declaration":71951,"isOffset":false,"isSlot":false,"src":"101530:17:119","valueSize":1},{"declaration":71951,"isOffset":false,"isSlot":false,"src":"103142:17:119","valueSize":1},{"declaration":71951,"isOffset":false,"isSlot":false,"src":"103627:17:119","valueSize":1},{"declaration":71882,"isOffset":false,"isSlot":false,"src":"102148:23:119","valueSize":1},{"declaration":71945,"isOffset":false,"isSlot":false,"src":"101295:37:119","valueSize":1},{"declaration":71945,"isOffset":false,"isSlot":false,"src":"103588:37:119","valueSize":1},{"declaration":71948,"isOffset":false,"isSlot":false,"src":"103108:32:119","valueSize":1},{"declaration":71948,"isOffset":false,"isSlot":false,"src":"103323:32:119","valueSize":1},{"declaration":71994,"isOffset":false,"isSlot":true,"src":"102510:31:119","suffix":"slot","valueSize":1},{"declaration":71998,"isOffset":false,"isSlot":true,"src":"102457:26:119","suffix":"slot","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"101500:27:119","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"102780:27:119","valueSize":1},{"declaration":74531,"isOffset":false,"isSlot":false,"src":"103395:27:119","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"101181:16:119","suffix":"slot","valueSize":1},{"declaration":71984,"isOffset":false,"isSlot":true,"src":"103706:16:119","suffix":"slot","valueSize":1}],"id":74656,"nodeType":"InlineAssembly","src":"100880:2860:119"},{"assignments":[74661,74663],"declarations":[{"constant":false,"id":74661,"mutability":"mutable","name":"hashes","nameLocation":"103915:6:119","nodeType":"VariableDeclaration","scope":74675,"src":"103898:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":74659,"name":"bytes32","nodeType":"ElementaryTypeName","src":"103898:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":74660,"nodeType":"ArrayTypeName","src":"103898:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":74663,"mutability":"mutable","name":"nextExpectedHash","nameLocation":"103931:16:119","nodeType":"VariableDeclaration","scope":74675,"src":"103923:24:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":74662,"name":"bytes32","nodeType":"ElementaryTypeName","src":"103923:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":74666,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":74664,"name":"getPendingAndNextExpectedHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74519,"src":"103951:31:119","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_bytes32_$","typeString":"function () view returns (bytes32[] memory,bytes32)"}},"id":74665,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"103951:33:119","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_array$_t_bytes32_$dyn_memory_ptr_$_t_bytes32_$","typeString":"tuple(bytes32[] memory,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"103897:87:119"},{"expression":{"id":74669,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":74667,"name":"nextExpectedHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74528,"src":"103994:18:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":74668,"name":"hashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74661,"src":"104015:6:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"src":"103994:27:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":74670,"nodeType":"ExpressionStatement","src":"103994:27:119"},{"expression":{"id":74673,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":74671,"name":"prevDefiInteractionsHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":72045,"src":"104031:24:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":74672,"name":"nextExpectedHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":74663,"src":"104058:16:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"104031:43:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":74674,"nodeType":"ExpressionStatement","src":"104031:43:119"}]},"documentation":{"id":74520,"nodeType":"StructuredDocumentation","src":"86937:1301:119","text":" @notice A function that processes bridge calls.\\n @dev 1. pop NUMBER_OF_BRIDGE_CALLS (if available) interaction hashes off of `defiInteractionHashes`,\\n         validate their hash (calculated at the end of the previous rollup and stored as\\n         nextExpectedDefiInteractionsHash) equals `numPendingInteractions` (this validates that rollup block\\n         has added these interaction results into the L2 data tree)\\n      2. iterate over rollup block\'s new defi interactions (up to NUMBER_OF_BRIDGE_CALLS). Trigger interactions\\n         by calling DefiBridgeProxy contract. Record results in either `defiInteractionHashes` (for synchrohnous\\n         txns) or, for async txns, the `pendingDefiInteractions` mapping\\n      3. copy the contents of `asyncInteractionHashes` into `defiInteractionHashes` && clear\\n         `asyncInteractionHashes`\\n      4. calculate the next value of nextExpectedDefiInteractionsHash from the new set of defiInteractionHashes\\n @param _proofData decoded rollup proof data\\n @param _rollupBeneficiary the address that should be paid any subsidy for processing a bridge call\\n @return nextExpectedHashes the set of non-zero hashes that comprise the current pending defi interactions"},"implemented":true,"kind":"function","modifiers":[],"name":"processBridgeCalls","nameLocation":"88252:18:119","parameters":{"id":74525,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74522,"mutability":"mutable","name":"_proofData","nameLocation":"88284:10:119","nodeType":"VariableDeclaration","scope":74676,"src":"88271:23:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":74521,"name":"bytes","nodeType":"ElementaryTypeName","src":"88271:5:119","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":74524,"mutability":"mutable","name":"_rollupBeneficiary","nameLocation":"88304:18:119","nodeType":"VariableDeclaration","scope":74676,"src":"88296:26:119","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":74523,"name":"address","nodeType":"ElementaryTypeName","src":"88296:7:119","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"88270:53:119"},"returnParameters":{"id":74529,"nodeType":"ParameterList","parameters":[{"constant":false,"id":74528,"mutability":"mutable","name":"nextExpectedHashes","nameLocation":"88375:18:119","nodeType":"VariableDeclaration","scope":74676,"src":"88358:35:119","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":74526,"name":"bytes32","nodeType":"ElementaryTypeName","src":"88358:7:119","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":74527,"nodeType":"ArrayTypeName","src":"88358:9:119","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"src":"88357:37:119"},"scope":74677,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":71586,"name":"IRollupProcessorV2","nodeType":"IdentifierPath","referencedDeclaration":66562,"src":"1121:18:119"},"id":71587,"nodeType":"InheritanceSpecifier","src":"1121:18:119"},{"baseName":{"id":71588,"name":"Decoder","nodeType":"IdentifierPath","referencedDeclaration":68032,"src":"1141:7:119"},"id":71589,"nodeType":"InheritanceSpecifier","src":"1141:7:119"},{"baseName":{"id":71590,"name":"Initializable","nodeType":"IdentifierPath","referencedDeclaration":60321,"src":"1150:13:119"},"id":71591,"nodeType":"InheritanceSpecifier","src":"1150:13:119"},{"baseName":{"id":71592,"name":"AccessControl","nodeType":"IdentifierPath","referencedDeclaration":60921,"src":"1165:13:119"},"id":71593,"nodeType":"InheritanceSpecifier","src":"1165:13:119"}],"canonicalName":"RollupProcessorV2","contractDependencies":[],"contractKind":"contract","documentation":{"id":71585,"nodeType":"StructuredDocumentation","src":"875:215:119","text":" @title Rollup Processor\\n @dev Smart contract responsible for processing Aztec zkRollups, relaying them to a verifier\\n      contract for validation and performing all the relevant ERC20 token transfers"},"fullyImplemented":true,"linearizedBaseContracts":[74677,60921,63604,63616,60994,63345,60321,68032,66562,66543],"name":"RollupProcessorV2","nameLocation":"1100:17:119","scope":74678,"usedErrors":[66781,66783,66785,67700,67702,68431,71598,71600,71602,71604,71606,71608,71610,71612,71614,71616,71618,71620,71622,71624,71626,71630,71634,71636,71638,71640,71642,71644,71646,71648,71652,71658,71664,71670,71676,71678,71680,71682]}],"license":"Apache-2.0"},"id":119}'),Xd=JSON.parse('{"abi":[{"inputs":[{"internalType":"contract IRollupProcessor","name":"_rollupProcessor","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"ROLLUP_PROCESSOR","outputs":[{"internalType":"contract IRollupProcessor","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint8","name":"_v","type":"uint8"},{"internalType":"bytes32","name":"_r","type":"bytes32"},{"internalType":"bytes32","name":"_s","type":"bytes32"}],"name":"depositPendingFundsPermit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint8","name":"_v","type":"uint8"},{"internalType":"bytes32","name":"_r","type":"bytes32"},{"internalType":"bytes32","name":"_s","type":"bytes32"}],"name":"depositPendingFundsPermitNonStandard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"kill","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"}],"name":"preApprove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":{"object":"0x60a060405234801561001057600080fd5b50604051610f32380380610f3283398101604081905261002f91610099565b61003833610049565b6001600160a01b03166080526100c9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000602082840312156100ab57600080fd5b81516001600160a01b03811681146100c257600080fd5b9392505050565b608051610e2461010e600039600081816101060152818161016d015281816102e50152818161035b015281816103900152818161040a015261058a0152610e246000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c8063715018a61161005b578063715018a6146100d05780638da5cb5b146100d8578063ae9467b514610101578063f2fde38b1461012857600080fd5b80630e5e327a1461008d5780632fa8cf13146100a25780633db2176f146100b557806341c0e1b5146100c8575b600080fd5b6100a061009b366004610c23565b61013b565b005b6100a06100b0366004610c88565b61034c565b6100a06100c3366004610cac565b6103d8565b6100a06105f2565b6100a06105fd565b6000546001600160a01b03165b6040516001600160a01b03909116815260200160405180910390f35b6100e57f000000000000000000000000000000000000000000000000000000000000000081565b6100a0610136366004610c88565b610611565b6040517f60a8b18a000000000000000000000000000000000000000000000000000000008152600481018890526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906360a8b18a90602401602060405180830381865afa1580156101bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101e09190610d1b565b6040517fd505accf000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018990526064810187905260ff8616608482015260a4810185905260c4810184905290915081906001600160a01b0382169063d505accf9060e401600060405180830381600087803b15801561026a57600080fd5b505af115801561027e573d6000803e3d6000fd5b50610298925050506001600160a01b03821633308b6106a3565b6040517f7ff48afb000000000000000000000000000000000000000000000000000000008152600481018a9052602481018990526001600160a01b038881166044830152600060648301527f00000000000000000000000000000000000000000000000000000000000000001690637ff48afb90608401600060405180830381600087803b15801561032957600080fd5b505af115801561033d573d6000803e3d6000fd5b50505050505050505050505050565b6103816001600160a01b0382167f0000000000000000000000000000000000000000000000000000000000000000600061075a565b6103d56001600160a01b0382167f00000000000000000000000000000000000000000000000000000000000000007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff61075a565b50565b6040517f60a8b18a000000000000000000000000000000000000000000000000000000008152600481018990526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906360a8b18a90602401602060405180830381865afa158015610459573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061047d9190610d1b565b6040517f8fcbaf0c00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101889052606481018790526001608482015260ff861660a482015260c4810185905260e4810184905290915081906001600160a01b03821690638fcbaf0c9061010401600060405180830381600087803b15801561050f57600080fd5b505af1158015610523573d6000803e3d6000fd5b5061053d925050506001600160a01b03821633308c6106a3565b6040517f7ff48afb000000000000000000000000000000000000000000000000000000008152600481018b9052602481018a90526001600160a01b038981166044830152600060648301527f00000000000000000000000000000000000000000000000000000000000000001690637ff48afb90608401600060405180830381600087803b1580156105ce57600080fd5b505af11580156105e2573d6000803e3d6000fd5b5050505050505050505050505050565b6105fa6108ad565b33ff5b6106056108ad565b61060f6000610907565b565b6106196108ad565b6001600160a01b03811661069a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b6103d581610907565b6040516001600160a01b03808516602483015283166044820152606481018290526107549085907f23b872dd00000000000000000000000000000000000000000000000000000000906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff000000000000000000000000000000000000000000000000000000009093169290921790915261096f565b50505050565b8015806107ed57506040517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523060048201526001600160a01b03838116602483015284169063dd62ed3e90604401602060405180830381865afa1580156107c7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107eb9190610d38565b155b61085f5760405162461bcd60e51b815260206004820152603660248201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60448201527f20746f206e6f6e2d7a65726f20616c6c6f77616e6365000000000000000000006064820152608401610691565b6040516001600160a01b0383166024820152604481018290526108a89084907f095ea7b300000000000000000000000000000000000000000000000000000000906064016106f0565b505050565b6000546001600160a01b0316331461060f5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610691565b600080546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60006109c4826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610a549092919063ffffffff16565b8051909150156108a857808060200190518101906109e29190610d51565b6108a85760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152608401610691565b6060610a638484600085610a6b565b949350505050565b606082471015610ae35760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60448201527f722063616c6c00000000000000000000000000000000000000000000000000006064820152608401610691565b600080866001600160a01b03168587604051610aff9190610d9f565b60006040518083038185875af1925050503d8060008114610b3c576040519150601f19603f3d011682016040523d82523d6000602084013e610b41565b606091505b5091509150610b5287838387610b5d565b979650505050505050565b60608315610bc9578251610bc2576001600160a01b0385163b610bc25760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610691565b5081610a63565b610a638383815115610bde5781518083602001fd5b8060405162461bcd60e51b81526004016106919190610dbb565b6001600160a01b03811681146103d557600080fd5b803560ff81168114610c1e57600080fd5b919050565b600080600080600080600060e0888a031215610c3e57600080fd5b87359650602088013595506040880135610c5781610bf8565b945060608801359350610c6c60808901610c0d565b925060a0880135915060c0880135905092959891949750929550565b600060208284031215610c9a57600080fd5b8135610ca581610bf8565b9392505050565b600080600080600080600080610100898b031215610cc957600080fd5b88359750602089013596506040890135610ce281610bf8565b95506060890135945060808901359350610cfe60a08a01610c0d565b925060c0890135915060e089013590509295985092959890939650565b600060208284031215610d2d57600080fd5b8151610ca581610bf8565b600060208284031215610d4a57600080fd5b5051919050565b600060208284031215610d6357600080fd5b81518015158114610ca557600080fd5b60005b83811015610d8e578181015183820152602001610d76565b838111156107545750506000910152565b60008251610db1818460208701610d73565b9190910192915050565b6020815260008251806020840152610dda816040850160208701610d73565b601f01601f1916919091016040019291505056fea26469706673582212204aef170f71071510421eeedfb644e7b026d39d417d2f45d35c46c64fcaa98a0164736f6c634300080a0033","sourceMap":"506:2980:130:-:0;;;641:99;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;936:32:80;719:10:95;936:18:80;:32::i;:::-;-1:-1:-1;;;;;698:35:130;;;506:2980;;2433:187:80;2506:16;2525:6;;-1:-1:-1;;;;;2541:17:80;;;-1:-1:-1;;;;;;2541:17:80;;;;;;2573:40;;2525:6;;;;;;;2573:40;;2506:16;2573:40;2496:124;2433:187;:::o;14:316:173:-;110:6;163:2;151:9;142:7;138:23;134:32;131:52;;;179:1;176;169:12;131:52;205:16;;-1:-1:-1;;;;;250:31:173;;240:42;;230:70;;296:1;293;286:12;230:70;319:5;14:316;-1:-1:-1;;;14:316:173:o;:::-;506:2980:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100885760003560e01c8063715018a61161005b578063715018a6146100d05780638da5cb5b146100d8578063ae9467b514610101578063f2fde38b1461012857600080fd5b80630e5e327a1461008d5780632fa8cf13146100a25780633db2176f146100b557806341c0e1b5146100c8575b600080fd5b6100a061009b366004610c23565b61013b565b005b6100a06100b0366004610c88565b61034c565b6100a06100c3366004610cac565b6103d8565b6100a06105f2565b6100a06105fd565b6000546001600160a01b03165b6040516001600160a01b03909116815260200160405180910390f35b6100e57f000000000000000000000000000000000000000000000000000000000000000081565b6100a0610136366004610c88565b610611565b6040517f60a8b18a000000000000000000000000000000000000000000000000000000008152600481018890526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906360a8b18a90602401602060405180830381865afa1580156101bc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101e09190610d1b565b6040517fd505accf000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018990526064810187905260ff8616608482015260a4810185905260c4810184905290915081906001600160a01b0382169063d505accf9060e401600060405180830381600087803b15801561026a57600080fd5b505af115801561027e573d6000803e3d6000fd5b50610298925050506001600160a01b03821633308b6106a3565b6040517f7ff48afb000000000000000000000000000000000000000000000000000000008152600481018a9052602481018990526001600160a01b038881166044830152600060648301527f00000000000000000000000000000000000000000000000000000000000000001690637ff48afb90608401600060405180830381600087803b15801561032957600080fd5b505af115801561033d573d6000803e3d6000fd5b50505050505050505050505050565b6103816001600160a01b0382167f0000000000000000000000000000000000000000000000000000000000000000600061075a565b6103d56001600160a01b0382167f00000000000000000000000000000000000000000000000000000000000000007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff61075a565b50565b6040517f60a8b18a000000000000000000000000000000000000000000000000000000008152600481018990526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906360a8b18a90602401602060405180830381865afa158015610459573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061047d9190610d1b565b6040517f8fcbaf0c00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101889052606481018790526001608482015260ff861660a482015260c4810185905260e4810184905290915081906001600160a01b03821690638fcbaf0c9061010401600060405180830381600087803b15801561050f57600080fd5b505af1158015610523573d6000803e3d6000fd5b5061053d925050506001600160a01b03821633308c6106a3565b6040517f7ff48afb000000000000000000000000000000000000000000000000000000008152600481018b9052602481018a90526001600160a01b038981166044830152600060648301527f00000000000000000000000000000000000000000000000000000000000000001690637ff48afb90608401600060405180830381600087803b1580156105ce57600080fd5b505af11580156105e2573d6000803e3d6000fd5b5050505050505050505050505050565b6105fa6108ad565b33ff5b6106056108ad565b61060f6000610907565b565b6106196108ad565b6001600160a01b03811661069a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b6103d581610907565b6040516001600160a01b03808516602483015283166044820152606481018290526107549085907f23b872dd00000000000000000000000000000000000000000000000000000000906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff000000000000000000000000000000000000000000000000000000009093169290921790915261096f565b50505050565b8015806107ed57506040517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523060048201526001600160a01b03838116602483015284169063dd62ed3e90604401602060405180830381865afa1580156107c7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107eb9190610d38565b155b61085f5760405162461bcd60e51b815260206004820152603660248201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60448201527f20746f206e6f6e2d7a65726f20616c6c6f77616e6365000000000000000000006064820152608401610691565b6040516001600160a01b0383166024820152604481018290526108a89084907f095ea7b300000000000000000000000000000000000000000000000000000000906064016106f0565b505050565b6000546001600160a01b0316331461060f5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610691565b600080546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60006109c4826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610a549092919063ffffffff16565b8051909150156108a857808060200190518101906109e29190610d51565b6108a85760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152608401610691565b6060610a638484600085610a6b565b949350505050565b606082471015610ae35760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60448201527f722063616c6c00000000000000000000000000000000000000000000000000006064820152608401610691565b600080866001600160a01b03168587604051610aff9190610d9f565b60006040518083038185875af1925050503d8060008114610b3c576040519150601f19603f3d011682016040523d82523d6000602084013e610b41565b606091505b5091509150610b5287838387610b5d565b979650505050505050565b60608315610bc9578251610bc2576001600160a01b0385163b610bc25760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610691565b5081610a63565b610a638383815115610bde5781518083602001fd5b8060405162461bcd60e51b81526004016106919190610dbb565b6001600160a01b03811681146103d557600080fd5b803560ff81168114610c1e57600080fd5b919050565b600080600080600080600060e0888a031215610c3e57600080fd5b87359650602088013595506040880135610c5781610bf8565b945060608801359350610c6c60808901610c0d565b925060a0880135915060c0880135905092959891949750929550565b600060208284031215610c9a57600080fd5b8135610ca581610bf8565b9392505050565b600080600080600080600080610100898b031215610cc957600080fd5b88359750602089013596506040890135610ce281610bf8565b95506060890135945060808901359350610cfe60a08a01610c0d565b925060c0890135915060e089013590509295985092959890939650565b600060208284031215610d2d57600080fd5b8151610ca581610bf8565b600060208284031215610d4a57600080fd5b5051919050565b600060208284031215610d6357600080fd5b81518015158114610ca557600080fd5b60005b83811015610d8e578181015183820152602001610d76565b838111156107545750506000910152565b60008251610db1818460208701610d73565b9190910192915050565b6020815260008251806020840152610dda816040850160208701610d73565b601f01601f1916919091016040019291505056fea26469706673582212204aef170f71071510421eeedfb644e7b026d39d417d2f45d35c46c64fcaa98a0164736f6c634300080a0033","sourceMap":"506:2980:130:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1741:585;;;;;;:::i;:::-;;:::i;:::-;;1077:212;;;;;;:::i;:::-;;:::i;2859:625::-;;;;;;:::i;:::-;;:::i;844:85::-;;;:::i;1831:101:80:-;;;:::i;1201:85::-;1247:7;1273:6;-1:-1:-1;;;;;1273:6:80;1201:85;;;-1:-1:-1;;;;;2151:55:173;;;2133:74;;2121:2;2106:18;1201:85:80;;;;;;;584:50:130;;;;;2081:198:80;;;;;;:::i;:::-;;:::i;1741:585:130:-;1984:44;;;;;;;;2621:25:173;;;1961:20:130;;1984:16;-1:-1:-1;;;;;1984:34:130;;;;2594:18:173;;1984:44:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2095:71;;;;;2108:10;2095:71;;;3285:34:173;2128:4:130;3335:18:173;;;3328:43;3387:18;;;3380:34;;;3430:18;;;3423:34;;;3506:4;3494:17;;3473:19;;;3466:46;3528:19;;;3521:35;;;3572:19;;;3565:35;;;1961:67:130;;-1:-1:-1;1961:67:130;;-1:-1:-1;;;;;2095:12:130;;;;;3196:19:173;;2095:71:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;2176:58:130;;-1:-1:-1;;;;;;;;2176:22:130;;2199:10;2219:4;2226:7;2176:22;:58::i;:::-;2244:75;;;;;;;;3842:25:173;;;3883:18;;;3876:34;;;-1:-1:-1;;;;;3946:55:173;;;3926:18;;;3919:83;2316:1:130;4018:18:173;;;4011:34;2244:16:130;:36;;;;3814:19:173;;2244:75:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1951:375;;1741:585;;;;;;;:::o;1077:212::-;1132:62;-1:-1:-1;;;;;1132:32:130;;1173:16;1192:1;1132:32;:62::i;:::-;1204:78;-1:-1:-1;;;;;1204:32:130;;1245:16;1264:17;1204:32;:78::i;:::-;1077:212;:::o;2859:625::-;3137:44;;;;;;;;2621:25:173;;;3114:20:130;;3137:16;-1:-1:-1;;;;;3137:34:130;;;;2594:18:173;;3137:44:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3248:76;;;;;3261:10;3248:76;;;4450:34:173;3281:4:130;4500:18:173;;;4493:43;4552:18;;;4545:34;;;4595:18;;;4588:34;;;3307:4:130;4638:19:173;;;4631:51;4731:4;4719:17;;4698:19;;;4691:46;4753:19;;;4746:35;;;4797:19;;;4790:35;;;3114:67:130;;-1:-1:-1;3114:67:130;;-1:-1:-1;;;;;3248:12:130;;;;;4361:19:173;;3248:76:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;3334:58:130;;-1:-1:-1;;;;;;;;3334:22:130;;3357:10;3377:4;3384:7;3334:22;:58::i;:::-;3402:75;;;;;;;;3842:25:173;;;3883:18;;;3876:34;;;-1:-1:-1;;;;;3946:55:173;;;3926:18;;;3919:83;3474:1:130;4018:18:173;;;4011:34;3402:16:130;:36;;;;3814:19:173;;3402:75:130;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3104:380;;2859:625;;;;;;;;:::o;844:85::-;1094:13:80;:11;:13::i;:::-;910:10:130::1;889:33;1831:101:80::0;1094:13;:11;:13::i;:::-;1895:30:::1;1922:1;1895:18;:30::i;:::-;1831:101::o:0;2081:198::-;1094:13;:11;:13::i;:::-;-1:-1:-1;;;;;2169:22:80;::::1;2161:73;;;::::0;-1:-1:-1;;;2161:73:80;;5038:2:173;2161:73:80::1;::::0;::::1;5020:21:173::0;5077:2;5057:18;;;5050:30;5116:34;5096:18;;;5089:62;5187:8;5167:18;;;5160:36;5213:19;;2161:73:80::1;;;;;;;;;2244:28;2263:8;2244:18;:28::i;974:241:93:-:0;1139:68;;-1:-1:-1;;;;;5524:15:173;;;1139:68:93;;;5506:34:173;5576:15;;5556:18;;;5549:43;5608:18;;;5601:34;;;1112:96:93;;1132:5;;1162:27;;5418:18:173;;1139:68:93;;;;-1:-1:-1;;1139:68:93;;;;;;;;;;;;;;;;;;;;;;;;;;;1112:19;:96::i;:::-;974:241;;;;:::o;1475:603::-;1830:10;;;1829:62;;-1:-1:-1;1846:39:93;;;;;1870:4;1846:39;;;5881:34:173;-1:-1:-1;;;;;5951:15:173;;;5931:18;;;5924:43;1846:15:93;;;;;5793:18:173;;1846:39:93;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:44;1829:62;1808:163;;;;-1:-1:-1;;;1808:163:93;;6369:2:173;1808:163:93;;;6351:21:173;6408:2;6388:18;;;6381:30;6447:34;6427:18;;;6420:62;6518:24;6498:18;;;6491:52;6560:19;;1808:163:93;6167:418:173;1808:163:93;2008:62;;-1:-1:-1;;;;;6782:55:173;;2008:62:93;;;6764:74:173;6854:18;;;6847:34;;;1981:90:93;;2001:5;;2031:22;;6737:18:173;;2008:62:93;6590:297:173;1981:90:93;1475:603;;;:::o;1359:130:80:-;1247:7;1273:6;-1:-1:-1;;;;;1273:6:80;719:10:95;1422:23:80;1414:68;;;;-1:-1:-1;;;1414:68:80;;7094:2:173;1414:68:80;;;7076:21:173;;;7113:18;;;7106:30;7172:34;7152:18;;;7145:62;7224:18;;1414:68:80;6892:356:173;2433:187:80;2506:16;2525:6;;-1:-1:-1;;;;;2541:17:80;;;;;;;;;;2573:40;;2525:6;;;;;;;2573:40;;2506:16;2573:40;2496:124;2433:187;:::o;3747:706:93:-;4166:23;4192:69;4220:4;4192:69;;;;;;;;;;;;;;;;;4200:5;-1:-1:-1;;;;;4192:27:93;;;:69;;;;;:::i;:::-;4275:17;;4166:95;;-1:-1:-1;4275:21:93;4271:176;;4370:10;4359:30;;;;;;;;;;;;:::i;:::-;4351:85;;;;-1:-1:-1;;;4351:85:93;;7737:2:173;4351:85:93;;;7719:21:173;7776:2;7756:18;;;7749:30;7815:34;7795:18;;;7788:62;7886:12;7866:18;;;7859:40;7916:19;;4351:85:93;7535:406:173;3873:223:94;4006:12;4037:52;4059:6;4067:4;4073:1;4076:12;4037:21;:52::i;:::-;4030:59;3873:223;-1:-1:-1;;;;3873:223:94:o;4960:446::-;5125:12;5182:5;5157:21;:30;;5149:81;;;;-1:-1:-1;;;5149:81:94;;8148:2:173;5149:81:94;;;8130:21:173;8187:2;8167:18;;;8160:30;8226:34;8206:18;;;8199:62;8297:8;8277:18;;;8270:36;8323:19;;5149:81:94;7946:402:173;5149:81:94;5241:12;5255:23;5282:6;-1:-1:-1;;;;;5282:11:94;5301:5;5308:4;5282:31;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5240:73;;;;5330:69;5357:6;5365:7;5374:10;5386:12;5330:26;:69::i;:::-;5323:76;4960:446;-1:-1:-1;;;;;;;4960:446:94:o;7466:628::-;7646:12;7674:7;7670:418;;;7701:17;;7697:286;;-1:-1:-1;;;;;1465:19:94;;;7908:60;;;;-1:-1:-1;;;7908:60:94;;9097:2:173;7908:60:94;;;9079:21:173;9136:2;9116:18;;;9109:30;9175:31;9155:18;;;9148:59;9224:18;;7908:60:94;8895:353:173;7908:60:94;-1:-1:-1;8003:10:94;7996:17;;7670:418;8044:33;8052:10;8064:12;8775:17;;:21;8771:379;;9003:10;8997:17;9059:15;9046:10;9042:2;9038:19;9031:44;8771:379;9126:12;9119:20;;-1:-1:-1;;;9119:20:94;;;;;;;;:::i;14:154:173:-;-1:-1:-1;;;;;93:5:173;89:54;82:5;79:65;69:93;;158:1;155;148:12;173:156;239:20;;299:4;288:16;;278:27;;268:55;;319:1;316;309:12;268:55;173:156;;;:::o;334:661::-;445:6;453;461;469;477;485;493;546:3;534:9;525:7;521:23;517:33;514:53;;;563:1;560;553:12;514:53;599:9;586:23;576:33;;656:2;645:9;641:18;628:32;618:42;;710:2;699:9;695:18;682:32;723:31;748:5;723:31;:::i;:::-;773:5;-1:-1:-1;825:2:173;810:18;;797:32;;-1:-1:-1;848:37:173;880:3;865:19;;848:37;:::i;:::-;838:47;;932:3;921:9;917:19;904:33;894:43;;984:3;973:9;969:19;956:33;946:43;;334:661;;;;;;;;;;:::o;1000:247::-;1059:6;1112:2;1100:9;1091:7;1087:23;1083:32;1080:52;;;1128:1;1125;1118:12;1080:52;1167:9;1154:23;1186:31;1211:5;1186:31;:::i;:::-;1236:5;1000:247;-1:-1:-1;;;1000:247:173:o;1252:730::-;1372:6;1380;1388;1396;1404;1412;1420;1428;1481:3;1469:9;1460:7;1456:23;1452:33;1449:53;;;1498:1;1495;1488:12;1449:53;1534:9;1521:23;1511:33;;1591:2;1580:9;1576:18;1563:32;1553:42;;1645:2;1634:9;1630:18;1617:32;1658:31;1683:5;1658:31;:::i;:::-;1708:5;-1:-1:-1;1760:2:173;1745:18;;1732:32;;-1:-1:-1;1811:3:173;1796:19;;1783:33;;-1:-1:-1;1835:37:173;1867:3;1852:19;;1835:37;:::i;:::-;1825:47;;1919:3;1908:9;1904:19;1891:33;1881:43;;1971:3;1960:9;1956:19;1943:33;1933:43;;1252:730;;;;;;;;;;;:::o;2657:251::-;2727:6;2780:2;2768:9;2759:7;2755:23;2751:32;2748:52;;;2796:1;2793;2786:12;2748:52;2828:9;2822:16;2847:31;2872:5;2847:31;:::i;5978:184::-;6048:6;6101:2;6089:9;6080:7;6076:23;6072:32;6069:52;;;6117:1;6114;6107:12;6069:52;-1:-1:-1;6140:16:173;;5978:184;-1:-1:-1;5978:184:173:o;7253:277::-;7320:6;7373:2;7361:9;7352:7;7348:23;7344:32;7341:52;;;7389:1;7386;7379:12;7341:52;7421:9;7415:16;7474:5;7467:13;7460:21;7453:5;7450:32;7440:60;;7496:1;7493;7486:12;8353:258;8425:1;8435:113;8449:6;8446:1;8443:13;8435:113;;;8525:11;;;8519:18;8506:11;;;8499:39;8471:2;8464:10;8435:113;;;8566:6;8563:1;8560:13;8557:48;;;-1:-1:-1;;8601:1:173;8583:16;;8576:27;8353:258::o;8616:274::-;8745:3;8783:6;8777:13;8799:53;8845:6;8840:3;8833:4;8825:6;8821:17;8799:53;:::i;:::-;8868:16;;;;;8616:274;-1:-1:-1;;8616:274:173:o;9253:442::-;9402:2;9391:9;9384:21;9365:4;9434:6;9428:13;9477:6;9472:2;9461:9;9457:18;9450:34;9493:66;9552:6;9547:2;9536:9;9532:18;9527:2;9519:6;9515:15;9493:66;:::i;:::-;9611:2;9599:15;-1:-1:-1;;9595:88:173;9580:104;;;;9686:2;9576:113;;9253:442;-1:-1:-1;;9253:442:173:o","linkReferences":{},"immutableReferences":{"80047":[{"start":262,"length":32},{"start":365,"length":32},{"start":741,"length":32},{"start":859,"length":32},{"start":912,"length":32},{"start":1034,"length":32},{"start":1418,"length":32}]}},"methodIdentifiers":{"ROLLUP_PROCESSOR()":"ae9467b5","depositPendingFundsPermit(uint256,uint256,address,uint256,uint8,bytes32,bytes32)":"0e5e327a","depositPendingFundsPermitNonStandard(uint256,uint256,address,uint256,uint256,uint8,bytes32,bytes32)":"3db2176f","kill()":"41c0e1b5","owner()":"8da5cb5b","preApprove(address)":"2fa8cf13","renounceOwnership()":"715018a6","transferOwnership(address)":"f2fde38b"},"rawMetadata":"{\\"compiler\\":{\\"version\\":\\"0.8.10+commit.fc410830\\"},\\"language\\":\\"Solidity\\",\\"output\\":{\\"abi\\":[{\\"inputs\\":[{\\"internalType\\":\\"contract IRollupProcessor\\",\\"name\\":\\"_rollupProcessor\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"},{\\"anonymous\\":false,\\"inputs\\":[{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"previousOwner\\",\\"type\\":\\"address\\"},{\\"indexed\\":true,\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"OwnershipTransferred\\",\\"type\\":\\"event\\"},{\\"inputs\\":[],\\"name\\":\\"ROLLUP_PROCESSOR\\",\\"outputs\\":[{\\"internalType\\":\\"contract IRollupProcessor\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_assetId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_amount\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_deadline\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint8\\",\\"name\\":\\"_v\\",\\"type\\":\\"uint8\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_r\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_s\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"depositPendingFundsPermit\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_assetId\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_amount\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"address\\",\\"name\\":\\"_owner\\",\\"type\\":\\"address\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_nonce\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint256\\",\\"name\\":\\"_deadline\\",\\"type\\":\\"uint256\\"},{\\"internalType\\":\\"uint8\\",\\"name\\":\\"_v\\",\\"type\\":\\"uint8\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_r\\",\\"type\\":\\"bytes32\\"},{\\"internalType\\":\\"bytes32\\",\\"name\\":\\"_s\\",\\"type\\":\\"bytes32\\"}],\\"name\\":\\"depositPendingFundsPermitNonStandard\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"kill\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"owner\\",\\"outputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"_asset\\",\\"type\\":\\"address\\"}],\\"name\\":\\"preApprove\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[],\\"name\\":\\"renounceOwnership\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"internalType\\":\\"address\\",\\"name\\":\\"newOwner\\",\\"type\\":\\"address\\"}],\\"name\\":\\"transferOwnership\\",\\"outputs\\":[],\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"}],\\"devdoc\\":{\\"details\\":\\"Contains the permit functions to minimize bloat in core.\\",\\"kind\\":\\"dev\\",\\"methods\\":{\\"depositPendingFundsPermit(uint256,uint256,address,uint256,uint8,bytes32,bytes32)\\":{\\"params\\":{\\"_amount\\":\\"- number of tokens being deposited\\",\\"_assetId\\":\\"- unique ID of the asset\\",\\"_deadline\\":\\"- when the permit signature expires\\",\\"_owner\\":\\"- address that can spend the deposited funds\\",\\"_r\\":\\"- ECDSA sig param\\",\\"_s\\":\\"- ECDSA sig param\\",\\"_v\\":\\"- ECDSA sig param\\"}},\\"depositPendingFundsPermitNonStandard(uint256,uint256,address,uint256,uint256,uint8,bytes32,bytes32)\\":{\\"params\\":{\\"_amount\\":\\"- number of tokens being deposited\\",\\"_assetId\\":\\"- unique ID of the asset\\",\\"_deadline\\":\\"- when the permit signature expires\\",\\"_nonce\\":\\"- user\'s nonce on the erc20 contract, for replay protection\\",\\"_owner\\":\\"- address that can spend the deposited funds\\",\\"_r\\":\\"- ECDSA sig param\\",\\"_s\\":\\"- ECDSA sig param\\",\\"_v\\":\\"- ECDSA sig param\\"}},\\"owner()\\":{\\"details\\":\\"Returns the address of the current owner.\\"},\\"preApprove(address)\\":{\\"params\\":{\\"_asset\\":\\"The address of the asset to pre-approve\\"}},\\"renounceOwnership()\\":{\\"details\\":\\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\\"},\\"transferOwnership(address)\\":{\\"details\\":\\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\\"}},\\"version\\":1},\\"userdoc\\":{\\"kind\\":\\"user\\",\\"methods\\":{\\"depositPendingFundsPermit(uint256,uint256,address,uint256,uint8,bytes32,bytes32)\\":{\\"notice\\":\\"Deposit funds as part of the first stage of the two stage deposit. Permit flow\\"},\\"depositPendingFundsPermitNonStandard(uint256,uint256,address,uint256,uint256,uint8,bytes32,bytes32)\\":{\\"notice\\":\\"Deposit funds as part of the first stage of the two stage deposit. Permit flow\\"},\\"kill()\\":{\\"notice\\":\\"Kills the contract, useful if moving away from the specific rollup\\"},\\"preApprove(address)\\":{\\"notice\\":\\"Preapprove the ROLLUP_PROCESSOR to spend `_asset`\\"}},\\"notice\\":\\"Helper contract for permit actions\\",\\"version\\":1}},\\"settings\\":{\\"compilationTarget\\":{\\"src/periphery/PermitHelper.sol\\":\\"PermitHelper\\"},\\"evmVersion\\":\\"london\\",\\"libraries\\":{},\\"metadata\\":{\\"bytecodeHash\\":\\"ipfs\\"},\\"optimizer\\":{\\"enabled\\":true,\\"runs\\":2000},\\"remappings\\":[\\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\\",\\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\\",\\":@uniswap/v2-core/=lib/v2-core/\\",\\":@uniswap/v2-periphery/=lib/v2-periphery/\\",\\":aztec-connect-bridges/=lib/aztec-connect-bridges/src/\\",\\":bridge-deployments/=lib/aztec-connect-bridges/src/deployment/\\",\\":bridge-interfaces/=lib/aztec-connect-bridges/src/interfaces/\\",\\":bridge-tests/=lib/aztec-connect-bridges/src/test/\\",\\":core/=src/core/\\",\\":ds-test/=lib/forge-std/lib/ds-test/src/\\",\\":erc4626-tests/=lib/aztec-connect-bridges/lib/openzeppelin-contracts/lib/erc4626-tests/\\",\\":forge-std/=lib/forge-std/src/\\",\\":mocks/=src/test/mocks/\\",\\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\\",\\":openzeppelin-contracts/=lib/openzeppelin-contracts/\\",\\":periphery/=src/periphery/\\",\\":rollup-encoder/=lib/rollup-encoder/src/\\",\\":v2-core/=lib/v2-core/contracts/\\",\\":v2-periphery/=lib/v2-periphery/contracts/\\"]},\\"sources\\":{\\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\\":{\\"keccak256\\":\\"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://40fb1b5102468f783961d0af743f91b9980cf66b50d1d12009f6bb1869cea4d2\\",\\"dweb:/ipfs/QmYqEbJML4jB1GHbzD4cUZDtJg5wVwNm3vDJq1GbyDus8y\\"]},\\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\\":{\\"keccak256\\":\\"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34\\",\\"dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr\\"]},\\"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/draft-IERC20Permit.sol\\":{\\"keccak256\\":\\"0xf41ca991f30855bf80ffd11e9347856a517b977f0a6c2d52e6421a99b7840329\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://b2717fd2bdac99daa960a6de500754ea1b932093c946388c381da48658234b95\\",\\"dweb:/ipfs/QmP6QVMn6UeA3ByahyJbYQr5M6coHKBKsf3ySZSfbyA8R7\\"]},\\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\\":{\\"keccak256\\":\\"0x9b72f93be69ca894d8492c244259615c4a742afc8d63720dbc8bb81087d9b238\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://f5a7b96e511be78d5cdf635c784e6ab8cdd38625bb8cafb8a80914a1c89cf0f6\\",\\"dweb:/ipfs/QmVzTCwJxQAkjRQHboT5QrvsVJGWQHgfEjeTbvyxoKBrds\\"]},\\"lib/openzeppelin-contracts/contracts/utils/Address.sol\\":{\\"keccak256\\":\\"0xf96f969e24029d43d0df89e59d365f277021dac62b48e1c1e3ebe0acdd7f1ca1\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://ec772b45a624be516f1c81970caa8a2e144301e9d0921cbc1a2789fef39a1269\\",\\"dweb:/ipfs/QmNyjwxCrGhQMyzLD93oUobJXVe9ceJvRvfXwbEtuxPiEj\\"]},\\"lib/openzeppelin-contracts/contracts/utils/Context.sol\\":{\\"keccak256\\":\\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\\",\\"license\\":\\"MIT\\",\\"urls\\":[\\"bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92\\",\\"dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3\\"]},\\"lib/rollup-encoder/src/interfaces/IRollupProcessor.sol\\":{\\"keccak256\\":\\"0x7f8cc09c537d9c9b80b5e90c1ebe02d2fbb4efd5510bbe3a4df57940e368a71d\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://8d0e59e15799702bbdf118c00851ae154e01b329c625dc6f3097b0cd072770ef\\",\\"dweb:/ipfs/QmPsPp6Drzym9RAai34jMJbnuftV3XkDnDp35RX94hWh2u\\"]},\\"src/core/interfaces/IERC20Permit.sol\\":{\\"keccak256\\":\\"0xcee264922aa498022a70b8f0bede1fd2dba66badf370eef68eab40a729847579\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://605b709c86d4d6111bef019fe2906834de880eedeac9646180e81ba61060e55a\\",\\"dweb:/ipfs/QmcQxwJPLsGz5ryvuZxnoTszSnZWcEhVfKxzd95y2dLW2E\\"]},\\"src/periphery/PermitHelper.sol\\":{\\"keccak256\\":\\"0x562543a7e8e3a9db599c691650e9c2d15c462f310d1c081f4f3f4f95b45c3ba1\\",\\"license\\":\\"Apache-2.0\\",\\"urls\\":[\\"bzz-raw://a115835896cdf09ba2853116b955b13c874bc129327bf1208212dc28dbbf11f7\\",\\"dweb:/ipfs/QmZbmaGwhsY6UKd1CYT9q4TUND3h5Dbs2siG6TkLPVXEPw\\"]}},\\"version\\":1}","metadata":{"compiler":{"version":"0.8.10+commit.fc410830"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IRollupProcessor","name":"_rollupProcessor","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"ROLLUP_PROCESSOR","outputs":[{"internalType":"contract IRollupProcessor","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint8","name":"_v","type":"uint8"},{"internalType":"bytes32","name":"_r","type":"bytes32"},{"internalType":"bytes32","name":"_s","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"depositPendingFundsPermit"},{"inputs":[{"internalType":"uint256","name":"_assetId","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"},{"internalType":"uint256","name":"_deadline","type":"uint256"},{"internalType":"uint8","name":"_v","type":"uint8"},{"internalType":"bytes32","name":"_r","type":"bytes32"},{"internalType":"bytes32","name":"_s","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"depositPendingFundsPermitNonStandard"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"kill"},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_asset","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"preApprove"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"}],"devdoc":{"kind":"dev","methods":{"depositPendingFundsPermit(uint256,uint256,address,uint256,uint8,bytes32,bytes32)":{"params":{"_amount":"- number of tokens being deposited","_assetId":"- unique ID of the asset","_deadline":"- when the permit signature expires","_owner":"- address that can spend the deposited funds","_r":"- ECDSA sig param","_s":"- ECDSA sig param","_v":"- ECDSA sig param"}},"depositPendingFundsPermitNonStandard(uint256,uint256,address,uint256,uint256,uint8,bytes32,bytes32)":{"params":{"_amount":"- number of tokens being deposited","_assetId":"- unique ID of the asset","_deadline":"- when the permit signature expires","_nonce":"- user\'s nonce on the erc20 contract, for replay protection","_owner":"- address that can spend the deposited funds","_r":"- ECDSA sig param","_s":"- ECDSA sig param","_v":"- ECDSA sig param"}},"owner()":{"details":"Returns the address of the current owner."},"preApprove(address)":{"params":{"_asset":"The address of the asset to pre-approve"}},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"userdoc":{"kind":"user","methods":{"depositPendingFundsPermit(uint256,uint256,address,uint256,uint8,bytes32,bytes32)":{"notice":"Deposit funds as part of the first stage of the two stage deposit. Permit flow"},"depositPendingFundsPermitNonStandard(uint256,uint256,address,uint256,uint256,uint8,bytes32,bytes32)":{"notice":"Deposit funds as part of the first stage of the two stage deposit. Permit flow"},"kill()":{"notice":"Kills the contract, useful if moving away from the specific rollup"},"preApprove(address)":{"notice":"Preapprove the ROLLUP_PROCESSOR to spend `_asset`"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/v2-core/=lib/v2-core/","@uniswap/v2-periphery/=lib/v2-periphery/","aztec-connect-bridges/=lib/aztec-connect-bridges/src/","bridge-deployments/=lib/aztec-connect-bridges/src/deployment/","bridge-interfaces/=lib/aztec-connect-bridges/src/interfaces/","bridge-tests/=lib/aztec-connect-bridges/src/test/","core/=src/core/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/aztec-connect-bridges/lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","mocks/=src/test/mocks/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","periphery/=src/periphery/","rollup-encoder/=lib/rollup-encoder/src/","v2-core/=lib/v2-core/contracts/","v2-periphery/=lib/v2-periphery/contracts/"],"optimizer":{"enabled":true,"runs":2000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/periphery/PermitHelper.sol":"PermitHelper"},"libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673","urls":["bzz-raw://40fb1b5102468f783961d0af743f91b9980cf66b50d1d12009f6bb1869cea4d2","dweb:/ipfs/QmYqEbJML4jB1GHbzD4cUZDtJg5wVwNm3vDJq1GbyDus8y"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x9750c6b834f7b43000631af5cc30001c5f547b3ceb3635488f140f60e897ea6b","urls":["bzz-raw://5a7d5b1ef5d8d5889ad2ed89d8619c09383b80b72ab226e0fe7bde1636481e34","dweb:/ipfs/QmebXWgtEfumQGBdVeM6c71McLixYXQP5Bk6kKXuoY4Bmr"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/draft-IERC20Permit.sol":{"keccak256":"0xf41ca991f30855bf80ffd11e9347856a517b977f0a6c2d52e6421a99b7840329","urls":["bzz-raw://b2717fd2bdac99daa960a6de500754ea1b932093c946388c381da48658234b95","dweb:/ipfs/QmP6QVMn6UeA3ByahyJbYQr5M6coHKBKsf3ySZSfbyA8R7"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x9b72f93be69ca894d8492c244259615c4a742afc8d63720dbc8bb81087d9b238","urls":["bzz-raw://f5a7b96e511be78d5cdf635c784e6ab8cdd38625bb8cafb8a80914a1c89cf0f6","dweb:/ipfs/QmVzTCwJxQAkjRQHboT5QrvsVJGWQHgfEjeTbvyxoKBrds"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Address.sol":{"keccak256":"0xf96f969e24029d43d0df89e59d365f277021dac62b48e1c1e3ebe0acdd7f1ca1","urls":["bzz-raw://ec772b45a624be516f1c81970caa8a2e144301e9d0921cbc1a2789fef39a1269","dweb:/ipfs/QmNyjwxCrGhQMyzLD93oUobJXVe9ceJvRvfXwbEtuxPiEj"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7","urls":["bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92","dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3"],"license":"MIT"},"lib/rollup-encoder/src/interfaces/IRollupProcessor.sol":{"keccak256":"0x7f8cc09c537d9c9b80b5e90c1ebe02d2fbb4efd5510bbe3a4df57940e368a71d","urls":["bzz-raw://8d0e59e15799702bbdf118c00851ae154e01b329c625dc6f3097b0cd072770ef","dweb:/ipfs/QmPsPp6Drzym9RAai34jMJbnuftV3XkDnDp35RX94hWh2u"],"license":"Apache-2.0"},"src/core/interfaces/IERC20Permit.sol":{"keccak256":"0xcee264922aa498022a70b8f0bede1fd2dba66badf370eef68eab40a729847579","urls":["bzz-raw://605b709c86d4d6111bef019fe2906834de880eedeac9646180e81ba61060e55a","dweb:/ipfs/QmcQxwJPLsGz5ryvuZxnoTszSnZWcEhVfKxzd95y2dLW2E"],"license":"Apache-2.0"},"src/periphery/PermitHelper.sol":{"keccak256":"0x562543a7e8e3a9db599c691650e9c2d15c462f310d1c081f4f3f4f95b45c3ba1","urls":["bzz-raw://a115835896cdf09ba2853116b955b13c874bc129327bf1208212dc28dbbf11f7","dweb:/ipfs/QmZbmaGwhsY6UKd1CYT9q4TUND3h5Dbs2siG6TkLPVXEPw"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"src/periphery/PermitHelper.sol","id":80257,"exportedSymbols":{"IERC20Permit":[68410],"IRollupProcessor":[66543],"Ownable":[61107],"PermitHelper":[80256],"SafeERC20":[62993]},"nodeType":"SourceUnit","src":"64:3423:130","nodes":[{"id":80029,"nodeType":"PragmaDirective","src":"64:24:130","nodes":[],"literals":["solidity",">=","0.8",".4"]},{"id":80031,"nodeType":"ImportDirective","src":"90:67:130","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable.sol","file":"@openzeppelin/contracts/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":80257,"sourceUnit":61108,"symbolAliases":[{"foreign":{"id":80030,"name":"Ownable","nodeType":"Identifier","overloadedDeclarations":[],"src":"98:7:130","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":80033,"nodeType":"ImportDirective","src":"158:82:130","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol","file":"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol","nameLocation":"-1:-1:-1","scope":80257,"sourceUnit":62994,"symbolAliases":[{"foreign":{"id":80032,"name":"SafeERC20","nodeType":"Identifier","overloadedDeclarations":[],"src":"166:9:130","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":80035,"nodeType":"ImportDirective","src":"242:62:130","nodes":[],"absolutePath":"src/core/interfaces/IERC20Permit.sol","file":"core/interfaces/IERC20Permit.sol","nameLocation":"-1:-1:-1","scope":80257,"sourceUnit":68411,"symbolAliases":[{"foreign":{"id":80034,"name":"IERC20Permit","nodeType":"Identifier","overloadedDeclarations":[],"src":"250:12:130","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":80037,"nodeType":"ImportDirective","src":"305:80:130","nodes":[],"absolutePath":"lib/rollup-encoder/src/interfaces/IRollupProcessor.sol","file":"rollup-encoder/interfaces/IRollupProcessor.sol","nameLocation":"-1:-1:-1","scope":80257,"sourceUnit":66544,"symbolAliases":[{"foreign":{"id":80036,"name":"IRollupProcessor","nodeType":"Identifier","overloadedDeclarations":[],"src":"313:16:130","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":80256,"nodeType":"ContractDefinition","src":"506:2980:130","nodes":[{"id":80044,"nodeType":"UsingForDirective","src":"545:33:130","nodes":[],"libraryName":{"id":80041,"name":"SafeERC20","nodeType":"IdentifierPath","referencedDeclaration":62993,"src":"551:9:130"},"typeName":{"id":80043,"nodeType":"UserDefinedTypeName","pathNode":{"id":80042,"name":"IERC20Permit","nodeType":"IdentifierPath","referencedDeclaration":68410,"src":"565:12:130"},"referencedDeclaration":68410,"src":"565:12:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}}},{"id":80047,"nodeType":"VariableDeclaration","src":"584:50:130","nodes":[],"constant":false,"functionSelector":"ae9467b5","mutability":"immutable","name":"ROLLUP_PROCESSOR","nameLocation":"618:16:130","scope":80256,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"},"typeName":{"id":80046,"nodeType":"UserDefinedTypeName","pathNode":{"id":80045,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"584:16:130"},"referencedDeclaration":66543,"src":"584:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"visibility":"public"},{"id":80058,"nodeType":"FunctionDefinition","src":"641:99:130","nodes":[],"body":{"id":80057,"nodeType":"Block","src":"688:52:130","nodes":[],"statements":[{"expression":{"id":80055,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":80053,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"698:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":80054,"name":"_rollupProcessor","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80050,"src":"717:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"src":"698:35:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"id":80056,"nodeType":"ExpressionStatement","src":"698:35:130"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":80051,"nodeType":"ParameterList","parameters":[{"constant":false,"id":80050,"mutability":"mutable","name":"_rollupProcessor","nameLocation":"670:16:130","nodeType":"VariableDeclaration","scope":80058,"src":"653:33:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"},"typeName":{"id":80049,"nodeType":"UserDefinedTypeName","pathNode":{"id":80048,"name":"IRollupProcessor","nodeType":"IdentifierPath","referencedDeclaration":66543,"src":"653:16:130"},"referencedDeclaration":66543,"src":"653:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"visibility":"internal"}],"src":"652:35:130"},"returnParameters":{"id":80052,"nodeType":"ParameterList","parameters":[],"src":"688:0:130"},"scope":80256,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":80073,"nodeType":"FunctionDefinition","src":"844:85:130","nodes":[],"body":{"id":80072,"nodeType":"Block","src":"879:50:130","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":80067,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"910:3:130","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":80068,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"910:10:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80066,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"902:8:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_payable_$","typeString":"type(address payable)"},"typeName":{"id":80065,"name":"address","nodeType":"ElementaryTypeName","src":"902:8:130","stateMutability":"payable","typeDescriptions":{}}},"id":80069,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"902:19:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"}],"id":80064,"name":"selfdestruct","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-21,"src":"889:12:130","typeDescriptions":{"typeIdentifier":"t_function_selfdestruct_nonpayable$_t_address_payable_$returns$__$","typeString":"function (address payable)"}},"id":80070,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"889:33:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80071,"nodeType":"ExpressionStatement","src":"889:33:130"}]},"documentation":{"id":80059,"nodeType":"StructuredDocumentation","src":"746:93:130","text":" @notice Kills the contract, useful if moving away from the specific rollup"},"functionSelector":"41c0e1b5","implemented":true,"kind":"function","modifiers":[{"id":80062,"kind":"modifierInvocation","modifierName":{"id":80061,"name":"onlyOwner","nodeType":"IdentifierPath","referencedDeclaration":61026,"src":"869:9:130"},"nodeType":"ModifierInvocation","src":"869:9:130"}],"name":"kill","nameLocation":"853:4:130","parameters":{"id":80060,"nodeType":"ParameterList","parameters":[],"src":"857:2:130"},"returnParameters":{"id":80063,"nodeType":"ParameterList","parameters":[],"src":"879:0:130"},"scope":80256,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":80106,"nodeType":"FunctionDefinition","src":"1077:212:130","nodes":[],"body":{"id":80105,"nodeType":"Block","src":"1122:167:130","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":80085,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"1173:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}],"id":80084,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1165:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80083,"name":"address","nodeType":"ElementaryTypeName","src":"1165:7:130","typeDescriptions":{}}},"id":80086,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1165:25:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"30","id":80087,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1192:1:130","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"expression":{"arguments":[{"id":80080,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80076,"src":"1145:6:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80079,"name":"IERC20Permit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68410,"src":"1132:12:130","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20Permit_$68410_$","typeString":"type(contract IERC20Permit)"}},"id":80081,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1132:20:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"id":80082,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeApprove","nodeType":"MemberAccess","referencedDeclaration":62814,"src":"1132:32:130","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$62651_$_t_address_$_t_uint256_$returns$__$bound_to$_t_contract$_IERC20_$62651_$","typeString":"function (contract IERC20,address,uint256)"}},"id":80088,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1132:62:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80089,"nodeType":"ExpressionStatement","src":"1132:62:130"},{"expression":{"arguments":[{"arguments":[{"id":80096,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"1245:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}],"id":80095,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1237:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80094,"name":"address","nodeType":"ElementaryTypeName","src":"1237:7:130","typeDescriptions":{}}},"id":80097,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1237:25:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"arguments":[{"id":80100,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1269:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":80099,"name":"uint256","nodeType":"ElementaryTypeName","src":"1269:7:130","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":80098,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"1264:4:130","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":80101,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1264:13:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":80102,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"max","nodeType":"MemberAccess","src":"1264:17:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":80091,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80076,"src":"1217:6:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80090,"name":"IERC20Permit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68410,"src":"1204:12:130","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20Permit_$68410_$","typeString":"type(contract IERC20Permit)"}},"id":80092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1204:20:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"id":80093,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeApprove","nodeType":"MemberAccess","referencedDeclaration":62814,"src":"1204:32:130","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$62651_$_t_address_$_t_uint256_$returns$__$bound_to$_t_contract$_IERC20_$62651_$","typeString":"function (contract IERC20,address,uint256)"}},"id":80103,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1204:78:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80104,"nodeType":"ExpressionStatement","src":"1204:78:130"}]},"documentation":{"id":80074,"nodeType":"StructuredDocumentation","src":"935:137:130","text":" @notice Preapprove the ROLLUP_PROCESSOR to spend `_asset`\\n @param _asset The address of the asset to pre-approve"},"functionSelector":"2fa8cf13","implemented":true,"kind":"function","modifiers":[],"name":"preApprove","nameLocation":"1086:10:130","parameters":{"id":80077,"nodeType":"ParameterList","parameters":[{"constant":false,"id":80076,"mutability":"mutable","name":"_asset","nameLocation":"1105:6:130","nodeType":"VariableDeclaration","scope":80106,"src":"1097:14:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80075,"name":"address","nodeType":"ElementaryTypeName","src":"1097:7:130","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1096:16:130"},"returnParameters":{"id":80078,"nodeType":"ParameterList","parameters":[],"src":"1122:0:130"},"scope":80256,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":80179,"nodeType":"FunctionDefinition","src":"1741:585:130","nodes":[],"body":{"id":80178,"nodeType":"Block","src":"1951:375:130","nodes":[],"statements":[{"assignments":[80125],"declarations":[{"constant":false,"id":80125,"mutability":"mutable","name":"assetAddress","nameLocation":"1969:12:130","nodeType":"VariableDeclaration","scope":80178,"src":"1961:20:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80124,"name":"address","nodeType":"ElementaryTypeName","src":"1961:7:130","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":80130,"initialValue":{"arguments":[{"id":80128,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80109,"src":"2019:8:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":80126,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"1984:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"id":80127,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSupportedAsset","nodeType":"MemberAccess","referencedDeclaration":66516,"src":"1984:34:130","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":80129,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1984:44:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"1961:67:130"},{"assignments":[80133],"declarations":[{"constant":false,"id":80133,"mutability":"mutable","name":"token","nameLocation":"2051:5:130","nodeType":"VariableDeclaration","scope":80178,"src":"2038:18:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"},"typeName":{"id":80132,"nodeType":"UserDefinedTypeName","pathNode":{"id":80131,"name":"IERC20Permit","nodeType":"IdentifierPath","referencedDeclaration":68410,"src":"2038:12:130"},"referencedDeclaration":68410,"src":"2038:12:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"visibility":"internal"}],"id":80137,"initialValue":{"arguments":[{"id":80135,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80125,"src":"2072:12:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80134,"name":"IERC20Permit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68410,"src":"2059:12:130","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20Permit_$68410_$","typeString":"type(contract IERC20Permit)"}},"id":80136,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2059:26:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"nodeType":"VariableDeclarationStatement","src":"2038:47:130"},{"expression":{"arguments":[{"expression":{"id":80141,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2108:3:130","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":80142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"2108:10:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":80145,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"2128:4:130","typeDescriptions":{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}],"id":80144,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2120:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80143,"name":"address","nodeType":"ElementaryTypeName","src":"2120:7:130","typeDescriptions":{}}},"id":80146,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2120:13:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":80147,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80111,"src":"2135:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80148,"name":"_deadline","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80115,"src":"2144:9:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80149,"name":"_v","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80117,"src":"2155:2:130","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":80150,"name":"_r","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80119,"src":"2159:2:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":80151,"name":"_s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80121,"src":"2163:2:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":80138,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80133,"src":"2095:5:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"id":80140,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"permit","nodeType":"MemberAccess","referencedDeclaration":68390,"src":"2095:12:130","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_uint8_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (address,address,uint256,uint256,uint8,bytes32,bytes32) external"}},"id":80152,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2095:71:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80153,"nodeType":"ExpressionStatement","src":"2095:71:130"},{"expression":{"arguments":[{"expression":{"id":80157,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2199:3:130","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":80158,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"2199:10:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":80161,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"2219:4:130","typeDescriptions":{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}],"id":80160,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2211:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80159,"name":"address","nodeType":"ElementaryTypeName","src":"2211:7:130","typeDescriptions":{}}},"id":80162,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2211:13:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":80163,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80111,"src":"2226:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":80154,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80133,"src":"2176:5:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"id":80156,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":62770,"src":"2176:22:130","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$62651_$_t_address_$_t_address_$_t_uint256_$returns$__$bound_to$_t_contract$_IERC20_$62651_$","typeString":"function (contract IERC20,address,address,uint256)"}},"id":80164,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2176:58:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80165,"nodeType":"ExpressionStatement","src":"2176:58:130"},{"expression":{"arguments":[{"id":80169,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80109,"src":"2281:8:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80170,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80111,"src":"2291:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80171,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80113,"src":"2300:6:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"hexValue":"30","id":80174,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2316:1:130","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":80173,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2308:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":80172,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2308:7:130","typeDescriptions":{}}},"id":80175,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2308:10:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":80166,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"2244:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"id":80168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"depositPendingFunds","nodeType":"MemberAccess","referencedDeclaration":66420,"src":"2244:36:130","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_uint256_$_t_uint256_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,uint256,address,bytes32) payable external"}},"id":80176,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2244:75:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80177,"nodeType":"ExpressionStatement","src":"2244:75:130"}]},"documentation":{"id":80107,"nodeType":"StructuredDocumentation","src":"1295:441:130","text":" @notice Deposit funds as part of the first stage of the two stage deposit. Permit flow\\n @param _assetId - unique ID of the asset\\n @param _amount - number of tokens being deposited\\n @param _owner - address that can spend the deposited funds\\n @param _deadline - when the permit signature expires\\n @param _v - ECDSA sig param\\n @param _r - ECDSA sig param\\n @param _s - ECDSA sig param"},"functionSelector":"0e5e327a","implemented":true,"kind":"function","modifiers":[],"name":"depositPendingFundsPermit","nameLocation":"1750:25:130","parameters":{"id":80122,"nodeType":"ParameterList","parameters":[{"constant":false,"id":80109,"mutability":"mutable","name":"_assetId","nameLocation":"1793:8:130","nodeType":"VariableDeclaration","scope":80179,"src":"1785:16:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80108,"name":"uint256","nodeType":"ElementaryTypeName","src":"1785:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80111,"mutability":"mutable","name":"_amount","nameLocation":"1819:7:130","nodeType":"VariableDeclaration","scope":80179,"src":"1811:15:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80110,"name":"uint256","nodeType":"ElementaryTypeName","src":"1811:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80113,"mutability":"mutable","name":"_owner","nameLocation":"1844:6:130","nodeType":"VariableDeclaration","scope":80179,"src":"1836:14:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80112,"name":"address","nodeType":"ElementaryTypeName","src":"1836:7:130","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":80115,"mutability":"mutable","name":"_deadline","nameLocation":"1868:9:130","nodeType":"VariableDeclaration","scope":80179,"src":"1860:17:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80114,"name":"uint256","nodeType":"ElementaryTypeName","src":"1860:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80117,"mutability":"mutable","name":"_v","nameLocation":"1893:2:130","nodeType":"VariableDeclaration","scope":80179,"src":"1887:8:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":80116,"name":"uint8","nodeType":"ElementaryTypeName","src":"1887:5:130","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":80119,"mutability":"mutable","name":"_r","nameLocation":"1913:2:130","nodeType":"VariableDeclaration","scope":80179,"src":"1905:10:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":80118,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1905:7:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":80121,"mutability":"mutable","name":"_s","nameLocation":"1933:2:130","nodeType":"VariableDeclaration","scope":80179,"src":"1925:10:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":80120,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1925:7:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1775:166:130"},"returnParameters":{"id":80123,"nodeType":"ParameterList","parameters":[],"src":"1951:0:130"},"scope":80256,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":80255,"nodeType":"FunctionDefinition","src":"2859:625:130","nodes":[],"body":{"id":80254,"nodeType":"Block","src":"3104:380:130","nodes":[],"statements":[{"assignments":[80200],"declarations":[{"constant":false,"id":80200,"mutability":"mutable","name":"assetAddress","nameLocation":"3122:12:130","nodeType":"VariableDeclaration","scope":80254,"src":"3114:20:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80199,"name":"address","nodeType":"ElementaryTypeName","src":"3114:7:130","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":80205,"initialValue":{"arguments":[{"id":80203,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80182,"src":"3172:8:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":80201,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"3137:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"id":80202,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"getSupportedAsset","nodeType":"MemberAccess","referencedDeclaration":66516,"src":"3137:34:130","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_uint256_$returns$_t_address_$","typeString":"function (uint256) view external returns (address)"}},"id":80204,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3137:44:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"3114:67:130"},{"assignments":[80208],"declarations":[{"constant":false,"id":80208,"mutability":"mutable","name":"token","nameLocation":"3204:5:130","nodeType":"VariableDeclaration","scope":80254,"src":"3191:18:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"},"typeName":{"id":80207,"nodeType":"UserDefinedTypeName","pathNode":{"id":80206,"name":"IERC20Permit","nodeType":"IdentifierPath","referencedDeclaration":68410,"src":"3191:12:130"},"referencedDeclaration":68410,"src":"3191:12:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"visibility":"internal"}],"id":80212,"initialValue":{"arguments":[{"id":80210,"name":"assetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80200,"src":"3225:12:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":80209,"name":"IERC20Permit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":68410,"src":"3212:12:130","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20Permit_$68410_$","typeString":"type(contract IERC20Permit)"}},"id":80211,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3212:26:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"nodeType":"VariableDeclarationStatement","src":"3191:47:130"},{"expression":{"arguments":[{"expression":{"id":80216,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3261:3:130","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":80217,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"3261:10:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":80220,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3281:4:130","typeDescriptions":{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}],"id":80219,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3273:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80218,"name":"address","nodeType":"ElementaryTypeName","src":"3273:7:130","typeDescriptions":{}}},"id":80221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3273:13:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":80222,"name":"_nonce","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80188,"src":"3288:6:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80223,"name":"_deadline","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80190,"src":"3296:9:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":80224,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3307:4:130","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},{"id":80225,"name":"_v","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80192,"src":"3313:2:130","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":80226,"name":"_r","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80194,"src":"3317:2:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":80227,"name":"_s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80196,"src":"3321:2:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":80213,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80208,"src":"3248:5:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"id":80215,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"permit","nodeType":"MemberAccess","referencedDeclaration":68409,"src":"3248:12:130","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bool_$_t_uint8_$_t_bytes32_$_t_bytes32_$returns$__$","typeString":"function (address,address,uint256,uint256,bool,uint8,bytes32,bytes32) external"}},"id":80228,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3248:76:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80229,"nodeType":"ExpressionStatement","src":"3248:76:130"},{"expression":{"arguments":[{"expression":{"id":80233,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3357:3:130","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":80234,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","src":"3357:10:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":80237,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3377:4:130","typeDescriptions":{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_PermitHelper_$80256","typeString":"contract PermitHelper"}],"id":80236,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3369:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":80235,"name":"address","nodeType":"ElementaryTypeName","src":"3369:7:130","typeDescriptions":{}}},"id":80238,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3369:13:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":80239,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80184,"src":"3384:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":80230,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80208,"src":"3334:5:130","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Permit_$68410","typeString":"contract IERC20Permit"}},"id":80232,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":62770,"src":"3334:22:130","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_contract$_IERC20_$62651_$_t_address_$_t_address_$_t_uint256_$returns$__$bound_to$_t_contract$_IERC20_$62651_$","typeString":"function (contract IERC20,address,address,uint256)"}},"id":80240,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3334:58:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80241,"nodeType":"ExpressionStatement","src":"3334:58:130"},{"expression":{"arguments":[{"id":80245,"name":"_assetId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80182,"src":"3439:8:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80246,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80184,"src":"3449:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":80247,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80186,"src":"3458:6:130","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"hexValue":"30","id":80250,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3474:1:130","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":80249,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3466:7:130","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":80248,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3466:7:130","typeDescriptions":{}}},"id":80251,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3466:10:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":80242,"name":"ROLLUP_PROCESSOR","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":80047,"src":"3402:16:130","typeDescriptions":{"typeIdentifier":"t_contract$_IRollupProcessor_$66543","typeString":"contract IRollupProcessor"}},"id":80244,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"depositPendingFunds","nodeType":"MemberAccess","referencedDeclaration":66420,"src":"3402:36:130","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_uint256_$_t_uint256_$_t_address_$_t_bytes32_$returns$__$","typeString":"function (uint256,uint256,address,bytes32) payable external"}},"id":80252,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3402:75:130","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":80253,"nodeType":"ExpressionStatement","src":"3402:75:130"}]},"documentation":{"id":80180,"nodeType":"StructuredDocumentation","src":"2332:522:130","text":" @notice Deposit funds as part of the first stage of the two stage deposit. Permit flow\\n @param _assetId - unique ID of the asset\\n @param _amount - number of tokens being deposited\\n @param _owner - address that can spend the deposited funds\\n @param _nonce - user\'s nonce on the erc20 contract, for replay protection\\n @param _deadline - when the permit signature expires\\n @param _v - ECDSA sig param\\n @param _r - ECDSA sig param\\n @param _s - ECDSA sig param"},"functionSelector":"3db2176f","implemented":true,"kind":"function","modifiers":[],"name":"depositPendingFundsPermitNonStandard","nameLocation":"2868:36:130","parameters":{"id":80197,"nodeType":"ParameterList","parameters":[{"constant":false,"id":80182,"mutability":"mutable","name":"_assetId","nameLocation":"2922:8:130","nodeType":"VariableDeclaration","scope":80255,"src":"2914:16:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80181,"name":"uint256","nodeType":"ElementaryTypeName","src":"2914:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80184,"mutability":"mutable","name":"_amount","nameLocation":"2948:7:130","nodeType":"VariableDeclaration","scope":80255,"src":"2940:15:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80183,"name":"uint256","nodeType":"ElementaryTypeName","src":"2940:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80186,"mutability":"mutable","name":"_owner","nameLocation":"2973:6:130","nodeType":"VariableDeclaration","scope":80255,"src":"2965:14:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":80185,"name":"address","nodeType":"ElementaryTypeName","src":"2965:7:130","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":80188,"mutability":"mutable","name":"_nonce","nameLocation":"2997:6:130","nodeType":"VariableDeclaration","scope":80255,"src":"2989:14:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80187,"name":"uint256","nodeType":"ElementaryTypeName","src":"2989:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80190,"mutability":"mutable","name":"_deadline","nameLocation":"3021:9:130","nodeType":"VariableDeclaration","scope":80255,"src":"3013:17:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":80189,"name":"uint256","nodeType":"ElementaryTypeName","src":"3013:7:130","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":80192,"mutability":"mutable","name":"_v","nameLocation":"3046:2:130","nodeType":"VariableDeclaration","scope":80255,"src":"3040:8:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":80191,"name":"uint8","nodeType":"ElementaryTypeName","src":"3040:5:130","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":80194,"mutability":"mutable","name":"_r","nameLocation":"3066:2:130","nodeType":"VariableDeclaration","scope":80255,"src":"3058:10:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":80193,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3058:7:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":80196,"mutability":"mutable","name":"_s","nameLocation":"3086:2:130","nodeType":"VariableDeclaration","scope":80255,"src":"3078:10:130","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":80195,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3078:7:130","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2904:190:130"},"returnParameters":{"id":80198,"nodeType":"ParameterList","parameters":[],"src":"3104:0:130"},"scope":80256,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":80039,"name":"Ownable","nodeType":"IdentifierPath","referencedDeclaration":61107,"src":"531:7:130"},"id":80040,"nodeType":"InheritanceSpecifier","src":"531:7:130"}],"canonicalName":"PermitHelper","contractDependencies":[],"contractKind":"contract","documentation":{"id":80038,"nodeType":"StructuredDocumentation","src":"387:118:130","text":" @notice Helper contract for permit actions\\n @dev Contains the permit functions to minimize bloat in core."},"fullyImplemented":true,"linearizedBaseContracts":[80256,61107,63345],"name":"PermitHelper","nameLocation":"515:12:130","scope":80257,"usedErrors":[]}],"license":"Apache-2.0"},"id":130}');class Qd{constructor(e,t,n=(()=>((e,t)=>new Hd(e,Wd.abi,new _c(t)))(e.toString(),t))){this.bridgeDataProviderAddress=e,this.subsidyCache={},this.bridgeDataCache={},this.contract=n()}get address(){return this.bridgeDataProviderAddress}async getBridgeSubsidy(e){const t=Vt.fromBigInt(e),n=t.toString();if(void 0===this.subsidyCache[n]){const[r,i,s]=await this.contract.getAccumulatedSubsidyAmount(e);this.subsidyCache[n]={addressId:t.bridgeAddressId,subsidyInGas:s.toNumber(),subsidyInWei:i.toBigInt(),criteria:r.toBigInt()}}return this.subsidyCache[n]}async getBridgeData(e){if(void 0===this.bridgeDataCache[e]){const t=await this.contract.getBridge(e),n={address:qe.fromString(t.bridgeAddress),addressId:t.bridgeAddressId.toNumber(),description:t.label};this.bridgeDataCache[e]=n}return this.bridgeDataCache[e]}updatePerEthBlockState(){this.subsidyCache={}}}const eu=["function latestAnswer() public view returns(int256)","function latestRound() public pure returns(uint256)","function getRoundData(uint80 _roundId) public view returns(uint80,int256,uint256,uint256,uint80)"];class tu{constructor(e,t){this.contract=new Hd(e.toString(),eu,new _c(t))}async price(){return BigInt(await this.contract.latestAnswer())}async latestRound(){return BigInt(await this.contract.latestRound())}async getRoundData(e){const[,t,,n]=await this.contract.getRoundData(e)||[];return{roundId:e,price:BigInt(t||0),timestamp:+(n||0)}}async getHistoricalPrice(e){try{const t=await this.contract.getRoundData(e);return t?BigInt(t[1]):BigInt(0)}catch(e){return BigInt(0)}}}class nu extends tu{}class ru{constructor(){}price(){return Promise.resolve(BigInt(10)**BigInt(18))}latestRound(){return Promise.resolve(BigInt(0))}async getRoundData(e){return{roundId:e,price:await this.price(),timestamp:0}}async getHistoricalPrice(){return await this.price()}}var iu,su,au=n(8842).Buffer;!function(e){e[e.ACCOUNT_PUBLIC_KEY=je.SIZE]="ACCOUNT_PUBLIC_KEY",e[e.ALIAS_HASH=Xe.SIZE]="ALIAS_HASH",e[e.SPENDING_PUBLIC_KEY_1=32]="SPENDING_PUBLIC_KEY_1",e[e.SPENDING_PUBLIC_KEY_2=32]="SPENDING_PUBLIC_KEY_2",e[e.TX_REF_NO=4]="TX_REF_NO"}(iu||(iu={})),function(e){e[e.ACCOUNT_PUBLIC_KEY=0]="ACCOUNT_PUBLIC_KEY",e[e.ALIAS_HASH=e.ACCOUNT_PUBLIC_KEY+iu.ACCOUNT_PUBLIC_KEY]="ALIAS_HASH",e[e.SPENDING_PUBLIC_KEY_1=e.ALIAS_HASH+iu.ALIAS_HASH]="SPENDING_PUBLIC_KEY_1",e[e.SPENDING_PUBLIC_KEY_2=e.SPENDING_PUBLIC_KEY_1+iu.SPENDING_PUBLIC_KEY_1]="SPENDING_PUBLIC_KEY_2",e[e.TX_REF_NO=e.SPENDING_PUBLIC_KEY_2+iu.SPENDING_PUBLIC_KEY_2]="TX_REF_NO"}(su||(su={}));class ou{constructor(e,t,n=au.alloc(32),r=au.alloc(32),i=0){if(this.accountPublicKey=e,this.aliasHash=t,this.spendingPublicKey1=n,this.spendingPublicKey2=r,this.txRefNo=i,n.length!==iu.SPENDING_PUBLIC_KEY_1)throw new Error("Expect spendingPublicKey1 to be 32 bytes.");if(r.length!==iu.SPENDING_PUBLIC_KEY_2)throw new Error("Expect spendingPublicKey2 to be 32 bytes.")}static fromBuffer(e){if(e.length!==ou.SIZE)throw new Error(`Invalid buffer size: ${e.length} != ${ou.SIZE}`);const t=new je(e.slice(su.ACCOUNT_PUBLIC_KEY,su.ACCOUNT_PUBLIC_KEY+iu.ACCOUNT_PUBLIC_KEY)),n=new Xe(e.slice(su.ALIAS_HASH,su.ALIAS_HASH+iu.ALIAS_HASH)),r=e.slice(su.SPENDING_PUBLIC_KEY_1,su.SPENDING_PUBLIC_KEY_1+iu.SPENDING_PUBLIC_KEY_1),i=e.slice(su.SPENDING_PUBLIC_KEY_2,su.SPENDING_PUBLIC_KEY_2+iu.SPENDING_PUBLIC_KEY_2),s=e.readUInt32BE(su.TX_REF_NO);return new ou(t,n,r,i,s)}toBuffer(){return au.concat([this.accountPublicKey.toBuffer(),this.aliasHash.toBuffer(),this.spendingPublicKey1,this.spendingPublicKey2,q(this.txRefNo)])}}ou.EMPTY=new ou(je.ZERO,Xe.ZERO),ou.SIZE=ou.EMPTY.toBuffer().length;var lu=n(8842).Buffer;class cu{constructor(){}static fromBuffer(e){if(e.length!==cu.SIZE)throw new Error("Invalid buffer size.");return new cu}toBuffer(){return lu.alloc(0)}}cu.EMPTY=new cu,cu.SIZE=0;var du,uu,pu=n(8842).Buffer;!function(e){e[e.BRIDGE_CALL_DATA=Vt.SIZE]="BRIDGE_CALL_DATA",e[e.PARTIAL_STATE=32]="PARTIAL_STATE",e[e.PARTIAL_STATE_SECRET_EPH_PUB_KEY=je.SIZE]="PARTIAL_STATE_SECRET_EPH_PUB_KEY",e[e.DEPOSIT_VALUE=32]="DEPOSIT_VALUE",e[e.TX_FEE=32]="TX_FEE",e[e.VIEWING_KEY=Tt.SIZE]="VIEWING_KEY",e[e.TX_REF_NO=4]="TX_REF_NO"}(du||(du={})),function(e){e[e.BRIDGE_CALL_DATA=0]="BRIDGE_CALL_DATA",e[e.PARTIAL_STATE=e.BRIDGE_CALL_DATA+du.BRIDGE_CALL_DATA]="PARTIAL_STATE",e[e.PARTIAL_STATE_SECRET_EPH_PUB_KEY=e.PARTIAL_STATE+du.PARTIAL_STATE]="PARTIAL_STATE_SECRET_EPH_PUB_KEY",e[e.DEPOSIT_VALUE=e.PARTIAL_STATE_SECRET_EPH_PUB_KEY+du.PARTIAL_STATE_SECRET_EPH_PUB_KEY]="DEPOSIT_VALUE",e[e.TX_FEE=e.DEPOSIT_VALUE+du.DEPOSIT_VALUE]="TX_FEE",e[e.VIEWING_KEY=e.TX_FEE+du.TX_FEE]="VIEWING_KEY",e[e.TX_REF_NO=e.VIEWING_KEY+du.VIEWING_KEY]="TX_REF_NO"}(uu||(uu={}));class fu{constructor(e,t,n,r,i,s,a=0){if(this.bridgeCallData=e,this.partialState=t,this.partialStateSecretEphPubKey=n,this.depositValue=r,this.txFee=i,this.viewingKey=s,this.txRefNo=a,t.length!==du.PARTIAL_STATE)throw new Error("Expect partialState to be 32 bytes.");if(s.isEmpty())throw new Error("Viewing key cannot be empty.")}static getViewingKeyBuffer(e){return e.slice(uu.VIEWING_KEY,uu.VIEWING_KEY+du.VIEWING_KEY)}static fromBuffer(e){if(e.length!==fu.SIZE)throw new Error("Invalid buffer size.");const t=Vt.fromBuffer(e.slice(uu.BRIDGE_CALL_DATA,uu.BRIDGE_CALL_DATA+du.BRIDGE_CALL_DATA)),n=e.slice(uu.PARTIAL_STATE,uu.PARTIAL_STATE+du.PARTIAL_STATE),r=new je(e.slice(uu.PARTIAL_STATE_SECRET_EPH_PUB_KEY,uu.PARTIAL_STATE_SECRET_EPH_PUB_KEY+du.PARTIAL_STATE_SECRET_EPH_PUB_KEY)),i=F(e.slice(uu.DEPOSIT_VALUE,uu.DEPOSIT_VALUE+du.DEPOSIT_VALUE)),s=F(e.slice(uu.TX_FEE,uu.TX_FEE+du.TX_FEE)),a=new Tt(e.slice(uu.VIEWING_KEY,uu.VIEWING_KEY+du.VIEWING_KEY)),o=e.readUInt32BE(uu.TX_REF_NO);return new fu(t,n,r,i,s,a,o)}toBuffer(){return pu.concat([this.bridgeCallData.toBuffer(),this.partialState,this.partialStateSecretEphPubKey.toBuffer(),Y(this.depositValue,32),Y(this.txFee,32),this.viewingKey.toBuffer(),q(this.txRefNo)])}}fu.EMPTY=new fu(Vt.ZERO,pu.alloc(32),je.ZERO,BigInt(0),BigInt(0),new Tt(pu.alloc(Tt.SIZE))),fu.SIZE=fu.EMPTY.toBuffer().length;var yu,mu,hu=n(8842).Buffer;!function(e){e[e.VIEWING_KEY_0=Tt.SIZE]="VIEWING_KEY_0",e[e.VIEWING_KEY_1=Tt.SIZE]="VIEWING_KEY_1",e[e.TX_REF_NO=4]="TX_REF_NO"}(yu||(yu={})),function(e){e[e.VIEWING_KEY_0=0]="VIEWING_KEY_0",e[e.VIEWING_KEY_1=e.VIEWING_KEY_0+yu.VIEWING_KEY_0]="VIEWING_KEY_1",e[e.TX_REF_NO=e.VIEWING_KEY_1+yu.VIEWING_KEY_1]="TX_REF_NO"}(mu||(mu={}));class bu{constructor(e,t=0){if(this.viewingKeys=e,this.txRefNo=t,2!==e.length)throw new Error(`Expect 2 viewing keys. Received ${e.length}.`);if(e.some((e=>e.isEmpty())))throw new Error("Viewing key cannot be empty.")}static getViewingKeyBuffers(e){return[e.slice(mu.VIEWING_KEY_0,mu.VIEWING_KEY_0+yu.VIEWING_KEY_0),e.slice(mu.VIEWING_KEY_1,mu.VIEWING_KEY_1+yu.VIEWING_KEY_1)]}static fromBuffer(e){if(e.length!==bu.SIZE)throw new Error("Invalid buffer size.");const t=new Tt(e.slice(mu.VIEWING_KEY_0,mu.VIEWING_KEY_0+yu.VIEWING_KEY_0)),n=new Tt(e.slice(mu.VIEWING_KEY_1,mu.VIEWING_KEY_1+yu.VIEWING_KEY_1)),r=e.readUInt32BE(mu.TX_REF_NO);return new bu([t,n],r)}toBuffer(){return hu.concat([...this.viewingKeys.map((e=>e.toBuffer())),q(this.txRefNo)])}}function gu(e){switch(e){case Xt.DEPOSIT:case Xt.WITHDRAW:case Xt.SEND:return bu.SIZE;case Xt.ACCOUNT:return ou.SIZE;case Xt.DEFI_DEPOSIT:return fu.SIZE;default:return 0}}bu.EMPTY=new bu([new Tt(hu.alloc(Tt.SIZE)),new Tt(hu.alloc(Tt.SIZE))]),bu.SIZE=bu.EMPTY.toBuffer().length;const _u=(e,t)=>{let n=0,r=0;const i=e.map((e=>(n=r,r+=gu(e),t.slice(n,r))));if(r!=t.length)throw new Error("Offchain data has unexpected length for given proof ids.");return i};var Tu=n(7400);const Iu="abi/5.5.0",vu=new Xr(Iu);class Su{constructor(e,t,n,r){this.name=e,this.type=t,this.localName=n,this.dynamic=r}_throwError(e,t){vu.throwArgumentError(e,this.localName,t)}}class Du{constructor(e){ei(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return xi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Si(e._data))}writeBytes(e){let t=vi(e);const n=t.length%this.wordSize;return n&&(t=Si([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=vi(zi.from(e));return t.length>this.wordSize&&vu.throwError("value out-of-bounds",Xr.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Si([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class wu{constructor(e,t,n,r){ei(this,"_data",vi(e)),ei(this,"wordSize",t||32),ei(this,"_coerceFunc",n),ei(this,"allowLoose",r),this._offset=0}get data(){return Ai(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):wu.coerce(e,t)}_peekBytes(e,t,n){let r=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+r>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?r=t:vu.throwError("data out-of-bounds",Xr.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+r})),this._data.slice(this._offset,this._offset+r)}subReader(e){return new wu(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return zi.from(this.readBytes(this.wordSize))}}class Eu extends Su{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=cs(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return cs(Ri(e.readValue().toHexString(),20))}}class Au extends Su{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Pu=new Xr(Iu);function Cu(e,t,n){let r=null;if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let e={};r=t.map((t=>{const r=t.localName;return r||Pu.throwError("cannot encode object for signature with missing names",Xr.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]&&Pu.throwError("cannot encode object for signature with duplicate names",Xr.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:n}),e[r]=!0,n[r]}))}else Pu.throwArgumentError("invalid tuple value","tuple",n);t.length!==r.length&&Pu.throwArgumentError("types/value length mismatch","tuple",n);let i=new Du(e.wordSize),s=new Du(e.wordSize),a=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();a.push((e=>{r(e+t)}))}else e.encode(i,n)})),a.forEach((e=>{e(i.length)}));let o=e.appendWriter(i);return o+=e.appendWriter(s),o}function xu(e,t){let n=[],r=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let n=e.readValue(),s=r.subReader(n.toNumber());try{i=t.decode(s)}catch(e){if(e.code===Xr.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===Xr.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&n.push(i)}));const i=t.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});t.forEach(((e,t)=>{let r=e.localName;if(!r||1!==i[r])return;if("length"===r&&(r="_length"),null!=n[r])return;const s=n[t];s instanceof Error?Object.defineProperty(n,r,{enumerable:!0,get:()=>{throw s}}):n[r]=s}));for(let e=0;e<n.length;e++){const t=n[e];t instanceof Error&&Object.defineProperty(n,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(n)}class Nu extends Su{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;-1===n&&(n=t.length,e.writeValue(t.length)),Pu.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let r=[];for(let e=0;e<t.length;e++)r.push(this.coder);return Cu(e,r,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Pu.throwError("insufficient data length",Xr.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let e=0;e<t;e++)n.push(new Au(this.coder));return e.coerce(this.name,xu(e,n))}}class Ru extends Su{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Lu extends Su{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=vi(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Vu extends Lu{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Ai(super.decode(e)))}}class ku extends Su{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=vi(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,Ai(e.readBytes(this.size)))}}class Bu extends Su{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Ou extends Su{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=zi.from(t),r=Ha.mask(8*e.wordSize);if(this.signed){let e=r.mask(8*this.size-1);(n.gt(e)||n.lt(e.add(qa).mul(za)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Ua)||n.gt(r.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class $u extends Lu{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Es(t))}decode(e){return Ps(super.decode(e))}}class Fu extends Su{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)})),super("tuple","tuple("+r.join(",")+")",t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){return Cu(e,this.coders,t)}decode(e){return e.coerce(this.name,xu(e,this.coders))}}const Mu=new Xr(Iu),Yu={};let zu={calldata:!0,memory:!0,storage:!0},Uu={calldata:!0,memory:!0};function qu(e,t){if("bytes"===e||"string"===e){if(zu[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Uu[t])return!0;return(zu[t]||"payable"===t)&&Mu.throwArgumentError("invalid modifier","name",t),!1}function Hu(e,t){for(let n in t)ei(e,n,t[n])}const Ku=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Gu=new RegExp(/^(.*)\[([0-9]*)\]$/);class ju{constructor(e,t){e!==Yu&&Mu.throwError("use fromString",Xr.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Hu(this,t);let n=this.type.match(Gu);Hu(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ju.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Ku.sighash),Ku[e]||Mu.throwArgumentError("invalid format type","format",e),e===Ku.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==Ku.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===Ku.full?", ":",")+")"):t+=this.type,e!==Ku.sighash&&(!0===this.indexed&&(t+=" indexed"),e===Ku.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?ju.fromString(e,t):ju.fromObject(e)}static fromObject(e){return ju.isParamType(e)?e:new ju(Yu,{name:e.name||null,type:sp(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(ju.fromObject):null})}static fromString(e,t){return n=function(e,t){let n=e;function r(t){Mu.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let n={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(n.indexed=!1),n}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},a=s;for(let n=0;n<e.length;n++){let s=e[n];switch(s){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||r(n),a.state.allowType=!1,a.type=sp(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(t||r(n),a.indexed=!0,a.name=""),qu(a.type,a.name)&&(a.name=""),a.type=sp(a.type);let e=a;a=a.parent,a||r(n),delete e.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(t||r(n),a.indexed=!0,a.name=""),qu(a.type,a.name)&&(a.name=""),a.type=sp(a.type);let o=i(a.parent);a.parent.components.push(o),delete a.parent,a=o;break;case" ":a.state.allowType&&""!==a.type&&(a.type=sp(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(t||r(n),a.indexed&&r(n),a.indexed=!0,a.name=""):qu(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||r(n),a.type+=s,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||r(n),a.type+=s,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=s,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=s,delete a.state.allowArray):a.state.readArray?a.type+=s:r(n)}}return a.parent&&Mu.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===a.name?(t||r(n.length-7),a.indexed&&r(n.length-7),a.indexed=!0,a.name=""):qu(a.type,a.name)&&(a.name=""),s.type=sp(s.type),s}(e,!!t),ju.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}static isParamType(e){return!(null==e||!e._isParamType)}}function Wu(e,t){return function(e){e=e.trim();let t=[],n="",r=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===r?(t.push(n),n=""):(n+=s,"("===s?r++:")"===s&&(r--,-1===r&&Mu.throwArgumentError("unbalanced parenthesis","value",e)))}return n&&t.push(n),t}(e).map((e=>ju.fromString(e,t)))}class Zu{constructor(e,t){e!==Yu&&Mu.throwError("use a static from method",Xr.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Hu(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Zu.isFragment(e)?e:"string"==typeof e?Zu.fromString(e):Zu.fromObject(e)}static fromObject(e){if(Zu.isFragment(e))return e;switch(e.type){case"function":return np.fromObject(e);case"event":return Ju.fromObject(e);case"constructor":return tp.fromObject(e);case"error":return ip.fromObject(e);case"fallback":case"receive":return null}return Mu.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Ju.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?np.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?tp.fromString(e.trim()):"error"===e.split(" ")[0]?ip.fromString(e.substring(5).trim()):Mu.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Ju extends Zu{format(e){if(e||(e=Ku.sighash),Ku[e]||Mu.throwArgumentError("invalid format type","format",e),e===Ku.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ku.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ku.full?", ":",")+") ",e!==Ku.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?Ju.fromString(e):Ju.fromObject(e)}static fromObject(e){if(Ju.isEventFragment(e))return e;"event"!==e.type&&Mu.throwArgumentError("invalid event object","value",e);const t={name:op(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ju.fromObject):[],type:"event"};return new Ju(Yu,t)}static fromString(e){let t=e.match(lp);t||Mu.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:Mu.warn("unknown modifier: "+e)}})),Ju.fromObject({name:t[1].trim(),anonymous:n,inputs:Wu(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Xu(e,t){t.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&Mu.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||Mu.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=zi.from(n[1]),n[0]):e}function Qu(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function ep(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Mu.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Mu.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Mu.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Mu.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Mu.throwArgumentError("unable to determine stateMutability","value",e),t}class tp extends Zu{format(e){if(e||(e=Ku.sighash),Ku[e]||Mu.throwArgumentError("invalid format type","format",e),e===Ku.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===Ku.sighash&&Mu.throwError("cannot format a constructor for sighash",Xr.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===Ku.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?tp.fromString(e):tp.fromObject(e)}static fromObject(e){if(tp.isConstructorFragment(e))return e;"constructor"!==e.type&&Mu.throwArgumentError("invalid constructor object","value",e);let t=ep(e);t.constant&&Mu.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ju.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?zi.from(e.gas):null};return new tp(Yu,n)}static fromString(e){let t={type:"constructor"},n=(e=Xu(e,t)).match(lp);return n&&"constructor"===n[1].trim()||Mu.throwArgumentError("invalid constructor string","value",e),t.inputs=Wu(n[2].trim(),!1),Qu(n[3].trim(),t),tp.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class np extends tp{format(e){if(e||(e=Ku.sighash),Ku[e]||Mu.throwArgumentError("invalid format type","format",e),e===Ku.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ku.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ku.full?", ":",")+") ",e!==Ku.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?np.fromString(e):np.fromObject(e)}static fromObject(e){if(np.isFunctionFragment(e))return e;"function"!==e.type&&Mu.throwArgumentError("invalid function object","value",e);let t=ep(e);const n={type:e.type,name:op(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ju.fromObject):[],outputs:e.outputs?e.outputs.map(ju.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?zi.from(e.gas):null};return new np(Yu,n)}static fromString(e){let t={type:"function"},n=(e=Xu(e,t)).split(" returns ");n.length>2&&Mu.throwArgumentError("invalid function string","value",e);let r=n[0].match(lp);if(r||Mu.throwArgumentError("invalid function signature","value",e),t.name=r[1].trim(),t.name&&op(t.name),t.inputs=Wu(r[2],!1),Qu(r[3].trim(),t),n.length>1){let r=n[1].match(lp);""==r[1].trim()&&""==r[3].trim()||Mu.throwArgumentError("unexpected tokens","value",e),t.outputs=Wu(r[2],!1)}else t.outputs=[];return np.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function rp(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Mu.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class ip extends Zu{format(e){if(e||(e=Ku.sighash),Ku[e]||Mu.throwArgumentError("invalid format type","format",e),e===Ku.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==Ku.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===Ku.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?ip.fromString(e):ip.fromObject(e)}static fromObject(e){if(ip.isErrorFragment(e))return e;"error"!==e.type&&Mu.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:op(e.name),inputs:e.inputs?e.inputs.map(ju.fromObject):[]};return rp(new ip(Yu,t))}static fromString(e){let t={type:"error"},n=e.match(lp);return n||Mu.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&op(t.name),t.inputs=Wu(n[2],!1),rp(ip.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function sp(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const ap=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function op(e){return e&&e.match(ap)||Mu.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const lp=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),cp=new Xr(Iu),dp=new RegExp(/^bytes([0-9]*)$/),up=new RegExp(/^(u?int)([0-9]*)$/);class pp{constructor(e){cp.checkNew(new.target,pp),ei(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Eu(e.name);case"bool":return new Ru(e.name);case"string":return new $u(e.name);case"bytes":return new Vu(e.name);case"array":return new Nu(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Fu((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new Bu(e.name)}let t=e.type.match(up);if(t){let n=parseInt(t[2]||"256");return(0===n||n>256||n%8!=0)&&cp.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Ou(n/8,"int"===t[1],e.name)}if(t=e.type.match(dp),t){let n=parseInt(t[1]);return(0===n||n>32)&&cp.throwArgumentError("invalid bytes length","param",e),new ku(n,e.name)}return cp.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new wu(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Du(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(ju.from(e))));return new Fu(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&cp.throwError("types/values length mismatch",Xr.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map((e=>this._getCoder(ju.from(e)))),r=new Fu(n,"_"),i=this._getWriter();return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>this._getCoder(ju.from(e))));return new Fu(r,"_").decode(this._getReader(vi(t),n))}}const fp=new pp,yp=new Xr(Iu);class mp extends ci{}class hp extends ci{}class bp extends ci{}class gp extends ci{static isIndexed(e){return!(!e||!e._isIndexed)}}const _p={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Tp(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return n.error=t,n}class Ip{constructor(e){yp.checkNew(new.target,Ip);let t=[];t="string"==typeof e?JSON.parse(e):e,ei(this,"fragments",t.map((e=>Zu.from(e))).filter((e=>null!=e))),ei(this,"_abiCoder",ti(new.target,"getAbiCoder")()),ei(this,"functions",{}),ei(this,"errors",{}),ei(this,"events",{}),ei(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void yp.warn("duplicate definition - constructor"):void ei(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let n=e.format();t[n]?yp.warn("duplicate definition - "+n):t[n]=e})),this.deploy||ei(this,"deploy",tp.from({payable:!1,type:"constructor"})),ei(this,"_isInterface",!0)}format(e){e||(e=Ku.full),e===Ku.sighash&&yp.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===Ku.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return fp}static getAddress(e){return cs(e)}static getSighash(e){return Ci(Rs(e.format()),0,4)}static getEventTopic(e){return Rs(e.format())}getFunction(e){if(wi(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];yp.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===n.length?yp.throwArgumentError("no matching function","name",t):n.length>1&&yp.throwArgumentError("multiple matching functions","name",t),this.functions[n[0]]}const t=this.functions[np.fromString(e).format()];return t||yp.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(wi(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];yp.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===n.length?yp.throwArgumentError("no matching event","name",t):n.length>1&&yp.throwArgumentError("multiple matching events","name",t),this.events[n[0]]}const t=this.events[Ju.fromString(e).format()];return t||yp.throwArgumentError("no matching event","signature",e),t}getError(e){if(wi(e)){const t=ti(this.constructor,"getSighash");for(const n in this.errors)if(e===t(this.errors[n]))return this.errors[n];yp.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),n=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===n.length?yp.throwArgumentError("no matching error","name",t):n.length>1&&yp.throwArgumentError("multiple matching errors","name",t),this.errors[n[0]]}const t=this.errors[np.fromString(e).format()];return t||yp.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return ti(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),ti(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const n=vi(t);return Ai(n.slice(0,4))!==this.getSighash(e)&&yp.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Ai(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),Ai(Si([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const n=vi(t);return Ai(n.slice(0,4))!==this.getSighash(e)&&yp.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Ai(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Ai(Si([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let n=vi(t),r=null,i=null,s=null,a=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch(e){}break;case 4:{const e=Ai(n.slice(0,4)),t=_p[e];if(t)i=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,a=t.signature,t.reason&&(r=i[0]);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,n.slice(4)),s=t.name,a=t.format()}catch(e){console.log(e)}break}}return yp.throwError("call revert exception",Xr.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:i,errorName:s,errorSignature:a,reason:r})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Ai(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&yp.throwError("too many arguments for "+e.format(),Xr.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const r=(e,t)=>"string"===e.type?Rs(t):"bytes"===e.type?Wi(Ai(t)):("address"===e.type&&this._abiCoder.encode(["address"],[t]),Ri(Ai(t),32));for(t.forEach(((t,i)=>{let s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?yp.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map((e=>r(s,e)))):n.push(r(s,t)):null!=t&&yp.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const n=[],r=[],i=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&yp.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const a=t[s];if(e.indexed)if("string"===e.type)n.push(Rs(a));else if("bytes"===e.type)n.push(Wi(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this._abiCoder.encode([e.type],[a]))}else r.push(e),i.push(a)})),{data:this._abiCoder.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"==typeof e&&(e=this.getEvent(e)),null!=n&&!e.anonymous){let t=this.getEventTopic(e);wi(n[0],32)&&n[0].toLowerCase()===t||yp.throwError("fragment/topic mismatch",Xr.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:n[0]}),n=n.slice(1)}let r=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(ju.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))}));let a=null!=n?this._abiCoder.decode(r,Si(n)):null,o=this._abiCoder.decode(i,t,!0),l=[],c=0,d=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==a)l[t]=new gp({_isIndexed:!0,hash:null});else if(s[t])l[t]=new gp({_isIndexed:!0,hash:a[d++]});else try{l[t]=a[d++]}catch(e){l[t]=e}else try{l[t]=o[c++]}catch(e){l[t]=e}if(e.name&&null==l[e.name]){const n=l[t];n instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw Tp(`property ${JSON.stringify(e.name)}`,n)}}):l[e.name]=n}}));for(let e=0;e<l.length;e++){const t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:()=>{throw Tp(`index ${e}`,t)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new hp({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:zi.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new mp({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Ai(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new bp({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!(!e||!e._isInterface)}}const vp=new Xr("strings/5.5.0");var Sp,Dp;function wp(e,t,n,r,i){if(e===Dp.BAD_PREFIX||e===Dp.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6==2;r++)e++;return e}return e===Dp.OVERRUN?n.length-t-1:0}function Ep(e,t=Sp.current){t!=Sp.current&&(vp.checkNormalize(),e=e.normalize(t));let n=[];for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&r)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return vi(n)}function Ap(e,t){const n=function(e,t){const n={},r=t?e.interface.fragments.filter((e=>e.type===t)):e.interface.fragments;for(const e of r){const t=(i=Ep(`${e.name}(${e.inputs.map((e=>e.type)).join(",")})`),"0x"+ji().keccak_256(vi(i)));n[t.slice(2,10)]={name:e.name,type:e.type,fullHash:t,inputs:e.inputs.map((e=>e.type))}}var i;return n}(e,"error"),r=t.slice(2),i=r.slice(0,8),s=r.slice(8);if(!n[i])return;const a=n[i];let o=[];if(a&&a.inputs.length){const t=a.inputs;o=e.interface._abiCoder.decode(t,`0x${s}`).map((e=>e.toString()))}return{name:a.name,params:o}}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Sp||(Sp={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Dp||(Dp={})),Object.freeze({error:function(e,t,n,r,i){return vp.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:wp,replace:function(e,t,n,r,i){return e===Dp.OVERLONG?(r.push(i),0):(r.push(65533),wp(e,t,n))}});var Pp=n(8842).Buffer;class Cp{constructor(e){this.queue=new ce,new Array(e).fill(!0).map((()=>this.queue.put(!0)))}async acquire(){await this.queue.get()}release(){this.queue.put(!0)}}var xp=n(8842).Buffer;const Np=e=>{throw e.stack+=(new Error).stack,e};class Rp{constructor(e,t,n=qe.ZERO){this.rollupContractAddress=e,this.ethereumProvider=t,this.permitHelperAddress=n,this.debug=Tu("bb:rollup_processor"),this.rollupRetrievalChunkSize=()=>1e5,this.provider=new _c(t),this.rollupProcessor=new Hd(e.toString(),Jd.abi,this.provider),this.permitHelper=new Hd(n.toString(),Xd.abi,this.provider)}get address(){return this.rollupContractAddress}get contract(){return this.rollupProcessor}async getImplementationVersion(){return await this.rollupProcessor.getImplementationVersion()}async getDataSize(){return(await this.rollupProcessor.getDataSize()).toNumber()}async escapeBlockLowerBound(){return(await this.rollupProcessor.escapeBlockLowerBound()).toBigInt()}async escapeBlockUpperBound(){return(await this.rollupProcessor.escapeBlockUpperBound()).toBigInt()}async hasRole(e,t){return await this.rollupProcessor.hasRole(e,t.toString())}async rollupProviders(e){return await this.rollupProcessor.rollupProviders(e.toString())}async paused(){return await this.rollupProcessor.paused()}async verifier(){return qe.fromString(await this.rollupProcessor.verifier())}async defiBridgeProxy(){return qe.fromString(await this.rollupProcessor.defiBridgeProxy())}async dataSize(){return+await this.rollupProcessor.getDataSize()}async getPendingDefiInteractionHashesLength(){return+await this.rollupProcessor.getPendingDefiInteractionHashesLength()}async getDefiInteractionHashesLength(){return+await this.rollupProcessor.getDefiInteractionHashesLength()}async defiInteractionHashes(){const e=await this.getDefiInteractionHashesLength(),t=[];for(let n=0;n<e;n++)t.push(await this.rollupProcessor.defiInteractionHashes(n));return t.map((e=>xp.from(e.slice(2),"hex")))}async getAsyncDefiInteractionHashesLength(){return+await this.rollupProcessor.getAsyncDefiInteractionHashesLength()}async asyncDefiInteractionHashes(){const e=await this.getAsyncDefiInteractionHashesLength(),t=[];for(let n=0;n<e;n++)t.push(await this.rollupProcessor.asyncDefiInteractionHashes(n));return t.map((e=>xp.from(e.slice(2),"hex")))}async prevDefiInteractionsHash(){return xp.from((await this.rollupProcessor.prevDefiInteractionsHash()).slice(2),"hex")}async stateHash(){return xp.from((await this.rollupProcessor.rollupStateHash()).slice(2),"hex")}async getSupportedBridge(e){return qe.fromString(await this.rollupProcessor.getSupportedBridge(e))}async getSupportedBridgesLength(){return(await this.rollupProcessor.getSupportedBridgesLength()).toNumber()}async getSupportedBridges(){const e=await this.getSupportedBridgesLength(),t=[];for(let n=1;n<=e;n++)t.push({id:n,address:await this.getSupportedBridge(n),gasLimit:await this.getBridgeGasLimit(n)});return t}async getBridgeGasLimit(e){return+await this.rollupProcessor.bridgeGasLimits(e)}async getSupportedAsset(e){return qe.fromString(await this.rollupProcessor.getSupportedAsset(e))}async getSupportedAssetsLength(){return(await this.rollupProcessor.getSupportedAssetsLength()).toNumber()}async getAssetGasLimit(e){return+await this.rollupProcessor.assetGasLimits(e)}async getSupportedAssets(){const e=await this.getSupportedAssetsLength(),t=[];for(let n=1;n<=e;n++)t.push({address:await this.getSupportedAsset(n),gasLimit:await this.getAssetGasLimit(n)});return t}async pause(e={}){const{gasLimit:t}=e,n=this.getContractWithSigner(e),r=await n.pause({gasLimit:t}).catch(Np);return Gn.fromString(r.hash)}async unpause(e={}){const{gasLimit:t}=e,n=this.getContractWithSigner(e),r=await n.unpause({gasLimit:t}).catch(Np);return Gn.fromString(r.hash)}async grantRole(e,t,n={}){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.grantRole(e,t.toString(),{gasLimit:r});return Gn.fromString(s.hash)}async revokeRole(e,t,n={}){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.revokeRole(e,t.toString(),{gasLimit:r});return Gn.fromString(s.hash)}async setRollupProvider(e,t,n={}){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.setRollupProvider(e.toString(),t,{gasLimit:r}).catch(Np);return Gn.fromString(s.hash)}async setDefiBridgeProxy(e,t={}){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.setDefiBridgeProxy(e.toString(),{gasLimit:n}).catch(Np);return Gn.fromString(i.hash)}async offchainData(e,t,n,r,i={}){const{gasLimit:s}=i,a=this.getContractWithSigner(i),o=await a.offchainData(e,t,n,r,{gasLimit:s}).catch(Np);return Gn.fromString(o.hash)}async processRollup(e,t,n={}){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.processRollup(e,t,{gasLimit:r}).catch(Np);return Gn.fromString(s.hash)}async setVerifier(e,t={}){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.setVerifier(e.toString(),{gasLimit:n}).catch(Np);return Gn.fromString(i.hash)}async setThirdPartyContractStatus(e,t={}){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.setAllowThirdPartyContracts(e,{gasLimit:n});return Gn.fromString(i.hash)}async setSupportedBridge(e,t=0,n={}){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.setSupportedBridge(e.toString(),t,{gasLimit:r});return Gn.fromString(s.hash)}async setSupportedAsset(e,t=0,n={}){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.setSupportedAsset(e.toString(),t,{gasLimit:r});return Gn.fromString(s.hash)}async processAsyncDefiInteraction(e,t={}){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.processAsyncDefiInteraction(e,{gasLimit:n}).catch(Np);return Gn.fromString(i.hash)}async getEscapeHatchStatus(){const[e,t]=await this.rollupProcessor.getEscapeHatchStatus();return{escapeOpen:e,blocksRemaining:+t}}async createRollupProofTx(e,t,n){return(await this.createRollupTxs(e,t,n,122880)).rollupProofTx}async createRollupTxs(e,t,n,r){const i=xr.decode(e),s=function(e){const t=e.map((e=>{const t=e.slice(-1);return Pp.concat([e.slice(0,64),Pp.alloc(31),t])}));return Pp.concat(t)}(t),a=await this.rollupProcessor.populateTransaction.processRollup(e,s).catch(Np),o=xp.from(a.data.slice(2),"hex"),l=xp.concat(n),c=Math.ceil(l.length/r),d=c?Array.from({length:c}).map(((e,t)=>l.slice(t*r,(t+1)*r))):[xp.alloc(0)];return{rollupProofTx:o,offchainDataTxs:(await Promise.all(d.map(((e,t)=>this.rollupProcessor.populateTransaction.offchainData(i.rollupId,t,d.length,e)))).catch(Np)).map((e=>xp.from(e.data.slice(2),"hex")))}}async sendRollupTxs({rollupProofTx:e,offchainDataTxs:t},n={}){for(const e of t)await this.sendTx(e);return await this.sendTx(e,n)}async sendTx(e,t={}){const{signingAddress:n,gasLimit:r,nonce:i,maxFeePerGas:s,maxPriorityFeePerGas:a}=t,o=n?this.provider.getSigner(n.toString()):this.provider.getSigner(0),l=await o.getAddress(),c={to:this.rollupContractAddress.toString(),from:l,gasLimit:r,data:e,nonce:i,maxFeePerGas:s,maxPriorityFeePerGas:a},d=await o.sendTransaction(c).catch(Np);return Gn.fromString(d.hash)}async getTxReceipt(e){const t=await this.provider.waitForTransaction(e.toString());if(!t)throw new Error("Tx receipt not found");return t}async depositPendingFunds(e,t,n=xp.alloc(32),r={}){let{gasLimit:i}=r;const s=this.getContractWithSigner(r),a=await s.signer.getAddress(),o=0===e?t:void 0;if(!i){const r=await s.estimateGas.depositPendingFunds(e,t,a,n,{value:o}).catch(Np);i=Math.ceil(r.toNumber()*Rp.DEPOSIT_GAS_LIMIT_MULTIPLIER)}const l=await s.depositPendingFunds(e,t,a,n,{value:o,gasLimit:i}).catch(Np);return Gn.fromString(l.hash)}async depositPendingFundsPermit(e,t,n,r,i={}){let{gasLimit:s}=i;const a=this.getHelperContractWithSigner(i),o=await a.signer.getAddress();if(!s){const i=await a.estimateGas.depositPendingFundsPermit(e,t,o,n,r.v,r.r,r.s).catch(Np);s=Math.ceil(i.toNumber()*Rp.DEPOSIT_GAS_LIMIT_MULTIPLIER)}const l=await a.depositPendingFundsPermit(e,t,o,n,r.v,r.r,r.s,{gasLimit:s}).catch(Np);return Gn.fromString(l.hash)}async depositPendingFundsPermitNonStandard(e,t,n,r,i,s={}){let{gasLimit:a}=s;const o=this.getHelperContractWithSigner(s),l=await o.signer.getAddress();if(!a){const s=await o.estimateGas.depositPendingFundsPermitNonStandard(e,t,l,n,r,i.v,i.r,i.s).catch(Np);a=Math.ceil(s.toNumber()*Rp.DEPOSIT_GAS_LIMIT_MULTIPLIER)}const c=await o.depositPendingFundsPermitNonStandard(e,t,l,n,r,i.v,i.r,i.s,{gasLimit:a}).catch(Np);return Gn.fromString(c.hash)}async approveProof(e,t={}){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.approveProof(e,{gasLimit:n}).catch(Np);return Gn.fromString(i.hash)}async getProofApprovalStatus(e,t){return await this.rollupProcessor.depositProofApprovals(e.toString(),t)}async getUserPendingDeposit(e,t){return BigInt(await this.rollupProcessor.userPendingDeposits(e,t.toString()))}async getThirdPartyContractStatus(e={}){const{gasLimit:t}=e;return await this.rollupProcessor.allowThirdPartyContracts({gasLimit:t})}async getEarliestBlock(){return function(e){switch(e){case 1:return{earliestBlock:14728e3,chunk:1e5,offchainSearchLead:8640};case 677868:case 3567:case 359059:return{earliestBlock:15918e3,chunk:1e5,offchainSearchLead:10};case 3630:return{earliestBlock:15918e3,chunk:10,offchainSearchLead:10};case 1337:return{earliestBlock:0,chunk:10,offchainSearchLead:10};default:return{earliestBlock:0,chunk:1e5,offchainSearchLead:8640}}}((await this.provider.getNetwork()).chainId)}async getRollupBlocksFrom(e,t){const n=[];return await this.callbackRollupBlocksFrom(e,t,(e=>Promise.resolve(void n.push(e)))),n}async callbackRollupBlocksFrom(e,t,n){const r=this.rollupProcessor.filters.RollupProcessed(e),i=await this.rollupProcessor.queryFilter(r);if(!i.length)return void this.debug(`no rollup with id ${e} found. early out.`);const s=i[0].blockNumber;this.debug(`fetching rollup events from block ${s}...`);const a=this.rollupProcessor.filters.RollupProcessed(),o=new st,l=await this.rollupProcessor.queryFilter(a,s);this.debug(`${l.length} fetched in ${o.s()}s`);const c=await new qn(this.ethereumProvider).blockNumber(),d=l.filter((e=>c-e.blockNumber+1>=t)).filter((t=>t.args.rollupId.toNumber()>=e));if(d.length){const e=new st;await this.getRollupBlocksFromEvents(d,n),this.debug(`processing complete in ${e.s()}s`)}else this.debug("no events of interest, doing nothing.");return d.length}async getRollupBlock(e,t){const n=await new qn(this.ethereumProvider).blockNumber();return-1==e?await(async()=>{const{earliestBlock:e}=await this.getEarliestBlock(),r=await this.provider.getBlockNumber(),i=this.rollupRetrievalChunkSize();let s,a=r,o=Math.max(a-i,e);for(;a>e&&!s;){this.debug(`fetching rollup events between blocks ${o} and ${a}...`);const r=this.rollupProcessor.filters.RollupProcessed(),l=(await this.rollupProcessor.queryFilter(r,o,a)).filter((e=>n-e.blockNumber+1>=t));for(let e=l.length-1;e>=0&&!s;e--)await this.getRollupBlocksFromEvents([l[e]],(e=>Promise.resolve(void(s=e))));a=Math.max(o-1,e),o=Math.max(a-i,e)}return s})():await(async()=>{const r=this.rollupProcessor.filters.RollupProcessed(e),i=(await this.rollupProcessor.queryFilter(r)).filter((e=>n-e.blockNumber+1>=t));if(!i.length)return;let s;return await this.getRollupBlocksFromEvents(i,(e=>Promise.resolve(void(s=e)))),s})()}async getRollupBlocksFromEvents(e,t){if(0===e.length)return[];this.debug(`fetching data for ${e.length} rollups...`);const n=new st,r=await this.getDefiBridgeEventsForRollupEvents(e);this.debug(`defi bridge events fetched in ${n.s()}s.`);const i=new st,s=await this.getOffchainDataEvents(e);this.debug(`offchain data events fetched in ${i.s()}s.`);const a=s.findIndex((e=>!e.length));-1!=a&&e.splice(a);const o=new ce,l=new Cp(20);let c=!1;const d=o.process((async({event:e,metaPromise:n})=>{try{if(c)return;const i=await n,s={event:e,tx:i[0],block:i[1],receipt:i[2],offchainDataTxs:i[3],offchainDataReceipts:i[4]},a=this.defiNotesForBlock(s,r);await t(this.rollupMetadataToBlock(s,a))}catch(e){c=!0,console.log(e)}finally{l.release()}}));for(let t=0;t<e.length&&!c;++t){await l.acquire();const n=e[t],r=s[t];this.debug(`fetching metadata for rollup ${n.args?.rollupId}.`);const i=Promise.all([n.getTransaction(),n.getBlock(),n.getTransactionReceipt(),Promise.all(r.map((e=>e.getTransaction()))),Promise.all(r.map((e=>e.getTransactionReceipt())))]);o.put({event:n,metaPromise:i})}o.end(),await d}defiNotesForBlock(e,t){const n=this.extractDefiHashesFromRollupEvent(e.event),r=[];for(const i of n){if(!t[i])throw new Error(`Unable to locate defi interaction note for hash ${i} in rollup ${e.event.args?.rollupId}!`);r.push(t[i])}return r}rollupMetadataToBlock(e,t){return this.decodeBlock({...e.tx,timestamp:e.block.timestamp},e.receipt,t,e.offchainDataTxs,e.offchainDataReceipts)}extractDefiHashesFromRollupEvent(e){const t={blockNumber:e.blockNumber,topics:e.topics,data:e.data},{args:{nextExpectedDefiHashes:n}}=this.contract.interface.parseLog(t);return n.map((e=>e.slice(2)))}async getDefiBridgeEventsForRollupEvents(e){const t=e.flatMap((e=>this.extractDefiHashesFromRollupEvent(e))),n={};for(const e of t)n[e]=void 0;let r=t.length;const{earliestBlock:i,chunk:s}=await this.getEarliestBlock(),a=Math.max(...e.map((e=>e.blockNumber)));let o=Math.max(a,i),l=Math.max(o-s,i);for(;o>i&&r>0;){this.debug(`searching for defi notes from blocks ${l} - ${o}`);const e=this.rollupProcessor.filters.DefiBridgeProcessed(),t=(await this.rollupProcessor.queryFilter(e,l,o)).map((e=>{const{args:{encodedBridgeCallData:t,nonce:n,totalInputValue:r,totalOutputValueA:i,totalOutputValueB:s,result:a,errorReason:o}}=this.contract.interface.parseLog(e);return new ar(Vt.fromBigInt(BigInt(t)),+n,BigInt(r),BigInt(i),BigInt(s),a,xp.from(o.slice(2),"hex"))}));this.debug(`found ${t.length} notes between blocks ${l} - ${o}`);for(const e of t){const t=Mt([e])[0].toString("hex");Object.prototype.hasOwnProperty.call(n,t)&&void 0===n[t]&&(n[t]=e,--r)}o=Math.max(l-1,i),l=Math.max(o-s,i)}return n}async getOffchainDataEvents(e){const t=e.map((e=>this.contract.interface.parseLog(e))),n=this.rollupProcessor.filters.OffchainData(1===t.length?t[0].args.rollupId:void 0),{offchainSearchLead:r}=await this.getEarliestBlock(),i=e[0].blockNumber-r,s=e[e.length-1].blockNumber;this.debug(`fetching offchain data events from blocks ${i} - ${s}...`);const a=await this.rollupProcessor.queryFilter(n,e[0].blockNumber-r,e[e.length-1].blockNumber);this.debug(`found ${a.length} offchain events.`);const o=a.reduce(((n,r)=>{const i=this.contract.interface.parseLog(r),{args:{rollupId:s,chunk:a,totalChunks:o,sender:l}}=i,c=t.findIndex((e=>e.args.rollupId.toNumber()===s.toNumber()));if(-1!==c){const t=e[c];if(t.blockNumber<r.blockNumber)return this.debug(`ignoring offchain event at block ${r.blockNumber} for rollup ${s} at block ${t.blockNumber}`),n}const d=`${s}:${l}`;return n[d]&&n[d].length==o||(n[d]=Array.from({length:o})),n[d][a]=r,this.debug(`parsed offchain event for rollup: ${s} sender: ${l} chunk: ${a}.`),n}),{});return t.map((e=>{const{args:{rollupId:t,sender:n}}=e,r=o[`${t}:${n}`];return!r||r.some((e=>!e))?(console.log(`Missing offchain data chunks for rollup: ${t}`),[]):r}))}decodeBlock(e,t,n,r,i){const s=new Ip(Jd.abi),a=s.parseTransaction({data:e.data}),o=xp.concat(r.map((e=>s.parseTransaction({data:e.data}))).map((e=>xp.from(e.args[3].slice(2),"hex")))),[l]=a.args,c=xp.from(l.slice(2),"hex"),d=xr.decode(c),u=d.getNonPaddingProofIds(),p=_u(u,o);return this.debug(`decoded rollup ${d.rollupId}`),new Lr(Gn.fromString(e.hash),new Date(1e3*e.timestamp),d.rollupId,d.rollupSize,c,p,n,t.gasUsed.toNumber()+i.reduce(((e,t)=>e+t.gasUsed.toNumber()),0),BigInt(e.gasPrice.toString()))}getContractWithSigner(e){const{signingAddress:t}=e,n=(e.provider?new _c(e.provider):this.provider).getSigner(t?t.toString():0);return new Hd(this.rollupContractAddress.toString(),Jd.abi,n)}getHelperContractWithSigner(e){const{signingAddress:t}=e,n=(e.provider?new _c(e.provider):this.provider).getSigner(t?t.toString():0);return new Hd(this.permitHelperAddress.toString(),Xd.abi,n)}async estimateGas(e){const t=this.provider.getSigner(0),n=await t.getAddress(),r={to:this.address.toString(),from:n,data:`0x${e.toString("hex")}`};try{return(await this.provider.estimateGas(r)).toNumber()}catch(e){const t=await this.ethereumProvider.request({method:"eth_call",params:[r,"latest"]}).catch((e=>e));if(t.data){const e=Ap(this.contract,t.data);if(e){const t=`${e.name}(${e.params.join(", ")})`;throw new Error(t)}}throw e}}async getRevertError(e){return await async function(e,t,n){const{to:r,from:i,gas:s,maxFeePerGas:a,maxPriorityFeePerGas:o,input:l,value:c,nonce:d,blockNumber:u}=await n.request({method:"eth_getTransactionByHash",params:[t.toString()]}),p={to:r,from:i,gas:s,maxFeePerGas:a,maxPriorityFeePerGas:o,data:l,value:c,nonce:d},f=await n.request({method:"eth_call",params:[p,u]}).catch((e=>e));if(f.data)return Ap(e,f.data)}(this.contract,e,this.ethereumProvider)}}Rp.DEFAULT_BRIDGE_GAS_LIMIT=3e5,Rp.DEFAULT_ERC20_GAS_LIMIT=55e3,Rp.DEPOSIT_GAS_LIMIT_MULTIPLIER=1.1;class Lp{constructor(e,t,n,r,i,s,a){this.rollupProcessor=e,this.assets=t,this.gasPriceFeed=n,this.priceFeeds=r,this.bridgeDataProvider=i,this.ethereumProvider=s,this.confirmations=a,this.log=f("Contracts"),this.provider=new _c(s),this.ethereumRpc=new qn(s)}static async fromAddresses(e,t,n,r,i,s){const a=new Rp(e,i,t),o=new Qd(r,i),l=[new Rc(i)],[c,...d]=n,u=new nu(c,i),p=[new ru,...d.map((e=>new tu(e,i)))],f=new Lp(a,l,u,p,o,i,s);return await f.updateAssets(),f}getProvider(){return this.ethereumProvider}async updateAssets(){if(await this.rollupProcessor.getSupportedAssetsLength()===this.assets.length-1)return;this.log("Initialising supported assets...");const e=await this.rollupProcessor.getSupportedAssets(),t=await Promise.all(e.slice(this.assets.length-1).map((({address:e,gasLimit:t})=>jd.fromAddress(e,this.ethereumProvider,t,this.confirmations))));this.assets=[...this.assets,...t],this.log(`Supported assets: ${this.assets.map((e=>e.getStaticInfo().symbol))}`)}async getPerRollupState(){return{defiInteractionHashes:await this.rollupProcessor.defiInteractionHashes()}}async getPerBlockState(){const{escapeOpen:e,blocksRemaining:t}=await this.rollupProcessor.getEscapeHatchStatus();return{escapeOpen:e,numEscapeBlocksRemaining:t,allowThirdPartyContracts:await this.rollupProcessor.getThirdPartyContractStatus()}}async updatePerEthBlockState(){await this.updateAssets(),this.bridgeDataProvider.updatePerEthBlockState()}getRollupBalance(e){return this.assets[e].balanceOf(this.rollupProcessor.address)}getRollupContractAddress(){return this.rollupProcessor.address}getBridgeDataProviderAddress(){return this.bridgeDataProvider.address}getPermitHelperContractAddress(){return qe.fromString(this.rollupProcessor.permitHelper.address)}async getVerifierContractAddress(){return await this.rollupProcessor.verifier()}async createRollupTxs(e,t,n,r){return await this.rollupProcessor.createRollupTxs(e,t,n,r)}async sendTx(e,t={}){return await this.rollupProcessor.sendTx(e,t)}async estimateGas(e){return await this.rollupProcessor.estimateGas(e)}async getRollupBlocksFrom(e,t){return await this.rollupProcessor.getRollupBlocksFrom(e,t)}async callbackRollupBlocksFrom(e,t,n){return await this.rollupProcessor.callbackRollupBlocksFrom(e,t,n)}async getRollupBlock(e,t){return await this.rollupProcessor.getRollupBlock(e,t)}async getUserPendingDeposit(e,t){return await this.rollupProcessor.getUserPendingDeposit(e,t)}async getTransactionByHash(e){return await this.ethereumRpc.getTransactionByHash(e)}async getTransactionReceipt(e){return await this.provider.getTransactionReceipt(e.toString())}async getChainId(){const{chainId:e}=await this.provider.getNetwork();return e}async getBlockNumber(){return await this.ethereumRpc.blockNumber()}async signPersonalMessage(e,t){const n=new Pc(this.ethereumProvider);return await n.signPersonalMessage(e,t)}async signMessage(e,t){const n=new Pc(this.ethereumProvider);return await n.signMessage(e,t)}async signTypedData(e,t){const n=new Pc(this.ethereumProvider);return await n.signTypedData(e,t)}getAsset(e){return this.assets[e]}async getAssetPrice(e){return await this.priceFeeds[e].price()}getPriceFeed(e){if(!this.priceFeeds[e])throw new Error(`Unknown assetId: ${e}`);return this.priceFeeds[e]}getGasPriceFeed(){return this.gasPriceFeed}async getUserProofApprovalStatus(e,t){return await this.rollupProcessor.getProofApprovalStatus(e,t)}async isContract(e){return"0x"!==await this.provider.getCode(e.toString())}async isEmpty(e){return!await this.isContract(e)&&(await this.provider.getBalance(e.toString())).toBigInt()==BigInt(0)&&0==await this.provider.getTransactionCount(e.toString())}async getFeeData(){const{maxFeePerGas:e,maxPriorityFeePerGas:t,gasPrice:n}=await this.provider.getFeeData();return{maxFeePerGas:null!==e?BigInt(e.toString()):BigInt(0),maxPriorityFeePerGas:null!==t?BigInt(t.toString()):BigInt(0),gasPrice:null!==n?BigInt(n.toString()):BigInt(0)}}getAssets(){return this.assets.map((e=>e.getStaticInfo()))}async getSupportedBridges(){return await this.rollupProcessor.getSupportedBridges()}async getRevertError(e){return await this.rollupProcessor.getRevertError(e)}async getBridgeSubsidy(e){return await this.bridgeDataProvider.getBridgeSubsidy(e)}async getBridgeData(e){return await this.bridgeDataProvider.getBridgeData(e)}}const Vp=e=>{throw e.stack+=(new Error).stack,e};class kp{constructor(e,t,n={}){this.feeDistributorContractAddress=e,this.provider=t,this.defaults=n,this.feeDistributor=new Hd(e.toString(),Zd.abi,new _c(this.provider))}get address(){return this.feeDistributorContractAddress}get contract(){return this.feeDistributor}async WETH(){return qe.fromString(await this.feeDistributor.WETH().catch(Vp))}async aztecFeeClaimer(){return qe.fromString(await this.feeDistributor.aztecFeeClaimer().catch(Vp))}async feeLimit(){return BigInt(await this.feeDistributor.feeLimit().catch(Vp))}async convertConstant(){return BigInt(await this.feeDistributor.convertConstant().catch(Vp))}async txFeeBalance(e){return BigInt(await this.feeDistributor.txFeeBalance(e.toString()).catch(Vp))}async convert(e,t,n=this.defaults){const{gasLimit:r}=n,i=this.getContractWithSigner(n),s=await i.convert(e.toString(),t,{gasLimit:r}).catch(Vp);return Gn.fromString(s.hash)}async setConvertConstant(e,t=this.defaults){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.setConvertConstant(e,{gasLimit:n}).catch(Vp);return Gn.fromString(i.hash)}async setFeeLimit(e,t=this.defaults){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.setFeeLimit(e,{gasLimit:n}).catch(Vp);return Gn.fromString(i.hash)}async setFeeClaimer(e,t=this.defaults){const{gasLimit:n}=t,r=this.getContractWithSigner(t),i=await r.setFeeClaimer(e.toString(),{gasLimit:n}).catch(Vp);return Gn.fromString(i.hash)}async getLastReimbursement(){const e=this.feeDistributor.filters.FeeReimbursed(),t=await this.feeDistributor.queryFilter(e),n=t[t.length-1];return BigInt(n.args.amount)}getContractWithSigner(e){const{provider:t=this.provider,signingAddress:n}=e,r=new _c(t).getSigner(n?n.toString():0);return new Hd(this.feeDistributorContractAddress.toString(),Zd.abi,r)}}class Bp{constructor(e,t,n,r,i,s,a=[]){this.bridges=r,this.ethereumProvider=i,this.minConfirmations=s,this.permitSupportAssetIds=a,this.rollupProcessor=new Rp(e,i,t),this.provider=new _c(this.ethereumProvider),this.assets=n.map((e=>e.address.equals(qe.ZERO)?new Rc(this.ethereumProvider):jd.new(e,this.ethereumProvider)))}async getChainId(){return(await this.provider.getNetwork()).chainId}getAsset(e){return this.assets[e]}getAssetIdByAddress(e,t){const n=this.assets.findIndex((n=>n.getStaticInfo().address.equals(e)&&(void 0===t||n.getStaticInfo().gasLimit===t)));if(n<0)throw new Error(`Unknown asset. Address: ${e}. Gas limit: ${t}.`);return n}getAssetIdBySymbol(e,t){const n=this.assets.findIndex((n=>n.getStaticInfo().symbol.toLowerCase()===e.toLowerCase()&&(void 0===t||n.getStaticInfo().gasLimit===t)));if(n<0)throw new Error(`Unknown asset. Symbol: ${e}. Gas limit: ${t}.`);return n}getBridgeAddressId(e,t){const n=this.bridges.findIndex((n=>n.address.equals(e)&&(void 0===t||n.gasLimit===t)));if(n<0)throw new Error(`Unknown bridge. Address: ${e}. Gas limit: ${t}.`);return n+1}hasPermitSupport(e){return this.permitSupportAssetIds.includes(e)}async getUserPendingDeposit(e,t){return await this.rollupProcessor.getUserPendingDeposit(e,t)}async getUserProofApprovalStatus(e,t){return await this.rollupProcessor.getProofApprovalStatus(e,t)}async depositPendingFunds(e,t,n,r){return await this.rollupProcessor.depositPendingFunds(e,t,n,r)}async depositPendingFundsPermit(e,t,n,r,i){return await this.rollupProcessor.depositPendingFundsPermit(e,t,n,r,i)}async depositPendingFundsPermitNonStandard(e,t,n,r,i,s){return await this.rollupProcessor.depositPendingFundsPermitNonStandard(e,t,n,r,i,s)}async approveProof(e,t){return await this.rollupProcessor.approveProof(e,t)}async processAsyncDefiInteraction(e,t){return await this.rollupProcessor.processAsyncDefiInteraction(e,t)}async isContract(e){return"0x"!==await this.provider.getCode(e.toString())}async isEmpty(e){return!await this.isContract(e)&&(await this.provider.getBalance(e.toString())).toBigInt()==BigInt(0)&&0==await this.provider.getTransactionCount(e.toString())}async setSupportedAsset(e,t,n){return await this.rollupProcessor.setSupportedAsset(e,t,n)}async setSupportedBridge(e,t,n){return await this.rollupProcessor.setSupportedBridge(e,t,n)}async getTransactionReceipt(e,t=300,n=1,r=this.minConfirmations){const i=new st;for(;;){const s=await this.provider.getTransactionReceipt(e.toString());if(!r||s&&s.confirmations>=r)return s?{status:!!s.status,blockNum:s.blockNumber}:{status:!1,blockNum:0};if(await bn(1e3*n),t&&i.s()>t)throw new Error(`Timeout awaiting tx confirmation: ${e}`)}}}const Op={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},$p={EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}]};var Fp=n(2633),Mp=n(1572);const Yp={1:{initRoots:{initDataRoot:"06e00f331c68d8109607a35e1bc247b149864ecee6568697f4a77e3c8ff35472",initNullRoot:"20d5cc81a50d8e54f691566148510eaa8ba66d3ffe3ffbd770188990e45c6cce",initRootsRoot:"2157ebc03adae85518c931f7efe94ef29de35b9a1f1a7a6b6bc9f1a119641628"},initDataSize:147624,firstRollup:0,lastRollup:3120},677868:{initRoots:{initDataRoot:"2a460f05d3dbdbb1d6ed8c3a1e589b13561dca0d49e4d496ae0d1d15c4aa1c68",initNullRoot:"1cb59b327064120bdf5ba23096b76cfe1ca8a45ab3db1b4f033bca92443cc025",initRootsRoot:"1c8ca5c80e65a610ca9326c65b7e1906864ad84e6c4d70e406f770f939934ecf"},initDataSize:18,initAccounts:{mnemonic:"cherry pretty dog employ tonight dry feature blade bean spray sleep fresh",aliases:["legacy1","legacy2","legacy3","legacy4","legacy5","legacy6","legacy7","legacy8","legacy9"]}},3567:{initRoots:{initDataRoot:"2a460f05d3dbdbb1d6ed8c3a1e589b13561dca0d49e4d496ae0d1d15c4aa1c68",initNullRoot:"1cb59b327064120bdf5ba23096b76cfe1ca8a45ab3db1b4f033bca92443cc025",initRootsRoot:"1c8ca5c80e65a610ca9326c65b7e1906864ad84e6c4d70e406f770f939934ecf"},initDataSize:18,initAccounts:{mnemonic:"cherry pretty dog employ tonight dry feature blade bean spray sleep fresh",aliases:["legacy1","legacy2","legacy3","legacy4","legacy5","legacy6","legacy7","legacy8","legacy9"]}},359059:{initRoots:{initDataRoot:"2a460f05d3dbdbb1d6ed8c3a1e589b13561dca0d49e4d496ae0d1d15c4aa1c68",initNullRoot:"1cb59b327064120bdf5ba23096b76cfe1ca8a45ab3db1b4f033bca92443cc025",initRootsRoot:"1c8ca5c80e65a610ca9326c65b7e1906864ad84e6c4d70e406f770f939934ecf"},initDataSize:18,initAccounts:{mnemonic:"cherry pretty dog employ tonight dry feature blade bean spray sleep fresh",aliases:["legacy1","legacy2","legacy3","legacy4","legacy5","legacy6","legacy7","legacy8","legacy9"]}},default:{initRoots:{initDataRoot:"1417c092da90cfd39679299b8e381dd295dba6074b410e830ef6d3b7040b6eac",initNullRoot:"0225131cf7530ba9f617dba641b32020a746a6e0124310c09aac7c7c8a2e0ce5",initRootsRoot:"08ddeab28afc61bd560f0153f7399c9bb437c7cd280d0f4c19322227fcd80e05"},initDataSize:8,initAccounts:{mnemonic:"once cost physical tongue reason coconut trick whip permit novel victory ritual",aliases:["account1","account2","account3","account4"]}}};function zp(e){return Yp[e]??Yp.default}var Up=n(4195),qp=n(8842).Buffer;const Hp=e=>{const t=(0,Mp.dirname)((0,Up.fileURLToPath)("file:///usr/src/yarn-project/barretenberg.js/dest/environment/init/init.js"));return Mp.resolve(t,e)};class Kp{static getInitData(e){return{roots:Kp.getInitRoots(e),dataTreeSize:Kp.getInitDataSize(e)}}static getInitRoots(e){const{initDataRoot:t,initNullRoot:n,initRootsRoot:r}=zp(e).initRoots;return{dataRoot:qp.from(t,"hex"),nullRoot:qp.from(n,"hex"),rootsRoot:qp.from(r,"hex")}}static getInitDataSize(e){return zp(e).initDataSize}static getInitAccounts(e){return zp(e).initAccounts}static getRootDataFile(e){if(!zp(e).roots)return;const t=zp(e).roots;return Hp(t)}static async writeData(e,t){const n=Hp(e),r=await Fp.promises.open(n,"w"),{bytesWritten:i}=await r.write(t);return await r.close(),i}static async writeAccountTreeData(e,t){e.forEach((e=>{if(32!==e.notes.note1.length)throw new Error(`Note1 has length ${e.notes.note1.length}, it should be 32`);if(32!==e.notes.note2.length)throw new Error(`Note2 has length ${e.notes.note2.length}, it should be 32`);if(28!==e.alias.aliasHash.length)throw new Error(`Alias hash has length ${e.alias.aliasHash.length}, it should be 28`);if(64!==e.alias.address.length)throw new Error(`Alias grumpkin address has length ${e.alias.address.length}, it should be 64`);if(32!==e.nullifiers.nullifier1.length)throw new Error(`Nullifier1 has length ${e.nullifiers.nullifier1.length}, it should be 32`);if(32!==e.nullifiers.nullifier2.length)throw new Error(`Nullifier1 has length ${e.nullifiers.nullifier2.length}, it should be 32`);if(32!==e.signingKeys.signingKey1.length)throw new Error(`Signing Key 1 has length ${e.signingKeys.signingKey1.length}, it should be 32`);if(32!==e.signingKeys.signingKey2.length)throw new Error(`Signing Key 2 has length ${e.signingKeys.signingKey2.length}, it should be 32`)}));const n=e.flatMap((e=>[e.alias.aliasHash,e.alias.address,e.notes.note1,e.notes.note2,e.nullifiers.nullifier1,e.nullifiers.nullifier2,e.signingKeys.signingKey1,e.signingKeys.signingKey2]));return await this.writeData(t,qp.concat(n))}static async readData(e){const t=Hp(e);try{const e=await Fp.promises.open(t,"r"),n=await e.readFile();return await e.close(),n}catch(e){return console.log(`Failed to read file: ${t}. Error: ${e}`),qp.alloc(0)}}static parseAccountTreeData(e){const t=e.length/284;if(0===t)return[];const n=new Array(t);for(let r=0;r<t;r++){let t=284*r;const i={aliasHash:e.slice(t,t+28),address:e.slice(t+28,t+92)};t+=92;const s={note1:e.slice(t,t+32),note2:e.slice(t+32,t+64)};t+=64;const a={nullifier1:e.slice(t,t+32),nullifier2:e.slice(t+32,t+64)};t+=64;const o={notes:s,nullifiers:a,alias:i,signingKeys:{signingKey1:e.slice(t,t+32),signingKey2:e.slice(t+32,t+64)}};n[r]=o}return n}static async readAccountTreeData(e){const t=await this.readData(e);return this.parseAccountTreeData(t)}static async populateDataAndRootsTrees(e,t,n,r,i){const s=e.flatMap(((e,t)=>[{treeId:n,index:BigInt(2*t),value:e.notes.note1},{treeId:n,index:BigInt(1+2*t),value:e.notes.note2}]));if(console.log(`Batch inserting ${s.length} notes into data tree...`),await t.batchPut(s),i){const e=(Math.floor(s.length/i)+(s.length%i?1:0))*i;e>s.length&&await t.put(n,BigInt(e-1),qp.alloc(32,0))}const a=t.getRoot(n);return await t.put(r,BigInt(0),a),{dataRoot:a,rootsRoot:t.getRoot(r),dataSize:t.getSize(n)}}static async populateNullifierTree(e,t,n){const r=qp.alloc(32,0),i=e.flatMap((e=>[e.nullifiers.nullifier1,e.nullifiers.nullifier2])).filter((e=>!e.equals(r))).map((e=>({treeId:n,index:F(e),value:Y(BigInt(1),32)})));return console.log(`Batch inserting ${i.length} notes into nullifier tree...`),await t.batchPut(i),t.getRoot(n)}}var Gp=n(8842).Buffer;const jp=xr.NUM_BRIDGE_CALLS_PER_BLOCK;class Wp{}Wp.EMPTY_DATA_ROOT=Gp.from("18ceb5cd201e1cee669a5c3ad96d3c4e933a365b37046fc3178264bede32c68d","hex"),Wp.EMPTY_NULL_ROOT=Gp.from("298329c7d0936453f354e4a5eef4897296cc0bf5a66f2a528318508d2088dafa","hex"),Wp.EMPTY_ROOT_ROOT=Gp.from("2fd2364bfe47ccb410eba3a958be9f39a8c6aca07db1abd15f5a211f51505071","hex"),Wp.EMPTY_DEFI_ROOT=Gp.from("2e4ab7889ab3139204945f9e722c7a8fdb84e66439d787bd066c3d896dba04ea","hex"),Wp.EMPTY_INTERACTION_HASH=Gp.from("2d25a1e3a51eb293004c4b56abe12ed0da6bca2b4a21936752a85d102593c1b4","hex"),Wp.INITIAL_INTERACTION_HASH=((e,t=e.length)=>{const n=Fe($t.concat(Mt(e,t)));return Y(BigInt("0x"+n.toString("hex"))%Ft.groupModulus,32)})([],jp),Wp.DATA_TREE_DEPTH=32,Wp.NUM_NEW_DATA_TREE_NOTES_PER_TX=2;const Zp=b("bb:world_state");class Jp{constructor(e,t){this.db=e,this.pedersen=t,this.subTreeDepth=0}async init(e){const t=1<<e;this.subTreeDepth=e;const n=Array(t).fill(it.ZERO_ELEMENT),r=await it.new(n,this.pedersen),i=Wp.DATA_TREE_DEPTH-e,s=r.getRoot();Zp(`initialising data tree with depth ${i} and zero element of ${s.toString("hex")}`);try{this.tree=await ct.fromName(this.db,this.pedersen,"data",s)}catch(e){this.tree=await ct.new(this.db,this.pedersen,"data",i,s)}this.logTreeStats()}buildZeroHashPath(e=Wp.DATA_TREE_DEPTH){let t=it.ZERO_ELEMENT;const n=[];for(let r=0;r<e;r++)n.push([t,t]),t=this.pedersen.compress(t,t);return new nt(n)}convertNoteIndexToSubTreeIndex(e){return e>>this.subTreeDepth}async buildFullHashPath(e,t){const n=this.convertNoteIndexToSubTreeIndex(e),r=await this.getHashPath(n);return new nt(t.data.concat(r.data))}async insertElement(e,t){const n=this.convertNoteIndexToSubTreeIndex(e);await this.tree.updateElement(n,t),this.logTreeStats()}async insertElements(e,t){const n=this.convertNoteIndexToSubTreeIndex(e);await this.tree.updateElements(n,t),this.logTreeStats()}logTreeStats(){Zp(`data size: ${this.tree.getSize()}`),Zp(`data root: ${this.tree.getRoot().toString("hex")}`)}async syncFromDb(){await this.tree.syncFromDb()}async getHashPath(e){return await this.tree.getHashPath(e)}getRoot(){return this.tree.getRoot()}getSize(){return this.tree.getSize()}}class Xp extends l.EventEmitter{constructor(e,t){super(),this.config=e,this.contracts=t,this.running=!1,this.latestEthBlock=-1,this.latestRollupId=-1,this.log=f("EthereumBlockchain"),!1===e.console&&(this.log=()=>{})}static async new(e,t,n,r,i,s){const a=e.minConfirmation||Xp.DEFAULT_MIN_CONFIRMATIONS,o=await Lp.fromAddresses(t,n,i,r,s,a),l=new Xp(e,o);return await l.init(),l}getProvider(){return this.contracts.getProvider()}async init(){this.log("Initializing blockchain status..."),this.status={chainId:await this.contracts.getChainId(),rollupContractAddress:this.contracts.getRollupContractAddress(),permitHelperContractAddress:this.contracts.getPermitHelperContractAddress(),verifierContractAddress:await this.contracts.getVerifierContractAddress(),bridgeDataProvider:this.contracts.getBridgeDataProviderAddress(),...await this.getPerRollupState(),...await this.getPerEthBlockState()},this.log("Seeking latest rollup...");const e=await this.contracts.getRollupBlock(-1,this.getRequiredConfirmations());e?(this.log(`Found latest rollup id ${e.rollupId}.`),this.latestRollupId=e.rollupId):this.log("No rollup found, assuming pristine state."),this.status={...this.status,...await this.getPerRollupState(e)},this.log("Initialized.")}async start(e=0){this.log(`Ethereum blockchain starting from rollup: ${e}`);const t=async e=>{for(;;)try{return await this.getBlocks(e)}catch(e){this.log(`getBlocks failed, will retry: ${e.message}`),await new Promise((e=>setTimeout(e,5e3)))}},n=async()=>{const n=await this.contracts.getBlockNumber().catch((e=>(this.log(`getBlockNumber failed: ${e.code}`),this.latestEthBlock)));if(n===this.latestEthBlock)return;this.latestEthBlock=n,await this.updatePerEthBlockState();const r=await t(e);r.length&&await this.updatePerRollupState(r[r.length-1]);for(const t of r)this.log(`Block received: ${t.rollupId}`),this.latestRollupId=t.rollupId,this.emit("block",t),e=t.rollupId+1};await n(),this.running=!0,this.runningPromise=(async()=>{for(;this.running;)await new Promise((e=>setTimeout(e,this.config.pollInterval||1e4))),await n().catch(this.log)})(),this.log("Ethereum blockchain started.")}async stop(){this.running=!1,this.removeAllListeners(),await this.runningPromise}getBlockchainStatus(){return this.status}async getPerRollupState(e){const t=await this.contracts.getPerRollupState();if(e){const n=xr.decode(e.encodedRollupProofData);return{...t,nextRollupId:n.rollupId+1,dataSize:n.dataStartIndex+n.rollupSize,dataRoot:n.newDataRoot,nullRoot:n.newNullRoot,rootRoot:n.newDataRootsRoot,defiRoot:n.newDefiRoot}}{const e=await this.contracts.getChainId(),{dataTreeSize:n,roots:{dataRoot:r,nullRoot:i,rootsRoot:s}}=Kp.getInitData(e);return{...t,nextRollupId:0,dataSize:n,dataRoot:r,nullRoot:i,rootRoot:s,defiRoot:Wp.EMPTY_DEFI_ROOT}}}async getPerEthBlockState(){return{...await this.contracts.getPerBlockState(),assets:this.contracts.getAssets(),bridges:await this.contracts.getSupportedBridges()}}async updatePerRollupState(e){this.status={...this.status,...await this.getPerRollupState(e)}}async updatePerEthBlockState(){await this.contracts.updatePerEthBlockState(),this.status={...this.status,...await this.getPerEthBlockState()}}getLatestRollupId(){return Promise.resolve(this.latestRollupId)}async getUserPendingDeposit(e,t){return await this.contracts.getUserPendingDeposit(e,t)}async getUserProofApprovalStatus(e,t){return await this.contracts.getUserProofApprovalStatus(e,t)}async createRollupTxs(e,t,n,r){return await this.contracts.createRollupTxs(e,t,n,r)}sendTx(e,t={}){return t={...t,gasLimit:t.gasLimit||this.config.gasLimit},this.contracts.sendTx(e,t)}getRequiredConfirmations(){const{escapeOpen:e,numEscapeBlocksRemaining:t}=this.status,{minConfirmation:n=Xp.DEFAULT_MIN_CONFIRMATIONS,minConfirmationEHW:r=Xp.DEFAULT_MIN_CONFIRMATIONS_EHW}=this.config;return e||t<=r?r:n}async getBlocks(e){const t=this.getRequiredConfirmations();return await this.contracts.getRollupBlocksFrom(e,t)}async callbackRollupBlocksFrom(e,t){const n=this.getRequiredConfirmations();return await this.contracts.callbackRollupBlocksFrom(e,n,t)}async getTransactionReceipt(e,t,n=this.config.minConfirmation||Xp.DEFAULT_MIN_CONFIRMATIONS){const r=new st;this.log(`Getting tx receipt for ${e}... (${n} confs)`);let i=await this.contracts.getTransactionByHash(e);for(;!i;){if(void 0!==t&&r.s()>t)return{status:!1};await new Promise((e=>setTimeout(e,1e3))),i=await this.contracts.getTransactionByHash(e)}let s=await this.contracts.getTransactionReceipt(e);for(;!s||s.confirmations<n;)await new Promise((e=>setTimeout(e,1e3))),s=await this.contracts.getTransactionReceipt(e);const a={status:!!s.status,blockNum:s.blockNumber};return a.status||(a.revertError=await this.contracts.getRevertError(e)),a}async getTransactionReceiptSafe(e,t){const n=this.getRequiredConfirmations();return await this.getTransactionReceipt(e,t,n)}validateSignature(e,t,n){return Ec(e,t,n)}async signPersonalMessage(e,t){return await this.contracts.signPersonalMessage(e,t)}async signMessage(e,t){return await this.contracts.signMessage(e,t)}async signTypedData(e,t){return await this.contracts.signTypedData(e,t)}getAsset(e){return this.contracts.getAsset(e)}async getAssetPrice(e){return await this.contracts.getAssetPrice(e)}getPriceFeed(e){return this.contracts.getPriceFeed(e)}getGasPriceFeed(){return this.contracts.getGasPriceFeed()}async isContract(e){return await this.contracts.isContract(e)}async isEmpty(e){return await this.contracts.isEmpty(e)}async estimateGas(e){return await this.contracts.estimateGas(e)}async getChainId(){return await this.contracts.getChainId()}getRollupBalance(e){return this.contracts.getRollupBalance(e)}async getFeeData(){return await this.contracts.getFeeData()}getBridgeGas(e){const{bridgeAddressId:t}=Vt.fromBigInt(e),{gasLimit:n}=this.status.bridges.find((e=>e.id==t))||{};if(!n)throw new Error(`Failed to retrieve bridge cost for bridge ${e.toString()}`);return n}async getBridgeSubsidy(e){return await this.contracts.getBridgeSubsidy(e)}async getBridgeData(e){return await this.contracts.getBridgeData(e)}}Xp.DEFAULT_MIN_CONFIRMATIONS=3,Xp.DEFAULT_MIN_CONFIRMATIONS_EHW=12;class Qp{}Qp.Tokens={USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",WETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",DAI:"0x6b175474e89094c44da98b954eedeac495271d0f","LUSD3CRV-F":"0xed279fdd11ca84beef15af5d39bb4d4bee23f0ca",CRVTRICRYPTO:"0xca3d75ac011bf5ad07a98d02f18225f9bd9a6bdf",STECRV:"0x06325440d014e39736583c165c2963ba99faf14e",CRV3CRYPTO:"0xc4ad29ba4b3c580e6d59105fff484999997675ff",WBTC:"0x2260fac5e5542a773aa44fbcfedf7c193bc2c599","ALUSD3CRV-F":"0x43b4fdfd4ff969587185cdb6f0bd875c5fc83f8c","MIM-3LP3CRV-F":"0x5a6a4d54456819380173272a5e8e9b9904bdf41b",EURSCRV:"0x194ebd173f6cdace046c53eacce9b953f28411d1",EUR:"0xdb25f211ab05b1c97d595516f45794528a807ad8",ETH:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"},Qp.Contracts={UNISWAP:"0xe592427a0aece92de3edee1f18e0157c05861564",CURVE_PROVIDER:"0x0000000022d53366457f9d5e68ec105046fc4383",CURVE_ZAP:"0xa79828df1850e8a3a3064576f380d90aecdd3359",CURVE_FACTORY:"0x0959158b6040d32d04c301a72cbfd6b39e21c9ae",BALANCER:"0xBA12222222228d8Ba445958a75a0704d566BF2C8"},Qp.Tokens.DAI,Qp.Tokens.USDC,Qp.Tokens.WBTC,Qp.Tokens.WETH;var ef=n(8842).Buffer;class tf{constructor(e,t,n,r,i,s,a,o,l){this.txId=e,this.userId=t,this.aliasHash=n,this.newSpendingPublicKey1=r,this.newSpendingPublicKey2=i,this.migrated=s,this.txRefNo=a,this.created=o,this.settled=l,this.proofId=Xt.ACCOUNT}}var nf=n(8842).Buffer;class rf{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f,y,m,h,b,g){this.txId=e,this.userId=t,this.bridgeCallData=n,this.depositValue=r,this.txFee=i,this.txRefNo=s,this.created=a,this.partialState=o,this.partialStateSecret=l,this.nullifier=c,this.settled=d,this.interactionNonce=u,this.isAsync=p,this.success=f,this.outputValueA=y,this.outputValueB=m,this.finalised=h,this.claimSettled=b,this.claimTxId=g,this.proofId=Xt.DEFI_DEPOSIT}}class sf{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f){this.txId=e,this.userId=t,this.proofId=n,this.assetId=r,this.publicValue=i,this.publicOwner=s,this.privateInput=a,this.recipientPrivateOutput=o,this.senderPrivateOutput=l,this.isRecipient=c,this.isSender=d,this.txRefNo=u,this.created=p,this.settled=f}}const af=({txId:e,userId:t,proofId:n,assetId:r,publicValue:i,publicOwner:s,privateInput:a,recipientPrivateOutput:o,senderPrivateOutput:l,txRefNo:c,created:d,settled:u},p)=>new sf(e,p,n,r,i,s,a,o,l,!0,p.equals(t),c,d,u),of=e=>{switch(e.proofId){case Xt.ACCOUNT:return(e=>({...e,txId:e.txId.toString(),userId:e.userId.toString(),aliasHash:e.aliasHash.toString(),newSpendingPublicKey1:e.newSpendingPublicKey1?e.newSpendingPublicKey1.toString("hex"):void 0,newSpendingPublicKey2:e.newSpendingPublicKey2?e.newSpendingPublicKey2.toString("hex"):void 0}))(e);case Xt.DEFI_DEPOSIT:return(e=>({...e,txId:e.txId.toString(),userId:e.userId.toString(),bridgeCallData:e.bridgeCallData.toString(),depositValue:e.depositValue.toString(),txFee:e.txFee.toString(),partialState:e.partialState.toString("hex"),partialStateSecret:e.partialStateSecret.toString("hex"),nullifier:e.nullifier?.toString("hex"),outputValueA:e.outputValueA?.toString(),outputValueB:e.outputValueB?.toString(),claimTxId:e.claimTxId?.toString()}))(e);default:return(e=>({...e,txId:e.txId.toString(),userId:e.userId.toString(),publicValue:e.publicValue.toString(),publicOwner:e.publicOwner?e.publicOwner.toString():void 0,privateInput:e.privateInput.toString(),recipientPrivateOutput:e.recipientPrivateOutput.toString(),senderPrivateOutput:e.senderPrivateOutput.toString()}))(e)}},lf=e=>{switch(e.proofId){case Xt.ACCOUNT:return(e=>new tf(In.fromString(e.txId),je.fromString(e.userId),Xe.fromString(e.aliasHash),e.newSpendingPublicKey1?ef.from(e.newSpendingPublicKey1,"hex"):void 0,e.newSpendingPublicKey2?ef.from(e.newSpendingPublicKey2,"hex"):void 0,e.migrated,e.txRefNo,e.created,e.settled))(e);case Xt.DEFI_DEPOSIT:return(e=>new rf(In.fromString(e.txId),je.fromString(e.userId),Vt.fromString(e.bridgeCallData),BigInt(e.depositValue),BigInt(e.txFee),e.txRefNo,e.created,nf.from(e.partialState,"hex"),nf.from(e.partialStateSecret,"hex"),e.nullifier?nf.from(e.nullifier,"hex"):void 0,e.settled,e.interactionNonce,e.isAsync,e.success,e.outputValueA?BigInt(e.outputValueA):void 0,e.outputValueB?BigInt(e.outputValueB):void 0,e.finalised,e.claimSettled,e.claimTxId?In.fromString(e.claimTxId):void 0))(e);default:return(e=>new sf(In.fromString(e.txId),je.fromString(e.userId),e.proofId,e.assetId,BigInt(e.publicValue),e.publicOwner?qe.fromString(e.publicOwner):void 0,BigInt(e.privateInput),BigInt(e.recipientPrivateOutput),BigInt(e.senderPrivateOutput),e.isRecipient,e.isSender,e.txRefNo,e.created,e.settled))(e)}},cf=b("bb:account_proof");class df{constructor(e,t,n){this.prover=e,this.worldState=t,this.db=n}async createProofInput(e,t,n,r,i,s,a,o=!0){const l=e.equals(r)&&!n,c=this.worldState.getRoot(),{path:d,index:u}=await this.getAccountPathAndIndex(e,o?r:e,n),p=new ut(c,e,i||e,s||je.ZERO,a||je.ZERO,t,l,n,u,d,r);return{tx:p,signingData:await this.prover.computeSigningData(p)}}async createProof({tx:e,signature:t},n,r){cf("creating proof...");const i=(new Date).getTime(),s=await this.prover.createAccountProof(e,t,r);cf(`created proof: ${(new Date).getTime()-i}ms`),cf(`proof size: ${s.length}`);const a=new ln(s),o=new In(a.txId),{aliasHash:l,newAccountPublicKey:c,newSpendingPublicKey1:d,newSpendingPublicKey2:u,migrate:p}=e;return{tx:new tf(o,c,l,d?.x(),u?.x(),p,n,new Date),proofData:a,offchainTxData:new ou(c,l,d?.x(),u?.x(),n),outputNotes:[]}}async getAccountPathAndIndex(e,t,n){if(t.equals(e)&&!n)return{path:this.worldState.buildZeroHashPath(Wp.DATA_TREE_DEPTH),index:0};{const n=await this.db.getSpendingKey(e,t);if(void 0===n)throw new Error("Unknown spending key.");const r=nt.fromBuffer(n.hashPath);return{path:await this.worldState.buildFullHashPath(n.treeIndex,r),index:n.treeIndex}}}}var uf=n(8842).Buffer;class pf{constructor(e,t,n,r,i,s,a){this.treeNote=e,this.commitment=t,this.nullifier=n,this.allowChain=r,this.nullified=i,this.index=s,this.hashPath=a}get assetId(){return this.treeNote.assetId}get value(){return this.treeNote.value}get owner(){return this.treeNote.ownerPubKey}get ownerAccountRequired(){return this.treeNote.accountRequired}get pending(){return void 0===this.index}}const ff=({treeNote:e,commitment:t,nullifier:n,allowChain:r,nullified:i,index:s,hashPath:a})=>({treeNote:new Uint8Array(e.toBuffer()),commitment:t.toString("hex"),nullifier:n.toString("hex"),allowChain:r,nullified:i,index:s,hashPath:a?.toString("hex")}),yf=({treeNote:e,commitment:t,nullifier:n,allowChain:r,nullified:i,index:s,hashPath:a})=>new pf(jt.fromBuffer(uf.from(e)),uf.from(t,"hex"),uf.from(n,"hex"),r,i,s,a?uf.from(a,"hex"):void 0),mf=async({treeNote:e,commitment:t,nullifier:n,allowChain:r,nullified:i,index:s,hashPath:a},o)=>{const l=a?await o.buildFullHashPath(s,nt.fromBuffer(a)):o.buildZeroHashPath(Wp.DATA_TREE_DEPTH);return new pf(e,t,n,r,i,s,l.toBuffer())},hf=(e,t,n,{allowChain:r=!1,gibberish:i=!1,nullified:s=!1,index:a,hashPath:o}={})=>{const l=n.valueNoteCommitment(e),c=n.valueNoteNullifier(l,t,!i);return new pf(e,l,c,r,s,a,o)};var bf=n(8842).Buffer;class gf{constructor(e,t,n,r){this.noteAlgos=e,this.worldState=t,this.grumpkin=n,this.db=r}async createTx({accountPrivateKey:e,accountPublicKey:t},n,r,i,s,{publicValue:a=BigInt(0),publicOwner:o=qe.ZERO,outputNoteValue1:l=BigInt(0),outputNoteValue2:c=BigInt(0),newNoteOwner:d=t,newNoteOwnerAccountRequired:u=!0,bridgeCallData:p=Vt.ZERO,defiDepositValue:f=BigInt(0),allowChain:y=0}={}){if(i.reduce(((e,t)=>e+(t.allowChain?1:0)),0)>1)throw new Error("Cannot chain from more than one pending note.");const m=!s.equals(t),h=m?(await this.db.getAlias(t))?.aliasHash:Xe.random();if(!h)throw new Error("User not registered or not fully synced.");const{path:b,index:g}=await this.getAccountPathAndIndex(t,s),_=i.length,T=[...i],I=T.map((e=>e.treeNote));for(let n=T.length;n<2;++n){const n=jt.createFromEphPriv(t,BigInt(0),r,m,xe(32),this.createEphemeralPrivKey(),this.grumpkin);I.push(n),T.push(hf(n,e,this.noteAlgos,{gibberish:!0}))}const v=T.map((e=>e.index||0)),S=await Promise.all(T.map((async(e,t)=>{if(e.hashPath){const n=nt.fromBuffer(e.hashPath);return await this.worldState.buildFullHashPath(v[t],n)}return this.worldState.buildZeroHashPath(Wp.DATA_TREE_DEPTH)}))),D=T.map((e=>e.nullifier)),w=[this.createNote(r,l,d,u,D[0]),this.createNote(r,c,t,m,D[1])],E=w.map((e=>e.note)),A=n===Xt.DEFI_DEPOSIT?this.createClaimNote(p,f,t,D[0]):{note:Ot.EMPTY,ephPubKey:void 0},P=1+i.findIndex((e=>e.allowChain)),C=P?i[P-1].commitment:bf.alloc(32),x=this.worldState.getRoot();return{tx:new tn(n,a,o,r,_,v,x,S,I,E,A.note,e,h,m,g,b,s,C,y),viewingKeys:n===Xt.DEFI_DEPOSIT?[w[1].viewingKey]:[w[0].viewingKey,w[1].viewingKey],partialStateSecretEphPubKey:A.ephPubKey}}async getAccountPathAndIndex(e,t){if(t.equals(e))return{path:this.worldState.buildZeroHashPath(Wp.DATA_TREE_DEPTH),index:0};{const n=await this.db.getSpendingKey(e,t);if(void 0===n)throw new Error("Unknown spending key.");const r=nt.fromBuffer(n.hashPath);return{path:await this.worldState.buildFullHashPath(n.treeIndex,r),index:n.treeIndex}}}createNote(e,t,n,r,i,s){const{ephPrivKey:a}=this.createEphemeralKeyPair(),o=s?s.x():bf.alloc(32),l=jt.createFromEphPriv(n,t,e,r,i,a,this.grumpkin,o),c=l.createViewingKey(a,this.grumpkin);return{note:l,viewingKey:c}}createClaimNote(e,t,n,r){const{ephPrivKey:i,ephPubKey:s}=this.createEphemeralKeyPair(),a=Dt(n,i,this.grumpkin);return{note:new Ot(t,e,a,r),ephPubKey:s}}createEphemeralPrivKey(){return this.grumpkin.getRandomFr()}createEphemeralKeyPair(){const e=this.grumpkin.getRandomFr();return{ephPrivKey:e,ephPubKey:new je(this.grumpkin.mul(Ke.generator,e))}}}const _f=b("bb:defi_deposit_proof_creator");class Tf{constructor(e,t,n,r,i){this.prover=e,this.noteAlgos=t,this.txFactory=new gf(t,n,r,i)}async createProofInput(e,t,n,r,i){const s=t.inputAssetIdA,a=!i.equals(e.accountPublicKey),o=await this.txFactory.createTx(e,Xt.DEFI_DEPOSIT,s,r,i,{bridgeCallData:t,defiDepositValue:n,newNoteOwner:e.accountPublicKey,newNoteOwnerAccountRequired:a}),l=await this.prover.computeSigningData(o.tx);return{...o,signingData:l}}async createProof({accountPublicKey:e,accountPrivateKey:t},{tx:n,signature:r,partialStateSecretEphPubKey:i,viewingKeys:s},a,o){_f("creating proof...");const l=(new Date).getTime();n.signature=r;const c=await this.prover.createProof(n,o);_f(`created proof: ${(new Date).getTime()-l}ms`),_f(`proof size: ${c.length}`);const d=new ln(c),u=new In(d.txId),{outputNotes:p,claimNote:{value:f,bridgeCallData:y,partialStateSecret:m}}=n,h=F(d.txFee),b=p[1].accountRequired,g=this.noteAlgos.valueNotePartialCommitment(m,e,b);return{tx:new rf(u,e,y,f,h,a,new Date,g,m),proofData:d,offchainTxData:new fu(y,g,i,f,h,s[0],a),outputNotes:[hf(p[0],t,this.noteAlgos,{allowChain:d.allowChainFromNote1}),hf(p[1],t,this.noteAlgos,{allowChain:d.allowChainFromNote2})]}}}const If=b("bb:payment_proof_creator");class vf{constructor(e,t,n,r,i){this.prover=e,this.noteAlgos=t,this.txFactory=new gf(t,n,r,i)}async createProofInput(e,t,n,r,i,s,a,o,l,c,d,u,p){if(s&&a)throw new Error("Public values cannot be both greater than zero.");if(a+r+i>s+n)throw new Error("Total output cannot be larger than total input.");if(s+a&&!d)throw new Error("Public owner undefined.");if(r&&!l)throw new Error("Note recipient undefined.");if(t.length>2)throw new Error("Cannot create a proof with more than 2 input notes.");const f=!u.equals(e.accountPublicKey);if(t.some((e=>e.treeNote.accountRequired!==f)))throw new Error(`Cannot spend notes with ${f?"account":"spending"} key.`);const y=s>0?Xt.DEPOSIT:a>0?Xt.WITHDRAW:Xt.SEND,m=t.reduce(((e,t)=>e+t.value),BigInt(0));if(m&&y===Xt.DEPOSIT)throw new Error("Merging private balance with public balance is not supported.");const h=m>n?m-n:BigInt(0),b=await this.txFactory.createTx(e,y,o,t,u,{publicValue:s+a,publicOwner:d,outputNoteValue1:r,outputNoteValue2:h+i,newNoteOwner:l,newNoteOwnerAccountRequired:c,allowChain:p}),g=await this.prover.computeSigningData(b.tx);return{...b,signingData:g}}async createProof(e,{tx:t,signature:n,viewingKeys:r},i,s){If("creating proof...");const a=(new Date).getTime();t.signature=n;const o=await this.prover.createProof(t,s);If(`created proof: ${(new Date).getTime()-a}ms`),If(`proof size: ${o.length}`);const l=new ln(o),c=new In(l.txId),{inputNotes:d,outputNotes:[u,p],proofId:f,publicValue:y,publicOwner:m}=t,h=d.reduce(((e,t)=>e+t.value),BigInt(0)),{value:b}=u,{assetId:g,value:_}=p,T=u.ownerPubKey,I=p.ownerPubKey,v=T.equals(I);return{tx:new sf(c,I,f,g,y,m,h,b,_,v,!0,i,new Date),proofData:l,offchainTxData:new bu(r,i),outputNotes:[hf(u,e.accountPrivateKey,this.noteAlgos,{allowChain:l.allowChainFromNote1}),hf(p,e.accountPrivateKey,this.noteAlgos,{allowChain:l.allowChainFromNote2})]}}}var Sf=n(8842).Buffer;const Df=({tx:e,signingData:t,signature:n})=>({tx:new Uint8Array(e.toBuffer()),signingData:new Uint8Array(t),signature:n?n.toString():void 0}),wf=({tx:e,signingData:t,signature:n})=>({tx:ut.fromBuffer(Sf.from(e)),signingData:Sf.from(t),signature:n?Re.fromString(n):void 0}),Ef=({tx:e,viewingKeys:t,partialStateSecretEphPubKey:n,signingData:r,signature:i})=>({tx:new Uint8Array(e.toBuffer()),viewingKeys:t.map((e=>e.toString())),partialStateSecretEphPubKey:n?n.toString():void 0,signingData:new Uint8Array(r),signature:i?i.toString():void 0}),Af=({tx:e,viewingKeys:t,partialStateSecretEphPubKey:n,signingData:r,signature:i})=>({tx:tn.fromBuffer(Sf.from(e)),viewingKeys:t.map((e=>Tt.fromString(e))),partialStateSecretEphPubKey:n?je.fromString(n):void 0,signingData:Sf.from(r),signature:i?Re.fromString(i):void 0}),Pf=(e,t,n)=>new tn(e.proofId,e.publicValue,e.publicOwner,(e.inputNotes[0]||e.outputNotes[0]).assetId,e.inputNotes.reduce(((e,t)=>e+(t.value?1:0)),0),e.inputNotes.map((e=>e.index||0)),e.dataRoot,e.inputNotes.map((e=>nt.fromBuffer(e.hashPath))),e.inputNotes.map((e=>e.treeNote)),e.outputNotes.map((e=>e.treeNote)),e.claimNote,t,e.aliasHash,!e.spendingPublicKey.equals(n),e.accountIndex,e.accountPath,e.spendingPublicKey,e.backwardLink,e.allowChain),Cf=(e,t,n)=>({proofId:e.proofId,publicValue:e.publicValue,publicOwner:e.publicOwner,inputNotes:e.inputNotes.map(((r,i)=>hf(r,t,n,{gibberish:i>=e.numInputNotes,index:e.inputNoteIndices[i],hashPath:e.inputNotePaths[i].toBuffer()}))),outputNotes:e.outputNotes.map(((r,i)=>hf(r,t,n,{allowChain:i?ln.allowChainFromNote2(e.allowChain):ln.allowChainFromNote1(e.allowChain)}))),claimNote:e.claimNote,spendingPublicKey:e.spendingPublicKey,aliasHash:e.aliasHash,accountIndex:e.accountIndex,accountPath:e.accountPath,dataRoot:e.merkleRoot,backwardLink:e.backwardLink,allowChain:e.allowChain});var xf=n(8842).Buffer;const Nf=({tx:e,proofData:t,offchainTxData:n,outputNotes:r,signature:i})=>({tx:of(e),proofData:new Uint8Array(t.rawProofData),offchainTxData:new Uint8Array(n.toBuffer()),outputNotes:r.map((e=>ff(e))),signature:i?new Uint8Array(i):void 0}),Rf=(e,t)=>{switch(e){case Xt.DEPOSIT:case Xt.WITHDRAW:case Xt.SEND:return bu.fromBuffer(t);case Xt.ACCOUNT:return ou.fromBuffer(t);case Xt.DEFI_DEPOSIT:return fu.fromBuffer(t);default:throw new Error(`Unsupported ProofOutput proofId: ${e}`)}},Lf=({tx:e,proofData:t,offchainTxData:n,outputNotes:r,signature:i})=>({tx:lf(e),proofData:new ln(xf.from(t)),offchainTxData:Rf(e.proofId,xf.from(n)),outputNotes:r.map((e=>yf(e))),signature:i?xf.from(i):void 0}),Vf=({proofData:e,offchainTxData:t,signature:n})=>({proofData:e.rawProofData,offchainTxData:t.toBuffer(),depositSignature:n}),kf=()=>xe(4).readUInt32BE(0);class Bf{constructor(e,t,n,r,i,s){this.userId=e,this.userSigner=t,this.spendingPublicKey1=n,this.spendingPublicKey2=r,this.fee=i,this.core=s,this.feeProofOutputs=[],this.txIds=[],this.requireFeePayingTx=!!i.value}async createProof(e){const t=this.requireFeePayingTx?kf():0,n=this.userSigner.getPublicKey();if(this.requireFeePayingTx){const r=!n.equals(this.userId),i=await this.core.createPaymentProofInputs(this.userId,this.fee.assetId,BigInt(0),BigInt(0),this.fee.value,BigInt(0),BigInt(0),this.userId,r,void 0,n,2);this.feeProofOutputs=[];for(const n of i)n.signature=await this.userSigner.signMessage(n.signingData),this.feeProofOutputs.push(await this.core.createPaymentProof(n,t,e))}{const r=await this.core.createAccountProofInput(this.userId,n,!1,void 0,this.spendingPublicKey1,this.spendingPublicKey2,void 0);r.signature=await this.userSigner.signMessage(r.signingData),this.proofOutput=await this.core.createAccountProof(r,t,e)}}exportProofTxs(){if(!this.proofOutput)throw new Error("Call createProof() first.");return[this.proofOutput,...this.feeProofOutputs].map(Vf)}async send(){if(!this.proofOutput)throw new Error("Call createProof() first.");return this.txIds=await this.core.sendProofs([this.proofOutput,...this.feeProofOutputs]),this.txIds[0]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}}class Of{constructor(e,t,n,r,i,s){if(this.userId=e,this.userSigner=t,this.bridgeCallData=n,this.assetValue=r,this.fee=i,this.core=s,this.jsProofOutputs=[],this.feeProofOutputs=[],this.txIds=[],!r.value)throw new Error("Deposit value must be greater than 0.");if(r.assetId!==n.inputAssetIdA&&(void 0===n.inputAssetIdB||r.assetId!==n.inputAssetIdB))throw new Error(`Incorrect deposit asset. Expect ${n.inputAssetIdA}${void 0!==n.inputAssetIdB?` or ${n.inputAssetIdB}`:""}. Got ${r.assetId}.`);if(kt(n),i.value&&i.assetId===n.inputAssetIdB)throw new Error("Fee paying asset must be the first input asset.");this.requireFeePayingTx=!!i.value&&i.assetId!==n.inputAssetIdA}async createProof(e){const{value:t}=this.assetValue,n=this.userSigner.getPublicKey(),r=!n.equals(this.userId),i=await this.core.createDefiProofInput(this.userId,this.bridgeCallData,t,this.requireFeePayingTx?BigInt(0):this.fee.value,n);for(const e of i)e.signature=await this.userSigner.signMessage(e.signingData);const s=this.requireFeePayingTx||i.length>1?kf():0,a=i.slice(0,-1),o=i[i.length-1];for(const t of a)this.jsProofOutputs.push(await this.core.createPaymentProof(t,s,e));if(this.proofOutput=await this.core.createDefiProof(o,s,e),this.requireFeePayingTx){const t=await this.core.createPaymentProofInputs(this.userId,this.fee.assetId,BigInt(0),BigInt(0),this.fee.value,BigInt(0),BigInt(0),this.userId,r,void 0,n,2);this.feeProofOutputs=[];for(const n of t)n.signature=await this.userSigner.signMessage(n.signingData),this.feeProofOutputs.push(await this.core.createPaymentProof(n,s,e))}}exportProofTxs(){if(!this.proofOutput)throw new Error("Call createProof() first.");return[...this.jsProofOutputs,this.proofOutput,...this.feeProofOutputs].map(Vf)}async send(){if(!this.proofOutput)throw new Error("Call createProof() first.");return this.txIds=await this.core.sendProofs([...this.jsProofOutputs,this.proofOutput,...this.feeProofOutputs]),this.getDefiTxId()}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);return this.txIds}async awaitDefiDepositCompletion(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}async awaitDefiFinalisation(e){const t=this.getDefiTxId();if(!t)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await this.core.awaitDefiFinalisation(t,e)}async awaitSettlement(e){const t=this.getDefiTxId();if(!t)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await this.core.awaitDefiSettlement(t,e)}getInteractionNonce(){const e=this.getDefiTxId();if(!e)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);return this.core.getDefiInteractionNonce(e)}getDefiTxId(){return this.txIds[this.jsProofOutputs.length]}}class $f{constructor(e,t,n,r,i,s,a,o){this.assetValue=e,this.fee=t,this.depositor=n,this.recipient=r,this.recipientSpendingKeyRequired=i,this.core=s,this.blockchain=a,this.provider=o,this.pendingFundsStatus={pendingDeposit:BigInt(0),pendingFunds:BigInt(0),requiredFunds:BigInt(0)};const{assetId:l,value:c}=e;if(!a.getAsset(l))throw new Error("Unsupported asset.");if(t.assetId!==l&&t.value&&c)throw new Error("Inconsistent asset id.");this.publicInput={assetId:l,value:c+t.value}}async getPendingFunds(){const{pendingFunds:e}=await this.getPendingFundsStatus();return e}async getRequiredFunds(){const{requiredFunds:e}=await this.getPendingFundsStatus();return e}async getPublicAllowance(){const{assetId:e}=this.publicInput,{rollupContractAddress:t}=await this.core.getLocalStatus();return this.blockchain.getAsset(e).allowance(this.depositor,t)}hasPermitSupport(){const{assetId:e}=this.publicInput;return this.blockchain.hasPermitSupport(e)}async approve(e){const t=await this.getPendingFundsStatus(),n=t.requiredFunds;if(!n)throw new Error("User has deposited enough funds.");if(await this.getPublicAllowance()>=n)throw new Error("User has approved enough amount.");const r=await this.blockchain.isContract(this.depositor);if(!this.hasPermitSupport()||r){const{assetId:e}=this.publicInput,{rollupContractAddress:i}=await this.core.getLocalStatus(),s=()=>this.blockchain.getAsset(e).approve(n,this.depositor,i,{signingAddress:this.depositor,provider:this.provider});let a;if(r){const e=async()=>await this.getPublicAllowance()>=n;a=await this.sendTransactionAndCheckOnchainData("approve allowance from contract wallet",s,e)}else a=await s();return this.pendingFundsStatus={...t,approvedFromContractWallet:r&&!a,approveTxHash:a},a}{const r=await this.createPermitArgs(n,e);this.pendingFundsStatus={...t,permitArgs:r}}}async awaitApprove(e,t){const{approvedFromContractWallet:n,approveTxHash:r,requiredFunds:i}=this.pendingFundsStatus;if(!n){if(!r)throw new Error("Call approve() first.");await this.awaitTransaction("approve allowance",(async()=>await this.getPublicAllowance()>=i),e,t)}}async depositFundsToContract(e){const t=await this.getPendingFundsStatus(),n=t.requiredFunds;if(!n)throw new Error("User has deposited enough funds.");const{assetId:r}=this.publicInput,i=await this.blockchain.isContract(this.depositor),s=this.hasPermitSupport()&&!i,a=0===r?n:await this.getPublicAllowance();if(!s&&a<n)throw new Error("Insufficient allowance. Call approve() first.");const o=async()=>{if(s&&a<n){const{signature:i,deadline:s}=t.permitArgs||await this.createPermitArgs(n,e);return this.blockchain.depositPendingFundsPermit(r,n,s,i,{signingAddress:this.depositor,provider:this.provider})}{const e=i?this.getProofHash():void 0;return this.blockchain.depositPendingFunds(r,n,e,{signingAddress:this.depositor,provider:this.provider})}};let l;if(i){const{pendingDeposit:e,requiredFunds:n}=t,i=e+n,s=async()=>await this.blockchain.getUserPendingDeposit(r,this.depositor)===i;l=await this.sendTransactionAndCheckOnchainData("deposit funds from contract wallet",o,s)}else l=await o();return this.pendingFundsStatus={...t,depositedFromContractWallet:i&&!l,txHash:l},l}async depositFundsToContractWithNonStandardPermit(e){const t=await this.getPendingFundsStatus(),n=t.requiredFunds;if(!n)throw new Error("User has deposited enough funds.");if(await this.blockchain.isContract(this.depositor))throw new Error("Permit flow not available for contract wallets.");let r;const{assetId:i}=this.publicInput;if(await this.getPublicAllowance()>=n)r=await this.blockchain.depositPendingFunds(i,n,void 0,{signingAddress:this.depositor,provider:this.provider});else{const{signature:t,deadline:s,nonce:a}=await this.createPermitArgsNonStandard(e);r=await this.blockchain.depositPendingFundsPermitNonStandard(i,n,a,s,t,{signingAddress:this.depositor,provider:this.provider})}return this.pendingFundsStatus={...t,txHash:r},r}async awaitDepositFundsToContract(e,t){const{depositedFromContractWallet:n,txHash:r,pendingDeposit:i,requiredFunds:s}=this.pendingFundsStatus;if(n)return!0;if(!r)throw new Error("Call depositFundsToContract() first.");const{assetId:a}=this.publicInput,o=i+s;await this.awaitTransaction("deposit pending funds",(async()=>await this.blockchain.getUserPendingDeposit(a,this.depositor)===o),e,t)}async createProof(e=0,t){const{assetId:n,value:r}=this.publicInput,i=r-this.fee.value;this.depositProofOutput=await this.core.createDepositProof(n,r,i,this.depositor,this.recipient,this.recipientSpendingKeyRequired,e,t)}getProofOutput(){if(!this.depositProofOutput)throw new Error("Call createProof() first.");return this.depositProofOutput}getProofHash(){if(!this.depositProofOutput)throw new Error("Call createProof() first.");return this.depositProofOutput.tx.txId.toBuffer()}async isProofApproved(){const e=this.getProofHash();return!!await this.blockchain.getUserProofApprovalStatus(this.depositor,e)}async approveProof(){const e=this.getProofHash(),t=await this.blockchain.isContract(this.depositor),n=()=>this.blockchain.approveProof(e,{signingAddress:this.depositor,provider:this.provider});let r;if(t){const e=()=>this.isProofApproved();r=await this.sendTransactionAndCheckOnchainData("approve proof from contract wallet",n,e)}else r=await n();return this.pendingFundsStatus={...this.pendingFundsStatus,proofApprovedFromContractWallet:t&&!r,approveProofTxHash:r},r}async awaitApproveProof(e,t){const{proofApprovedFromContractWallet:n,approveProofTxHash:r}=this.pendingFundsStatus;if(n)return!0;if(!r)throw new Error("Call approveProof() first.");await this.awaitTransaction("approve proof",(()=>this.isProofApproved()),e,t)}getSigningData(){if(!this.depositProofOutput)throw new Error("Call createProof() first.");return this.depositProofOutput.tx.txId.toDepositSigningData()}async sign(){if(!this.depositProofOutput)throw new Error("Call createProof() first.");const e=new Pc(this.provider),t=this.getSigningData();this.depositProofOutput.signature=await e.signPersonalMessage(t,this.depositor)}isSignatureValid(){if(!this.depositProofOutput)throw new Error("Call createProof() and sign() first.");if(!this.depositProofOutput.signature)throw new Error("Call sign() first.");const e=this.getSigningData();return Ec(this.depositor,this.depositProofOutput.signature,e)}async getPendingFundsStatus(){const{assetId:e}=this.publicInput,t=await this.blockchain.getUserPendingDeposit(e,this.depositor),n=t-(await this.core.getPendingDepositTxs()).filter((t=>t.assetId===e&&t.publicOwner.equals(this.depositor))).reduce(((e,t)=>e+BigInt(t.value)),BigInt(0)),{value:r}=this.publicInput,i=n<r?r-n:BigInt(0);return{...this.pendingFundsStatus,pendingDeposit:t,pendingFunds:n,requiredFunds:i}}async createPermitArgs(e,t){const n=t??BigInt(Math.floor(Date.now()/1e3)+300),{assetId:r}=this.publicInput,i=this.blockchain.getAsset(r),s=await i.getUserNonce(this.depositor),{permitHelperContractAddress:a,chainId:o}=await this.core.getLocalStatus(),l=function(e,t,n,r,i,s,a,o,l="1"){const c={name:e,version:l,chainId:o.toString(),verifyingContract:a.toString()},d={owner:t.toString(),spender:n.toString(),value:r.toString(),nonce:i.toString(),deadline:s.toString()};return{types:Op,domain:c,message:d,primaryType:"Permit"}}(i.getStaticInfo().name,this.depositor,a,e,s,n,i.getStaticInfo().address,this.getContractChainId(o)),c=new Pc(this.provider);return{signature:await c.signTypedData(l,this.depositor),deadline:n}}async createPermitArgsNonStandard(e){const t=e??BigInt(Math.floor(Date.now()/1e3)+300),{assetId:n}=this.publicInput,r=this.blockchain.getAsset(n),i=await r.getUserNonce(this.depositor),{permitHelperContractAddress:s,chainId:a}=await this.core.getLocalStatus(),o=function(e,t,n,r,i,s,a,o="1"){const l={name:e,version:o,chainId:a.toString(),verifyingContract:s.toString()},c={holder:t.toString(),spender:n.toString(),nonce:r.toString(),expiry:i.toString(),allowed:!0};return{types:$p,domain:l,message:c,primaryType:"Permit"}}(r.getStaticInfo().name,this.depositor,s,i,t,r.getStaticInfo().address,this.getContractChainId(a)),l=new Pc(this.provider);return{signature:await l.signTypedData(o,this.depositor),deadline:t,nonce:i}}getContractChainId(e){switch(e){case 677868:case 3567:case 3630:return 1;default:return e}}async sendTransactionAndCheckOnchainData(e,t,n,r,i=1){const s=new hn;let a,o;(async()=>{try{a=await t()}catch(e){o=e}s.interrupt()})();const l=new st;for(;!a&&!o;){if(await n()){const e=15*(this.blockchain.minConfirmations-1);await bn(1e3*e);break}if(await s.sleep(1e3*i),r&&l.s()>r)throw new Error(`Timeout awaiting chain state condition: ${e}`)}if(o)throw o;return a}async awaitTransaction(e,t,n,r=1){await _n(t,`chain state condition: ${e}`,n,r);const i=15*(this.blockchain.minConfirmations-1);await bn(1e3*i)}}class Ff extends $f{constructor(e,t,n,r,i,s,a,o){super(e,t,n,r,i,s,a,o),this.assetValue=e,this.fee=t,this.depositor=n,this.recipient=r,this.recipientSpendingKeyRequired=i,this.core=s,this.txIds=[]}async createProof(e){await super.createProof(0,e)}exportProofTxs(){return[super.getProofOutput()].map(Vf)}async send(){return this.txIds=await this.core.sendProofs([super.getProofOutput()]),this.txIds[0]}getTxIds(){if(!this.txIds.length)throw new Error("Call send() first.");return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error("Call send() first.");await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}}class Mf extends $f{constructor(e,t,n,r,i,s,a,o=qe.ZERO,l,c,d){super(s,a,o,e,!0,l,c,d),this.userId=e,this.userSigner=t,this.newAccountPrivateKey=n,this.newSpendingPublicKey=r,this.recoveryPublicKey=i,this.deposit=s,this.fee=a,this.depositor=o,this.core=l,this.txIds=[],this.requireDeposit=!!this.publicInput.value}async createProof(e){const t=this.requireDeposit?kf():0;this.requireDeposit&&await super.createProof(t,e);const n=this.userSigner.getPublicKey(),r=await this.core.createAccountProofInput(this.userId,n,!0,void 0,this.newSpendingPublicKey,this.recoveryPublicKey,this.newAccountPrivateKey);r.signature=await this.userSigner.signMessage(r.signingData),this.proofOutput=await this.core.createAccountProof(r,t,e)}exportProofTxs(){return this.getProofOutputs().map(Vf)}async send(){const e=await this.core.derivePublicKey(this.newAccountPrivateKey);if(!await this.core.userExists(e))throw new Error("Add the new account to the sdk first.");const t=this.getProofOutputs();return this.txIds=await this.core.sendProofs(t),this.txIds[0]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}getProofOutputs(){if(!this.proofOutput)throw new Error("Call createProof() first.");const e=[this.proofOutput];return this.requireDeposit&&e.push(super.getProofOutput()),e}}class Yf extends $f{constructor(e,t,n,r=qe.ZERO,i,s,a){const{recoveryData:{accountPublicKey:o}}=e;super(t,n,r,o,!0,i,s,a),this.recoveryPayload=e,this.deposit=t,this.fee=n,this.depositor=r,this.core=i,this.txIds=[],this.requireDeposit=!!this.publicInput.value}async createProof(e){const t=this.requireDeposit?kf():0;this.requireDeposit&&await super.createProof(t,e);const{trustedThirdPartyPublicKey:n,recoveryPublicKey:r,recoveryData:{accountPublicKey:i,signature:s}}=this.recoveryPayload,a=await this.core.createAccountProofInput(i,r,!1,void 0,n,void 0,void 0);a.signature=s,this.proofOutput=await this.core.createAccountProof(a,t,e)}exportProofTxs(){return this.getProofOutputs().map(Vf)}async send(){const e=this.getProofOutputs();return this.txIds=await this.core.sendProofs(e),this.txIds[0]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}getProofOutputs(){if(!this.proofOutput)throw new Error("Call createProof() first.");const e=[this.proofOutput];return this.requireDeposit&&e.push(super.getProofOutput()),e}}class zf{constructor(e,t,n){this.schnorr=e,this.publicKey=t,this.privateKey=n}getPublicKey(){return this.publicKey}signMessage(e){return Promise.resolve(this.schnorr.constructSignature(e,this.privateKey))}}class Uf extends $f{constructor(e,t,n,r,i,s,a,o=qe.ZERO,l,c,d){super(s,a,o,e,!0,l,c,d),this.userId=e,this.alias=t,this.accountPrivateKey=n,this.spendingPublicKey=r,this.recoveryPublicKey=i,this.deposit=s,this.fee=a,this.depositor=o,this.core=l,this.txIds=[],this.requireDeposit=!!this.publicInput.value}async createProof(e){const t=await this.core.derivePublicKey(this.accountPrivateKey);if(!t.equals(this.userId))throw new Error("`accountPrivateKey` does not belong to the user.");const n=this.requireDeposit?kf():0;this.requireDeposit&&await super.createProof(n,e);const r=await this.core.createAccountProofInput(this.userId,t,!1,this.alias,this.spendingPublicKey,this.recoveryPublicKey,void 0),i=new zf(this.core,t,this.accountPrivateKey);r.signature=await i.signMessage(r.signingData),this.proofOutput=await this.core.createAccountProof(r,n,e)}exportProofTxs(){return this.getProofOutputs().map(Vf)}async send(){if(!await this.core.userExists(this.userId))throw new Error("Add the user to the sdk first.");const e=this.getProofOutputs();return this.txIds=await this.core.sendProofs(e),this.txIds[0]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutput?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}getProofOutputs(){if(!this.proofOutput)throw new Error("Call createProof() first.");const e=[this.proofOutput];return this.requireDeposit&&e.push(super.getProofOutput()),e}}class qf{constructor(e,t,n,r,i,s,a){if(this.userId=e,this.userSigner=t,this.assetValue=n,this.fee=r,this.recipient=i,this.recipientSpendingKeyRequired=s,this.core=a,this.proofOutputs=[],this.feeProofOutputs=[],this.txIds=[],!n.value)throw new Error("Value must be greater than 0.");this.requireFeePayingTx=!!r.value&&r.assetId!==n.assetId}async createProof(e){const{assetId:t,value:n}=this.assetValue,r=n+(this.requireFeePayingTx?BigInt(0):this.fee.value),i=this.userSigner.getPublicKey(),s=await this.core.createPaymentProofInputs(this.userId,t,BigInt(0),BigInt(0),r,n,BigInt(0),this.recipient,this.recipientSpendingKeyRequired,void 0,i,2),a=this.requireFeePayingTx||s.length>1?kf():0;if(this.requireFeePayingTx){const t=!i.equals(this.userId),n=await this.core.createPaymentProofInputs(this.userId,this.fee.assetId,BigInt(0),BigInt(0),this.fee.value,BigInt(0),BigInt(0),this.userId,t,void 0,i,2);this.feeProofOutputs=[];for(const t of n)t.signature=await this.userSigner.signMessage(t.signingData),this.feeProofOutputs.push(await this.core.createPaymentProof(t,a,e))}{const t=[];for(const n of s)n.signature=await this.userSigner.signMessage(n.signingData),t.push(await this.core.createPaymentProof(n,a,e));this.proofOutputs=t}}exportProofTxs(){if(!this.proofOutputs.length)throw new Error("Call createProof() first.");return[...this.proofOutputs,...this.feeProofOutputs].map(Vf)}async send(){if(!this.proofOutputs.length)throw new Error("Call createProof() first.");return this.txIds=await this.core.sendProofs([...this.proofOutputs,...this.feeProofOutputs]),this.txIds[this.proofOutputs.length-1]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutputs.length?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutputs.length?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}}class Hf{constructor(e,t,n,r,i,s){if(this.userId=e,this.userSigner=t,this.assetValue=n,this.fee=r,this.recipient=i,this.core=s,this.proofOutputs=[],this.feeProofOutputs=[],this.txIds=[],!n.value)throw new Error("Value must be greater than 0.");this.requireFeePayingTx=!!r.value&&r.assetId!==n.assetId}async createProof(e){const{assetId:t,value:n}=this.assetValue,r=n+(this.requireFeePayingTx?BigInt(0):this.fee.value),i=this.userSigner.getPublicKey(),s=!i.equals(this.userId),a=await this.core.createPaymentProofInputs(this.userId,t,BigInt(0),n,r,BigInt(0),BigInt(0),this.userId,s,this.recipient,i,2),o=this.requireFeePayingTx||a.length>1?kf():0;if(this.requireFeePayingTx){const t=await this.core.createPaymentProofInputs(this.userId,this.fee.assetId,BigInt(0),BigInt(0),this.fee.value,BigInt(0),BigInt(0),this.userId,s,void 0,i,2);this.feeProofOutputs=[];for(const n of t)n.signature=await this.userSigner.signMessage(n.signingData),this.feeProofOutputs.push(await this.core.createPaymentProof(n,o,e))}{const t=[];for(const n of a)n.signature=await this.userSigner.signMessage(n.signingData),t.push(await this.core.createPaymentProof(n,o,e));this.proofOutputs=t}}exportProofTxs(){if(!this.proofOutputs.length)throw new Error("Call createProof() first.");return[...this.proofOutputs,...this.feeProofOutputs].map(Vf)}async send(){if(!this.proofOutputs.length)throw new Error("Call createProof() first.");return this.txIds=await this.core.sendProofs([...this.proofOutputs,...this.feeProofOutputs]),this.txIds[this.proofOutputs.length-1]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.proofOutputs.length?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.proofOutputs.length?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}}class Kf{constructor(e,t,n,r,i){if(this.userId=e,this.userSigner=t,this.proofTxs=n,this.fee=r,this.core=i,this.feeProofOutputs=[],this.txIds=[],!r.value)throw new Error("Fee cannot be 0.")}async createProof(e){const t=this.userSigner.getPublicKey(),n=!t.equals(this.userId),r=await this.core.createPaymentProofInputs(this.userId,this.fee.assetId,BigInt(0),BigInt(0),this.fee.value,BigInt(0),BigInt(0),this.userId,n,void 0,t,2),i=r.length>1?kf():0;this.feeProofOutputs=[];for(const t of r)t.signature=await this.userSigner.signMessage(t.signingData),this.feeProofOutputs.push(await this.core.createPaymentProof(t,i,e))}exportProofTxs(){if(!this.feeProofOutputs.length)throw new Error("Call createProof() first.");return this.feeProofOutputs.map(Vf)}async send(){if(!this.feeProofOutputs.length)throw new Error("Call createProof() first.");return this.txIds=await this.core.sendProofs(this.feeProofOutputs,this.proofTxs),this.txIds[this.feeProofOutputs.length-1]}getTxIds(){if(!this.txIds.length)throw new Error(`Call ${this.feeProofOutputs.length?"send()":"createProof()"} first.`);return this.txIds}async awaitSettlement(e){if(!this.txIds.length)throw new Error(`Call ${this.feeProofOutputs.length?"send()":"createProof()"} first.`);await Promise.all(this.txIds.map((t=>this.core.awaitSettlement(t,e))))}}n(4116),n(7696);class Gf{constructor(e){this.numPoints=e}async init(){const e=28+64*(this.numPoints+1)-1,t=await(0,de.fetch)("https://aztec-ignition.s3.amazonaws.com/MAIN%20IGNITION/sealed/transcript00.dat",{headers:{Range:`bytes=28-${e}`}});this.data=new Uint8Array(await t.arrayBuffer()),await this.downloadG2Data()}async downloadG2Data(){const e=await(0,de.fetch)("https://aztec-ignition.s3.amazonaws.com/MAIN%20IGNITION/sealed/transcript00.dat",{headers:{Range:"bytes=322560028-322560155"}});this.g2Data=new Uint8Array(await e.arrayBuffer())}getData(){return this.data}getG2Data(){return this.g2Data}}n(8842).Buffer;const jf=(e,t)=>{const n=e.inputNotes.reduce(((e,t)=>e+(t.value?1:0)),0),r=e.inputNotes[0].assetId,i=!e.inputNotes[0].owner.equals(e.spendingPublicKey);return new tn(e.proofId,e.publicValue,e.publicOwner,r,n,e.inputNotes.map((e=>e.index||0)),e.dataRoot,e.inputNotes.map((e=>nt.fromBuffer(e.hashPath))),e.inputNotes.map((e=>e.treeNote)),e.outputNotes.map((e=>e.treeNote)),e.claimNote,t,e.aliasHash,i,e.accountIndex,e.accountPath,e.spendingPublicKey,e.backwardLink,e.allowChain)};class Wf{constructor(e,t){this.paymentProofInputCreator=e,this.wasm=t}async createProofInputs({accountPublicKey:e,aliasHash:t,newAccountPublicKey:n,newSpendingPublicKey1:r,newSpendingPublicKey2:i,deposit:s,fee:a,depositor:o,inputNotes:l,spendingKeyAccount:c,dataRoot:d,allowChain:u},p){const f=await this.createAccountProofInput(e,t,n,r,i,c,d),y=(s.value||a.value)&&!o.equals(qe.ZERO);return[f,...y?await this.paymentProofInputCreator.createProofInputs({accountPublicKey:e,proofId:Xt.DEPOSIT,assetValue:s,fee:a,publicOwner:o,recipient:e,recipientSpendingKeyRequired:!0,inputNotes:l,spendingKeyAccount:{...c,spendingPublicKey:e.equals(n)?e:c.spendingPublicKey},dataRoot:d,allowChain:u,hideNoteCreator:!1},p):[],...a.value&&!y?await this.paymentProofInputCreator.createFeeProofInputs(e,a,l,c,d,u,p):[]]}async createAccountProofInput(e,t,n,r,i,{spendingPublicKey:s,accountIndex:a,accountPath:o},l){const c=e.equals(s),d=!n.equals(e),u=new ut(l,e,n||e,r||je.ZERO,i||je.ZERO,t,c,d,a,o,s);return{tx:u,signingData:await C(u,this.wasm)}}}class Zf{constructor(e,t){this.joinSplitTxInputCreator=e,this.paymentProofInputCreator=t}async createProofInputs({accountPublicKey:e,bridgeCallData:t,assetValue:n,fee:r,inputNotes:i,spendingKeyAccount:s,dataRoot:a,allowChain:o},l){const c=i.filter((e=>e.assetId===t.inputAssetIdA)),d=i.filter((e=>e.assetId===t.inputAssetIdB)),u=2===t.numInputAssets,p=!!r.value&&r.assetId!==t.inputAssetIdA,f=p?i.filter((e=>e.assetId===r.assetId)):[],y=[],m=[];{let t=n.value+(p?BigInt(0):r.value);const i=!u&&c.length>2?c.find((e=>!e.pending)):void 0;i&&(m.push(i),t-=i.value);const d=u||i?1:2,{proofInputs:f,outputNotes:h}=await this.createChainedProofInputs(e,c.filter((e=>e!==i)),t,d,s,a,o,l);y.push(...f),m.push(...h)}if(u){const t=1,{proofInputs:r,outputNotes:i}=await this.createChainedProofInputs(e,d,n.value,t,s,a,o,l);y.push(...r),m.push(...i)}const h=await this.createDefiProofInput(e,t,n.value,m,s,a,l),b=f.length?await this.paymentProofInputCreator.createFeeProofInputs(e,r,f,s,a,o,l):[];return[...y,h,...b]}async createChainedProofInputs(e,t,n,r,i,s,a,o){const l=[],c=[];if(t.length>2){const n=await this.joinSplitTxInputCreator.createChainedTxs(e,t[0].assetId,t,i,s,o);t=n.outputNotes,l.push(...n.proofInputs)}const d=t.reduce(((e,t)=>e+t.value),BigInt(0));if(d===n&&t.length<=r)c.push(...t);else{const r=!i.spendingPublicKey.equals(e),{tx:u,viewingKeys:p,signingData:f,outputNotes:[,y]}=await this.joinSplitTxInputCreator.createTx(e,Xt.SEND,t[0].assetId,BigInt(0),qe.ZERO,d-n,n,Vt.ZERO,BigInt(0),e,r,t,i,s,a?3:2,!1,o);l.push({tx:u,viewingKeys:p,signingData:f}),c.push(y)}return{proofInputs:l,outputNotes:c}}async createDefiProofInput(e,t,n,r,i,s,a){const o=t.inputAssetIdA,{tx:l,viewingKeys:c,partialStateSecretEphPubKey:d,signingData:u}=await this.joinSplitTxInputCreator.createTx(e,Xt.DEFI_DEPOSIT,o,BigInt(0),qe.ZERO,BigInt(0),BigInt(0),t,n,e,!1,r,i,s,0,!1,a);return{tx:l,viewingKey:c[0],partialStateSecretEphPubKey:d,signingData:u}}}var Jf=n(8842).Buffer;class Xf{constructor(e,t,n){this.noteAlgos=e,this.grumpkin=t,this.pedersen=n}async createTx(e,t,n,r,i,s,a,o,l,c,d,u,{spendingPublicKey:p,aliasHash:f,accountIndex:y,accountPath:m},h,b,g,_){if(u.length>2)throw new Error("Cannot create a proof with more than 2 input notes.");if(u.reduce(((e,t)=>e+(t.allowChain?1:0)),0)>1)throw new Error("Cannot chain from more than one pending note.");const T=!p.equals(e),I=[...u];for(let t=I.length;t<2;++t)I.push(await this.createGibberishNote(e,T,n,_));const v=nt.ZERO(Wp.DATA_TREE_DEPTH,it.ZERO_ELEMENT,this.pedersen).toBuffer(),S=I.map((e=>e.hashPath?e:new pf(e.treeNote,e.commitment,e.nullifier,e.allowChain,e.nullified,e.index,v))),D=[await this.createNote(n,s,c,d,I[0].nullifier,ln.allowChainFromNote1(b),g?je.ZERO:e,_),await this.createNote(n,a,e,T,I[1].nullifier,ln.allowChainFromNote2(b),g?je.ZERO:e,_)],w=t===Xt.DEFI_DEPOSIT?this.createClaimNote(o,l,e,I[0].nullifier):{note:Ot.EMPTY,ephPubKey:je.ZERO},E=1+u.findIndex((e=>e.allowChain)),A=E?u[E-1].commitment:Jf.alloc(32),P={proofId:t,publicValue:r,publicOwner:i,inputNotes:S,outputNotes:D.map((e=>e.note)),claimNote:w.note,spendingPublicKey:p,aliasHash:f,accountIndex:y,accountPath:m,dataRoot:h,backwardLink:A,allowChain:b},C=t===Xt.DEFI_DEPOSIT?[D[1].viewingKey]:[D[0].viewingKey,D[1].viewingKey],x=await _.createJoinSplitProofSigningData(P);return{tx:P,viewingKeys:C,partialStateSecretEphPubKey:w.ephPubKey,signingData:x,outputNotes:D.map((e=>e.note))}}async createChainedTxs(e,t,n,r,i,s){if(n.length<=2)throw new Error(`Can only merge 3 or more notes. Got ${n.length}.`);const a=n.filter((e=>!e.pending));let o=n.find((e=>e.pending))||a.shift();const l=a.pop(),c=[];for(const n of a){const a=[o,n],l=a.reduce(((e,t)=>e+t.value),BigInt(0)),{tx:d,viewingKeys:u,signingData:p,outputNotes:f}=await this.createTx(e,Xt.SEND,t,BigInt(0),qe.ZERO,BigInt(0),l,Vt.ZERO,BigInt(0),je.generator(),!1,a,r,i,2,!1,s);c.push({tx:d,viewingKeys:u,signingData:p}),o=f[1]}return{proofInputs:c,outputNotes:[o,l]}}async createGibberishNote(e,t,n,r){const i=jt.createFromEphPriv(e,BigInt(0),n,t,xe(32),this.createEphemeralPrivKey(),this.grumpkin),s=this.noteAlgos.valueNoteCommitment(i),a=await r.computeValueNoteNullifier(s,!0);return new pf(i,s,a,!1,!1)}async createNote(e,t,n,r,i,s,a,o){const{ephPrivKey:l}=this.createEphemeralKeyPair(),c=jt.createFromEphPriv(n,t,e,r,i,l,this.grumpkin,a.x()),d=c.createViewingKey(l,this.grumpkin),u=this.noteAlgos.valueNoteCommitment(c),p=await o.computeValueNoteNullifier(u,!1);return{note:new pf(c,u,p,s,!1),viewingKey:d}}createClaimNote(e,t,n,r){const{ephPrivKey:i,ephPubKey:s}=this.createEphemeralKeyPair(),a=Dt(n,i,this.grumpkin);return{note:new Ot(t,e,a,r),ephPubKey:s}}createEphemeralPrivKey(){return this.grumpkin.getRandomFr()}createEphemeralKeyPair(){const e=this.grumpkin.getRandomFr();return{ephPrivKey:e,ephPubKey:new je(this.grumpkin.mul(Ke.generator,e))}}}class Qf{constructor(e){this.joinSplitTxInputCreator=e}async createProofInputs({accountPublicKey:e,proofId:t,assetValue:n,fee:r,publicOwner:i,recipient:s,recipientSpendingKeyRequired:a,inputNotes:o,spendingKeyAccount:l,dataRoot:c,allowChain:d,hideNoteCreator:u},p){const f=!l.spendingPublicKey.equals(e);if(f&&l.aliasHash.equals(Xe.ZERO))throw new Error("Spending key account not provided.");if(o.some((e=>e.treeNote.accountRequired!==f)))throw new Error(`Cannot spend notes with ${f?"account":"spending"} key.`);const y=o.filter((e=>e.assetId===n.assetId)),m=y.reduce(((e,t)=>e+t.value),BigInt(0));if(y.length&&t===Xt.DEPOSIT)throw new Error("Merging private balance with public balance is not supported.");const h=r.assetId!==n.assetId&&r.value&&n.value,b=h?o.filter((e=>e.assetId===r.assetId)):[];if(b.length&&t===Xt.DEPOSIT)throw new Error("Cannot pay fee with private asset for deposit.");const g=(()=>{switch(t){case Xt.DEPOSIT:return BigInt(0);case Xt.SEND:case Xt.WITHDRAW:return h?n.value:n.value+r.value}})();if(m<g)throw new Error("Provided notes are not enough to pay for the transaction.");const _=(()=>{switch(t){case Xt.DEPOSIT:return n.value+r.value;case Xt.SEND:return BigInt(0);case Xt.WITHDRAW:return n.value}})();if(_&&i.equals(qe.ZERO))throw new Error("Public owner undefined.");const T=(()=>{switch(t){case Xt.DEPOSIT:case Xt.SEND:return n.value;case Xt.WITHDRAW:return BigInt(0)}})();if(T&&s.equals(je.generator()))throw new Error("Recipient undefined.");const I=(()=>{switch(t){case Xt.DEPOSIT:return BigInt(0);case Xt.SEND:case Xt.WITHDRAW:return m>g?m-g:BigInt(0)}})();return[...await this.createChainedProofInputs(e,t,n.assetId,_,T,I,y,s,a,i,l,c,d,u,p),...h?await this.createFeeProofInputs(e,r,b,l,c,d,p):[]]}async createFeeProofInputs(e,t,n,r,i,s,a){const o=!r.spendingPublicKey.equals(e),l=n.reduce(((e,t)=>e+t.value),BigInt(0));if(l<t.value)throw new Error("Provided notes are not enough to pay for the fee.");return await this.createChainedProofInputs(e,Xt.SEND,t.assetId,BigInt(0),BigInt(0),l-t.value,n,e,o,qe.ZERO,r,i,s,!1,a)}async createChainedProofInputs(e,t,n,r,i,s,a,o,l,c,d,u,p,f,y){const m=[];let h=a;if(a.length>2){const t=await this.joinSplitTxInputCreator.createChainedTxs(e,n,a,d,u,y);h=t.outputNotes,m.push(...t.proofInputs)}const{tx:b,viewingKeys:g,signingData:_}=await this.joinSplitTxInputCreator.createTx(e,t,n,r,c||qe.ZERO,i,s,Vt.ZERO,BigInt(0),o||je.generator(),l,h,d,u,p?2:0,f,y);return m.push({tx:b,viewingKeys:g,signingData:_}),m}}class ey{constructor(e,t,n,r){const i=new Xf(e,t,n);this.paymentProofInputCreator=new Qf(i),this.accountProofInputCreator=new Wf(this.paymentProofInputCreator,r),this.defiProofInputCreator=new Zf(i,this.paymentProofInputCreator)}async createProofInputs(e,t){return Object.prototype.hasOwnProperty.call(e,"bridgeCallData")?await this.defiProofInputCreator.createProofInputs(e,t):Object.prototype.hasOwnProperty.call(e,"newAccountPublicKey")?await this.accountProofInputCreator.createProofInputs(e,t):await this.paymentProofInputCreator.createProofInputs(e,t)}}n(8842).Buffer;class ty{constructor(e,t,n,r,i){this.keyPair=e,this.grumpkin=t,this.noteAlgos=n,this.noteDecryptor=r,this.wasm=i}async computeValueNoteNullifier(e,t=!1){const n=await this.keyPair.getPrivateKey();return this.noteAlgos.valueNoteNullifier(e,n,!t)}async deriveNoteSecret(e){return Dt(e,await this.keyPair.getPrivateKey(),this.grumpkin)}async decryptViewingKeys(e){const t=await this.keyPair.getPrivateKey();return await wt(e,t,this.noteDecryptor,this.grumpkin)}async createJoinSplitProofSigningData(e){const t=await this.keyPair.getPrivateKey();return await ft(jf(e,t),this.wasm)}}const ny="cfccfbc872645f2125d15ee2aba9c556b485aab1";async function ry(e,t,n){await e.clientLog({...t,sdkVersion:ny}).catch((e=>n&&n("client log failed:",e)))}var iy=n(8842).Buffer;function sy(e){const t=[],n=[];for(let r=0;r<e.length;++r){const{alias:{aliasHash:i,address:s},signingKeys:{signingKey1:a,signingKey2:o}}=e[r],l=new je(s);t.push({accountPublicKey:l,aliasHash:new Xe(i),index:2*r}),n.push({userId:l,treeIndex:2*r,key:a,hashPath:iy.alloc(0)}),n.push({userId:l,treeIndex:2*r+1,key:o,hashPath:iy.alloc(0)})}return{aliases:t,spendingKeys:n}}var ay=n(8966),oy=n.n(ay);function ly(){return le()?oy().totalmem():navigator?navigator.deviceMemory:void 0}function cy(){return le()?oy().cpus().length:navigator.hardwareConcurrency}function dy(){const e=cy()||2;return t=Math.min(e,8),Math.pow(2,Math.floor(Math.log(t)/Math.log(2)));var t}class uy{constructor(e,t,n){this.publicKey=e,this.privateKey=t,this.schnorr=n}static random(e,t){const n=xe(32),r=new je(e.mul(Ke.generator,n));return new uy(r,n,t)}getPublicKey(){return this.publicKey}getPrivateKey(){return Promise.resolve(this.privateKey)}signMessage(e){return Promise.resolve(this.schnorr.constructSignature(e,this.privateKey))}}n(8842).Buffer;class py{constructor(){this.queue=new ce,this.queue.process((e=>e()))}length(){return this.queue.length()}cancel(){this.queue.cancel()}push(e){return new Promise(((t,n)=>{this.queue.put((async()=>{try{const n=await e();t(n)}catch(e){n(e)}}))}))}}const fy=b("bb:account_proof_creator");class yy{constructor(e){this.prover=e}async createProof(e,t,n,r){fy("creating proof...");const i=(new Date).getTime(),s=await this.prover.createAccountProof(e,t,r);fy(`created proof: ${(new Date).getTime()-i}ms`),fy(`proof size: ${s.length}`);const a=new ln(s),o=new In(a.txId),{aliasHash:l,newAccountPublicKey:c,newSpendingPublicKey1:d,newSpendingPublicKey2:u,migrate:p}=e;return{tx:new tf(o,c,l,d?.x(),u?.x(),p,n,new Date),proofData:a,offchainTxData:new ou(c,l,d?.x(),u?.x(),n)}}}const my=b("bb:defi_proof_creator");class hy{constructor(e,t){this.prover=e,this.noteAlgos=t}async createProof(e,t,n,r,i,s){my("creating proof...");const a=(new Date).getTime();e.signature=r;const o=await this.prover.createProof(e,s);my(`created proof: ${(new Date).getTime()-a}ms`),my(`proof size: ${o.length}`);const l=new ln(o),c=new In(l.txId),{outputNotes:d,claimNote:{value:u,bridgeCallData:p,partialStateSecret:f}}=e,y=F(l.txFee),{ownerPubKey:m,accountRequired:h}=d[1],b=this.noteAlgos.valueNotePartialCommitment(f,m,h);return{tx:new rf(c,m,p,u,y,i,new Date,b,f),proofData:l,offchainTxData:new fu(p,b,n,u,y,t,i)}}}const by=b("bb:payment_proof_creator");class gy{constructor(e){this.prover=e}async createProof(e,t,n,r,i){by("creating proof...");const s=(new Date).getTime();e.signature=n;const a=await this.prover.createProof(e,i);by(`created proof: ${(new Date).getTime()-s}ms`),by(`proof size: ${a.length}`);const o=new ln(a),l=new In(o.txId),{inputNotes:c,outputNotes:[d,u],proofId:p,publicValue:f,publicOwner:y}=e,m=c.reduce(((e,t)=>e+t.value),BigInt(0)),{value:h}=d,{assetId:b,value:g}=u,_=d.ownerPubKey,T=u.ownerPubKey,I=_.equals(T);return{tx:new sf(l,T,p,b,f,y,m,h,g,I,!0,r,new Date),proofData:o,offchainTxData:new bu(t,r)}}}var _y=n(8842).Buffer;class Ty{constructor(e,t,n,r,i,s){this.proverless=e,this.noteAlgos=t,this.pippenger=n,this.fftFactory=r,this.barretenberg=i,this.workerPool=s,this.serialQueue=new py,this.debug=b("bb:provers")}async destroy(){this.debug("destroying..."),await this.serialQueue.push((()=>Promise.resolve(this.serialQueue.cancel()))),this.debug("destroyed.")}async createProofs(e,t,n){return await this.serialQueue.push((async()=>{const r=e.length>1?xe(4).readUInt32BE(0):0,i=[];for(let s=0;s<e.length;++s){const a=e[s],o=t[s];Object.prototype.hasOwnProperty.call(a,"partialStateSecretEphPubKey")?i.push(await this.createDefiProof(a,o,r,n)):Object.prototype.hasOwnProperty.call(a,"viewingKeys")?i.push(await this.createPaymentProof(a,o,r,n)):i.push(await this.createAccountProof(a,o,r))}return i}))}async createPaymentProof({tx:e,viewingKeys:t},n,r,i,s=6e4){await this.createJoinSplitProofCreator(),await this.computeJoinSplitProvingKey(s);const a=await i.getPrivateKey();return{...await this.paymentProofCreator.createProof(jf(e,a),t,n,r,s),outputNotes:e.outputNotes}}async createAccountProof({tx:e},t,n,r=6e4){return await this.createAccountProofCreator(),await this.computeAccountProvingKey(r),{...await this.accountProofCreator.createProof(e,t,n,r),outputNotes:[]}}async createDefiProof({tx:e,viewingKey:t,partialStateSecretEphPubKey:n},r,i,s,a=6e4){await this.createJoinSplitProofCreator(),await this.computeJoinSplitProvingKey(a);const o=await s.getPrivateKey();return{...await this.defiProofCreator.createProof(jf(e,o),t,n,r,i,a),outputNotes:e.outputNotes}}async getCrsData(e){this.debug("downloading crs data...");const t=new Gf(e);return await t.init(),this.debug("done."),_y.from(t.getData())}async initProvers(){if(this.accountProofCreator)return;const e=Math.max(mt.getCircuitSize(),N.getCircuitSize()),t=await this.getCrsData(e);await this.pippenger.init(t),await this.createJoinSplitProofCreator(),await this.createAccountProofCreator()}async createJoinSplitProofCreator(){if(this.defiProofCreator)return;const e=await this.fftFactory.createFft(mt.getCircuitSize(this.proverless)),t=new yn(this.workerPool?this.workerPool.workers[0]:this.barretenberg,this.pippenger,e);this.joinSplitProver=new mt(t,this.proverless),this.paymentProofCreator=new gy(this.joinSplitProver),this.defiProofCreator=new hy(this.joinSplitProver,this.noteAlgos)}async createAccountProofCreator(){if(this.accountProofCreator)return;const e=await this.fftFactory.createFft(N.getCircuitSize(this.proverless)),t=new yn(this.workerPool?this.workerPool.workers[0]:this.barretenberg,this.pippenger,e);this.accountProver=new N(t,this.proverless),this.accountProofCreator=new yy(this.accountProver)}async computeJoinSplitProvingKey(e){this.debug("release account proving key..."),await(this.accountProver?.releaseKey()),this.debug("computing join-split proving key..."),await this.joinSplitProver.computeKey(e),this.debug("done.")}async computeAccountProvingKey(e){this.debug("release join-split proving key..."),await(this.joinSplitProver?.releaseKey()),this.debug("computing account proving key..."),await this.accountProver.computeKey(e),this.debug("done.")}}const Iy=async({assetId:e,value:t},n,r,i,s)=>{const a=!!n.value&&n.assetId!==e,o=t+(a?BigInt(0):n.value),l=o?await i.pickNotes(e,o,r):[];if(o&&!l.length)throw new Error(`Failed to find notes for asset ${e} that sum to ${o}.`);const c=a?await i.pickNotes(n.assetId,n.value,r):[];if(a&&!c.length)throw new Error(`Failed to find notes for asset ${n.assetId} that sum to ${n.value}.`);return await Promise.all([...l,...c].map((e=>mf(e,s))))},vy=async(e,t,n,r)=>{if(e.equals(t)||e.equals(je.ZERO))return{spendingPublicKey:t,aliasHash:Xe.ZERO,accountIndex:0,accountPath:n.buildZeroHashPath(Wp.DATA_TREE_DEPTH)};{const i=(await r.getAlias(t))?.aliasHash;if(!i)throw new Error("Account not registered or not fully synced.");const s=await r.getSpendingKey(t,e);if(void 0===s)throw new Error("Unknown spending key.");const a=nt.fromBuffer(s.hashPath),o=s.treeIndex;return{spendingPublicKey:e,aliasHash:i,accountIndex:o,accountPath:await n.buildFullHashPath(o,a)}}};class Sy{constructor(e,t,n){this.worldState=e,this.db=t,this.blake2s=n}async createPaymentProofRequestData(e,t,n,r,i,s,a,o,l,c={}){const d=!n.equals(t)||n.equals(je.ZERO);return{accountPublicKey:t,proofId:e,assetValue:r,fee:i,publicOwner:s,recipient:a,recipientSpendingKeyRequired:o,inputNotes:l?await Iy(r,i,{...c,spendingKeyRequired:d},l,this.worldState):[],spendingKeyAccount:await vy(n,t,this.worldState,this.db),dataRoot:this.worldState.getRoot(),allowChain:c.allowChain??e!==Xt.DEPOSIT,hideNoteCreator:c.hideNoteCreator??!1}}async createAccountProofRequestData(e,t,n,r,i,s,a,o,l,c,d={}){if(a.value&&o.value&&a.assetId!==o.assetId)throw new Error("Inconsistent asset ids.");const u=n?Xe.fromAlias(n,this.blake2s):(await this.db.getAlias(e))?.aliasHash;if(!u)throw new Error("Provide an alias or wait for the account to be fully synced.");const p=(l.equals(qe.ZERO)?BigInt(0):a.value+o.value)?BigInt(0):o.value;return{accountPublicKey:e,alias:n,aliasHash:u,newAccountPublicKey:r,newSpendingPublicKey1:i,newSpendingPublicKey2:s,deposit:a,fee:o,depositor:l,inputNotes:p&&c?await Iy({value:p,assetId:o.assetId},o,{...d,spendingKeyRequired:!0},c,this.worldState):[],spendingKeyAccount:await vy(t,e,this.worldState,this.db),dataRoot:this.worldState.getRoot(),allowChain:d.allowChain??!!p}}async createDefiProofRequestData(e,t,n,r,i,s,a={}){const o=!t.equals(e)||t.equals(je.ZERO),l=s?await(async(e,{value:t},n,r,i,s)=>{const a=!!n.value&&n.assetId!==e.inputAssetIdA,o=a?await i.pickNotes(n.assetId,n.value,r):[];let l=[],c=[],d=!1;const u=2===e.numInputAssets;if(u){const n=e.inputAssetIdB,s=await i.pickNote(n,t,r);if(c=s?[s]:await i.pickNotes(n,t,r),!c.length)throw new Error(`Failed to find notes of asset ${n} that sum to ${t}.`);d=c.length>1||c[0].value!==t}{const s=e.inputAssetIdA,o=t+(a?BigInt(0):n.value),p={...r,excludePendingNotes:d||c.some((e=>e.pending))},f=u?await i.pickNote(s,o,p):void 0;if(l=f?[f]:await i.pickNotes(s,o,p),!l.length)throw new Error(`Failed to find notes of asset ${s} that sum to ${o}.`);if((l.reduce(((e,t)=>e+t.value),BigInt(0))>o||l.length>2||u&&l.length>1)&&d)throw new Error(`Cannot find a note with the exact value for asset ${s}. Require ${o}.`)}return await Promise.all([...l,...c,...o].map((e=>mf(e,s))))})(n,r,i,{...a,spendingKeyRequired:o},s,this.worldState):[];return{accountPublicKey:e,bridgeCallData:n,assetValue:r,fee:i,inputNotes:l,spendingKeyAccount:await vy(t,e,this.worldState,this.db),dataRoot:this.worldState.getRoot(),allowChain:a.allowChain??!0}}}class Dy{constructor(e,t,n=5e3,r=2e3,i=2e3){this.db=e,this.name=t,this.timeout=n,this.tryLockInterval=r,this.pingInterval=i,this.id=0}async lock(e=!0){for(;;){if(await this.db.acquireLock(this.name,this.timeout)){const e=this.id;return this.pingTimeout=setTimeout((()=>this.ping(e)),this.pingInterval),!0}if(!e)return!1;await new Promise((e=>setTimeout(e,this.tryLockInterval)))}}async unlock(){clearTimeout(this.pingTimeout),this.id++,await this.db.releaseLock(this.name)}async ping(e){e===this.id&&(await this.db.extendLock(this.name,this.timeout),this.pingTimeout=setTimeout((()=>this.ping(e)),this.pingInterval))}}class wy{constructor(e,t,n=5e3,r=2e3,i=2e3){this.queue=new ce,this.queue.process((e=>e())),this.mutex=new Dy(e,t,n,r,i)}length(){return this.queue.length()}cancel(){this.queue.cancel()}push(e){return new Promise(((t,n)=>{this.queue.put((async()=>{await this.mutex.lock();try{const n=await e();t(n)}catch(e){n(e)}finally{await this.mutex.unlock()}}))}))}}class Ey{constructor(e,t=1e3){this.fn=e,this.expireAfter=t,this.validUntil=0,this.serialQueue=new py}async get(){return await this.serialQueue.push((async()=>(Date.now()>this.validUntil&&(this.res=await this.fn()),this.validUntil=Date.now()+this.expireAfter,this.res)))}clearCache(){this.validUntil=0}}class Ay{constructor(){this.queue=new ce}start(){this.runningPromise=this.queue.process((e=>e()))}length(){return this.queue.length()}cancel(){return this.queue.cancel(),this.runningPromise}end(){return this.queue.end(),this.runningPromise}put(e){return new Promise(((t,n)=>{this.queue.put((async()=>{try{const n=await e();t(n)}catch(e){n(e)}}))}))}async syncPoint(){await this.put((async()=>{}))}}class Py{constructor(e){this.queue=new Ay,this.semaphore=new Cp(e)}start(){this.queue.start()}length(){return this.queue.length()}cancel(){return this.queue.cancel()}end(){return this.queue.end()}async put(e){await this.semaphore.acquire(),this.queue.put((async()=>{try{await e()}finally{this.semaphore.release()}})).catch((e=>{console.error("BoundedSerialQueue handler exception:",e)}))}async exec(e){return await this.semaphore.acquire(),this.queue.put((async()=>{try{return await e()}finally{this.semaphore.release()}}))}async syncPoint(){await this.queue.syncPoint()}}const Cy=e=>e.reduce(((e,{value:t})=>e+t),BigInt(0));class xy{constructor(e=[]){const t=e.filter((e=>!e.pending||e.allowChain));this.sortedNotes={pendingAreLower:this.sortNotes(t,!0),pendingAreHigher:this.sortNotes(t,!1)}}pick(e,{excludedNullifiers:t,excludePendingNotes:n,spendingKeyRequired:r}={}){const i=this.filterByOptions(this.getSortedNotes(!0),{excludedNullifiers:t,excludePendingNotes:n,spendingKeyRequired:r});let s=this.findMinimumNotes(e,i);if(!s)return[];1===s&&(s=2);let a=this.getMaxSpendableNotes(t,n,r,s).reverse();a=this.reducePickedNotesValues(a,e,{excludedNullifiers:t,excludePendingNotes:n,spendingKeyRequired:r});const o=a.find((t=>t.value===e));return o?[o]:a}reducePickedNotesValues(e,t,n){const r=e.slice(),i=this.filterByOptions(this.getSortedNotes(!1),n);let s=0n,a=[],o=[],l=!1;for(let e=0;e<r.length;e++){const n=r[e];s=Cy(r)-t,a=r.map((e=>e.nullifier)),o=i.filter((e=>!a.includes(e.nullifier))),l=r.some((e=>e.pending));const c=n.value-s,d=o.findIndex((e=>e.value>=c&&e.value<n.value&&(!e.pending||!l||n.pending)));if(-1===d)return r;const u=o[d];r[e]=u}return r}findMinimumNotes(e,t){let n=0,r=0n,i=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if((!a.pending||!i)&&(n++,r+=a.value,i=i||a.pending,r>=e))return n}return 0}pickOne(e,t={}){return this.filterByOptions(this.getSortedNotes(!1),t).find((t=>t.value>=e))}getSum(){return Cy(this.getSortedNotes().filter((e=>!e.pending)))}getSpendableNoteValues(e={}){return this.filterByOptions(this.getSortedNotes(!0),e).map((e=>e.value))}getMaxSpendableNoteValues({excludedNullifiers:e,excludePendingNotes:t,spendingKeyRequired:n,numNotes:r}={}){return this.getMaxSpendableNotes(e,t,n,r).map((e=>e.value))}getMaxSpendableNotes(e=[],t=!1,n=!1,r){const i=this.filterByOptions(this.getSortedNotes(!0),{excludedNullifiers:e,excludePendingNotes:t,spendingKeyRequired:n});let s=!1;const a=[];for(const e of i.reverse())if(e.pending&&s||(a.push(e),s=s||e.pending),a.length===r)return a;return a}getSortedNotes(e=!1){return e?this.sortedNotes.pendingAreLower:this.sortedNotes.pendingAreHigher}sortNotes(e,t){return e.slice().sort(((e,n)=>{if(e.value<n.value)return-1;if(e.value>n.value)return 1;const r=Number(e.pending)-Number(n.pending);return t?-r:r}))}filterByOptions(e,{excludedNullifiers:t=[],excludePendingNotes:n=!1,spendingKeyRequired:r=!1}={}){return e.filter((e=>!t.some((t=>t.equals(e.nullifier)))&&(!n||!e.pending)&&(r?e.ownerAccountRequired:!e.ownerAccountRequired)))}}var Ny=function(){return Ny=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ny.apply(this,arguments)};function Ry(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}var Ly=Object.keys,Vy=Array.isArray,ky="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function By(e,t){return"object"!=typeof t||Ly(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||ky.Promise||(ky.Promise=Promise);var Oy=Object.getPrototypeOf,$y={}.hasOwnProperty;function Fy(e,t){return $y.call(e,t)}function My(e,t){"function"==typeof t&&(t=t(Oy(e))),Ly(t).forEach((function(n){zy(e,n,t[n])}))}var Yy=Object.defineProperty;function zy(e,t,n,r){Yy(e,t,By(n&&Fy(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Uy(e){return{from:function(t){return e.prototype=Object.create(t.prototype),zy(e.prototype,"constructor",e),{extend:My.bind(null,e.prototype)}}}}var qy=Object.getOwnPropertyDescriptor;function Hy(e,t){var n;return qy(e,t)||(n=Oy(e))&&Hy(n,t)}var Ky=[].slice;function Gy(e,t,n){return Ky.call(e,t,n)}function jy(e,t){return t(e)}function Wy(e){if(!e)throw new Error("Assertion Failed")}function Zy(e){ky.setImmediate?setImmediate(e):setTimeout(e,0)}function Jy(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function Xy(e,t){if(Fy(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var s=Xy(e,t[r]);n.push(s)}return n}var a=t.indexOf(".");if(-1!==a){var o=e[t.substr(0,a)];return void 0===o?void 0:Xy(o,t.substr(a+1))}}function Qy(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Wy("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)Qy(e,t[r],n[r])}else{var s=t.indexOf(".");if(-1!==s){var a=t.substr(0,s),o=t.substr(s+1);if(""===o)void 0===n?Vy(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l||(l=e[a]={}),Qy(l,o,n)}}else void 0===n?Vy(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function em(e){var t={};for(var n in e)Fy(e,n)&&(t[n]=e[n]);return t}var tm=[].concat;function nm(e){return tm.apply([],e)}var rm="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(nm([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return ky[e]})),im=rm.map((function(e){return ky[e]})),sm=Jy(rm,(function(e){return[e,!0]}));function am(e){if(!e||"object"!=typeof e)return e;var t;if(Vy(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(am(e[n]))}else if(im.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)Fy(e,i)&&(t[i]=am(e[i]));return t}var om={}.toString;function lm(e){return om.call(e).slice(8,-1)}var cm=function(e,t){return"Array"===t?""+e.map((function(e){return cm(e,lm(e))})):"ArrayBuffer"===t?""+new Uint8Array(e):"Date"===t?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function dm(e,t,n,r){return n=n||{},r=r||"",Ly(e).forEach((function(i){if(Fy(t,i)){var s=e[i],a=t[i];if("object"==typeof s&&"object"==typeof a&&s&&a){var o=lm(s),l=lm(a);o===l?sm[o]?cm(s,o)!==cm(a,l)&&(n[r+i]=t[i]):dm(s,a,n,r+i+"."):n[r+i]=t[i]}else s!==a&&(n[r+i]=t[i])}else n[r+i]=void 0})),Ly(t).forEach((function(i){Fy(e,i)||(n[r+i]=t[i])})),n}var um="undefined"!=typeof Symbol&&Symbol.iterator,pm=um?function(e){var t;return null!=e&&(t=e[um])&&t.apply(e)}:function(){return null},fm={};function ym(e){var t,n,r,i;if(1===arguments.length){if(Vy(e))return e.slice();if(this===fm&&"string"==typeof e)return[e];if(i=pm(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var mm="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},hm="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bm(e,t){hm=e,gm=t}var gm=function(){return!0},_m=!new Error("").stack;function Tm(){if(_m)try{throw new Error}catch(e){return e}return new Error}function Im(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(gm).map((function(e){return"\n"+e})).join("")):""}var vm=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Sm=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(vm),Dm={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function wm(e,t){this._e=Tm(),this.name=e,this.message=t}function Em(e,t){return e+". Errors: "+Object.keys(t).map((function(e){return t[e].toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}function Am(e,t,n,r){this._e=Tm(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Em(e,t)}function Pm(e,t){this._e=Tm(),this.name="BulkError",this.failures=t,this.message=Em(e,t)}Uy(wm).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Im(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Uy(Am).from(wm),Uy(Pm).from(wm);var Cm=Sm.reduce((function(e,t){return e[t]=t+"Error",e}),{}),xm=wm,Nm=Sm.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=Tm(),this.name=n,e?"string"==typeof e?(this.message=e+(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Dm[t]||n,this.inner=null)}return Uy(r).from(xm),e[t]=r,e}),{});Nm.Syntax=SyntaxError,Nm.Type=TypeError,Nm.Range=RangeError;var Rm=vm.reduce((function(e,t){return e[t+"Error"]=Nm[t],e}),{}),Lm=Sm.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Nm[t]),e}),{});function Vm(){}function km(e){return e}function Bm(e,t){return null==e||e===km?t:function(n){return t(e(n))}}function Om(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function $m(e,t){return e===Vm?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Om(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Om(i,this.onerror):i),void 0!==s?s:n}}function Fm(e,t){return e===Vm?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Om(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Om(r,this.onerror):r)}}function Mm(e,t){return e===Vm?t:function(n){var r=e.apply(this,arguments);By(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Om(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Om(s,this.onerror):s),void 0===r?void 0===a?void 0:a:By(r,a)}}function Ym(e,t){return e===Vm?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function zm(e,t){return e===Vm?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then((function(){return t.apply(r,s)}))}return t.apply(this,arguments)}}Lm.ModifyError=Am,Lm.DexieError=wm,Lm.BulkError=Pm;var Um={},qm="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}(),Hm=qm[0],Km=qm[1],Gm=qm[2],jm=Km&&Km.then,Wm=Hm&&Hm.constructor,Zm=!!Gm,Jm=!1,Xm=Gm?function(){Gm.then(Ih)}:ky.setImmediate?setImmediate.bind(null,Ih):ky.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Ih(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Ih,0)},Qm=function(e,t){lh.push([e,t]),th&&(Xm(),th=!1)},eh=!0,th=!0,nh=[],rh=[],ih=null,sh=km,ah={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Hh,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Hh(e[0],e[1])}catch(e){}}))}},oh=ah,lh=[],ch=0,dh=[];function uh(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Vm,this._lib=!1;var t=this._PSD=oh;if(hm&&(this._stackHolder=Tm(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Um)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&mh(this,this._value))}this._state=null,this._value=null,++t.ref,yh(this,e)}var ph={get:function(){var e=oh,t=Nh;function n(n,r){var i=this,s=!e.global&&(e!==oh||t!==Nh);s&&kh();var a=new uh((function(t,a){bh(i,new fh(zh(n,e,s),zh(r,e,s),t,a,e))}));return hm&&Th(a,this),a}return n.prototype=Um,n},set:function(e){zy(this,"then",e&&e.prototype===Um?ph:{get:function(){return e},set:ph.set})}};function fh(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function yh(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&vh();t&&"function"==typeof t.then?yh(e,(function(e,n){t instanceof uh?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,hh(e)),n&&Sh()}}),mh.bind(null,e))}catch(t){mh(e,t)}}function mh(e,t){if(rh.push(t),null===e._state){var n=e._lib&&vh();t=sh(t),e._state=!1,e._value=t,hm&&null!==t&&"object"==typeof t&&!t._promise&&function(n,r,i){try{(function(){var n=Hy(t,"stack");t._promise=e,zy(t,"stack",{get:function(){return Jm?n&&(n.get?n.get.apply(t):n.value):e.stack}})}).apply(null,void 0)}catch(e){}}(),function(e){nh.some((function(t){return t._value===e._value}))||nh.push(e)}(e),hh(e),n&&Sh()}}function hh(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)bh(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===ch&&(++ch,Qm((function(){0==--ch&&Dh()}),[]))}function bh(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ch,Qm(gh,[n,e,t])}else e._listeners.push(t)}function gh(e,t,n){try{ih=t;var r,i=t._value;t._state?r=e(i):(rh.length&&(rh=[]),r=e(i),-1===rh.indexOf(i)&&function(e){for(var t=nh.length;t;)if(nh[--t]._value===e._value)return void nh.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{ih=null,0==--ch&&Dh(),--n.psd.ref||n.psd.finalize()}}function _h(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,s,a=e._value;null!=a?(i=a.name||"Error",s=a.message||a,r=Im(a,0)):(i=a,s=""),t.push(i+(s?": "+s:"")+r)}return hm&&((r=Im(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&_h(e._prev,t,n)),t}function Th(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ih(){vh()&&Sh()}function vh(){var e=eh;return eh=!1,th=!1,e}function Sh(){var e,t,n;do{for(;lh.length>0;)for(e=lh,lh=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(lh.length>0);eh=!0,th=!0}function Dh(){var e=nh;nh=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=dh.slice(0),n=t.length;n;)t[--n]()}function wh(e){return new uh(Um,!1,e)}function Eh(e,t){var n=oh;return function(){var r=vh(),i=oh;try{return Fh(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Fh(i,!1),r&&Sh()}}}My(uh.prototype,{then:ph,_then:function(e,t){bh(this,new fh(null,null,e,t,oh))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):wh(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):wh(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),wh(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{Jm=!0;var e=_h(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Jm=!1}}},timeout:function(e,t){var n=this;return e<1/0?new uh((function(r,i){var s=setTimeout((function(){return i(new Nm.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&zy(uh.prototype,Symbol.toStringTag,"Dexie.Promise"),ah.env=Mh(),My(uh,{all:function(){var e=ym.apply(null,arguments).map(Bh);return new uh((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,s){return uh.resolve(i).then((function(n){e[s]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof uh)return e;if(e&&"function"==typeof e.then)return new uh((function(t,n){e.then(t,n)}));var t=new uh(Um,!0,e);return Th(t,ih),t},reject:wh,race:function(){var e=ym.apply(null,arguments).map(Bh);return new uh((function(t,n){e.map((function(e){return uh.resolve(e).then(t,n)}))}))},PSD:{get:function(){return oh},set:function(e){return oh=e}},newPSD:Lh,usePSD:Yh,scheduler:{get:function(){return Qm},set:function(e){Qm=e}},rejectionMapper:{get:function(){return sh},set:function(e){sh=e}},follow:function(e,t){return new uh((function(n,r){return Lh((function(t,n){var r=oh;r.unhandleds=[],r.onunhandled=n,r.finalize=Om((function(){var e=this;dh.push((function r(){0===e.unhandleds.length?t():n(e.unhandleds[0]),dh.splice(dh.indexOf(r),1)})),++ch,Qm((function(){0==--ch&&Dh()}),[])}),r.finalize),e()}),t,n,r)}))}}),Wm&&(Wm.allSettled&&zy(uh,"allSettled",(function(){var e=ym.apply(null,arguments).map(Bh);return new uh((function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach((function(e,i){return uh.resolve(e).then((function(e){return r[i]={status:"fulfilled",value:e}}),(function(e){return r[i]={status:"rejected",reason:e}})).then((function(){return--n||t(r)}))}))}))})),Wm.any&&"undefined"!=typeof AggregateError&&zy(uh,"any",(function(){var e=ym.apply(null,arguments).map(Bh);return new uh((function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach((function(e,s){return uh.resolve(e).then((function(e){return t(e)}),(function(e){i[s]=e,--r||n(new AggregateError(i))}))}))}))})));var Ah={awaits:0,echoes:0,id:0},Ph=0,Ch=[],xh=0,Nh=0,Rh=0;function Lh(e,t,n,r){var i=oh,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++Rh;var a=ah.env;s.env=Zm?{Promise:uh,PromiseProp:{value:uh,configurable:!0,writable:!0},all:uh.all,race:uh.race,allSettled:uh.allSettled,any:uh.any,resolve:uh.resolve,reject:uh.reject,nthen:Uh(a.nthen,s),gthen:Uh(a.gthen,s)}:{},t&&By(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Yh(s,e,n,r);return 0===s.ref&&s.finalize(),o}function Vh(){return Ah.id||(Ah.id=++Ph),++Ah.awaits,Ah.echoes+=100,Ah.id}function kh(e){!Ah.awaits||e&&e!==Ah.id||(0==--Ah.awaits&&(Ah.id=0),Ah.echoes=100*Ah.awaits)}function Bh(e){return Ah.echoes&&e&&e.constructor===Wm?(Vh(),e.then((function(e){return kh(),e}),(function(e){return kh(),Kh(e)}))):e}function Oh(e){++Nh,Ah.echoes&&0!=--Ah.echoes||(Ah.echoes=Ah.id=0),Ch.push(oh),Fh(e,!0)}function $h(){var e=Ch[Ch.length-1];Ch.pop(),Fh(e,!1)}function Fh(e,t){var n,r=oh;if((t?!Ah.echoes||xh++&&e===oh:!xh||--xh&&e===oh)||(n=t?Oh.bind(null,e):$h,jm.call(Hm,n)),e!==oh&&(oh=e,r===ah&&(ah.env=Mh()),Zm)){var i=ah.env.Promise,s=e.env;Km.then=s.nthen,i.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(ky,"Promise",s.PromiseProp),i.all=s.all,i.race=s.race,i.resolve=s.resolve,i.reject=s.reject,s.allSettled&&(i.allSettled=s.allSettled),s.any&&(i.any=s.any))}}function Mh(){var e=ky.Promise;return Zm?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ky,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Km.then,gthen:e.prototype.then}:{}}function Yh(e,t,n,r,i){var s=oh;try{return Fh(e,!0),t(n,r,i)}finally{Fh(s,!1)}}function zh(e,t,n){return"function"!=typeof e?e:function(){var r=oh;n&&Vh(),Fh(t,!0);try{return e.apply(this,arguments)}finally{Fh(r,!1)}}}function Uh(e,t){return function(n,r){return e.call(this,zh(n,t,!1),zh(r,t,!1))}}-1===(""+jm).indexOf("[native code]")&&(Vh=kh=Vm);var qh="unhandledrejection";function Hh(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(ky.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(qh,!0,!0),By(r,i)):ky.CustomEvent&&By(r=new CustomEvent(qh,{detail:i}),i),r&&ky.dispatchEvent&&(dispatchEvent(r),!ky.PromiseRejectionEvent&&ky.onunhandledrejection))try{ky.onunhandledrejection(r)}catch(e){}hm&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var Kh=uh.reject;function Gh(e,t,n,r){if(e._state.openComplete||oh.letThrough){var i=e._createTransaction(t,n,e._dbSchema);try{i.create()}catch(e){return Kh(e)}return i._promise(t,(function(e,t){return Lh((function(){return oh.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Kh(new Nm.DatabaseClosed);e.open().catch(Vm)}return e._state.dbReadyPromise.then((function(){return Gh(e,t,n,r)}))}var jh="3.0.1",Wh=String.fromCharCode(65535),Zh=-1/0,Jh="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xh="String expected.",Qh=[],eb="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),tb=eb,nb=eb,rb=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},ib="__dbnames",sb="readonly",ab="readwrite";function ob(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var lb={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1},cb=function(){function e(){}return e.prototype._trans=function(e,t,n){var r=this._tx||oh.trans,i=this.name;function s(e,n,r){if(!r.schema[i])throw new Nm.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var a=vh();try{return r&&r.db===this.db?r===oh.trans?r._promise(e,s,n):Lh((function(){return r._promise(e,s,n)}),{trans:r,transless:oh.transless||oh}):Gh(this.db,e,[this.name],s)}finally{a&&Sh()}},e.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(function(t){return n.core.get({trans:t,key:e}).then((function(e){return n.hook.reading.fire(e)}))})).then(t)},e.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Vy(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=Ly(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&this.db._maxKey!==Wh)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));!n&&hm&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,i=this.db._deps.indexedDB;function s(e,t){try{return 0===i.cmp(e,t)}catch(e){return!1}}var a=t.reduce((function(t,n){var i=t[0],a=t[1],o=r[n],l=e[n];return[i||o,i||!o?ob(a,o&&o.multi?function(e){var t=Xy(e,n);return Vy(t)&&t.some((function(e){return s(l,e)}))}:function(e){return s(l,Xy(e,n))}):a]}),[null,null]),o=a[0],l=a[1];return o?this.where(o.name).equals(e[o.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},e.prototype.filter=function(e){return this.toCollection().and(e)},e.prototype.count=function(e){return this.toCollection().count(e)},e.prototype.offset=function(e){return this.toCollection().offset(e)},e.prototype.limit=function(e){return this.toCollection().limit(e)},e.prototype.each=function(e){return this.toCollection().each(e)},e.prototype.toArray=function(e){return this.toCollection().toArray(e)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Vy(e)?"["+e.join("+")+"]":e))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(Fy(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},e.prototype.defineClass=function(){return this.mapToClass((function(e){By(this,e)}))},e.prototype.add=function(e,t){var n=this;return this._trans("readwrite",(function(r){return n.core.mutate({trans:r,type:"add",keys:null!=t?[t]:null,values:[e]})})).then((function(e){return e.numFailures?uh.reject(e.failures[0]):e.lastResult})).then((function(t){if(!n.core.schema.primaryKey.outbound)try{Qy(e,n.core.schema.primaryKey.keyPath,t)}catch(e){}return t}))},e.prototype.update=function(e,t){if("object"!=typeof t||Vy(t))throw new Nm.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||Vy(e))return this.where(":id").equals(e).modify(t);Ly(t).forEach((function(n){Qy(e,n,t[n])}));var n=Xy(e,this.schema.primKey.keyPath);return void 0===n?Kh(new Nm.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)},e.prototype.put=function(e,t){var n=this;return this._trans("readwrite",(function(r){return n.core.mutate({trans:r,type:"put",values:[e],keys:null!=t?[t]:null})})).then((function(e){return e.numFailures?uh.reject(e.failures[0]):e.lastResult})).then((function(t){if(!n.core.schema.primaryKey.outbound)try{Qy(e,n.core.schema.primaryKey.keyPath,t)}catch(e){}return t}))},e.prototype.delete=function(e){var t=this;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})})).then((function(e){return e.numFailures?uh.reject(e.failures[0]):void 0}))},e.prototype.clear=function(){var e=this;return this._trans("readwrite",(function(t){return e.core.mutate({trans:t,type:"deleteRange",range:lb})})).then((function(e){return e.numFailures?uh.reject(e.failures[0]):void 0}))},e.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",(function(n){return t.core.getMany({keys:e,trans:n})}))},e.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){if(!r.core.schema.primaryKey.outbound&&i)throw new Nm.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new Nm.InvalidArgument("Arguments objects and keys must have the same length");var n=e.length;return r.core.mutate({trans:t,type:"add",keys:i,values:e,wantResults:s}).then((function(e){var t=e.numFailures,i=e.results,a=e.lastResult,o=e.failures;if(0===t)return s?i:a;throw new Pm(r.name+".bulkAdd(): "+t+" of "+n+" operations failed",Object.keys(o).map((function(e){return o[e]})))}))}))},e.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(function(t){if(!r.core.schema.primaryKey.outbound&&i)throw new Nm.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new Nm.InvalidArgument("Arguments objects and keys must have the same length");var n=e.length;return r.core.mutate({trans:t,type:"put",keys:i,values:e,wantResults:s}).then((function(e){var t=e.numFailures,i=e.results,a=e.lastResult,o=e.failures;if(0===t)return s?i:a;throw new Pm(r.name+".bulkPut(): "+t+" of "+n+" operations failed",Object.keys(o).map((function(e){return o[e]})))}))}))},e.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",(function(n){return t.core.mutate({trans:n,type:"delete",keys:e})})).then((function(e){var r=e.numFailures,i=e.lastResult,s=e.failures;if(0===r)return i;throw new Pm(t.name+".bulkDelete(): "+r+" of "+n+" operations failed",s)}))},e}();function db(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return t[n].subscribe.apply(null,s),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(e,r,i){if("object"==typeof e)return a(e);r||(r=Ym),i||(i=Vm);var s={subscribers:[],fire:i,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=r(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter((function(t){return t!==e})),s.fire=s.subscribers.reduce(r,i)}};return t[e]=n[e]=s,s}function a(e){Ly(e).forEach((function(t){var n=e[t];if(Vy(n))s(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Nm.InvalidArgument("Invalid event config");var r=s(t,km,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){Zy((function(){e.apply(null,t)}))}))}))}}))}}function ub(e,t){return Uy(t).from({prototype:e}),t}function pb(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function fb(e,t){e.filter=ob(e.filter,t)}function yb(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return ob(r(),t())}:t,e.justLimit=n&&!r}function mb(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new Nm.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function hb(e,t,n){var r=mb(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function bb(e,t,n,r){var i=e.replayFilter?ob(e.filter,e.replayFilter()):e.filter;if(e.or){var s={},a=function(e,n,r){if(!i||i(n,r,(function(e){return n.stop(e)}),(function(e){return n.fail(e)}))){var a=n.primaryKey,o=""+a;"[object ArrayBuffer]"===o&&(o=""+new Uint8Array(a)),Fy(s,o)||(s[o]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),gb(hb(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return gb(hb(e,r,n),ob(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function gb(e,t,n,r){var i=r?function(e,t,i){return n(r(e),t,i)}:n,s=Eh(i);return e.then((function(e){if(e)return e.start((function(){var n=function(){return e.continue()};t&&!t(e,(function(e){return n=e}),(function(t){e.stop(t),n=Vm}),(function(t){e.fail(t),n=Vm}))||s(e.value,e,(function(e){return n=e})),n()}))}))}var _b=function(){function e(){}return e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Kh.bind(null,n.error)):n.table._trans("readonly",e).then(t)},e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Kh.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=ob(t.algorithm,e)},e.prototype._iterate=function(e,t){return bb(this._ctx,e,t,this._ctx.table.core)},e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&By(n,e),t._ctx=n,t},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(e){var t=this._ctx;return this._read((function(n){return bb(t,e,n,t.table.core)}))},e.prototype.count=function(e){var t=this;return this._read((function(e){var n=t._ctx,r=n.table.core;if(pb(n,!0))return r.count({trans:e,query:{index:mb(n,r.schema),range:n.range}}).then((function(e){return Math.min(e,n.limit)}));var i=0;return bb(n,(function(){return++i,!1}),e,r).then((function(){return i}))})).then(e)},e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function s(e,t){return t?s(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function o(e,t){var n=s(e,i),r=s(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(o)})).then(t)},e.prototype.toArray=function(e){var t=this;return this._read((function(e){var n=t._ctx;if("next"===n.dir&&pb(n,!0)&&n.limit>0){var r=n.valueMapper,i=mb(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then((function(e){var t=e.result;return r?t.map(r):t}))}var s=[];return bb(n,(function(e){return s.push(e)}),e,n.table.core).then((function(){return s}))}),e)},e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,pb(t)?yb(t,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):yb(t,(function(){var t=e;return function(){return--t<0}}))),this},e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),yb(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},e.prototype.until=function(e,t){return fb(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this},e.prototype.first=function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},e.prototype.last=function(e){return this.reverse().first(e)},e.prototype.filter=function(e){var t,n;return fb(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=ob(t.isMatch,n),this},e.prototype.and=function(e){return this.filter(e)},e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},e.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},e.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&pb(t,!0)&&t.limit>0)return this._read((function(e){var n=mb(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((function(e){return e.result})).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)},e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},e.prototype.firstKey=function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return fb(this._ctx,(function(e){var t=e.primaryKey.toString(),r=Fy(n,t);return n[t]=!0,!r})),this},e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write((function(r){var i;if("function"==typeof e)i=e;else{var s=Ly(e),a=s.length;i=function(t){for(var n=!1,r=0;r<a;++r){var i=s[r],o=e[i];Xy(t,i)!==o&&(Qy(t,i,o),n=!0)}return n}}var o=n.table.core,l=o.schema.primaryKey,c=l.outbound,d=l.extractKey,u="testmode"in og?1:2e3,p=t.db.core.cmp,f=[],y=0,m=[],h=function(e,t){var n=t.failures,r=t.numFailures;y+=e-r;for(var i=0,s=Ly(n);i<s.length;i++){var a=s[i];f.push(n[a])}};return t.clone().primaryKeys().then((function(e){var t=function(n){var s=Math.min(u,e.length-n);return o.getMany({trans:r,keys:e.slice(n,n+s)}).then((function(a){for(var l=[],f=[],y=c?[]:null,m=[],b=0;b<s;++b){var g=a[b],_={value:am(g),primKey:e[n+b]};!1!==i.call(_,_.value,_)&&(null==_.value?m.push(e[n+b]):c||0===p(d(g),d(_.value))?(f.push(_.value),c&&y.push(e[n+b])):(m.push(e[n+b]),l.push(_.value)))}return Promise.resolve(l.length>0&&o.mutate({trans:r,type:"add",values:l}).then((function(e){for(var t in e.failures)m.splice(parseInt(t),1);h(l.length,e)}))).then((function(e){return f.length>0&&o.mutate({trans:r,type:"put",keys:y,values:f}).then((function(e){return h(f.length,e)}))})).then((function(){return m.length>0&&o.mutate({trans:r,type:"delete",keys:m}).then((function(e){return h(m.length,e)}))})).then((function(){return e.length>n+s&&t(n+u)}))}))};return t(0).then((function(){if(f.length>0)throw new Am("Error modifying one or more objects",f,y,m);return e.length}))}))}))},e.prototype.delete=function(){var e=this._ctx,t=e.range;return pb(e)&&(e.isPrimKey&&!nb||3===t.type)?this._write((function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((function(e){var n=e.failures,r=(e.lastResult,e.results,e.numFailures);if(r)throw new Am("Could not delete some values",Object.keys(n).map((function(e){return n[e]})),t-r);return t-r}))}))})):this.modify((function(e,t){return t.value=null}))},e}();function Tb(e,t){return e<t?-1:e===t?0:1}function Ib(e,t){return e>t?-1:e===t?0:1}function vb(e,t,n){var r=e instanceof Pb?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Sb(e){return new e.Collection(e,(function(){return Ab("")})).limit(0)}function Db(e,t,n,r,i,s){for(var a=Math.min(e.length,r.length),o=-1,l=0;l<a;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[l],c)<0&&(o=l)}return a<r.length&&"next"===s?e+n.substr(e.length):a<e.length&&"prev"===s?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function wb(e,t,n,r){var i,s,a,o,l,c,d,u=n.length;if(!n.every((function(e){return"string"==typeof e})))return vb(e,Xh);function p(e){i=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),a="next"===e?Tb:Ib;var t=n.map((function(e){return{lower:s(e),upper:i(e)}})).sort((function(e,t){return a(e.lower,t.lower)}));o=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,d="next"===e?"":r}p("next");var f=new e.Collection(e,(function(){return Eb(o[0],l[u-1]+r)}));f._ondirectionchange=function(e){p(e)};var y=0;return f._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var p=s(i);if(t(p,l,y))return!0;for(var f=null,m=y;m<u;++m){var h=Db(i,p,o[m],l[m],a,c);null===h&&null===f?y=m+1:(null===f||a(f,h)>0)&&(f=h)}return n(null!==f?function(){e.continue(f+d)}:r),!1})),f}function Eb(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ab(e){return{type:1,lower:e,upper:e}}var Pb=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!0,configurable:!0}),e.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Sb(this):new this.Collection(this,(function(){return Eb(e,t,!n,!r)}))}catch(e){return vb(this,Jh)}},e.prototype.equals=function(e){return new this.Collection(this,(function(){return Ab(e)}))},e.prototype.above=function(e){return null==e?vb(this,Jh):new this.Collection(this,(function(){return Eb(e,void 0,!0)}))},e.prototype.aboveOrEqual=function(e){return null==e?vb(this,Jh):new this.Collection(this,(function(){return Eb(e,void 0,!1)}))},e.prototype.below=function(e){return null==e?vb(this,Jh):new this.Collection(this,(function(){return Eb(void 0,e,!1,!0)}))},e.prototype.belowOrEqual=function(e){return null==e?vb(this,Jh):new this.Collection(this,(function(){return Eb(void 0,e)}))},e.prototype.startsWith=function(e){return"string"!=typeof e?vb(this,Xh):this.between(e,e+Wh,!0,!0)},e.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):wb(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],Wh)},e.prototype.equalsIgnoreCase=function(e){return wb(this,(function(e,t){return e===t[0]}),[e],"")},e.prototype.anyOfIgnoreCase=function(){var e=ym.apply(fm,arguments);return 0===e.length?Sb(this):wb(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var e=ym.apply(fm,arguments);return 0===e.length?Sb(this):wb(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,Wh)},e.prototype.anyOf=function(){var e=this,t=ym.apply(fm,arguments),n=this._cmp;try{t.sort(n)}catch(e){return vb(this,Jh)}if(0===t.length)return Sb(this);var r=new this.Collection(this,(function(){return Eb(t[0],t[t.length-1])}));r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm((function(e,r,s){for(var a=e.key;n(a,t[i])>0;)if(++i===t.length)return r(s),!1;return 0===n(a,t[i])||(r((function(){e.continue(t[i])})),!1)})),r},e.prototype.notEqual=function(e){return this.inAnyRange([[Zh,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var e=ym.apply(fm,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return vb(this,Jh)}var t=e.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Zh,t]]}),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,s=this._descending,a=this._min,o=this._max;if(0===e.length)return Sb(this);if(!e.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0})))return vb(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Nm.InvalidArgument);var l,c=!t||!1!==t.includeLowers,d=t&&!0===t.includeUppers,u=i;function p(e,t){return u(e[0],t[0])}try{l=e.reduce((function(e,t){for(var n=0,i=e.length;n<i;++n){var s=e[n];if(r(t[0],s[1])<0&&r(t[1],s[0])>0){s[0]=a(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return n===i&&e.push(t),e}),[]),l.sort(p)}catch(e){return vb(this,Jh)}var f=0,y=d?function(e){return i(e,l[f][1])>0}:function(e){return i(e,l[f][1])>=0},m=c?function(e){return s(e,l[f][0])>0}:function(e){return s(e,l[f][0])>=0},h=y,b=new this.Collection(this,(function(){return Eb(l[0][0],l[l.length-1][1],!c,!d)}));return b._ondirectionchange=function(e){"next"===e?(h=y,u=i):(h=m,u=s),l.sort(p)},b._addAlgorithm((function(e,t,r){for(var s=e.key;h(s);)if(++f===l.length)return t(r),!1;return!!function(e){return!y(e)&&!m(e)}(s)||(0===n._cmp(s,l[f][1])||0===n._cmp(s,l[f][0])||t((function(){u===i?e.continue(l[f][0]):e.continue(l[f][1])})),!1)})),b},e.prototype.startsWithAnyOf=function(){var e=ym.apply(fm,arguments);return e.every((function(e){return"string"==typeof e}))?0===e.length?Sb(this):this.inAnyRange(e.map((function(e){return[e,e+Wh]}))):vb(this,"startsWithAnyOf() only works with strings")},e}();function Cb(e){return 1===e.length?e[0]:e}function xb(e){try{return e.only([[]]),[[]]}catch(e){return Wh}}function Nb(e){return Eh((function(t){return Rb(t),e(t.target.error),!1}))}function Rb(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Lb=function(){function e(){}return e.prototype._lock=function(){return Wy(!oh.global),++this._reculock,1!==this._reculock||oh.global||(oh.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Wy(!oh.global),0==--this._reculock)for(oh.global||(oh.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Yh(e[1],e[0])}catch(e){}}return this},e.prototype._locked=function(){return this._reculock&&oh.lockOwnerFor!==this},e.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(Wy(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Nm.DatabaseClosed(r);case"MissingAPIError":throw new Nm.MissingAPI(r.message,r);default:throw new Nm.OpenFailed(r)}if(!this.active)throw new Nm.TransactionInactive;return Wy(null===this._completion._state),(e=this.idbtrans=e||n.transaction(Cb(this.storeNames),this.mode)).onerror=Eh((function(n){Rb(n),t._reject(e.error)})),e.onabort=Eh((function(n){Rb(n),t.active&&t._reject(new Nm.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Eh((function(){t.active=!1,t._resolve()})),this},e.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Kh(new Nm.ReadOnly("Transaction is readonly"));if(!this.active)return Kh(new Nm.TransactionInactive);if(this._locked())return new uh((function(i,s){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,s)},oh])}));if(n)return Lh((function(){var e=new uh((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new uh((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(e){var t=this._root(),n=uh.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return n}));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new uh((function(e,r){n.then((function(n){return t._waitingQueue.push(Eh(e.bind(null,n)))}),(function(e){return t._waitingQueue.push(Eh(r.bind(null,e)))})).finally((function(){t._waitingFor===i&&(t._waitingFor=null)}))}))},e.prototype.abort=function(){this.active&&this._reject(new Nm.Abort),this.active=!1},e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(Fy(t,e))return t[e];var n=this.schema[e];if(!n)throw new Nm.NotFound("Table "+e+" not part of transaction");var r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r},e}();function Vb(e,t,n,r,i,s,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:s,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+kb(t)}}function kb(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Bb(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Jy(n,(function(e){return[e.name,e]}))}}function Ob(e){return null==e?function(){}:"string"==typeof e?function(e){return 1===e.split(".").length?function(t){return t[e]}:function(t){return Xy(t,e)}}(e):function(t){return Xy(t,e)}}function $b(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}function Fb(e){return[].slice.call(e)}var Mb=0;function Yb(e){return null==e?":id":"string"==typeof e?e:"["+e.join("+")+"]"}function zb(e,t,n,r){var i=n.IDBKeyRange,s=function(e,t){return t.reduce((function(e,t){var n=t.create;return Ny(Ny({},e),n(e))}),e)}(function(e,t,n,r){var i=t.cmp.bind(t);function s(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,r=e.upper,i=e.lowerOpen,s=e.upperOpen;return void 0===t?void 0===r?null:n.upperBound(r,!!s):void 0===r?n.lowerBound(t,!!i):n.bound(t,r,!!i,!!s)}var a=function(e,t){var n=Fb(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((function(e){return t.objectStore(e)})).map((function(e){var t=e.keyPath,n=e.autoIncrement,r=Vy(t),i=null==t,s={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Ob(t)},indexes:Fb(e.indexNames).map((function(t){return e.index(t)})).map((function(e){var t=e.name,n=e.unique,r=e.multiEntry,i=e.keyPath,a={name:t,compound:Vy(i),keyPath:i,unique:n,multiEntry:r,extractKey:Ob(i)};return s[Yb(i)]=a,a})),getIndexByKeyPath:function(e){return s[Yb(e)]}};return s[":id"]=a.primaryKey,null!=t&&(s[Yb(t)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),o=a.schema,l=a.hasGetAll,c=o.tables.map((function(e){return function(e){var t=e.name;return{name:t,schema:e,mutate:function(n){var r=n.trans,i=n.type,a=n.keys,o=n.values,l=n.range,c=n.wantResults;return new Promise((function(n,d){n=Eh(n);var u=r.objectStore(t),p=null==u.keyPath,f="put"===i||"add"===i;if(!f&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var y=(a||o||{length:1}).length;if(a&&o&&a.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===y)return n({numFailures:0,failures:{},results:[],lastResult:void 0});var m,h=c&&Ry(a||$b(e.primaryKey,{type:i,keys:a,values:o})),b=[],g=0,_=function(e){++g,Rb(e),h&&(h[e.target._reqno]=void 0),b[e.target._reqno]=e.target.error},T=function(e){var t=e.target;h[t._reqno]=t.result};if("deleteRange"===i){if(4===l.type)return n({numFailures:g,failures:b,results:h,lastResult:void 0});m=3===l.type?u.clear():u.delete(s(l))}else{var I=f?p?[o,a]:[o,null]:[a,null],v=I[0],S=I[1];if(f)for(var D=0;D<y;++D)(m=S&&void 0!==S[D]?u[i](v[D],S[D]):u[i](v[D]))._reqno=D,h&&void 0===h[D]&&(m.onsuccess=T),m.onerror=_;else for(D=0;D<y;++D)(m=u[i](v[D]))._reqno=D,m.onerror=_}var w=function(e){var t=e.target.result;h&&(h[y-1]=t),n({numFailures:g,failures:b,results:h,lastResult:t})};m.onerror=function(e){_(e),w(e)},m.onsuccess=w}))},getMany:function(e){var n=e.trans,r=e.keys;return new Promise((function(e,i){e=Eh(e);for(var s,a=n.objectStore(t),o=r.length,l=new Array(o),c=0,d=0,u=function(t){var n=t.target;l[n._pos]=n.result,++d===c&&e(l)},p=Nb(i),f=0;f<o;++f)null!=r[f]&&((s=a.get(r[f]))._pos=f,s.onsuccess=u,s.onerror=p,++c);0===c&&e(l)}))},get:function(e){var n=e.trans,r=e.key;return new Promise((function(e,i){e=Eh(e);var s=n.objectStore(t).get(r);s.onsuccess=function(t){return e(t.target.result)},s.onerror=Nb(i)}))},query:function(e){return function(n){return new Promise((function(r,i){r=Eh(r);var a=n.trans,o=n.values,l=n.limit,c=n.query,d=l===1/0?void 0:l,u=c.index,p=c.range,f=a.objectStore(t),y=u.isPrimaryKey?f:f.index(u.name),m=s(p);if(0===l)return r({result:[]});if(e){var h=o?y.getAll(m,d):y.getAllKeys(m,d);h.onsuccess=function(e){return r({result:e.target.result})},h.onerror=Nb(i)}else{var b=0,g=o||!("openKeyCursor"in y)?y.openCursor(m):y.openKeyCursor(m),_=[];g.onsuccess=function(e){var t=g.result;return t?(_.push(o?t.value:t.primaryKey),++b===l?r({result:_}):void t.continue()):r({result:_})},g.onerror=Nb(i)}}))}}(l),openCursor:function(e){var n=e.trans,r=e.values,i=e.query,a=e.reverse,o=e.unique;return new Promise((function(e,l){e=Eh(e);var c=i.index,d=i.range,u=n.objectStore(t),p=c.isPrimaryKey?u:u.index(c.name),f=a?o?"prevunique":"prev":o?"nextunique":"next",y=r||!("openKeyCursor"in p)?p.openCursor(s(d),f):p.openKeyCursor(s(d),f);y.onerror=Nb(l),y.onsuccess=Eh((function(t){var r=y.result;if(r){r.___id=++Mb,r.done=!1;var i=r.continue.bind(r),s=r.continuePrimaryKey;s&&(s=s.bind(r));var a=r.advance.bind(r),o=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=Eh(l),r.next=function(){var e=this,t=1;return this.start((function(){return t--?e.continue():e.stop()})).then((function(){return e}))},r.start=function(e){var t=new Promise((function(e,t){e=Eh(e),y.onerror=Nb(t),r.fail=t,r.stop=function(t){r.stop=r.continue=r.continuePrimaryKey=r.advance=o,e(t)}})),n=function(){if(y.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return y.onsuccess=Eh((function(e){y.onsuccess=n,n()})),r.continue=i,r.continuePrimaryKey=s,r.advance=a,n(),t},e(r)}else e(null)}),l)}))},count:function(e){var n=e.query,r=e.trans,i=n.index,a=n.range;return new Promise((function(e,n){var o=r.objectStore(t),l=i.isPrimaryKey?o:o.index(i.name),c=s(a),d=c?l.count(c):l.count();d.onsuccess=Eh((function(t){return e(t.target.result)})),d.onerror=Nb(n)}))}}}(e)})),d={};return c.forEach((function(e){return d[e.name]=e})),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!d[e])throw new Error("Table '"+e+"' not found");return d[e]},cmp:i,MIN_KEY:-1/0,MAX_KEY:xb(n),schema:o}}(t,n.indexedDB,i,r),e.dbcore);return{dbcore:s}}function Ub(e,t){var n=t.db,r=zb(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((function(t){var n=t.name;e.core.schema.tables.some((function(e){return e.name===n}))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function qb(e,t,n,r){n.forEach((function(n){var i=r[n];t.forEach((function(t){n in t||(t===e.Transaction.prototype||t instanceof e.Transaction?zy(t,n,{get:function(){return this.table(n)},set:function(e){Yy(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function Hb(e,t){t.forEach((function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]}))}function Kb(e,t){return e._cfg.version-t._cfg.version}function Gb(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){return jb(i,e)})),i}function jb(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Wb(e,t,n){var r={};return Gy(t.objectStoreNames,0).forEach((function(e){for(var t=n.objectStore(e),i=t.keyPath,s=Vb(kb(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),a=[],o=0;o<t.indexNames.length;++o){var l=t.index(t.indexNames[o]);i=l.keyPath;var c=Vb(l.name,i,!!l.unique,!!l.multiEntry,!1,i&&"string"!=typeof i,!1);a.push(c)}r[e]=Bb(e,s,a)})),r}function Zb(e,t,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var s=r[i],a=n.objectStore(s);e._hasGetAll="getAll"in a;for(var o=0;o<a.indexNames.length;++o){var l=a.indexNames[o],c=a.index(l).keyPath,d="string"==typeof c?c:"["+Gy(c).join("+")+"]";if(t[s]){var u=t[s].idxByName[d];u&&(u.name=l,delete t[s].idxByName[d],t[s].idxByName[l]=u)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ky.WorkerGlobalScope&&ky instanceof ky.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}var Jb,Xb=function(){function e(){}return e.prototype._parseStoresSpec=function(e,t){Ly(e).forEach((function(n){if(null!==e[n]){var r=e[n].split(",").map((function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Vb(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Vy(r),0===t)})),i=r.shift();if(i.multi)throw new Nm.Schema("Primary key cannot be multi-valued");r.forEach((function(e){if(e.auto)throw new Nm.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Nm.Schema("Index must have a name and cannot be an empty string")})),t[n]=Bb(n,i,r)}}))},e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?By(this._cfg.storesSource,e):e;var n=t._versions,r={},i={};return n.forEach((function(e){By(r,e._cfg.storesSource),i=e._cfg.dbschema={},e._parseStoresSpec(r,i)})),t._dbSchema=i,Hb(t,[t._allTables,t,t.Transaction.prototype]),qb(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Ly(i),i),t._storeNames=Ly(i),this},e.prototype.upgrade=function(e){return this._cfg.contentUpgrade=e,this},e}();function Qb(e){return Lh((function(){return oh.letThrough=!0,e()}))}function eg(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((function(){return t.dbOpenError?Kh(t.dbOpenError):e}));hm&&(t.openCanceller._stackHolder=Tm()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.dbReadyResolve,i=null;return uh.race([t.openCanceller,new uh((function(r,s){if(!n)throw new Nm.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=e.name,o=t.autoSchema?n.open(a):n.open(a,Math.round(10*e.verno));if(!o)throw new Nm.MissingAPI("IndexedDB API not available");o.onerror=Nb(s),o.onblocked=Eh(e._fireOnBlocked),o.onupgradeneeded=Eh((function(r){if(i=o.transaction,t.autoSchema&&!e._options.allowEmptyDB){o.onerror=Rb,i.abort(),o.result.close();var l=n.deleteDatabase(a);l.onsuccess=l.onerror=Eh((function(){s(new Nm.NoSuchDatabase("Database "+a+" doesnt exist"))}))}else{i.onerror=Nb(s);var c=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;e.idbdb=o.result,function(e,t,n,r){var i=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,i);s.create(n),s._completion.catch(r);var a=s._reject.bind(s),o=oh.transless||oh;Lh((function(){oh.trans=s,oh.transless=o,0===t?(Ly(i).forEach((function(e){Gb(n,e,i[e].primKey,i[e].indexes)})),Ub(e,n),uh.follow((function(){return e.on.populate.fire(s)})).catch(a)):function(e,t,n,r){var i=[],s=e._versions,a=e._dbSchema=Wb(0,e.idbdb,r),o=!1;return s.filter((function(e){return e._cfg.version>=t})).forEach((function(s){i.push((function(){var i=a,l=s._cfg.dbschema;Zb(e,i,r),Zb(e,l,r),a=e._dbSchema=l;var c=function(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],s=t[n];if(i){var a={name:n,def:s,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src===s.primKey.src||eb){var o=i.idxByName,l=s.idxByName,c=void 0;for(c in o)l[c]||a.del.push(c);for(c in l){var d=o[c],u=l[c];d?d.src!==u.src&&a.change.push(u):a.add.push(u)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}else a.recreate=!0,r.change.push(a)}else r.add.push([n,s])}return r}(i,l);c.add.forEach((function(e){Gb(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((function(e){if(e.recreate)throw new Nm.Upgrade("Not yet support for changing primary key");var t=r.objectStore(e.name);e.add.forEach((function(e){return jb(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),jb(t,e)})),e.del.forEach((function(e){return t.deleteIndex(e)}))}));var d=s._cfg.contentUpgrade;if(d&&s._cfg.version>t){Ub(e,r),o=!0;var u=em(l);c.del.forEach((function(e){u[e]=i[e]})),Hb(e,[e.Transaction.prototype]),qb(e,[e.Transaction.prototype],Ly(u),u),n.schema=u;var p,f=mm(d);f&&Vh();var y=uh.follow((function(){if((p=d(n))&&f){var e=kh.bind(null,null);p.then(e,e)}}));return p&&"function"==typeof p.then?uh.resolve(p):y.then((function(){return p}))}})),i.push((function(t){o&&tb||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(s._cfg.dbschema,t),Hb(e,[e.Transaction.prototype]),qb(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return i.length?uh.resolve(i.shift()(n.idbtrans)).then(e):uh.resolve()}().then((function(){var e,t;t=r,Ly(e=a).forEach((function(n){t.db.objectStoreNames.contains(n)||Gb(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,s,n).catch(a)}))}(e,c/10,i,s)}}),s),o.onsuccess=Eh((function(){i=null;var n=e.idbdb=o.result,s=Gy(n.objectStoreNames);if(s.length>0)try{var l=n.transaction(Cb(s),"readonly");t.autoSchema?function(e,t,n){e.verno=t.version/10;var r=e._dbSchema=Wb(0,t,n);e._storeNames=Gy(t.objectStoreNames,0),qb(e,[e._allTables],Ly(r),r)}(e,n,l):Zb(e,e._dbSchema,l),Ub(e,l)}catch(e){}Qh.push(e),n.onversionchange=Eh((function(n){t.vcFired=!0,e.on("versionchange").fire(n)})),Jb.add(a),r()}),s)}))]).then((function(){return t.onReadyBeingFired=[],uh.resolve(Qb(e.on.ready.fire)).then((function e(){if(t.onReadyBeingFired.length>0){var n=t.onReadyBeingFired.reduce(zm,Vm);return t.onReadyBeingFired=[],uh.resolve(Qb(n)).then(e)}}))})).finally((function(){t.onReadyBeingFired=null})).then((function(){return t.isBeingOpened=!1,e})).catch((function(n){try{i&&i.abort()}catch(e){}return t.isBeingOpened=!1,e.close(),t.dbOpenError=n,Kh(t.dbOpenError)})).finally((function(){t.openComplete=!0,r()}))}function tg(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(n,r):Vy(s)?Promise.all(s).then(n,r):n(s)}}return i(t)()}function ng(e,t,n){var r=arguments.length;if(r<2)throw new Nm.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var s=nm(i);return[e,s,n]}function rg(e,t,n,r,i){return uh.resolve().then((function(){var s=oh.transless||oh,a=e._createTransaction(t,n,e._dbSchema,r),o={trans:a,transless:s};r?a.idbtrans=r.idbtrans:a.create();var l,c=mm(i);c&&Vh();var d=uh.follow((function(){if(l=i.call(a,a))if(c){var e=kh.bind(null,null);l.then(e,e)}else"function"==typeof l.next&&"function"==typeof l.throw&&(l=tg(l))}),o);return(l&&"function"==typeof l.then?uh.resolve(l).then((function(e){return a.active?e:Kh(new Nm.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):d.then((function(){return l}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),Kh(e)}))}))}function ig(e,t,n){for(var r=Vy(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var sg={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return Ny(Ny({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},s=[];function a(e,t,n){var r=Yb(e),o=i[r]=i[r]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,d=Ny(Ny({},n),{isVirtual:c,isPrimaryKey:!c&&n.isPrimaryKey,keyTail:t,keyLength:l,extractKey:Ob(e),unique:!c&&n.unique});return o.push(d),d.isPrimaryKey||s.push(d),l>1&&a(2===l?e[0]:e.slice(0,l-1),t+1,n),o.sort((function(e,t){return e.keyTail-t.keyTail})),d}var o=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(var l=0,c=r.indexes;l<c.length;l++){var d=c[l];a(d.keyPath,0,d)}function u(t){var n,r,i=t.query.index;return i.isVirtual?Ny(Ny({},t),{query:{index:i,range:(n=t.query.range,r=i.keyTail,{type:1===n.type?2:n.type,lower:ig(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:ig(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}):t}var p=Ny(Ny({},n),{schema:Ny(Ny({},r),{primaryKey:o,indexes:s,getIndexByKeyPath:function(e){var t=i[Yb(e)];return t&&t[0]}}),count:function(e){return n.count(u(e))},query:function(e){return n.query(u(e))},openCursor:function(t){var r=t.query.index,i=r.keyTail,s=r.isVirtual,a=r.keyLength;return s?n.openCursor(u(t)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(ig(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(ig(n.key,t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(ig(t,e.MAX_KEY,i),r)}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}});return r}(n)})):n.openCursor(t)}});return p}})}},ag={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Ny(Ny({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=Ny(Ny({},n),{mutate:function(e){var i=oh.trans,s=i.table(t).hook,a=s.deleting,o=s.creating,l=s.updating;switch(e.type){case"add":if(o.fire===Vm)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"put":if(o.fire===Vm&&l.fire===Vm)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"delete":if(a.fire===Vm)break;return i._promise("readwrite",(function(){return c(e)}),!0);case"deleteRange":if(a.fire===Vm)break;return i._promise("readwrite",(function(){return function(e){return d(e.trans,e.range,1e4)}(e)}),!0)}return n.mutate(e);function c(e){var t=oh.trans,i=e.keys||$b(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?Ny(Ny({},e),{keys:i,wantResults:!0}):Ny({},e)).type&&(e.values=Ry(e.values)),e.keys&&(e.keys=Ry(e.keys)),function(e,t,n){return"add"===t.type?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:n})}(n,e,i).then((function(s){var c=i.map((function(n,i){var c=s[i],d={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(d,n,c,t);else if("add"===e.type||void 0===c){var u=o.fire.call(d,n,e.values[i],t);null==n&&null!=u&&(n=u,e.keys[i]=n,r.outbound||Qy(e.values[i],r.keyPath,n))}else{var p=dm(c,e.values[i]),f=l.fire.call(d,p,n,c,t);if(f){var y=e.values[i];Object.keys(f).forEach((function(e){Qy(y,e,f[e])}))}}return d}));return n.mutate(e).then((function(t){for(var n=t.failures,r=t.results,a=t.numFailures,o=t.lastResult,l=0;l<i.length;++l){var d=r?r[l]:i[l],u=c[l];null==d?u.onerror&&u.onerror(n[l]):u.onsuccess&&u.onsuccess("put"===e.type&&s[l]?e.values[l]:d)}return{failures:n,results:r,numFailures:a,lastResult:o}})).catch((function(e){return c.forEach((function(t){return t.onerror&&t.onerror(e)})),Promise.reject(e)}))}))}function d(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((function(n){var r=n.result;return c({type:"delete",keys:r,trans:e}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):r.length<i?{failures:[],numFailures:0,lastResult:void 0}:d(e,Ny(Ny({},t),{lower:r[r.length-1],lowerOpen:!0}),i)}))}))}}});return i}})}},og=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=Ny({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var s=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null;var a,o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Vm,dbReadyPromise:null,cancelOpen:Vm,openCanceller:null,autoSchema:!0};o.dbReadyPromise=new uh((function(e){o.dbReadyResolve=e})),o.openCanceller=new uh((function(e,t){o.cancelOpen=t})),this._state=o,this.name=t,this.on=db(this,"populate","blocked","versionchange",{ready:[zm,Vm]}),this.on.ready.subscribe=jy(this.on.ready.subscribe,(function(t){return function(n,i){e.vip((function(){var e=r._state;if(e.openComplete)e.dbOpenError||uh.resolve().then(n),i&&t(n);else if(e.onReadyBeingFired)e.onReadyBeingFired.push(n),i&&t(n);else{t(n);var s=r;i||t((function e(){s.on.ready.unsubscribe(n),s.on.ready.unsubscribe(e)}))}}))}})),this.Collection=(a=this,ub(_b.prototype,(function(e,t){this.db=a;var n=lb,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,s=i.table,o=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o!==km?o:null}}))),this.Table=function(e){return ub(cb.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:db(null,{creating:[$m,Vm],reading:[Bm,km],updating:[Mm,Vm],deleting:[Fm,Vm]})}))}(this),this.Transaction=function(e){return ub(Lb.prototype,(function(t,n,r,i){var s=this;this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.idbtrans=null,this.on=db(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new uh((function(e,t){s._resolve=e,s._reject=t})),this._completion.then((function(){s.active=!1,s.on.complete.fire()}),(function(e){var t=s.active;return s.active=!1,s.on.error.fire(e),s.parent?s.parent._reject(e):t&&s.idbtrans&&s.idbtrans.abort(),Kh(e)}))}))}(this),this.Version=function(e){return ub(Xb.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return ub(Pb.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};var i=e._deps.indexedDB;if(!i)throw new Nm.MissingAPI("indexedDB API missing");this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(e,t){return i.cmp(t,e)},this._max=function(e,t){return i.cmp(e,t)>0?e:t},this._min=function(e,t){return i.cmp(e,t)<0?e:t},this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()})),this.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+e.oldVersion/10)})),this._maxKey=xb(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),Qh.filter((function(e){return e.name===r.name&&e!==r&&!e._state.vcFired})).map((function(t){return t.on("versionchange").fire(e)}))},this.use(sg),this.use(ag),s.forEach((function(e){return e(r)}))}return e.prototype.version=function(e){if(isNaN(e)||e<.1)throw new Nm.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Nm.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter((function(t){return t._cfg.version===e}))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Kb),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(e){var t=this;return this._state.openComplete||oh.letThrough?e():new uh((function(e,n){if(!t._state.isBeingOpened){if(!t._options.autoOpen)return void n(new Nm.DatabaseClosed);t.open().catch(Vm)}t._state.dbReadyPromise.then(e,n)})).then(e)},e.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;i&&this.unuse({stack:t,name:i});var s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:n,level:null==r?10:r,name:i}),s.sort((function(e,t){return e.level-t.level})),this},e.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter((function(e){return r?e.create!==r:!!n&&e.name!==n}))),this},e.prototype.open=function(){return eg(this)},e.prototype.close=function(){var e=Qh.indexOf(this),t=this._state;if(e>=0&&Qh.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=!1,t.dbOpenError=new Nm.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError),t.dbReadyPromise=new uh((function(e){t.dbReadyResolve=e})),t.openCanceller=new uh((function(e,n){t.cancelOpen=n}))},e.prototype.delete=function(){var e=this,t=arguments.length>0,n=this._state;return new uh((function(r,i){var s=function(){e.close();var t=e._deps.indexedDB.deleteDatabase(e.name);t.onsuccess=Eh((function(){Jb.remove(e.name),r()})),t.onerror=Nb(i),t.onblocked=e._fireOnBlocked};if(t)throw new Nm.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()}))},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return null!==this.idbdb},e.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},e.prototype.hasFailed=function(){return null!==this._state.dbOpenError},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var e=this;return Ly(this._allTables).map((function(t){return e._allTables[t]}))},enumerable:!0,configurable:!0}),e.prototype.transaction=function(){var e=ng.apply(this,arguments);return this._transaction.apply(this,e)},e.prototype._transaction=function(e,t,n){var r=this,i=oh.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var s,a,o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map((function(e){var t=e instanceof r.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===sb)s=sb;else{if("rw"!=e&&e!=ab)throw new Nm.InvalidArgument("Invalid transaction mode: "+e);s=ab}if(i){if(i.mode===sb&&s===ab){if(!o)throw new Nm.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach((function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!o)throw new Nm.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),o&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,(function(t,n){n(e)})):Kh(e)}var l=rg.bind(null,this,s,a,i,n);return i?i._promise(s,l,"lock"):oh.trans?Yh(oh.transless,(function(){return r._whenReady(l)})):this._whenReady(l)},e.prototype.table=function(e){if(!Fy(this._allTables,e))throw new Nm.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},e}(),lg=og;My(lg,Ny(Ny({},Lm),{delete:function(e){return new lg(e).delete()},exists:function(e){return new lg(e,{addons:[]}).open().then((function(e){return e.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(e){return Jb?Jb.getDatabaseNames().then(e):uh.resolve([])},defineClass:function(){return function(e){By(this,e)}},ignoreTransaction:function(e){return oh.trans?Yh(oh.transless,e):e()},vip:Qb,async:function(e){return function(){try{var t=tg(e.apply(this,arguments));return t&&"function"==typeof t.then?t:uh.resolve(t)}catch(e){return Kh(e)}}},spawn:function(e,t,n){try{var r=tg(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:uh.resolve(r)}catch(e){return Kh(e)}},currentTransaction:{get:function(){return oh.trans||null}},waitFor:function(e,t){var n=uh.resolve("function"==typeof e?lg.ignoreTransaction(e):e).timeout(t||6e4);return oh.trans?oh.trans.waitFor(n):n},Promise:uh,debug:{get:function(){return hm},set:function(e){bm(e,"dexie"===e?function(){return!0}:rb)}},derive:Uy,extend:By,props:My,override:jy,Events:db,getByKeyPath:Xy,setByKeyPath:Qy,delByKeyPath:function(e,t){"string"==typeof t?Qy(e,t,void 0):"length"in t&&[].map.call(t,(function(t){Qy(e,t,void 0)}))},shallowClone:em,deepClone:am,getObjectDiff:dm,asap:Zy,minKey:Zh,addons:[],connections:Qh,errnames:Cm,dependencies:function(){try{return{indexedDB:ky.indexedDB||ky.mozIndexedDB||ky.webkitIndexedDB||ky.msIndexedDB,IDBKeyRange:ky.IDBKeyRange||ky.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:jh,version:jh.split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:lg,Dexie:lg})),lg.maxKey=xb(lg.dependencies.IDBKeyRange),function(e){try{Jb=function(e){var t,n=e&&"function"==typeof e.databases;if(!n){var r=new og(ib,{addons:[]});r.version(1).stores({dbnames:"name"}),t=r.table("dbnames")}return{getDatabaseNames:function(){return n?uh.resolve(e.databases()).then((function(e){return e.map((function(e){return e.name})).filter((function(e){return e!==ib}))})):t.toCollection().primaryKeys()},add:function(e){return!n&&e!==ib&&t.put({name:e}).catch(Vm)},remove:function(e){return!n&&e!==ib&&t.delete(e).catch(Vm)}}}(e)}catch(e){}}(og.dependencies.indexedDB),uh.rejectionMapper=function(e,t){if(!e||e instanceof wm||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Rm[e.name])return e;var n=new Rm[e.name](t||e.message,e);return"stack"in e&&zy(n,"stack",{get:function(){return this.inner.stack}}),n},bm(hm,rb);const cg=og;function dg(e){return[...e.filter((e=>!e.settled)).sort(((e,t)=>e.created<t.created?1:-1)),...e.filter((e=>e.settled)).sort(((e,t)=>e.settled!==t.settled?0:e.created<t.created?1:-1))]}var ug=n(8842).Buffer;const pg=(e,t)=>`${e}__${t}`;class fg{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f){this.owner=e,this.assetId=t,this.value=n,this.accountRequired=r,this.noteSecret=i,this.creatorPubKey=s,this.inputNullifier=a,this.commitment=o,this.nullifier=l,this.allowChain=c,this.index=d,this.nullified=u,this.pending=p,this.hashPath=f}}const yg=({owner:e,assetId:t,value:n,accountRequired:r,noteSecret:i,creatorPubKey:s,inputNullifier:a,commitment:o,nullifier:l,allowChain:c,nullified:d,index:u,pending:p,hashPath:f})=>new pf(new jt(new je(ug.from(e)),BigInt(n),t,r,ug.from(i),ug.from(s),ug.from(a)),ug.from(o),ug.from(l),c,!!d,p?void 0:u,f?ug.from(f):void 0);class mg{constructor(e,t,n){this.accountPublicKey=e,this.accountPrivateKey=t,this.syncedToRollup=n}}const hg=({accountPublicKey:e,accountPrivateKey:t,syncedToRollup:n})=>new mg(new Uint8Array(e.toBuffer()),new Uint8Array(t),n),bg=({accountPublicKey:e,accountPrivateKey:t,syncedToRollup:n})=>({accountPublicKey:new je(ug.from(e)),accountPrivateKey:ug.from(t),syncedToRollup:n}),gg=e=>{switch(e.proofId){case Xt.ACCOUNT:return vg(e);case Xt.DEFI_DEPOSIT:return Dg(e);default:return Tg(e)}};class _g{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f){this.txId=e,this.userId=t,this.proofId=n,this.assetId=r,this.publicValue=i,this.privateInput=s,this.recipientPrivateOutput=a,this.senderPrivateOutput=o,this.isRecipient=l,this.isSender=c,this.txRefNo=d,this.created=u,this.settled=p,this.publicOwner=f}}const Tg=({txId:e,userId:t,proofId:n,assetId:r,publicValue:i,publicOwner:s,privateInput:a,recipientPrivateOutput:o,senderPrivateOutput:l,isRecipient:c,isSender:d,txRefNo:u,created:p,settled:f})=>new sf(new In(ug.from(e)),new je(ug.from(t)),n,r,BigInt(i),s?new qe(ug.from(s)):void 0,BigInt(a),BigInt(o),BigInt(l),c,d,u,p,f?new Date(f):void 0);class Ig{constructor(e,t,n,r,i,s,a,o,l,c){this.txId=e,this.userId=t,this.proofId=n,this.aliasHash=r,this.migrated=i,this.txRefNo=s,this.created=a,this.settled=o,this.newSpendingPublicKey1=l,this.newSpendingPublicKey2=c}}const vg=({txId:e,userId:t,aliasHash:n,newSpendingPublicKey1:r,newSpendingPublicKey2:i,migrated:s,txRefNo:a,created:o,settled:l})=>new tf(new In(ug.from(e)),new je(ug.from(t)),new Xe(ug.from(n)),r?ug.from(r):void 0,i?ug.from(i):void 0,s,a,o,l?new Date(l):void 0);class Sg{constructor(e,t,n,r,i,s,a,o,l,c,d,u,p,f,y,m,h,b,g,_){this.txId=e,this.userId=t,this.proofId=n,this.bridgeId=r,this.depositValue=i,this.txFee=s,this.txRefNo=a,this.created=o,this.partialState=l,this.partialStateSecret=c,this.settled=d,this.claimSettled=u,this.nullifier=p,this.interactionNonce=f,this.isAsync=y,this.success=m,this.outputValueA=h,this.outputValueB=b,this.finalised=g,this.claimTxId=_}}const Dg=({txId:e,userId:t,bridgeId:n,depositValue:r,txFee:i,txRefNo:s,created:a,nullifier:o,partialState:l,partialStateSecret:c,settled:d,interactionNonce:u,isAsync:p,success:f,outputValueA:y,outputValueB:m,finalised:h,claimSettled:b,claimTxId:g})=>new rf(new In(ug.from(e)),new je(ug.from(t)),Vt.fromBuffer(ug.from(n)),BigInt(r),BigInt(i),s,a,ug.from(l),ug.from(c),o?ug.from(o):void 0,d?new Date(d):void 0,u,p,f,y?BigInt(y):void 0,m?BigInt(m):void 0,h,b?new Date(b):void 0,g?new In(ug.from(g)):void 0);class wg{constructor(e,t,n,r){this.userId=e,this.key=t,this.treeIndex=n,this.hashPath=r}}const Eg=({userId:e,key:t,treeIndex:n,hashPath:r})=>new wg(new Uint8Array(e.toBuffer()),new Uint8Array(t),n,new Uint8Array(r)),Ag=({userId:e,key:t,hashPath:n,...r})=>({...r,userId:new je(ug.from(e)),key:ug.from(t),hashPath:ug.from(n)});class Pg{constructor(e,t,n,r,i){this.accountPublicKey=e,this.aliasHash=t,this.index=n,this.noteCommitment1=r,this.spendingPublicKeyX=i}}const Cg=({accountPublicKey:e,aliasHash:t,index:n,noteCommitment1:r,spendingPublicKeyX:i})=>new Pg(new Uint8Array(e.toBuffer()),new Uint8Array(t.toBuffer()),n,r?new Uint8Array(r):void 0,i?new Uint8Array(i):void 0),xg=({accountPublicKey:e,aliasHash:t,index:n,noteCommitment1:r,spendingPublicKeyX:i})=>({accountPublicKey:new je(ug.from(e)),aliasHash:new Xe(ug.from(t)),index:n,noteCommitment1:r?ug.from(r):void 0,spendingPublicKeyX:i?ug.from(i):void 0});class Ng{constructor(e="hummus",t=8){this.dbName=e,this.version=t,this.debug=b("bb:dexie_database")}async open(){if(await cg.exists(this.dbName)){const e=await new cg(this.dbName).open();e.verno<8&&(this.debug(`Upgrade db from version ${e.verno} to ${this.version}. Deleting all tables...`),await e.delete())}this.createTables()}close(){return this.dexie.close(),Promise.resolve()}async clear(){await this.dexie.delete(),this.createTables()}async addNote(e){await this.note.put((e=>new fg(new Uint8Array(e.owner.toBuffer()),e.assetId,e.value.toString(),e.treeNote.accountRequired,new Uint8Array(e.treeNote.noteSecret),new Uint8Array(e.treeNote.creatorPubKey),new Uint8Array(e.treeNote.inputNullifier),e.commitment,e.nullifier,e.allowChain,e.index||0,e.nullified?1:0,void 0===e.index?1:0,e.hashPath?new Uint8Array(e.hashPath):void 0))(e))}async getNote(e){const t=await this.note.get({commitment:new Uint8Array(e)});return t?yg(t):void 0}async getNoteByNullifier(e){const t=await this.note.get({nullifier:new Uint8Array(e)});return t?yg(t):void 0}async nullifyNote(e){await this.note.where({nullifier:new Uint8Array(e)}).modify({nullified:1})}async getNotes(e){return(await this.note.where({owner:new Uint8Array(e.toBuffer()),nullified:0}).toArray()).map(yg)}async getPendingNotes(e){return(await this.note.where({owner:new Uint8Array(e.toBuffer()),pending:1}).toArray()).map(yg)}async removeNote(e){await this.note.where({nullifier:new Uint8Array(e)}).delete()}async getUser(e){const t=await this.user.get(new Uint8Array(e.toBuffer()));return t?bg(t):void 0}async getUsers(){return(await this.user.toArray()).map(bg)}async addUser(e){await this.user.put(hg(e))}async updateUser(e){await this.user.where({accountPublicKey:new Uint8Array(e.accountPublicKey.toBuffer())}).modify(hg(e))}async removeUser(e){const t=new Uint8Array(e.toBuffer());await this.user.where({accountPublicKey:t}).delete(),await this.userTx.where({userId:t}).delete(),await this.spendingKey.where({userId:t}).delete(),await this.note.where({owner:t}).delete()}async resetUsers(){await this.user.toCollection().modify({syncedToRollup:-1}),await this.note.clear(),await this.userTx.clear(),await this.spendingKey.clear()}async upsertPaymentTx(e){await this.userTx.put((e=>new _g(new Uint8Array(e.txId.toBuffer()),new Uint8Array(e.userId.toBuffer()),e.proofId,e.assetId,e.publicValue.toString(),e.privateInput.toString(),e.recipientPrivateOutput.toString(),e.senderPrivateOutput.toString(),e.isRecipient,e.isSender,e.txRefNo,e.created,e.settled?e.settled.getTime():0,e.publicOwner?new Uint8Array(e.publicOwner.toBuffer()):void 0))(e))}async getPaymentTx(e,t){const n=await this.userTx.get({txId:new Uint8Array(t.toBuffer()),userId:new Uint8Array(e.toBuffer())});return n&&[Xt.DEPOSIT,Xt.WITHDRAW,Xt.SEND].includes(n.proofId)?Tg(n):void 0}async getPaymentTxs(e){return dg((await this.userTx.where({userId:new Uint8Array(e.toBuffer())}).reverse().sortBy("settled")).filter((e=>[Xt.DEPOSIT,Xt.WITHDRAW,Xt.SEND].includes(e.proofId)))).map(Tg)}async upsertAccountTx(e){await this.userTx.put((e=>new Ig(new Uint8Array(e.txId.toBuffer()),new Uint8Array(e.userId.toBuffer()),Xt.ACCOUNT,new Uint8Array(e.aliasHash.toBuffer()),e.migrated,e.txRefNo,e.created,e.settled?e.settled.getTime():0,e.newSpendingPublicKey1?new Uint8Array(e.newSpendingPublicKey1):void 0,e.newSpendingPublicKey2?new Uint8Array(e.newSpendingPublicKey2):void 0))(e))}async getAccountTx(e){const t=await this.userTx.get({txId:new Uint8Array(e.toBuffer()),proofId:Xt.ACCOUNT});return t?vg(t):void 0}async getAccountTxs(e){return dg(await this.userTx.where({userId:new Uint8Array(e.toBuffer()),proofId:Xt.ACCOUNT}).reverse().sortBy("settled")).map(vg)}async upsertDefiTx(e){await this.userTx.put((e=>new Sg(new Uint8Array(e.txId.toBuffer()),new Uint8Array(e.userId.toBuffer()),Xt.DEFI_DEPOSIT,new Uint8Array(e.bridgeCallData.toBuffer()),e.depositValue.toString(),e.txFee.toString(),e.txRefNo,e.created,new Uint8Array(e.partialState),new Uint8Array(e.partialStateSecret),e.settled?e.settled.getTime():0,e.claimSettled?e.claimSettled.getTime():0,e.nullifier?new Uint8Array(e.nullifier):void 0,e.interactionNonce,e.isAsync,e.success,e.outputValueA?.toString(),e.outputValueB?.toString(),e.finalised,e.claimTxId?new Uint8Array(e.claimTxId.toBuffer()):void 0))(e))}async getDefiTx(e){const t=await this.userTx.get({txId:new Uint8Array(e.toBuffer()),proofId:Xt.DEFI_DEPOSIT});return t?Dg(t):void 0}async getDefiTxs(e){return dg(await this.userTx.where({userId:new Uint8Array(e.toBuffer()),proofId:Xt.DEFI_DEPOSIT}).reverse().sortBy("settled")).map(Dg)}async getUnclaimedDefiTxs(e){return dg(await this.userTx.where({userId:new Uint8Array(e.toBuffer()),proofId:Xt.DEFI_DEPOSIT,claimSettled:0}).reverse().sortBy("settled")).map(Dg)}async getUserTxs(e){return dg(await this.userTx.where({userId:new Uint8Array(e.toBuffer())}).reverse().sortBy("settled")).map(gg)}async isUserTxSettled(e){const t=await this.userTx.where({txId:new Uint8Array(e.toBuffer())}).toArray();return t.length>0&&t.every((e=>e.settled))}async getPendingUserTxs(e){return(await this.userTx.where({userId:new Uint8Array(e.toBuffer()),settled:0}).toArray()).map(gg)}async removeUserTx(e,t){await this.userTx.where({txId:new Uint8Array(t.toBuffer()),userId:new Uint8Array(e.toBuffer())}).delete()}async addSpendingKey(e){await this.spendingKey.put(Eg(e))}async addSpendingKeys(e){await this.spendingKey.bulkPut(e.map(Eg))}async getSpendingKey(e,t){const n=await this.spendingKey.get({userId:new Uint8Array(e.toBuffer()),key:new Uint8Array(t.toBuffer().slice(0,32))});return n?Ag(n):void 0}async getSpendingKeys(e){return(await this.spendingKey.where({userId:new Uint8Array(e.toBuffer())}).toArray()).map(Ag)}async removeSpendingKeys(e){await this.spendingKey.where({userId:new Uint8Array(e.toBuffer())}).delete()}async addAlias(e){return await this.addAliases([e])}async addAliases(e){const t=e.map(Cg);await this.alias.bulkPut(t)}async getAlias(e){const t=await this.alias.get({accountPublicKey:new Uint8Array(e.toBuffer())});return t?xg(t):void 0}async getAliasByAliasHash(e){return(await this.alias.where({aliasHash:new Uint8Array(e.toBuffer())}).toArray()).map(xg).sort(((e,t)=>e.index<t.index?1:-1))[0]}async addKey(e,t,n=1e8){const r=t.byteLength;if(r<=n)await this.key.put({name:e,value:t,size:r});else{await this.deleteKey(e);const i=Math.ceil(r/n);for(let r=0;r<i;++r){const i=new Uint8Array(t.buffer.slice(n*r,n*(r+1)));await this.key.add({name:pg(e,r),value:i,size:i.byteLength})}await this.key.add({name:e,value:new Uint8Array,size:r,count:i})}}async getKey(e){const t=await this.key.get(e);if(!t||!t.size)return;if(!t.count)return ug.from(t.value);const n=[...Array(t.count)].map(((t,n)=>pg(e,n))),r=await this.key.bulkGet(n);if(r.some((e=>!e)))return;const i=ug.alloc(t.size);let s=0;for(let e=0;e<t.count;++e)i.set(r[e].value,s),s+=r[e].value.byteLength;return i}async deleteKey(e){const t=await this.key.get(e);if(t){for(let n=0;n<t.count;++n)await this.key.where({name:pg(e,n)}).delete();await this.key.where({name:e}).delete()}}async acquireLock(e,t){const n=Date.now();await this.mutex.filter((t=>t.name===e&&t.expiredAt<=n)).delete();try{return await this.mutex.add({name:e,expiredAt:n+t}),!0}catch(e){return!1}}async extendLock(e,t){await this.mutex.update(e,{expiredAt:Date.now()+t})}async releaseLock(e){await this.mutex.delete(e)}async bulkUserStateUpdate(e){await this.dexie.transaction("rw",["note","spendingKey","user","userTx"],(async()=>{await Promise.all([e.updateUserArgs.map((e=>this.updateUser(...e))),e.addSpendingKeyArgs.map((e=>this.addSpendingKey(...e))),e.upsertAccountTxArgs.map((e=>this.upsertAccountTx(...e))),e.upsertPaymentTxArgs.map((e=>this.upsertPaymentTx(...e))),e.upsertDefiTxArgs.map((e=>this.upsertDefiTx(...e))),e.addNoteArgs.map((e=>this.addNote(...e)))].flat()),await Promise.all(e.nullifyNoteArgs.map((e=>this.nullifyNote(...e))))}))}createTables(){this.dexie=new cg(this.dbName),this.dexie.version(this.version).stores({alias:"&aliasHash, accountPublicKey",key:"&name",mutex:"&name",note:"&commitment, nullifier, [owner+nullified], [owner+pending]",spendingKey:"&[userId+key], userId",user:"&accountPublicKey",userTx:"&[txId+userId], txId, [txId+proofId], [userId+proofId], userId, [userId+settled], [userId+proofId+claimSettled]"}),this.alias=this.dexie.table("alias"),this.key=this.dexie.table("key"),this.mutex=this.dexie.table("mutex"),this.note=this.dexie.table("note"),this.spendingKey=this.dexie.table("spendingKey"),this.user=this.dexie.table("user"),this.userTx=this.dexie.table("userTx")}}var Rg=n(8735);class Lg{constructor(e,t,n,r){if(this.userId=e,this.key=t,this.treeIndex=n,this.hashPath=r,32!==t.length)throw new Error("Invalid key buffer.")}}class Vg{constructor(e=[],t=[],n=[],r=[],i=[],s=[],a=[]){this.updateUserArgs=e,this.addSpendingKeyArgs=t,this.upsertAccountTxArgs=n,this.upsertPaymentTxArgs=r,this.upsertDefiTxArgs=i,this.addNoteArgs=s,this.nullifyNoteArgs=a}}async function kg(e=!1,t){if(le())return await Rg.SQLDatabase.getDb(e,t);{const e=new Ng;return await e.open(),e}}var Bg=n(8842).Buffer;const Og=b("bb:db_ops");class $g{constructor(e,t,n,r){this.userData=e,this.noteAlgos=t,this.db=n,this.grumpkin=r,this.writeData=new Vg,this.unspentNotes=[],this.pendingUserTxs=[],this.unclaimedDefiTxs=[]}async handleTxs({blockContexts:e,rollupProofData:t,offchainJoinSplitData:n,offchainAccountData:r,offchainDefiDepositData:i,treeNotes:s}){this.debug(`preparing db write ops for rollups ${e[0].rollup.rollupId} to ${e[e.length-1].rollup.rollupId}...`);const a=new st;let o=0,l=0,c=0,d=0;this.pendingUserTxs=await this.db.getPendingUserTxs(this.userData.accountPublicKey),this.unclaimedDefiTxs=await this.db.getUnclaimedDefiTxs(this.userData.accountPublicKey);for(let a=0;a<e.length;++a){const u=e[a],p=t[a];for(let e=0;e<p.innerProofData.length;++e){const t=p.innerProofData[e];if(t.isPadding())continue;const a=p.dataStartIndex+2*e;switch(t.proofId){case Xt.DEPOSIT:case Xt.WITHDRAW:case Xt.SEND:{const e=n[l++],r=s[o++],i=s[o++];await this.handlePaymentTx(u,t,e,a,r,i);break}case Xt.ACCOUNT:{const e=r[c++];await this.handleAccountTx(u,t,e,a);break}case Xt.DEFI_DEPOSIT:{const e=s[o++],n=i[d++];await this.handleDefiDepositTx(u,p,t,n,a,e);break}case Xt.DEFI_CLAIM:await this.handleClaimTx(t,u,a)}}this.userData.syncedToRollup=p.rollupId,this.processDefiInteractionResults(u)}this.writeData.updateUserArgs.push([this.userData]),this.debug(`executing db write ops for rollups ${e[0].rollup.rollupId} to ${e[e.length-1].rollup.rollupId}...`),this.deDupeWriteDataUpserts();const u=new st;await this.db.bulkUserStateUpdate(this.writeData),this.debug(`write done in ${u.ms()}ms, total ${a.ms()}ms.`)}async handleAccountTx(e,t,n,r){if(!n.accountPublicKey.equals(this.userData.accountPublicKey))return;this.debug("handling account...");const i=this.createAccountTx(t,n,e.block.mined),{txId:s,userId:a,newSpendingPublicKey1:o,newSpendingPublicKey2:l}=i;if(o){this.debug(`added spending key ${o.toString("hex")}.`);const t=await e.getBlockSubtreeHashPath(r);this.writeData.addSpendingKeyArgs.push([new Lg(a,o,r,t.toBuffer())])}if(l){this.debug(`added spending key ${l.toString("hex")}.`);const t=await e.getBlockSubtreeHashPath(r+1);this.writeData.addSpendingKeyArgs.push([new Lg(a,l,r+1,t.toBuffer())])}this.writeData.upsertAccountTxArgs.push([i]),this.debug(`settled account tx: ${s.toString()}`)}createAccountTx(e,t,n){const{accountPublicKey:r,aliasHash:i,spendingPublicKey1:s,spendingPublicKey2:a,txRefNo:o}=t,l=new In(e.txId),{nullifier1:c,nullifier2:d}=e,u=!F(c)&&!!F(d),p=this.pendingUserTxs.find((e=>e.txId.equals(l)))?.created||new Date;return new tf(l,r,i,F(s)?s:void 0,F(a)?a:void 0,u,o,p,n)}async handlePaymentTx(e,t,n,r,i,s){if(!i&&!s)return;this.debug("handling payment...");const{mined:a}=e.block,{noteCommitment1:o,noteCommitment2:l,nullifier1:c,nullifier2:d}=t,u=i?await this.addNote(r,i,o,e):void 0,p=s?await this.addNote(r+1,s,l,e):void 0,f=await this.nullifyNote(c),y=await this.nullifyNote(d),m=this.createPaymentTx(t,n,a,u,p,f,y);this.writeData.upsertPaymentTxArgs.push([m]),this.debug(`settled payment tx: ${m.txId}`)}createPaymentTx(e,t,n,r,i,s,a){const o=new In(e.txId),l=this.pendingUserTxs.find((e=>e.txId.equals(o))),c=e.proofId,d=(r||i).assetId,u=F(e.publicValue),p=u?new qe(e.publicOwner):void 0,f=e=>e?e.value:BigInt(0),y=f(s)+f(a),m=l?.recipientPrivateOutput||f(r),h=f(i),b=!!r,g=!!i,{txRefNo:_}=t,T=l?.created||new Date;return new sf(o,this.userData.accountPublicKey,c,d,u,p,y,m,h,b,g,_,T,n)}async handleDefiDepositTx(e,t,n,r,i,s){if(!s)return;this.debug("handling defi deposit...");const{noteCommitment2:a,nullifier1:o,nullifier2:l}=n;await this.addNote(i+1,s,a,e),await this.nullifyNote(o),await this.nullifyNote(l);const{rollupId:c,bridgeCallDatas:d}=t,{bridgeCallData:u,depositValue:p,txFee:f,txRefNo:y,partialState:m,partialStateSecretEphPubKey:h}=r,b=Dt(h,this.userData.accountPrivateKey,this.grumpkin),g=new In(n.txId),_=xr.NUM_BRIDGE_CALLS_PER_BLOCK*c+d.findIndex((e=>e.equals(r.bridgeCallData.toBuffer()))),{interactionResult:T,mined:I}=e.block,v=T.every((e=>e.nonce!==_)),S=this.noteAlgos.claimNoteNullifier(n.noteCommitment1),D=this.pendingUserTxs.find((e=>e.txId.equals(g)))?.created||new Date,w=new rf(g,this.userData.accountPublicKey,u,p,f,y,D,m,b,S,I,_,v);this.unclaimedDefiTxs.push(w),this.writeData.upsertDefiTxArgs.push([w]),this.debug(`settled defi tx, awaiting claim for l2 settlement: ${g}`)}processDefiInteractionResults(e){const{interactionResult:t,mined:n}=e.block;for(const e of t)this.unclaimedDefiTxs.filter((t=>t.interactionNonce===e.nonce&&void 0===t.finalised)).forEach((t=>{t.outputValueA=e.result?e.totalOutputValueA*t.depositValue/e.totalInputValue:BigInt(0),t.outputValueB=e.result?e.totalOutputValueB*t.depositValue/e.totalInputValue:BigInt(0),t.finalised=n,t.success=e.result,this.debug(`finalised defi tx: ${t.txId} success: ${t.success}`),this.writeData.upsertDefiTxArgs.push([t])}))}async handleClaimTx(e,t,n){const r=this.unclaimedDefiTxs.find((t=>t.nullifier?.equals(e.nullifier1)));if(!r)return;this.debug("handling claim...");const{userId:i,partialState:s,partialStateSecret:a,interactionNonce:o,bridgeCallData:l,depositValue:c,outputValueA:d,outputValueB:u,success:p}=r,{txId:f,noteCommitment1:y,noteCommitment2:m,nullifier1:h,nullifier2:b}=e,g=this.noteAlgos.valueNotePartialCommitment(a,i,!0).equals(s);if(!p){{const e=new jt(i,c,l.inputAssetIdA,g,a,Bg.alloc(32),h);await this.addNote(n,e,y,t)}if(2===l.numInputAssets){const e=new jt(i,c,l.inputAssetIdB,g,a,Bg.alloc(32),b);await this.addNote(n+1,e,m,t)}}if(d){const e=new jt(i,d,l.firstOutputVirtual?Ct+o:l.outputAssetIdA,g,a,Bg.alloc(32),h);await this.addNote(n,e,y,t)}if(u){const e=new jt(i,u,l.secondOutputVirtual?Ct+o:l.outputAssetIdB,g,a,Bg.alloc(32),b);await this.addNote(n+1,e,m,t)}r.claimSettled=t.block.mined,r.claimTxId=new In(f),this.writeData.upsertDefiTxArgs.push([r]),this.debug(`claim settled defi tx on l2: ${r.txId}`)}async addNote(e,t,n,r){const{value:i}=t,s=await r.getBlockSubtreeHashPath(e),a=this.noteAlgos.valueNoteNullifier(n,this.userData.accountPrivateKey),o=new pf(t,n,a,!1,!1,e,s.toBuffer());return i&&(this.unspentNotes.push(o),this.writeData.addNoteArgs.push([o]),this.debug(`new note at index: ${e} value: ${i} asset: ${t.assetId}.`)),o}async nullifyNote(e){const t=this.unspentNotes.find((t=>t.nullifier.equals(e)))||await this.db.getNoteByNullifier(e);if(t&&t.owner.equals(this.userData.accountPublicKey))return this.writeData.nullifyNoteArgs.push([e]),this.debug(`nullified note at index ${t.index} with value ${t.value}.`),t}deDupeWriteDataUpserts(){const e=new Set;this.writeData.upsertDefiTxArgs=this.writeData.upsertDefiTxArgs.reverse().reduce(((t,n)=>{const r=n[0].txId.toString();return e.has(r)||(e.add(r),t.push(n)),t}),[])}debug(...e){const[t,...n]=e;Og(`${this.userData.accountPublicKey.toShortString()}: ${t}`,...n)}}var Fg=n(8842).Buffer;const Mg=b("bb:user_state"),Yg=b("bb:user_state_decrypt");var zg,Ug;!function(e){e.UPDATED_USER_STATE="UPDATED_USER_STATE"}(zg=zg||(zg={}));class qg extends l.EventEmitter{constructor(e,t,n,r,i,s){super(),this.userData=e,this.grumpkin=t,this.noteAlgos=n,this.noteDecryptor=r,this.db=i,this.rollupProvider=s,this.decryptQueue=new Py(10),this.dbOpsQueue=new Py(10),this.pendingNoteNullifiersRequest=new Ey((async()=>await s.getPendingNoteNullifiers())),this.notePickersRequest=new Ey((async()=>await this.getNotePickers())),this.latestQueuedRollup=e.syncedToRollup}async init(){await this.resetData(),this.decryptQueue.start(),this.dbOpsQueue.start()}async shutdown(e=!1){e?(await this.decryptQueue.end(),await this.dbOpsQueue.end()):(await this.decryptQueue.cancel(),await this.dbOpsQueue.cancel())}async flush(){await this.decryptQueue.syncPoint(),await this.dbOpsQueue.syncPoint()}async syncFromDb(){const{syncedToRollup:e}=await this.db.getUser(this.userData.accountPublicKey);e!==this.userData.syncedToRollup&&(this.userData.syncedToRollup=e,this.notePickersRequest.clearCache(),this.emit(zg.UPDATED_USER_STATE,this.userData.accountPublicKey))}isSynchronised(e){return this.userData.syncedToRollup>=e}async awaitSynchronised(e,t){await _n((()=>this.isSynchronised(e)),"user synchronised",t)}getUserData(){return{...this.userData}}processBlocks(e){return this.decryptQueue.put((()=>this.handleBlocks(e)))}async handleBlocks(e){if(0==(e=e.filter((e=>e.rollup.rollupId>this.latestQueuedRollup))).length)return void this.debugDecrypt("no blocks left after filtering.");if(e[0].rollup.rollupId!==this.latestQueuedRollup+1)return void this.debugDecrypt(`ignoring non contiguous blocks, ${e[0].rollup.rollupId} !== ${this.latestQueuedRollup+1}`);this.latestQueuedRollup=e[e.length-1].rollup.rollupId;const t=new st,n=e[0].rollup.rollupId;this.debugDecrypt(`blocks ${n} to ${n+e.length-1}...`);const r=e.map((e=>e.rollup)),i=r.map((e=>e.getNonPaddingProofs())).flat(),s=e.map((e=>e.block.offchainTxData)).flat(),a=[],o=[],l=[],c=[],d=[],u=[];i.forEach(((e,t)=>{switch(e.proofId){case Xt.DEPOSIT:case Xt.WITHDRAW:case Xt.SEND:{const e=bu.fromBuffer(s[t]);a.push(...e.viewingKeys);const{noteCommitment1:n,noteCommitment2:r,nullifier1:d,nullifier2:u}=i[t];o.push(n),o.push(r),l.push(d),l.push(u),c.push(e);break}case Xt.ACCOUNT:d.push(ou.fromBuffer(s[t]));break;case Xt.DEFI_DEPOSIT:{const e=fu.fromBuffer(s[t]);a.push(e.viewingKey);const{noteCommitment2:n,nullifier2:r}=i[t];o.push(n),l.push(r),u.push(e);break}}}));const p=Fg.concat(a.flat().map((e=>e.toBuffer()))),f=((e,t,n,r,i)=>e.map(((e,s)=>{if(!e)return void Wt(`index ${s}: no decrypted tree note.`);const a=n[s],o=t[s],l=jt.recover(e,o,r);Wt({note:l});const c=i.valueNoteCommitment(l);if(c.equals(a))return Wt(`index ${s}: tree commitment ${a.toString("hex")} matches note version 1.`),l;Wt(`index ${s}: tree commitment ${a.toString("hex")} != encrypted note commitment ${c.toString("hex")}.`)})))(await wt(p,this.userData.accountPrivateKey,this.noteDecryptor,this.grumpkin),l,o,this.userData.accountPublicKey,this.noteAlgos);this.debugDecrypt(`done in ${t.s()}s.`),await this.dbOpsQueue.put((async()=>{const t=new $g(this.userData,this.noteAlgos,this.db,this.grumpkin);await t.handleTxs({blockContexts:e,rollupProofData:r,offchainJoinSplitData:c,offchainAccountData:d,offchainDefiDepositData:u,treeNotes:f}),this.notePickersRequest.clearCache(),this.emit(zg.UPDATED_USER_STATE,this.userData.accountPublicKey)}))}async pickNotes(e,t,n={}){const{notePicker:r}=(await this.notePickersRequest.get()).find((t=>t.assetId===e))||{};if(!r)return[];const i=await this.pendingNoteNullifiersRequest.get();return r.pick(t,{...n,excludedNullifiers:[...n.excludedNullifiers||[],...i]})}async pickNote(e,t,n={}){const{notePicker:r}=(await this.notePickersRequest.get()).find((t=>t.assetId===e))||{};if(!r)return;const i=await this.pendingNoteNullifiersRequest.get();return r.pickOne(t,{...n,excludedNullifiers:[...n.excludedNullifiers||[],...i]})}async getSpendableNoteValues(e,t={}){const{notePicker:n}=(await this.notePickersRequest.get()).find((t=>t.assetId===e))||{};if(!n)return[];const r=await this.pendingNoteNullifiersRequest.get();return n.getSpendableNoteValues({...t,excludedNullifiers:[...t.excludedNullifiers||[],...r]})}async getSpendableSum(e,t={}){const{notePicker:n}=(await this.notePickersRequest.get()).find((t=>t.assetId===e))||{};if(!n)return BigInt(0);const r=await this.pendingNoteNullifiersRequest.get();return n.getSpendableNoteValues({...t,excludedNullifiers:[...t.excludedNullifiers||[],...r]}).reduce(((e,t)=>e+t),BigInt(0))}async getSpendableSums(e={}){const t=await this.pendingNoteNullifiersRequest.get();return(await this.notePickersRequest.get()).map((({assetId:n,notePicker:r})=>({assetId:n,value:r.getSpendableNoteValues({...e,excludedNullifiers:[...e.excludedNullifiers||[],...t]}).reduce(((e,t)=>e+t),BigInt(0))}))).filter((e=>e.value>BigInt(0)))}async getMaxSpendableNoteValues(e,t={}){const{notePicker:n}=(await this.notePickersRequest.get()).find((t=>t.assetId===e))||{};if(!n)return[];const r=await this.pendingNoteNullifiersRequest.get();return n.getMaxSpendableNoteValues({...t,excludedNullifiers:[...t.excludedNullifiers||[],...r]})}async getBalance(e){const{notePicker:t}=(await this.notePickersRequest.get()).find((t=>t.assetId===e))||{};return t?t.getSum():BigInt(0)}async getBalances(){return(await this.notePickersRequest.get()).map((({assetId:e,notePicker:t})=>({assetId:e,value:t.getSum()}))).filter((e=>e.value>BigInt(0)))}async addProof({tx:e,outputNotes:t}){switch(e.proofId){case Xt.DEPOSIT:case Xt.WITHDRAW:case Xt.SEND:this.debug(`adding pending payment tx: ${e.txId}`),await this.db.upsertPaymentTx(e);break;case Xt.ACCOUNT:this.debug(`adding pending account tx: ${e.txId}`),await this.db.upsertAccountTx(e);break;case Xt.DEFI_DEPOSIT:this.debug(`adding pending defi tx: ${e.txId}`),await this.db.upsertDefiTx(e)}await this.processPendingNote(t[0]),await this.processPendingNote(t[1]),this.pendingNoteNullifiersRequest.clearCache(),this.notePickersRequest.clearCache(),this.emit(zg.UPDATED_USER_STATE,this.userData.accountPublicKey)}async resetData(){const e=await this.rollupProvider.getPendingTxs(),t=(await this.db.getPendingUserTxs(this.userData.accountPublicKey)).map((e=>e.txId));for(const n of t)e.some((e=>e.txId.equals(n)))||await this.db.removeUserTx(this.userData.accountPublicKey,n);const n=await this.db.getPendingNotes(this.userData.accountPublicKey);for(const t of n)e.some((e=>e.noteCommitment1.equals(t.commitment)||e.noteCommitment2.equals(t.commitment)))||await this.db.removeNote(t.nullifier)}async getNotePickers(){const e=new Map;return(await this.db.getNotes(this.userData.accountPublicKey)).forEach((t=>{const n=e.get(t.assetId)||[];e.set(t.assetId,[...n,t])})),[...e.keys()].sort(((e,t)=>e>t?1:-1)).map((t=>({assetId:t,notePicker:new xy(e.get(t))})))}async processPendingNote(e){if(!e)return;const{ownerPubKey:t,value:n}=e.treeNote;return t.equals(this.userData.accountPublicKey)&&e.allowChain?(n&&(await this.db.addNote(e),this.debug(`adding chainable pending note with value: ${n}.`)),e):void 0}debug(...e){const[t,...n]=e;Mg(`${this.userData.accountPublicKey.toShortString()}: ${t}`,...n)}debugDecrypt(...e){const[t,...n]=e;Yg(`${this.userData.accountPublicKey.toShortString()}: ${t}`,...n)}}class Hg{constructor(e,t,n,r,i){this.grumpkin=e,this.noteAlgos=t,this.noteDecryptor=n,this.db=r,this.rollupProvider=i}async createUserState(e){const t=new qg(e,this.grumpkin,this.noteAlgos,this.noteDecryptor,this.db,this.rollupProvider);return await t.init(),t}}n(8842).Buffer,function(e){e.VERSION_MISMATCH="SDKEVENT_VERSION_MISMATCH",e.UPDATED_USER_STATE="SDKEVENT_UPDATED_USER_STATE",e.UPDATED_WORLD_STATE="SDKEVENT_UPDATED_WORLD_STATE",e.DESTROYED="SDKEVENT_DESTROYED"}(Ug=Ug||(Ug={})),new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const Kg=new Error("request for lock canceled");class Gg{constructor(e,t=Kg){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(((t,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:n}),this._dispatch()}))}runExclusive(e,t=1){return n=this,r=void 0,s=function*(){const[n,r]=yield this.acquire(t);try{return yield e(n)}finally{r()}},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,o)}l((s=s.apply(n,r||[])).next())}));var n,r,i,s}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()}))}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach((e=>e.forEach((e=>e.reject(this._cancelError))))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const n=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!n)continue;const r=this._value,i=t;this._value-=t,t=this._value+1,n.resolve([r,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach((e=>e())),this._weightedWaiters[e-1]=[])}}class jg{constructor(e){this._semaphore=new Gg(1,e)}acquire(){return e=this,t=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((n=void 0)||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r}runExclusive(e){return this._semaphore.runExclusive((()=>e()))}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}class Wg{constructor(e,t,n){this.block=e,this.rollup=t,this.pedersen=n,this.mutex=new jg}static fromBlock(e,t){return new Wg(e,xr.decode(e.encodedRollupProofData),t)}async getBlockSubtreeHashPath(e){await this.mutex.acquire();try{if(!this.subtree){const t=Wp.NUM_NEW_DATA_TREE_NOTES_PER_TX*this.block.rollupSize;this.startIndex=this.rollup.dataStartIndex;const n=this.startIndex+t;if(e<this.startIndex||e>=n)throw new Error("Index out of bounds.");const r=this.rollup.innerProofData.flatMap((e=>[e.noteCommitment1,e.noteCommitment2])),i=[...r,...Array(t-r.length).fill(it.ZERO_ELEMENT)];this.subtree=await it.new(i,this.pedersen)}return this.subtree.getHashPath(e-this.startIndex)}finally{this.mutex.release()}}}class Zg{constructor(e,t,n){this.rollupProvider=e,this.running=!1,this.from=0,this.interruptableSleep=new hn,this.queue=new ce,this.debug=b("bb:block_downloader"),this.semaphore=new Cp(t),this.genesisTake=128-n%128}start(e=0){this.debug(`starting downloading from block ${e}...`),this.from=e,this.running?this.interruptableSleep.interrupt():(this.running=!0,this.runningPromise=(async()=>{for(;this.running;)try{const e=this.from<this.genesisTake?this.genesisTake-this.from:128-(this.from-this.genesisTake)%128,t=await this.rollupProvider.getBlocks(this.from,e);if(!t.length){await this.interruptableSleep.sleep(1e4);continue}this.debug(`downloaded blocks ${this.from} to ${this.from+t.length-1}.`),await this.semaphore.acquire(),this.queue.put(t),this.from+=t.length}catch(e){console.log(e),await this.interruptableSleep.sleep(1e4)}})())}async stop(){this.running=!1,this.interruptableSleep.interrupt(),this.queue.cancel(),await this.runningPromise}async getBlocks(){const e=await this.queue.get();return e?(this.semaphore.release(),e):[]}}var Jg=n(8842).Buffer;class Xg extends l.EventEmitter{constructor(e,t,n,r,i,s,a=!1,o=3e4){super(),this.rollupProvider=e,this.worldState=t,this.leveldb=n,this.db=r,this.pedersen=i,this.serialQueue=s,this.serialize=a,this.mutexTimeout=o,this.debug=b("bb:synchroniser"),this.running=!1,this.userStates=[],this.onAbortCallbacks=[],this.genesisSyncMutex=new Dy(this.db,"aztec_core_sdk_genesis_sync",this.mutexTimeout),this.syncMutex=new Dy(this.db,"aztec_core_sdk_sync",this.mutexTimeout),this.syncStatus={syncedToRollup:-1,latestRollupId:-1,dataSize:0,dataRoot:Jg.alloc(0)}}async init(){this.syncStatus={syncedToRollup:await this.getSyncedToRollup(),latestRollupId:await this.rollupProvider.getLatestRollupId(),dataSize:this.worldState.getSize(),dataRoot:this.worldState.getRoot()}}getSyncStatus(){return this.syncStatus}setUserStates(e){this.userStates=e}async start(){this.running=!0,await this.genesisSyncMutex.lock();const e=await this.retrieveGenesisData();await this.readSyncInfo();const{syncedToRollup:t}=this.syncStatus,n=Math.min(t,...this.userStates.map((e=>e.getUserData().syncedToRollup)))+1;this.blockDownloader=new Zg(this.rollupProvider,10,e.initialSubtreeRoots.length),this.blockDownloader.start(n),await this.genesisSync(e),await this.genesisSyncMutex.unlock(),this.synchingPromise=this.startSync()}async stop(){this.running=!1,await(this.blockDownloader?.stop()),await this.synchingPromise}onAbort(e){this.onAbortCallbacks.push(e)}async retrieveGenesisData(){const e=await this.db.getKey("genesisData");if(e)return xn(e);this.debug("genesis data not found locally, retrieving from server...");const t=await gn((()=>this.rollupProvider.getInitialWorldState()),"get initial world state"),{initialAccounts:n,initialSubtreeRoots:r}=t;return this.debug(`genesis state ${n.length} bytes, ${r.length} sub-tree roots.`),await this.db.addKey("genesisData",Cn(t)),t}async genesisSync(e,t=!1){if(0===this.worldState.getSize()){const n=new st;if(!t){const t=sy(Kp.parseAccountTreeData(e.initialAccounts));this.debug("storing aliases to db..."),await this.db.addAliases(t.aliases)}await this.worldState.insertElements(0,e.initialSubtreeRoots),this.debug(`genesis sync complete in ${n.s()}s`)}}async startSync(){const e=new Py(10);try{for(this.debug("starting sync task, acquiring mutex...");this.running;){const e=await this.syncMutex.lock(!1);if(await this.readSyncInfo(),e){this.debug("sync mutex acquired.");break}await new Promise((e=>setTimeout(e,2e3)))}for(e.start();this.running;){const t=await this.blockDownloader.getBlocks();if(!t.length)continue;const n=t[0].rollupId;this.debug(`creating block contexts for ${t.length} blocks: ${n} to ${n+t.length-1}...`);const r=t.map((e=>Wg.fromBlock(e,this.pedersen)));await e.put((async()=>{if(await this.handleBlockContexts(r).catch((async e=>{await this.abortSync("handleBlockContexts failed",e)})),this.debug(`forwarding ${t.length} blocks to ${this.userStates.length} user states...`),this.serialize)for(const e of this.userStates)await e.processBlocks(r),await e.flush();else await Promise.all(this.userStates.map((e=>e.processBlocks(r))))})),this.serialize&&await e.syncPoint()}}catch(e){await this.abortSync("startSync() failed",e)}finally{await e.cancel(),await(this.blockDownloader?.stop()),await this.syncMutex.unlock(),this.debug("stopped sync task.")}}async handleBlockContexts(e){const t=e.filter((e=>e.rollup.rollupId>this.syncStatus.syncedToRollup));if(!t.length)return;const n=this.worldState.getRoot(),r=this.worldState.getSize(),i=e[0].block.rollupId,s=e[e.length-1].block.rollupId;this.debug(`updating data tree and aliases for ${e.length} blocks: ${i} to ${s}...`);const a=new st,o=t.map((e=>e.rollup)),l=t.map((e=>e.block.offchainTxData)),c=t.map((e=>e.block.subtreeRoot));this.serialize?(await this.serialQueue.push((()=>this.worldState.insertElements(o[0].dataStartIndex,c))),await this.processAliases(o,l)):await Promise.all([this.serialQueue.push((()=>this.worldState.insertElements(o[0].dataStartIndex,c))),this.processAliases(o,l)]),await this.writeSyncInfo(o[o.length-1].rollupId),this.debug(`updating data tree and aliases done in ${a.ms()}ms.`);const d=o[o.length-1].newDataRoot,u=this.worldState.getRoot();if(!u.equals(d)){const e=this.worldState.getSize();this.debug("erasing data tree..."),await this.leveldb.clear(),await this.writeSyncInfo(-1);const s=await this.retrieveGenesisData();await this.genesisSync(s,!1),await this.abortSync("Invalid dataRoot.",void 0,{synchingFromRollup:i,blocksReceived:t.length,oldRoot:n.toString("hex"),newRoot:u.toString("hex"),newSize:e,oldSize:r,expectedDataRoot:d.toString("hex")})}}async readSyncInfo(){const e=await this.getSyncedToRollup(),t=await this.rollupProvider.getLatestRollupId();this.syncStatus.latestRollupId=t,this.syncStatus.syncedToRollup<e&&(await this.worldState.syncFromDb(),this.syncStatus.syncedToRollup=e,this.syncStatus.dataRoot=this.worldState.getRoot(),this.syncStatus.dataSize=this.worldState.getSize(),this.emit(Ug.UPDATED_WORLD_STATE,this.syncStatus)),await Promise.all(this.userStates.map((e=>e.syncFromDb())))}async writeSyncInfo(e){await this.leveldb.put("syncedToRollup",e.toString()),this.syncStatus.syncedToRollup=e,this.syncStatus.dataRoot=this.worldState.getRoot(),this.syncStatus.dataSize=this.worldState.getSize(),this.syncStatus.syncedToRollup>this.syncStatus.latestRollupId&&(this.debug("refreshing latest rollup id..."),await gn((async()=>this.syncStatus.latestRollupId=await this.rollupProvider.getLatestRollupId()),"get latest rollup id")),this.emit(Ug.UPDATED_WORLD_STATE,this.syncStatus)}async processAliases(e,t){const n=e.map(((e,n)=>((e,t)=>{const n={};let r=-1;for(let i=0;i<e.innerProofData.length;++i){const s=e.innerProofData[i];if(!s.isPadding()&&(r++,s.proofId===Xt.ACCOUNT&&F(s.nullifier2))){const a=ou.fromBuffer(t[r]),{accountPublicKey:o,aliasHash:l,spendingPublicKey1:c}=a,{noteCommitment1:d}=s;n[l.toString()]={accountPublicKey:o,aliasHash:l,index:e.dataStartIndex+2*i,noteCommitment1:d,spendingPublicKeyX:c.subarray(0,32)}}}return Object.values(n)})(e,t[n]))).flat(),r=new st;this.debug(`upserting ${n.length} accounts...`),await this.db.addAliases(n),this.debug(`upsert done in ${r.ms()}ms...`)}async getSyncedToRollup(){return+await this.leveldb.get("syncedToRollup").catch((()=>-1))}async abortSync(e,t=new Error(e),n={}){throw this.running&&(this.debug(e,t),await ry(this.rollupProvider,{...n,message:e,error:t},this.debug),this.stop(),this.onAbortCallbacks.forEach((e=>e(t)))),t}}var Qg,e_=n(8842).Buffer;!function(e){e.UNINITIALIZED="UNINITIALIZED",e.INITIALIZED="INITIALIZED",e.RUNNING="RUNNING",e.STOPPING="STOPPING",e.DESTROYED="DESTROYED"}(Qg||(Qg={}));class t_ extends l.EventEmitter{constructor(e,t,n,r,i,s,a,o,l){super(),this.leveldb=e,this.db=t,this.rollupProvider=n,this.barretenberg=r,this.noteDecryptor=i,this.pedersen=s,this.pippenger=a,this.fftFactory=o,this.workerPool=l,this.dataVersion=1,this.userStates=[],this.broadcastChannel=le()?void 0:new BroadcastChannel("aztec-sdk"),this.sdkStatus={serverUrl:"",chainId:-1,rollupContractAddress:qe.ZERO,permitHelperContractAddress:qe.ZERO,verifierContractAddress:qe.ZERO,feePayingAssetIds:[0],rollupSize:-1,syncedToRollup:-1,latestRollupId:-1,dataRoot:e_.alloc(0),dataSize:0,useKeyCache:!1,proverless:!1,version:""},this.initState=Qg.UNINITIALIZED,this.debug=b("bb:core_sdk"),this.broadcastChannel&&(this.broadcastChannel.onmessage=({data:{event:e,args:t}})=>{e===Ug.UPDATED_USER_STATE&&this.emit(Ug.UPDATED_USER_STATE,je.fromString(t[0]))}),this.rollupProvider.on("versionMismatch",(e=>{this.debug(e),this.emit(Ug.VERSION_MISMATCH)})),this.serialQueue=new wy(this.db,"aztec_core_sdk",3e4),this.noteAlgos=new zt(this.barretenberg),this.blake2s=new B(this.barretenberg),this.grumpkin=new Ke(this.barretenberg),this.schnorr=new Ve(this.barretenberg),this.userStateFactory=new Hg(this.grumpkin,this.noteAlgos,this.noteDecryptor,this.db,this.rollupProvider),this.worldState=new Jp(this.leveldb,this.pedersen),this.synchroniser=new Xg(n,this.worldState,e,t,s,this.serialQueue),this.synchroniser.on(Ug.UPDATED_WORLD_STATE,(e=>{this.sdkStatus={...this.sdkStatus,...e},this.emit(Ug.UPDATED_WORLD_STATE,this.sdkStatus.syncedToRollup,this.sdkStatus.latestRollupId)}))}async init(e){if(this.initState!==Qg.UNINITIALIZED)throw new Error("Already initialized.");try{this.debug("initializing..."),this.debug(`Version hash: ${ny}`);const{blockchainStatus:{chainId:t,rollupContractAddress:n,permitHelperContractAddress:r,verifierContractAddress:i},runtimeConfig:{feePayingAssetIds:s,useKeyCache:a},rollupSize:o,proverless:l}=await this.getRemoteStatus(),c=await this.getLocalRollupContractAddress(),d=await this.getLocalDataVersion();(c&&!c.equals(n)||d!==this.dataVersion)&&(this.debug("erasing database..."),await this.leveldb.clear(),await this.db.clear(),await this.setLocalDataVersion(this.dataVersion)),await this.db.addKey("rollupContractAddress",n.toBuffer());const u=Math.ceil(Math.log2(o*Wp.NUM_NEW_DATA_TREE_NOTES_PER_TX));await this.worldState.init(u),await this.synchroniser.init(),this.sdkStatus={...this.sdkStatus,...this.synchroniser.getSyncStatus(),serverUrl:e.serverUrl,chainId:t,rollupContractAddress:n,permitHelperContractAddress:r,verifierContractAddress:i,feePayingAssetIds:s,rollupSize:o,useKeyCache:a,proverless:l},this.proofRequestDataFactory=new Sy(this.worldState,this.db,this.blake2s),this.proofInputFactory=new ey(this.noteAlgos,this.grumpkin,this.pedersen,this.barretenberg),this.proofOutputFactory=new Ty(l,this.noteAlgos,this.pippenger,this.fftFactory,this.barretenberg,this.workerPool),await this.initUserStates(),this.initState=Qg.INITIALIZED,this.debug("initialization complete.")}catch(e){throw this.debug("initialization failed: ",e),await this.leveldb.close(),await this.db.close(),await(this.workerPool?.destroy()),this.serialQueue?.cancel(),e}}async destroy(e){this.debug("destroying..."),this.initState=Qg.STOPPING,await this.synchroniser.stop(),await this.serialQueue.push((()=>Promise.resolve(this.serialQueue.cancel()))),this.userStates.forEach((e=>e.removeAllListeners())),await this.fftFactory.destroy(),await this.leveldb.close(),await this.db.close(),await(this.workerPool?.destroy()),this.broadcastChannel?.close(),this.initState=Qg.DESTROYED,this.emit(Ug.DESTROYED,e),this.removeAllListeners(),this.debug("destroyed.")}getLocalStatus(){return Promise.resolve({...this.sdkStatus})}async getRemoteStatus(){return await this.rollupProvider.getStatus()}async sendConsoleLog(e,t){const n=S.getLogs();if(!n.length&&!e?.length)return;const r=this.userStates.map((e=>e.getUserData().accountPublicKey));await async function(e,t){await e.clientConsoleLog({...t,sdkVersion:ny})}(this.rollupProvider,{publicKeys:r.map((e=>e.toString())),logs:n.map((e=>e.map((e=>{try{return JSON.stringify(e),e}catch(t){return`${e}`}})))),clientData:e,clientUrl:location?.href}),t||S.clear(n.length)}async isAccountRegistered(e,t){return!!await this.db.getAlias(e)||t&&await this.rollupProvider.isAccountRegistered(e)}async isAliasRegistered(e,t){const n=this.computeAliasHash(e);return void 0!==await this.db.getAliasByAliasHash(n)||t&&await this.rollupProvider.isAliasRegistered(e)}async isAliasRegisteredToAccount(e,t,n){const r=this.computeAliasHash(t),i=await this.db.getAlias(e);return i?i.aliasHash.equals(r):n&&await this.rollupProvider.isAliasRegisteredToAccount(e,t)}async getAccountPublicKey(e){const t=this.computeAliasHash(e),n=await this.db.getAliasByAliasHash(t);if(!n)return;const{accountPublicKey:r,noteCommitment1:i,spendingPublicKeyX:s}=n;if(i&&s){const e=e_.concat([s,e_.alloc(32)]);if(!this.noteAlgos.accountNoteCommitment(t,r,e).equals(i))throw new Error("Failed to validate account note commitment for recipient.")}return r}async getAccountIndex(e){const t=this.computeAliasHash(e);return(await this.db.getAliasByAliasHash(t))?.index}async getTxFees(e){return await this.rollupProvider.getTxFees(e)}async getDefiFees(e){return await this.rollupProvider.getDefiFees(e)}async getPendingDepositTxs(){return await this.rollupProvider.getPendingDepositTxs()}async getDefiInteractionNonce(e){const t=await this.db.getDefiTx(e);if(!t)throw new Error("Unknown txId");return t.interactionNonce}async userExists(e){return!!await this.db.getUser(e)}getUsers(){return Promise.resolve(this.userStates.map((e=>e.getUserData().accountPublicKey)))}derivePublicKey(e){return Promise.resolve(new je(this.grumpkin.mul(Ke.generator,e)))}deriveLegacySigningMessageHash(e){const t=this.blake2s.hashToField(e.toBuffer());return Promise.resolve(Me(t))}constructSignature(e,t){return Promise.resolve(this.schnorr.constructSignature(e,t))}async addUser(e,t=!1,n=10){let r=!0;const i=await this.derivePublicKey(e);return await this.serialQueue.push((async()=>{if(await this.db.getUser(i))throw new Error(`User already exists: ${i}`);let s=-1;if(t){const{latestRollupId:e}=this.sdkStatus,t=await this.rollupProvider.getAccountRegistrationRollupId(i);if(-1!==t){const e=t-n;s=e<-1?-1:e,this.debug(`Adding registrationSync account registered at ${t}, synching from ${s}`)}else r=!1,s=e}const a={accountPrivateKey:e,accountPublicKey:i,syncedToRollup:s};await this.db.addUser(a),await this.addInitialUserSpendingKeys([a.accountPublicKey]);const o=await this.userStateFactory.createUserState(a);o.on(zg.UPDATED_USER_STATE,(e=>{this.emit(Ug.UPDATED_USER_STATE,e),this.broadcastChannel?.postMessage({event:Ug.UPDATED_USER_STATE,args:[e.toString()]})})),this.userStates=[...this.userStates,o],this.synchroniser.setUserStates(this.userStates)})),r&&this.initState==Qg.RUNNING&&(await this.synchroniser.stop(),await this.synchroniser.start()),i}async removeUser(e){return await this.serialQueue.push((async()=>{const t=this.getUserState(e);this.userStates=this.userStates.filter((e=>e!==t)),this.synchroniser.setUserStates(this.userStates),await t.shutdown(),t.removeAllListeners(),await this.db.removeUser(e)}))}getUserSyncedToRollup(e){return Promise.resolve(this.getUserState(e).getUserData().syncedToRollup)}async getSpendingKeys(e){return(await this.db.getSpendingKeys(e)).map((e=>e.key))}async getBalances(e){return await this.getUserState(e).getBalances()}async getBalance(e,t){const n=this.getUserState(e);return await n.getBalance(t)}async getSpendableNoteValues(e,t,n,r){const i=this.getUserState(e);return await i.getSpendableNoteValues(t,{spendingKeyRequired:n,excludePendingNotes:r})}async getSpendableSum(e,t,n,r){const i=this.getUserState(e);return await i.getSpendableSum(t,{spendingKeyRequired:n,excludePendingNotes:r})}async getSpendableSums(e,t,n){const r=this.getUserState(e);return await r.getSpendableSums({spendingKeyRequired:t,excludePendingNotes:n})}async getMaxSpendableNoteValues(e,t,n,r,i){const s=this.getUserState(e);return await s.getMaxSpendableNoteValues(t,{spendingKeyRequired:n,excludePendingNotes:r,numNotes:i})}async pickNotes(e,t,n,r,i){return await this.getUserState(e).pickNotes(t,n,{spendingKeyRequired:r,excludePendingNotes:i})}async pickNote(e,t,n,r,i){return await this.getUserState(e).pickNote(t,n,{spendingKeyRequired:r,excludePendingNotes:i})}async getUserTxs(e){return await this.db.getUserTxs(e)}run(){return this.initState===Qg.RUNNING||(this.initState=Qg.RUNNING,this.serialQueue.push((async()=>{const e=Math.max(mt.getCircuitSize(),N.getCircuitSize()),t=await this.getCrsData(e);await this.pippenger.init(t),await this.synchroniser.start(),this.synchroniser.onAbort((e=>{this.debug("failed to sync:",e),this.destroy(`Failed to sync: ${e.message}`)}))})).catch((e=>(this.debug("failed to run:",e),this.destroy(`Failed to run: ${e.message}`))))),Promise.resolve()}async createDepositProof(e,t,n,r,i,s,a,o){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const l=xe(32),c=await this.derivePublicKey(l),d=c,u=n,p=t-n,f=await this.proofRequestDataFactory.createPaymentProofRequestData(Xt.DEPOSIT,c,d,{assetId:e,value:u},{assetId:e,value:p},r,i,s),y=new uy(c,l,this.schnorr),m=new ty(y,this.grumpkin,this.noteAlgos,this.noteDecryptor,this.barretenberg),h=(await this.proofInputFactory.createProofInputs(f,m))[0],b=new zf(this,c,l),g=await b.signMessage(h.signingData);return this.runOrClientLog((()=>this.proofOutputFactory.createPaymentProof(h,g,a,y,o)),"Failed to create deposit proof.")}))}async createPaymentProofInputs(e,t,n,r,i,s,a,o,l,c,d,u){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const p=this.getUserState(e),f=p.getUserData(),y=n>0?Xt.DEPOSIT:r>0?Xt.WITHDRAW:Xt.SEND,m=n>0?n:r>0?r:s,h=n+i-(r+s+a),b=await this.proofRequestDataFactory.createPaymentProofRequestData(y,e,d,{assetId:t,value:m},{assetId:t,value:h},c||qe.ZERO,o||je.generator(),l,p,{allowChain:!!u}),g=new uy(f.accountPublicKey,f.accountPrivateKey,this.schnorr),_=new ty(g,this.grumpkin,this.noteAlgos,this.noteDecryptor,this.barretenberg);return(await this.proofInputFactory.createProofInputs(b,_)).map((e=>{const{tx:t,viewingKeys:n,signingData:r}=e;return{tx:Pf(t,f.accountPrivateKey,f.accountPublicKey),viewingKeys:n,signingData:r}}))}))}async createPaymentProof(e,t,n){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const{outputNotes:r}=e.tx,i=r[1].ownerPubKey,s=this.getUserState(i).getUserData(),a=new uy(s.accountPublicKey,s.accountPrivateKey,this.schnorr);return await this.runOrClientLog((()=>this.proofOutputFactory.createPaymentProof({...e,tx:Cf(e.tx,s.accountPrivateKey,this.noteAlgos)},e.signature,t,a,n)),"Failed to create payment proof.")}))}async createAccountProofSigningData(e,t,n,r,i=e,s,a){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const n=await this.proofRequestDataFactory.createAccountProofRequestData(e,e,t||"",i,s||je.ZERO,a||je.ZERO,{assetId:0,value:BigInt(0)},{assetId:0,value:BigInt(0)},qe.ZERO),o=xe(32),l=await this.derivePublicKey(o),c=new uy(l,o,this.schnorr),d=new ty(c,this.grumpkin,this.noteAlgos,this.noteDecryptor,this.barretenberg),{spendingKeyAccount:u}=n,[p]=await this.proofInputFactory.createProofInputs({...n,spendingKeyAccount:{...u,spendingPublicKey:r}},d);return p.signingData}))}async createAccountProofInput(e,t,n,r,i,s,a){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const n=a?await this.derivePublicKey(a):e,o=await this.proofRequestDataFactory.createAccountProofRequestData(e,t,r||"",n,i||je.ZERO,s||je.ZERO,{assetId:0,value:BigInt(0)},{assetId:0,value:BigInt(0)},qe.ZERO),l=xe(32),c=await this.derivePublicKey(l),d=new uy(c,l,this.schnorr),u=new ty(d,this.grumpkin,this.noteAlgos,this.noteDecryptor,this.barretenberg),[p]=await this.proofInputFactory.createProofInputs(o,u),{tx:f,signingData:y}=p;return{tx:f,signingData:y}}))}async createAccountProof(e,t,n){return await this.serialQueue.push((async()=>(this.assertInitState(Qg.RUNNING),await this.runOrClientLog((()=>this.proofOutputFactory.createAccountProof(e,e.signature,t,n)),"Failed to create account proof."))))}async createDefiProofInput(e,t,n,r,i){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const s=this.getUserState(e),a=s.getUserData(),o=await this.proofRequestDataFactory.createDefiProofRequestData(e,i,t,{assetId:t.inputAssetIdA,value:n},{assetId:t.inputAssetIdA,value:r},s),l=new uy(a.accountPublicKey,a.accountPrivateKey,this.schnorr),c=new ty(l,this.grumpkin,this.noteAlgos,this.noteDecryptor,this.barretenberg);return(await this.proofInputFactory.createProofInputs(o,c)).map((e=>{if(e.viewingKeys){const{tx:t,viewingKeys:n,signingData:r}=e;return{tx:Pf(t,a.accountPrivateKey,a.accountPublicKey),viewingKeys:n,signingData:r}}{const{tx:t,viewingKey:n,signingData:r,partialStateSecretEphPubKey:i}=e;return{tx:Pf(t,a.accountPrivateKey,a.accountPublicKey),viewingKeys:[n],signingData:r,partialStateSecretEphPubKey:i}}}))}))}async createDefiProof(e,t,n){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const{tx:r,viewingKeys:i}=e,s=r.outputNotes[1].ownerPubKey,a=this.getUserState(s).getUserData(),o=new uy(a.accountPublicKey,a.accountPrivateKey,this.schnorr);return await this.runOrClientLog((()=>this.proofOutputFactory.createDefiProof({...e,viewingKey:i[0],partialStateSecretEphPubKey:e.partialStateSecretEphPubKey,tx:Cf(r,a.accountPrivateKey,this.noteAlgos)},e.signature,t,o,n)),"Failed to create defi proof.")}))}async sendProofs(e,t=[]){return await this.serialQueue.push((async()=>{this.assertInitState(Qg.RUNNING);const n=e.map((({proofData:e,offchainTxData:t,signature:n})=>({proofData:e.rawProofData,offchainTxData:t.toBuffer(),depositSignature:n}))),r=await this.rollupProvider.sendTxs([...t,...n]);for(const t of e){const{userId:e}=t.tx;if(await(this.getUserStateUndef(e)?.addProof(t)),[Xt.DEPOSIT,Xt.SEND].includes(t.tx.proofId)){const n=t.outputNotes[0].owner;if(!n.equals(e)){const e=af(t.tx,n);await(this.getUserStateUndef(n)?.addProof({...t,tx:e}))}}}return r}))}async awaitSynchronised(e){this.assertInitState(Qg.RUNNING),await _n((()=>this.isSynchronised()),"data synchronised",e)}isUserSynching(e){return this.assertInitState(Qg.RUNNING),Promise.resolve(!this.getUserState(e).isSynchronised(this.sdkStatus.latestRollupId))}async awaitUserSynchronised(e,t){this.assertInitState(Qg.RUNNING),await this.getUserState(e).awaitSynchronised(this.sdkStatus.latestRollupId,t),await this.awaitSynchronised()}async awaitSettlement(e,t){this.assertInitState(Qg.RUNNING),await _n((()=>this.db.isUserTxSettled(e)),`tx settlement: ${e}`,t)}async awaitDefiDepositCompletion(e,t){this.assertInitState(Qg.RUNNING),await _n((async()=>{const t=await this.db.getDefiTx(e);if(!t)throw new Error("Unknown txId.");return!!t.settled}),`defi interaction: ${e}`,t)}async awaitDefiFinalisation(e,t){this.assertInitState(Qg.RUNNING),await _n((async()=>{const t=await this.db.getDefiTx(e);if(!t)throw new Error("Unknown txId.");return!!t.finalised}),`defi finalisation: ${e}`,t)}async awaitDefiSettlement(e,t){this.assertInitState(Qg.RUNNING),await _n((async()=>{const t=await this.db.getDefiTx(e);if(!t)throw new Error("Unknown txId.");return!!t.claimSettled}),`defi settlement: ${e}`,t)}getUserState(e){const t=this.userStates.find((t=>t.getUserData().accountPublicKey.equals(e)));if(!t)throw new Error(`User not found: ${e}`);return t}getUserStateUndef(e){return this.userStates.find((t=>t.getUserData().accountPublicKey.equals(e)))}isSynchronised(){return this.sdkStatus.syncedToRollup===this.sdkStatus.latestRollupId}assertInitState(e){if(this.initState!==e)throw new Error(`Init state ${this.initState} !== ${e}`)}async setLocalDataVersion(e){await this.db.addKey("dataVersion",e_.from([e]))}async getLocalDataVersion(){const e=await this.db.getKey("dataVersion");return e?e.readInt8(0):0}async getLocalRollupContractAddress(){const e=await this.db.getKey("rollupContractAddress");return e?new qe(e):void 0}async getCrsData(e){this.debug("downloading crs data...");const t=new Gf(e);return await t.init(),this.debug("done."),e_.from(t.getData())}async initUserStates(){this.debug("initializing user states...");const e=await this.db.getUsers();await this.addInitialUserSpendingKeys(e.map((e=>e.accountPublicKey))),this.userStates=await Promise.all(e.map((e=>this.userStateFactory.createUserState(e)))),this.synchroniser.setUserStates(this.userStates),this.userStates.forEach((e=>e.on(zg.UPDATED_USER_STATE,(e=>{this.emit(Ug.UPDATED_USER_STATE,e),this.broadcastChannel?.postMessage({event:Ug.UPDATED_USER_STATE,args:[e.toString()]})}))))}async addInitialUserSpendingKeys(e){if(!e.length)return;const{initialAccounts:t}=await this.synchroniser.retrieveGenesisData();if(t.length){const n=await async function(e,t,n,r){const i=Kp.parseAccountTreeData(t),s=i.flatMap((e=>[e.notes.note1,e.notes.note2])),a=(1<<Math.ceil(Math.log2(r)))*Wp.NUM_NEW_DATA_TREE_NOTES_PER_TX,o=sy(i).spendingKeys.filter((t=>e.some((e=>e.equals(t.userId))))),l={};for(const e of o){const t=Math.floor(e.treeIndex/a),r=t*a;if(!l[t]){const e=s.slice(r,r+a),i=Array(a-e.length).fill(it.ZERO_ELEMENT),o=[...e,...i];l[t]=await it.new(o,n)}const i=l[t].getHashPath(e.treeIndex-r);e.hashPath=i.toBuffer()}return o}(e,t,this.pedersen,this.sdkStatus.rollupSize);this.debug(`found ${n.length} spending keys for user${1==e.length?"":"s"}`),n.length&&await this.db.addSpendingKeys(n)}}computeAliasHash(e){return Xe.fromAlias(e,this.blake2s)}async runOrClientLog(e,t){const n=Date.now();try{return await e()}catch(e){const r={message:t,error:e.message,timeUsed:Date.now()-n,memory:ly()};throw await ry(this.rollupProvider,r),this.debug(r),e}}async queryDefiPublishStats(e){return await this.rollupProvider.queryDefiPublishStats(e)}async getBlocks(e,t=1){return(await this.rollupProvider.getBlocks(e,Math.min(Math.max(t,1),5))).map((e=>new Nr(e)))}}class n_{constructor(e){this.wasm=e}async init(e){this.domainPtr=await this.wasm.call("new_evaluation_domain",e)}async destroy(){await this.wasm.call("delete_evaluation_domain",this.domainPtr)}async fft(e,t){const n=e.length/32,r=await this.wasm.call("bbmalloc",e.length);await this.wasm.transferToHeap(u(e,[e.buffer]),r),await this.wasm.transferToHeap(u(t,[t.buffer]),0),await this.wasm.call("coset_fft_with_generator_shift",r,0,this.domainPtr);const i=await this.wasm.sliceMemory(r,r+32*n);return await this.wasm.call("bbfree",r),i}async ifft(e){const t=e.length/32,n=await this.wasm.call("bbmalloc",e.length);await this.wasm.transferToHeap(u(e,[e.buffer]),n),await this.wasm.call("ifft",n,this.domainPtr);const r=await this.wasm.sliceMemory(n,n+32*t);return await this.wasm.call("bbfree",n),r}}class r_{constructor(e){this.wasm=e,this.ffts={}}async createFft(e){if(!this.ffts[e]){const t=new n_(this.wasm);await t.init(e),this.ffts[e]=t}return this.ffts[e]}async destroy(){}}const i_=b("bb:fft");class s_{constructor(e){this.queue=new ce,this.ffts=e.workers.map((e=>new n_(e)))}async init(e){const t=(new Date).getTime();i_(`initializing fft of size: ${e}`),await Promise.all(this.ffts.map((t=>t.init(e)))),this.ffts.forEach((e=>this.processJobs(e))),i_(`initialization took: ${(new Date).getTime()-t}ms`)}async destroy(){this.queue.cancel(),await Promise.all(this.ffts.map((e=>e.destroy())))}async processJobs(e){for(;;){const t=await this.queue.get();if(!t)break;const n=await(t.inverse?e.ifft(t.coefficients):e.fft(t.coefficients,t.constant));t.resolve(n)}}async fft(e,t){return await new Promise((n=>this.queue.put({coefficients:e,constant:t,inverse:!1,resolve:n})))}async ifft(e){return await new Promise((t=>this.queue.put({coefficients:e,inverse:!0,resolve:t})))}}class a_{constructor(e){this.workerPool=e,this.ffts={}}async createFft(e){if(!this.ffts[e]){const t=new s_(this.workerPool);await t.init(e),this.ffts[e]=t}return this.ffts[e]}async destroy(){await Promise.all(Object.values(this.ffts).map((e=>e.destroy())))}}var o_=n(8842).Buffer;class l_{constructor(e){this.wasm=e}async init(e){this.numPoints=e.length/64;const t=await this.wasm.call("bbmalloc",64*(2*this.numPoints+16));await this.wasm.transferToHeap(e.slice(0,-64),t+64),this.pippengerPtr=await this.wasm.call("new_pippenger",t,this.numPoints)}async destroy(){await this.wasm.call("delete_pippenger",this.pippengerPtr)}async pippengerUnsafe(e,t,n){const r=await this.wasm.call("bbmalloc",e.length);return await this.wasm.transferToHeap(u(e,[e.buffer]),r),await this.wasm.call("pippenger_unsafe",this.pippengerPtr,r,t,n,0),await this.wasm.call("bbfree",r),o_.from(await this.wasm.sliceMemory(0,96))}async sumElements(e){const t=await this.wasm.call("bbmalloc",e.length);return await this.wasm.transferToHeap(e,t),await this.wasm.call("g1_sum",t,e.length/96,0),await this.wasm.call("bbfree",t),o_.from(await this.wasm.sliceMemory(0,96))}getPointer(){return this.pippengerPtr}getWorker(){return this.wasm}}var c_=n(8842).Buffer;const d_=b("bb:pippenger");class u_{constructor(e){this.workerPool=e,this.pool=[]}async init(e){const t=(new Date).getTime();d_(`initializing: ${(new Date).getTime()-t}ms`),this.pool=await Promise.all(this.workerPool.workers.map((async t=>{const n=new l_(t);return await n.init(e),n}))),d_(`initialization took: ${(new Date).getTime()-t}ms`)}async destroy(){for(const e of this.pool)await e.destroy()}async pippengerUnsafe(e,t,n){const r=Math.floor(n/this.pool.length),i=(new Date).getTime(),s=await Promise.all(this.pool.map(((t,i)=>{const s=i<this.pool.length-1?r:n-r*(this.pool.length-1),a=e.slice(r*i*32,32*(r*i+s));return t.pippengerUnsafe(a,r*i,s)})));return d_(`pippenger run took: ${(new Date).getTime()-i}ms`),await this.sumElements(c_.concat(s))}async sumElements(e){return await this.pool[0].sumElements(e)}}var p_=n(4855),f_=n(5905),y_=n(7108),m_=n.n(y_);function h_(e,t=!1,n){if(le()){const r="./data"+(n?`/${n}`:"");return t?be()(_e()()):((0,p_.mkdirSync)(r,{recursive:!0}),(0,f_.levelUpNodeFactory)(`${r}/${e}.db`))}return function(e){return be()(m_()(e))}(e)}const b_=b("bb:create_vanilla_core_sdk");var g_=n(8842).Buffer;class __{constructor(e,t){this.accountPublicKey=e,this.signature=t}static fromBuffer(e){let t=0;const n=new je(e.slice(t,t+je.SIZE));t+=je.SIZE;const r=new Re(e.slice(t,t+Re.SIZE));return new __(n,r)}static fromString(e){return __.fromBuffer(g_.from(e.replace(/^0x/i,""),"hex"))}toBuffer(){return g_.concat([this.accountPublicKey.toBuffer(),this.signature.toBuffer()])}toString(){return`0x${this.toBuffer().toString("hex")}`}}class T_{constructor(e,t,n){this.trustedThirdPartyPublicKey=e,this.recoveryPublicKey=t,this.recoveryData=n}static fromBuffer(e){let t=0;const n=new je(e.slice(t,t+je.SIZE));t+=je.SIZE;const r=new je(e.slice(t,t+je.SIZE));t+=je.SIZE;const i=__.fromBuffer(e.slice(t));return new T_(n,r,i)}static fromString(e){return T_.fromBuffer(g_.from(e.replace(/^0x/i,""),"hex"))}toBuffer(){return g_.concat([this.trustedThirdPartyPublicKey.toBuffer(),this.recoveryPublicKey.toBuffer(),this.recoveryData.toBuffer()])}toString(){return`0x${this.toBuffer().toString("hex")}`}}class I_{constructor(e,t){this.id=e,this.sdk=t}async isSynching(){return await this.sdk.isUserSynching(this.id)}async awaitSynchronised(e){return await this.sdk.awaitUserSynchronised(this.id,e)}async getSyncedToRollup(){return await this.sdk.getUserSyncedToRollup(this.id)}async getSpendingKeys(){return await this.sdk.getSpendingKeys(this.id)}async getBalances(){return await this.sdk.getBalances(this.id)}async getBalance(e){return await this.sdk.getBalance(this.id,e)}async getSpendableSum(e,t,n){return await this.sdk.getSpendableSum(this.id,e,t,n)}async getSpendableSums(e,t){return await this.sdk.getSpendableSums(this.id,e,t)}async getMaxSpendableValue(e,t,n,r){return await this.sdk.getMaxSpendableValue(this.id,e,t,n,r)}async getTxs(){return await this.sdk.getUserTxs(this.id)}async getPaymentTxs(){return await this.sdk.getPaymentTxs(this.id)}async getAccountTxs(){return await this.sdk.getAccountTxs(this.id)}async getDefiTxs(){return await this.sdk.getDefiTxs(this.id)}}const v_=(e,t)=>t.length?e.map(((e,n)=>({...e,value:e.value+t[n].value}))):e;class S_{constructor(e,t){this.core=e,this.blockchain=t}async getDepositFees(e,t={}){return await this.getTransactionFees(e,Ln.DEPOSIT,t)}async getWithdrawFees(e,{recipient:t,...n}={}){const r=!t||await this.blockchain.isContract(t)||await this.blockchain.isEmpty(t)?Ln.WITHDRAW_HIGH_GAS:Ln.WITHDRAW_TO_WALLET;return await this.getTransactionFees(e,r,n)}async getTransferFees(e,t){return await this.getTransactionFees(e,Ln.TRANSFER,t)}async getDefiFees(e,t={}){const{userId:n,userSpendingKeyRequired:r,assetValue:i,feeSignificantFigures:s=0}=t,a=e.inputAssetIdA;if(i&&i.assetId!==a)throw new Error("Inconsistent asset id.");const o=await this.core.getDefiFees(e),l=o[0].assetId,[c]=(await this.core.getTxFees(l))[Ln.TRANSFER];if(!i){const e=l!==a?1:0;return o.map((t=>({...t,value:zr(t.value+c.value*BigInt(e),s)})))}if(!n)throw new Error("'userId' not provided.");const d=i.value;let{excludePendingNotes:u}=t;if(void 0!==e.inputAssetIdB){const i=await this.core.pickNote(n,e.inputAssetIdB,d,r,u);if(i?.value!==d){const i=await this.core.pickNotes(n,e.inputAssetIdB,d,r,u);u=u||i.some((e=>e.pending));const p=i.length?Math.max(1,i.length-1):0;if(!p)return o.map((e=>({...e,value:BigInt(0)})));if(l!==a){if((await this.core.pickNote(n,a,d,r,u))?.value!==d)return o.map((e=>({...e,value:BigInt(0)})));const e=o.map((e=>({...e,value:e.value+c.value*BigInt(p)})));return await this.getChainedTxsFee(BigInt(0),e,c,{...t,excludePendingNotes:u})}return await Promise.all(o.map((async e=>{const t=zr(e.value+c.value*BigInt(p),s),i=d+t,o=await this.core.pickNote(n,a,i,r,u);return{...e,value:o?.value!==i?BigInt(0):t}})))}u=u||i.pending}const p=async t=>{const i=await this.core.pickNotes(n,a,t,r,u);if(i.length){if(2===e.numInputAssets)return(await this.core.pickNote(n,a,t,r,u))?.value===t?0:Math.max(1,i.length-1);{const e=i.reduce(((e,t)=>e+t.value),BigInt(0));return i.length<=2&&e===t?0:Math.max(1,i.length-2)}}};if(l!==a){const e=await p(d);if(void 0===e)return o.map((e=>({...e,value:BigInt(0)})));const n=o.map((t=>({...t,value:t.value+c.value*BigInt(e+1)})));return await this.getChainedTxsFee(BigInt(0),n,c,{...t,excludePendingNotes:u})}{const e=await this.core.getSpendableSum(n,a,r,u),t=async t=>{let i=d+zr(t,s),o=0;for(;i<=e;){const e=await p(i);if(e<=o)return i-d;o=e,i=d+zr(t+c.value*BigInt(o),s)}const l=1+(await this.core.pickNotes(n,a,e,r,u)).length,f=Math.max(0,l-2);return zr(t+c.value*BigInt(f),s)};return await Promise.all(o.map((async e=>({...e,value:await t(e.value)}))))}}async getRegisterFees(e,t={}){return await this.getAccountFees(e,t)}async getRecoverAccountFees(e,t={}){return await this.getAccountFees(e,t)}async getAddSpendingKeyFees(e,t={}){const n=await this.core.getTxFees(e),r=n[Ln.ACCOUNT],[i]=n[Ln.TRANSFER],s=r.map((e=>({...e,value:e.value+i.value})));return await this.getChainedTxsFee(BigInt(0),s,i,t)}async getMigrateAccountFees(e,t={}){return await this.getAccountFees(e,t)}async getProofDataFees(e,t,n={}){const r=await this.core.getTxFees(e),[i]=r[Ln.TRANSFER],s=new Map,a=[],o=[];for(const e of t)switch(ln.getProofIdFromBuffer(e)){case Xt.DEPOSIT:o.push(r[Ln.DEPOSIT]);break;case Xt.SEND:o.push(r[Ln.TRANSFER]);break;case Xt.ACCOUNT:o.push(r[Ln.ACCOUNT]);break;case Xt.WITHDRAW:{const{publicOwner:t}=new dn(new ln(e)),n=await this.blockchain.isContract(t)||await this.blockchain.isEmpty(t)?Ln.WITHDRAW_HIGH_GAS:Ln.WITHDRAW_TO_WALLET;o.push(r[n]);break}case Xt.DEFI_DEPOSIT:{const{bridgeCallData:t}=new cn(new ln(e)),n=t.toString(),r=s.get(n)||await this.core.getDefiFees(t);s.has(n)?a.push([r[0],r[0],r[0]]):(a.push([r[0],r[1],r[1]]),s.set(n,r))}}const l=a.reduce(((e,t,n)=>n?v_(e,t):t),[]),c=[...r[Ln.TRANSFER]];a.length&&c.unshift(i);const d=[v_(c,l),...o].reduce(((e,t,n)=>{return n?(r=e,(i=t).length?r.map((e=>({...e,value:e.value+i[0].value}))):r):t;var r,i}),[]);return await this.getChainedTxsFee(BigInt(0),d,i,n)}async getTransactionFees(e,t,n={}){const{userId:r,userSpendingKeyRequired:i,assetValue:s,excludePendingNotes:a}=n,o=await this.core.getTxFees(e),[l]=o[Ln.TRANSFER],c=o[t],d=c[0].assetId;if(!s?.value){const t=d===e?c:c.map((e=>({...e,value:e.value+l.value})));return await this.getChainedTxsFee(BigInt(0),t,l,n)}if(!r)throw new Error("'userId' not provided.");const u=async e=>(await this.core.pickNotes(r,e.assetId,e.value,i,a)).length;if(d!==s.assetId){const e=await(async e=>{const t=await u(e);return Math.max(0,t-2)})(s),t=c.map((t=>({...t,value:t.value+l.value*BigInt(e+1)})));return await this.getChainedTxsFee(BigInt(0),t,l,n)}return await this.getChainedTxsFee(s.value,c,l,n)}async getChainedTxsFee(e,t,n,r){const{assetId:i}=n,{userId:s,userSpendingKeyRequired:a,excludePendingNotes:o,feeSignificantFigures:l=0}=r;if(!s)return t.map((e=>({...e,value:zr(e.value,l)})));const c=async e=>(await this.core.pickNotes(s,i,e,a,o)).length,d=async e=>{const t=await c(e);return Math.max(0,t-2)},u=await this.core.getSpendableSum(s,i,a,o),p=async t=>{let r=e+zr(t,l),i=0;for(;r<=u;){const s=await d(r);if(s<=i)return r-e;i=s,r=e+zr(t+n.value*BigInt(i),l)}const s=1+await c(u),a=Math.max(0,s-2);return zr(t+n.value*BigInt(a),l)};return await Promise.all(t.map((async e=>({...e,value:await p(e.value)}))))}async getAccountFees(e,{feeSignificantFigures:t=0}){const n=await this.core.getTxFees(e),[r]=n[Ln.DEPOSIT];return n[Ln.ACCOUNT].map((e=>({...e,value:zr(e.value+r.value,t)})))}}class D_{constructor(e,t,n,r,i,s,a,o,l){this.txId=e,this.userId=t,this.aliasHash=n,this.newSpendingPublicKey1=r,this.newSpendingPublicKey2=i,this.migrated=s,this.fee=a,this.created=o,this.settled=l,this.proofId=Xt.ACCOUNT}}var w_;!function(e){e.PENDING="PENDING",e.AWAITING_FINALISATION="AWAITING_FINALISATION",e.AWAITING_SETTLEMENT="AWAITING_SETTLEMENT",e.SETTLED="SETTLED"}(w_=w_||(w_={}));class E_{constructor(e,t,n,r,i,s,a,o){this.txId=e,this.userId=t,this.bridgeCallData=n,this.depositValue=r,this.fee=i,this.created=s,this.settled=a,this.interactionResult=o,this.proofId=Xt.DEFI_DEPOSIT}}class A_{constructor(e,t,n,r,i,s,a,o,l,c){this.txId=e,this.defiTxId=t,this.userId=n,this.bridgeCallData=r,this.depositValue=i,this.success=s,this.outputValueA=a,this.outputValueB=o,this.created=l,this.settled=c,this.proofId=Xt.DEFI_CLAIM}}class P_{constructor(e,t,n,r,i,s,a,o,l){this.txId=e,this.userId=t,this.proofId=n,this.value=r,this.fee=i,this.publicOwner=s,this.isSender=a,this.created=o,this.settled=l}}const C_={assetId:0,value:BigInt(0)},x_=({txId:e,userId:t,aliasHash:n,newSpendingPublicKey1:r,newSpendingPublicKey2:i,migrated:s,created:a,settled:o},l)=>new D_(e,t,n,r,i,s,l,a,o),N_=({txId:e,userId:t,proofId:n,publicOwner:r,isSender:i,created:s,settled:a},o,l)=>new P_(e,t,n,o,l,r,i,s,a),R_=(e,{txId:t,userId:n,bridgeCallData:r,depositValue:i,interactionResult:{success:s,outputValueA:a,outputValueB:o,claimSettled:l,finalised:c}})=>new A_(e,t,n,r,i,s,a,o,c,l),L_=({proofId:e,assetId:t,publicValue:n,privateInput:r,recipientPrivateOutput:i,senderPrivateOutput:s,isRecipient:a})=>({assetId:t,value:(()=>{switch(e){case Xt.DEPOSIT:return i;case Xt.WITHDRAW:return n;case Xt.SEND:return a||i?i:r-s}})()}),V_=e=>{if(e.proofId===Xt.ACCOUNT)return C_;if(e.proofId===Xt.DEFI_DEPOSIT){const{bridgeCallData:t,txFee:n}=e;return{assetId:t.inputAssetIdA,value:n}}const{proofId:t,assetId:n,publicValue:r,privateInput:i,recipientPrivateOutput:s,senderPrivateOutput:a,isRecipient:o,isSender:l}=e;return{assetId:n,value:(()=>{switch(t){case Xt.DEPOSIT:return r-s;case Xt.WITHDRAW:return i-(r+a);case Xt.SEND:return l&&(o||s)?i-s-a:BigInt(0)}})()}},k_=e=>{const t=(e=>{const t=e.filter((e=>e.proofId!==Xt.SEND||!e.privateInput||e.privateInput!==e.senderPrivateOutput));return t.find((e=>!e.txRefNo))||t.find((e=>[Xt.ACCOUNT,Xt.DEFI_DEPOSIT,Xt.WITHDRAW].includes(e.proofId)))||t.find((e=>[Xt.DEPOSIT].includes(e.proofId)))||t.find((e=>e.proofId===Xt.SEND&&(!e.isSender||!e.isRecipient||e.recipientPrivateOutput)))})(e);if(!t)return;const n=(e=>{if(!e.length)return C_;const t=e.map(V_),{assetId:n}=t.find((e=>e.value))||t[0];if(t.some((e=>e.value&&e.assetId!==n)))throw new Error("Inconsistent fee paying assets.");return{assetId:n,value:t.reduce(((e,t)=>e+t.value),BigInt(0))}})(e);switch(t.proofId){case Xt.ACCOUNT:{const r=e.find((e=>e.proofId===Xt.DEPOSIT)),i=r?L_(r):C_;return i.value?[N_(r,i,n),x_(t,C_)]:[x_(t,n)]}case Xt.DEFI_DEPOSIT:{const e=((e,t)=>{const{txId:n,userId:r,bridgeCallData:i,depositValue:s,created:a,settled:o,interactionNonce:l,isAsync:c,success:d,outputValueA:u,outputValueB:p,finalised:f,claimSettled:y}=e,m=(({settled:e,finalised:t,claimSettled:n})=>n?w_.SETTLED:t?w_.AWAITING_SETTLEMENT:e?w_.AWAITING_FINALISATION:w_.PENDING)(e);return new E_(n,r,i,{assetId:i.inputAssetIdA,value:s},t,a,o,{state:m,isAsync:c,interactionNonce:l,success:d,outputValueA:void 0!==u?{assetId:i.firstOutputVirtual?l+Ct:i.outputAssetIdA,value:u}:void 0,outputValueB:void 0!==p&&void 0!==i.outputAssetIdB?{assetId:i.secondOutputVirtual?l+Ct:i.outputAssetIdB,value:p}:void 0,claimSettled:y,finalised:f})})(t,n);return e.interactionResult.finalised?[e,R_(t.claimTxId,e)]:[e]}default:{const e=L_(t);return[N_(t,e,n)]}}},B_=(e,t)=>{const n=t.created.getTime()-e.created.getTime();if(e.settled&&t.settled){const r=t.settled.getTime()-e.settled.getTime();return 0===r?n:r}return!e.settled&&t.settled?-1:!t.settled&&e.settled?1:t.settled||e.settled?0:n};class O_{constructor(e,t){this.core=e,this.blockchain=t}async getMaxWithdrawValue(e,t,{recipient:n,...r}={}){const i=!n||await this.blockchain.isContract(n)||await this.blockchain.isEmpty(n)?Ln.WITHDRAW_HIGH_GAS:Ln.WITHDRAW_TO_WALLET;return await this.getMaxTxValueFromTxType(e,t,i,r)}async getMaxTransferValue(e,t,n={}){return await this.getMaxTxValueFromTxType(e,t,Ln.TRANSFER,n)}async getMaxDefiValue(e,t,{txSettlementTime:n=Sn.DEADLINE,...r}={}){const i=(await this.core.getDefiFees(t))[n],s=i.assetId,a=t.inputAssetIdA;if(void 0===t.inputAssetIdB){const t=await this.core.getTxFees(s),[n]=t[Ln.TRANSFER];return await this.getMaxTxValueFromFee(e,a,i,n,r)}const o=t.inputAssetIdB,[l]=(await this.core.getTxFees(s))[Ln.TRANSFER],{userSpendingKeyRequired:c,excludePendingNotes:d,feeSignificantFigures:u=0}=r;let p=BigInt(0),f=BigInt(0);const y=async(t,n,r)=>{const i=await this.core.pickNotes(e,t,n,c,r);if(!i.length)return{};const s=await this.core.pickNote(e,t,n,c,r);return s?.value===n?{numMerges:0,pendingIncluded:s.pending}:{numMerges:Math.max(1,i.length-1),pendingIncluded:i.some((e=>e.pending))}},m=s!==a?(await this.core.getMaxSpendableNoteValues(e,s,c,d)).sort(((e,t)=>e<t?-1:1)):[],h=e=>{let t=1;for(;t<=m.length;){const n=m.slice(-t).reduce(((e,t)=>e+t),BigInt(0)),r=Math.max(1,t-1),s=zr(i.value+l.value*BigInt(e+r),u);if(s<=n)return s;t++}},b=(await this.core.getSpendableNoteValues(e,o,c,d)).sort(((e,t)=>e>t?-1:1));for(const t of b){if(t<p)continue;const n=(await this.core.pickNote(e,o,t,c,!0))?.value!==t;if(a!==s){const{numMerges:e}=await y(a,t,d||n);if(void 0===e)continue;const r=h(e);if(r){p=t,f=r;break}}else{const r=await this.core.getSpendableSum(e,a,c,d||n);let s=0,o=t+zr(i.value,u);for(;o<=r;){if((await y(a,o,d||n)).numMerges===s){p=t,f=o-t;break}s++,o=t+zr(i.value+l.value*BigInt(s),u)}}}const g=(await this.core.getSpendableNoteValues(e,a,c,d)).sort(((e,t)=>e>t?-1:1));for(const t of g){if(t<p)break;const n=(await this.core.pickNote(e,a,t,c,!0))?.value!==t;if(a!==s){const{numMerges:e,pendingIncluded:r}=await y(o,t,d??!1);if(void 0===e||r&&n)continue;const i=h(e);if(i){p=t,f=i;break}}else{const r=await this.core.getSpendableSum(e,o,c,d??!1);let s=0,a=t-zr(i.value,u);for(;a>p;){if(a<=r){const{numMerges:e,pendingIncluded:t}=await y(o,a,d??!1);if(!(e!==s||t&&n)){p=a,f=zr(i.value+l.value*BigInt(s),u);break}}s++,a=t-zr(i.value+l.value*BigInt(s),u)}}}return{assetId:t.inputAssetIdA,value:p,fee:{assetId:s,value:f}}}async getMaxTxValueFromTxType(e,t,n,{txSettlementTime:r=vn.NEXT_ROLLUP,...i}){const s=await this.core.getTxFees(t),a=s[n][r],[o]=s[Ln.TRANSFER];return await this.getMaxTxValueFromFee(e,t,a,o,i)}async getMaxTxValueFromFee(e,t,n,r,{userSpendingKeyRequired:i=!1,excludePendingNotes:s=!1,feeSignificantFigures:a=0}){const o=(await this.core.getMaxSpendableNoteValues(e,t,i,s)).sort(((e,t)=>e>t?-1:1));let l=o.length,c=BigInt(0),d=BigInt(0);if(n.assetId!==t){const t=(await this.core.getMaxSpendableNoteValues(e,n.assetId,i,s)).sort(((e,t)=>e<t?-1:1)),u=e=>{let i=1;for(;i<=t.length;){const s=t.slice(0,i).reduce(((e,t)=>e+t),BigInt(0)),o=Math.max(1,i-1),l=zr(n.value+r.value*BigInt(e+o),a);if(l<=s)return l;i++}};for(;l>0;){const e=u(Math.max(0,l-2));if(e){c=o.slice(0,l).reduce(((e,t)=>e+t),BigInt(0)),d=e;break}l--}}else for(;l>0;){const e=Math.max(0,l-2),t=o.slice(0,l).reduce(((e,t)=>e+t),BigInt(0)),i=zr(n.value+r.value*BigInt(e),a),s=t-i;(s>c||s===c&&i<d)&&(c=s,d=i),l--}return{assetId:t,value:c,fee:{assetId:n.assetId,value:d}}}}var $_=n(8842).Buffer;class F_ extends l.EventEmitter{constructor(e,t,n){super(),this.core=e,this.blockchain=t,this.provider=n,this.feeCalculator=new S_(e,t),this.txValueCalculator=new O_(e,t);for(const e in Ug){const t=Ug[e];this.core.on(t,((...e)=>this.emit(t,...e)))}}async run(){await this.core.run()}async destroy(){await this.core.destroy(),this.removeAllListeners()}async awaitSynchronised(e){return await this.core.awaitSynchronised(e)}async isUserSynching(e){return await this.core.isUserSynching(e)}async awaitUserSynchronised(e,t){return await this.core.awaitUserSynchronised(e,t)}async awaitSettlement(e,t){return await this.core.awaitSettlement(e,t)}async awaitDefiDepositCompletion(e,t){return await this.core.awaitDefiDepositCompletion(e,t)}async awaitDefiFinalisation(e,t){return await this.core.awaitDefiFinalisation(e,t)}async awaitDefiSettlement(e,t){return await this.core.awaitDefiSettlement(e,t)}async awaitAllUserTxsSettled(e){const t=await this.core.getUsers();await _n((async()=>(await Promise.all(t.map((e=>this.core.getUserTxs(e))))).flat().every((e=>e.settled))),"all user txs settled",e)}async awaitAllUserTxsClaimed(e){const t=await this.core.getUsers();await _n((async()=>(await Promise.all(t.map((e=>this.getDefiTxs(e))))).flat().every((e=>e.interactionResult.claimSettled))),"all user txs claimed",e)}async getLocalStatus(){return await this.core.getLocalStatus()}async getRemoteStatus(){return await this.core.getRemoteStatus()}async sendConsoleLog(e,t=!1){await this.core.sendConsoleLog(e,t)}async isAccountRegistered(e,t=!1){return await this.core.isAccountRegistered(e,t)}async isAliasRegistered(e,t=!1){return await this.core.isAliasRegistered(e,t)}async isAliasRegisteredToAccount(e,t,n=!1){return await this.core.isAliasRegisteredToAccount(e,t,n)}async getAccountPublicKey(e){return await this.core.getAccountPublicKey(e)}async getAccountIndex(e){return await this.core.getAccountIndex(e)}async getTxFees(e,{feeSignificantFigures:t=0}={}){return(await this.core.getTxFees(e)).map((e=>e.map((e=>({...e,value:zr(e.value,t)})))))}async queryDefiPublishStats(e){return await this.core.queryDefiPublishStats(e)}async userExists(e){return await this.core.userExists(e)}async addUser(e,t=!1,n=10){const r=await this.core.addUser(e,t,n);return new I_(r,this)}async removeUser(e){return await this.core.removeUser(e)}async getUser(e){if(!await this.core.userExists(e))throw new Error(`User not found: ${e}`);return new I_(e,this)}async getUserSyncedToRollup(e){return await this.core.getUserSyncedToRollup(e)}async getUsers(){return await this.core.getUsers()}getAccountKeySigningData(){return $_.from("Sign this message to generate your Aztec Privacy Key. This key lets the application decrypt your balance on Aztec.\n\nIMPORTANT: Only sign this message if you trust the application.")}getSpendingKeySigningData(){return $_.from("Sign this message to generate your Aztec Spending Key. This key lets the application spend your funds on Aztec.\n\nIMPORTANT: Only sign this message if you trust the application.")}async generateAccountKeyPair(e,t=this.provider){const n=new Pc(t),r=this.getAccountKeySigningData(),i=(await n.signPersonalMessage(r,e)).slice(0,32);return{publicKey:await this.derivePublicKey(i),privateKey:i}}async generateSpendingKeyPair(e,t=this.provider){const n=new Pc(t),r=this.getSpendingKeySigningData(),i=(await n.signPersonalMessage(r,e)).slice(0,32);return{publicKey:await this.derivePublicKey(i),privateKey:i}}async createSchnorrSigner(e){const t=await this.core.derivePublicKey(e);return new zf(this.core,t,e)}async derivePublicKey(e){return await this.core.derivePublicKey(e)}async deriveLegacySigningMessageHash(e){const t=await me.new(),n=new B(t).hashToField(e.toBuffer());return Promise.resolve(Me(n))}getAssetIdByAddress(e,t){return this.blockchain.getAssetIdByAddress(e,t)}getAssetIdBySymbol(e,t){return this.blockchain.getAssetIdBySymbol(e,t)}fromBaseUnits({assetId:e,value:t},n=!1,r){if(s(e)){const r=e-2**29,i=t.toLocaleString("en");return n?`${i} (nonce ${r})`:i}const i=this.blockchain.getAsset(e).fromBaseUnits(t,r);return n?`${i} ${this.getAssetInfo(e).symbol}`:i}toBaseUnits(e,t){return s(e)?{assetId:e,value:BigInt(t.replaceAll(",",""))}:{assetId:e,value:this.blockchain.getAsset(e).toBaseUnits(t)}}getAssetInfo(e){return this.blockchain.getAsset(e).getStaticInfo()}async isFeePayingAsset(e){return!s(e)&&(await this.core.getLocalStatus()).feePayingAssetIds.includes(e)}isVirtualAsset(e){return s(e)}async mint({assetId:e,value:t},n,r){return await this.blockchain.getAsset(e).mint(t,n,r)}async setSupportedAsset(e,t,n){return await this.blockchain.setSupportedAsset(e,t,n)}getBridgeAddressId(e,t){return this.blockchain.getBridgeAddressId(e,t)}async setSupportedBridge(e,t,n){return await this.blockchain.setSupportedBridge(e,t,n)}async processAsyncDefiInteraction(e,t){return await this.blockchain.processAsyncDefiInteraction(e,t)}async getDepositFees(e,t){return await this.feeCalculator.getDepositFees(e,t)}async getPendingDepositTxs(){return await this.core.getPendingDepositTxs()}createDepositController(e,t,n,r,i=!1,s=this.provider){return new Ff(t,n,e,r,i,this.core,this.blockchain,s)}async getWithdrawFees(e,t){return await this.feeCalculator.getWithdrawFees(e,t)}async getMaxWithdrawValue(e,t,n){return await this.txValueCalculator.getMaxWithdrawValue(e,t,n)}createWithdrawController(e,t,n,r,i){return new Hf(e,t,n,r,i,this.core)}async getTransferFees(e,t){return await this.feeCalculator.getTransferFees(e,t)}async getMaxTransferValue(e,t,n){return await this.txValueCalculator.getMaxTransferValue(e,t,n)}createTransferController(e,t,n,r,i,s=!1){return new qf(e,t,n,r,i,s,this.core)}async getDefiFees(e,t){return await this.feeCalculator.getDefiFees(e,t)}async getMaxDefiValue(e,t,n){return await this.txValueCalculator.getMaxDefiValue(e,t,n)}createDefiController(e,t,n,r,i){return new Of(e,t,n,r,i,this.core)}async generateAccountRecoveryData(e,t,n){const r=await this.createSchnorrSigner(xe(32)),i=r.getPublicKey();return Promise.all(n.map((async n=>{const s=await this.core.createAccountProofSigningData(e,t,!1,i,void 0,n),a=await r.signMessage(s),o=new __(e,a);return new T_(n,i,o)})))}async getRegisterFees(e,t){return await this.feeCalculator.getRegisterFees(e,t)}createRegisterController(e,t,n,r,i,s,a,o,l=this.provider){return new Uf(e,t,n,r,i,s,a,o,this.core,this.blockchain,l)}async getRecoverAccountFees(e,t){return await this.feeCalculator.getRecoverAccountFees(e,t)}createRecoverAccountController(e,t,n,r,i=this.provider){return new Yf(e,t,n,r,this.core,this.blockchain,i)}async getAddSpendingKeyFees(e,t){return await this.feeCalculator.getAddSpendingKeyFees(e,t)}createAddSpendingKeyController(e,t,n,r,i){return new Bf(e,t,n,r,i,this.core)}async getMigrateAccountFees(e,t){return await this.feeCalculator.getMigrateAccountFees(e,t)}createMigrateAccountController(e,t,n,r,i,s,a,o,l=this.provider){return new Mf(e,t,n,r,i,s,a,o,this.core,this.blockchain,l)}async getProofTxsFees(e,t,n){const r=t.map((e=>e.proofData));return await this.feeCalculator.getProofDataFees(e,r,n)}createFeeController(e,t,n,r){return new Kf(e,t,n,r,this.core)}async depositFundsToContract({assetId:e,value:t},n,r=this.provider){return await this.blockchain.depositPendingFunds(e,t,void 0,{signingAddress:n,provider:r})}async getUserPendingDeposit(e,t){return await this.blockchain.getUserPendingDeposit(e,t)}async getUserPendingFunds(e,t){return await this.getUserPendingDeposit(e,t)-(await this.getPendingDepositTxs()).filter((n=>n.assetId===e&&n.publicOwner.equals(t))).reduce(((e,t)=>e+t.value),BigInt(0))}async isContract(e){return await this.blockchain.isContract(e)}validateSignature(e,t,n){return Ec(e,t,n)}async getTransactionReceipt(e,t,n=1){return await this.blockchain.getTransactionReceipt(e,t,n)}async flushRollup(e,t){const n=!t.getPublicKey().equals(e),r=(await this.getTransferFees(0,{userId:e,userSpendingKeyRequired:n,assetValue:{assetId:0,value:BigInt(0)}}))[vn.INSTANT],i=await this.core.createPaymentProofInputs(e,r.assetId,BigInt(0),BigInt(0),r.value,BigInt(0),BigInt(0),void 0,!0,void 0,t.getPublicKey(),2),s=i.length>1?kf():0,a=[];for(const e of i)e.signature=await t.signMessage(e.signingData),a.push(await this.core.createPaymentProof(e,s));const o=await this.core.sendProofs(a);await Promise.all(o.map((e=>this.core.awaitSettlement(e))))}async getSpendingKeys(e){return await this.core.getSpendingKeys(e)}async getPublicBalance(e,t){return{assetId:t,value:await this.blockchain.getAsset(t).balanceOf(e)}}async getBalances(e){return await this.core.getBalances(e)}async getBalance(e,t){return{assetId:t,value:await this.core.getBalance(e,t)}}async getFormattedBalance(e,t,n=!0,r){return this.fromBaseUnits(await this.getBalance(e,t),n,r)}async getSpendableSum(e,t,n,r){return await this.core.getSpendableSum(e,t,n,r)}async getSpendableSums(e,t,n){return await this.core.getSpendableSums(e,t,n)}async getMaxSpendableValue(e,t,n,r,i){return(await this.core.getMaxSpendableNoteValues(e,t,n,r,i)).reduce(((e,t)=>e+t),BigInt(0))}async getUserTxs(e){return(e=>{const t=(e=>{const t=new Map;for(const n of e){const{txRefNo:e}=n;if(e){const r=t.get(e)||[];t.set(e,[...r,n])}else t.set(n.txId.toBuffer().readUInt32BE(0),[n])}return[...t.values()]})(e);return(n=t.map((e=>k_(e))),n.filter((e=>!!e))).flat().sort(B_);var n})(await this.core.getUserTxs(e))}async getPaymentTxs(e){return(await this.getUserTxs(e)).filter((e=>[Xt.DEPOSIT,Xt.WITHDRAW,Xt.SEND].includes(e.proofId)))}async getAccountTxs(e){return(await this.getUserTxs(e)).filter((e=>e.proofId===Xt.ACCOUNT))}async getDefiTxs(e){return(await this.getUserTxs(e)).filter((e=>e.proofId===Xt.DEFI_DEPOSIT))}async getBlocks(e,t=1){return await this.core.getBlocks(e,t)}getCoreSdk(){return this.core}}const M_=b("bb:create_aztec_sdk");var Y_;async function z_(t,n){n.flavour&&console.warn("SdkFlavour has been deprecated."),n.debug&&(T(n.debug),S.enable());const r=await async function(t){const{numWorkers:n=dy()}=t;if(0===n)return b_("creating workerless vanilla core sdk..."),async function(t){const n=await me.new("main"),r=new qt(n),i=new we(n),s=new l_(n),a=new r_(n),{memoryDb:o,identifier:l,serverUrl:c,pollInterval:d,noVersionCheck:u}=t,p=h_("aztec2-sdk",o,l),f=await kg(o,l),y=new URL(c),m=new Yr(y,d,u?void 0:e),h=new t_(p,f,m,n,r,i,s,a);return await h.init(t),h}(t);b_("creating pooled vanilla core sdk..."),b_(`cpu: ${cy()}, workers: ${n}, memory: ${ly()}`);const r=await me.new("main"),i=await Se.new(r,n),s=new Kt(i),a=new Ee(r,i),o=new u_(i),l=new a_(i),{memoryDb:c,identifier:d,serverUrl:u,pollInterval:p,noVersionCheck:f}=t,y=h_("aztec2-sdk",c,d),m=await kg(c,d),h=new URL(u),b=new Yr(h,p,f?void 0:e),g=new t_(y,m,b,r,s,a,o,l,i);return await g.init(t),g}(n);try{const e=await async function(e,t,n=3){const{chainId:r,rollupContractAddress:i,permitHelperContractAddress:s}=await t.getLocalStatus(),{blockchainStatus:{assets:a,bridges:o}}=await t.getRemoteStatus(),l=new Bp(i,s,a,o,e,n),c=await l.getChainId();if(r!==c)throw new Error(`Provider chainId ${c} does not match rollup provider chainId ${r}.`);return l}(t,r,n.minConfirmation);return new F_(r,e,t)}catch(e){throw M_(`failed to create sdk: ${e.message}`),await r.destroy(),e}}!function(e){e[e.PLAIN=0]="PLAIN",e[e.SHARED_WORKER=1]="SHARED_WORKER",e[e.HOSTED=2]="HOSTED"}(Y_=Y_||(Y_={}));class U_{constructor(e,t){this.publicKey=e,this.signature=t}getPublicKey(){return this.publicKey}signMessage(){return Promise.resolve(this.signature)}}})();var i=r.zt,s=r.$R,a=r.hX,o=r.Yu,l=r.f9,c=r.wC,d=r.W6,u=r.Nz,p=r.Ub,f=r.y6,y=r.Fr,m=r.Kr,h=r.pS,b=r.vv,g=r.H9,_=r.mt,T=r._l,I=r.J2,v=r.rI,S=r.ZN,D=r.jF,w=r.yP,E=r.mr,A=r.w6,P=r.Ob,C=r.jE,x=r.Jy,N=r.Vh,R=r.r6,L=r._C,V=r.NT,k=r.Kv,B=r.jC,O=r.O$,$=r.xQ,F=r.Dp,M=r.FM,Y=r.pF,z=r.jX,U=r.Yg,q=r.kb,H=r.lT,K=r.zj,G=r.kG,j=r.Y$,W=r.KY,Z=r.ti,J=r.Fx,X=r.$Y,Q=r.SQ,ee=r.vz,te=r.uY,ne=r.b8,re=r._V,ie=r.Rx,se=r.IN,ae=r.Jn,oe=r.uC,le=r.PV,ce=r.t3,de=r.Xk,ue=r.gr,pe=r.L3,fe=r.$M,ye=r.UJ,me=r.fN,he=r.ry,be=r._Q,ge=r.B7,_e=r.vY,Te=r.f1,Ie=r.Fh,ve=r.CO,Se=r.UL,De=r.oo,we=r.C0,Ee=r.mG,Ae=r.rR,Pe=r.yU,Ce=r.nS,xe=r.oe,Ne=r.L8,Re=r.xJ,Le=r.NZ,Ve=r.yu,ke=r.VJ,Be=r.DL,Oe=r.x,$e=r.yT,Fe=r.bO,Me=r.Fp,Ye=r.I6,ze=r.gf,Ue=r.Vn,qe=r.JJ,He=r.$c,Ke=r.zU,Ge=r.f6,je=r.tv,We=r.wN,Ze=r.g$,Je=r.hu,Xe=r.oZ,Qe=r.hv,et=r.hz,tt=r.hC,nt=r.Xo,rt=r.dN,it=r.LV,st=r.fm,at=r.NO,ot=r.o7,lt=r._H,ct=r.Jr,dt=r.rj,ut=r.cN,pt=r.nJ,ft=r.aL,yt=r.Fl,mt=r.tk,ht=r.AN,bt=r.wn,gt=r.jh,_t=r.fh,Tt=r.hx,It=r.DC,vt=r.ey,St=r.Ov,Dt=r.f0,wt=r.V4,Et=r.MZ,At=r.Cy,Pt=r.VQ,Ct=r.ks,xt=r.O6,Nt=r.J1,Rt=r.xX,Lt=r.Wv,Vt=r.UU,kt=r.cm,Bt=r.KX,Ot=r.MX,$t=r.JQ,Ft=r.Pg,Mt=r.Dh,Yt=r.Q5,zt=r.oU,Ut=r.zP,qt=r.k$,Ht=r.dL,Kt=r.$I,Gt=r.LI,jt=r.xD,Wt=r.aK,Zt=r.j_;export{i as AUX_DATA_SELECTOR,s as AccountAliasId,a as AccountId,o as AccountProofCreator,l as AddSpendingKeyController,c as Aes128,d as AliasHash,u as AztecSdk,p as AztecSdkUser,f as BarretenbergWasm,y as BitConfig,m as Blake2s,h as BoundedSerialQueue,b as BridgeCallData,g as ClientVersionMismatchError,_ as DecodedBlock,T as DefiController,I as DefiDepositProofCreator,v as DefiSettlementTime,S as DepositController,D as EthAddress,w as EthAsset,E as EthereumRpc,A as EthersAdapter,P as FeeController,C as FeeDistributor,x as GrumpkinAddress,N as InnerProofData,R as JsonRpcProvider,L as LogHistory,V as MemoryFifo,k as MigrateAccountController,B as Note,O as OffchainAccountData,$ as OffchainDefiClaimData,F as OffchainDefiDepositData,M as OffchainJoinSplitData,Y as PaymentProofCreator,z as PooledPedersen,U as ProofId,q as ProviderError,H as RecoverAccountController,K as RecoverSignatureSigner,G as RecoveryData,j as RecoveryPayload,W as RegisterController,Z as RollupAccountProofData,J as RollupDefiClaimProofData,X as RollupDefiDepositProofData,Q as RollupDepositProofData,ee as RollupProcessor,te as RollupProofData,ne as RollupProofDataFields,re as RollupProofDataOffsets,ie as RollupSendProofData,se as RollupWithdrawProofData,ae as SDK_VERSION,oe as Schnorr,le as SchnorrSignature,ce as SchnorrSigner,de as SdkEvent,ue as SdkFlavour,pe as Semaphore,fe as SerialQueue,ye as ServerRollupProvider,me as Sha256,he as SinglePedersen,be as TimeoutTask,ge as Timer,_e as TransferController,Te as TxHash,Ie as TxId,ve as TxSettlementTime,Se as TxType,De as UserAccountTx,we as UserDefiClaimTx,Ee as UserDefiInteractionResultState,Ae as UserDefiTx,Pe as UserPaymentTx,Ce as WalletProvider,xe as Web3Adapter,Ne as Web3Signer,Re as WithdrawController,Le as accountProofInputFromJson,Ve as accountProofInputToJson,ke as assetValueFromJson,Be as assetValueToJson,Oe as blockchainAssetFromJson,$e as blockchainAssetToJson,Fe as blockchainBridgeFromJson,Me as blockchainBridgeToJson,Ye as blockchainStatusFromJson,ze as blockchainStatusToJson,Ue as bridgePublishQueryFromJson,qe as bridgePublishQueryResultToJson,He as bridgePublishQueryToJson,Ke as bridgePublshQueryResultFromJson,Ge as bridgeStatusFromJson,je as bridgeStatusToJson,We as createAztecSdk,Ze as createDebugLogger,Je as createLogger,Xe as createTxRefNo,Qe as depositTxFromJson,et as depositTxToJson,tt as enableLogs,nt as executeTimeout,rt as fromBaseUnits,it as getDefaultPrivacySets,st as getOffchainDataLength,at as getRollupProviderStatus,ot as initialWorldStateFromBuffer,lt as initialWorldStateToBuffer,ct as isAccountTx,dt as isDefiDepositTx,ut as isLogEnabled,pt as isVirtualAsset,ft as joinSplitProofInputFromJson,yt as joinSplitProofInputToJson,mt as joinSplitTxInputToJoinSplitTx,ht as joinSplitTxToJoinSplitTxInput,bt as keccak256,gt as logHistory,_t as noteFromJson,Tt as noteToJson,It as numTxTypes,vt as partialRuntimeConfigFromJson,St as pendingTxFromJson,Dt as pendingTxToJson,wt as privacySetsFromJson,Et as privacySetsToJson,At as proofOutputFromJson,Pt as proofOutputToJson,Ct as proofOutputToProofTx,xt as randomBytes,Nt as restoreNotePath,Rt as rollupProviderStatusFromJson,Lt as rollupProviderStatusToJson,Vt as runtimeConfigFromJson,kt as runtimeConfigToJson,Bt as setPostDebugLogHook,Ot as setPreDebugLogHook,$t as sha256,Ft as sliceOffchainTxData,Mt as toBaseUnits,Yt as toBigIntBE,zt as toBigIntLE,Ut as toBufferBE,qt as toBufferLE,Ht as treeNoteToNote,Kt as txFromJson,Gt as txToJson,jt as validateBridgeCallData,Wt as virtualAssetIdFlag,Zt as virtualAssetIdPlaceholder};